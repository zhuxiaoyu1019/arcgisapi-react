import{f as t,c as i,g as s}from"./p-0567f9a9.js";import{g as e}from"./p-0ae16e31.js";import{d as n}from"./p-58421494.js";import{h as a,H as r}from"./p-c5b7f45e.js";function o(){this.setUpItems(),this.setUpFilter()}const c=["ArrowUp","ArrowDown"];function l(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=n(b.bind(this),0)}function h(){this.observer.observe(this.el,{childList:!0,subtree:!0})}function u(){this.observer.disconnect()}function f(i){const{selectedValues:s}=this,{item:e,value:n,selected:a,shiftPressed:r}=i.detail;a?(this.multiple&&r&&this.selectSiblings(e),this.multiple||this.deselectSiblingItems(e),s.set(n,e)):(s.delete(n),this.multiple&&r&&this.selectSiblings(e,!0)),this.multiple||(g(e,a),a&&t(e)),this.lastSelectedItem=e,this.emitCalciteListChange()}function d(t){t.stopPropagation();const i=t.detail.oldValue,s=this.selectedValues;if(s.has(i)){const e=s.get(i);s.delete(i),s.set(t.detail.newValue,e)}}function m(t){const{el:i,items:s,multiple:e,selectedValues:n}=this;e||(i.contains(t.relatedTarget)?g(t.target,!1):s.forEach((i=>g(i,0===n.size?t.target===i:i.selected))))}function p(i){const{key:s,target:n}=i;if(!function(t){return!!c.find((i=>i===t))}(s))return;const{items:a}=this,{length:r}=a,o=a.indexOf(n);if(!r||-1===o)return;i.preventDefault();const l=a[e(o+("ArrowUp"===s?-1:1),r)];g(l,!0),t(l)}function b(){this.calciteListChange.emit(this.selectedValues)}function v(t){if(t.defaultPrevented)return;const i=t.target,s=this.selectedValues;"CALCITE-PICK-LIST-GROUP"===i.parentElement.tagName?(i.parentElement.remove(),Array.from(i.parentElement.children).forEach((t=>s.delete(t.value)))):(i.remove(),s.delete(i.value)),this.emitCalciteListChange()}function g(t,i){i?t.removeAttribute("tabindex"):t.setAttribute("tabindex","-1")}async function j(i){if(this.filterEnabled&&"filter"===i)return void(await t(this.filterEl));const{multiple:s,items:e}=this;if(0===e.length)return;if(s)return e[0].setFocus();return(e.find((t=>t.selected))||e[0]).setFocus()}function y(t){this.items=Array.from(this.el.querySelectorAll(t));let i=!1;const{items:s}=this;s.forEach((t=>{t.icon=this.getIconType(),this.multiple||(t.disableDeselect=!0,g(t,!1)),t.selected&&(i=!0,g(t,!0),this.selectedValues.set(t.value,t))}));const[e]=s;!i&&e&&g(e,!0)}function A(t){this.items.forEach((i=>{i.value!==t.value&&(i.toggleSelected(!1),this.selectedValues.has(i.value)&&this.selectedValues.delete(i.value))}))}function C(t,i=!1){if(!this.lastSelectedItem)return;const{items:s}=this,e=s.findIndex((t=>t.value===this.lastSelectedItem.value)),n=s.findIndex((i=>i.value===t.value));s.slice(Math.min(e,n),Math.max(e,n)).forEach((t=>{t.toggleSelected(!i),i?this.selectedValues.delete(t.value):this.selectedValues.set(t.value,t)}))}let k;function w(t){const s=t.detail.map((t=>t.value));let e=!1;k||(k=new Set);const n=this.items.filter((t=>{const i=t.parentElement;i.matches("calcite-pick-list-group")&&k.add(i);const n=s.includes(t.value);return t.hidden=!n,e||(e=n&&t.selected),n}));k.forEach((t=>{const s=n.some((i=>t.contains(i)));if(t.hidden=!s,!s)return;const e=i(t,"parent-item");e&&(e.hidden=!1,n.includes(e)&&Array.from(t.children).forEach((t=>t.hidden=!1)))})),k.clear(),n.length>0&&!e&&!this.multiple&&g(n[0],!0)}function x(){return this.items.map((t=>({label:t.label,description:t.description,metadata:t.metadata,value:t.value})))}var O;!function(t){t.circle="circle",t.square="square",t.grip="grip"}(O||(O={}));const E=t=>{var{props:{disabled:i,loading:e,filterEnabled:n,dataForFilter:o,handleFilter:c,filterPlaceholder:l,el:h,setFilterEl:u}}=t,f=function(t,i){var s={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.indexOf(e)<0&&(s[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(t);n<e.length;n++)i.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(s[e[n]]=t[e[n]])}return s}(t,["props"]);const d=a("slot",null);return a(r,Object.assign({"aria-busy":e.toString(),"aria-disabled":i.toString(),role:"menu"},f),a("section",null,a("header",{class:{sticky:!0}},n?a("calcite-filter",{"aria-label":l,data:o,dir:s(h),disabled:e||i,onCalciteFilterChange:c,placeholder:l,ref:u}):null,a("slot",{name:"menu-actions"})),e||i?a("calcite-scrim",{loading:e}):null,d))},F={actions:"actions",actionsEnd:"actions--end",actionsStart:"actions--start",description:"description",handle:"handle",handleActivated:"handle--activated",highlight:"highlight",icon:"icon",iconDot:"icon-dot",label:"label",remove:"remove",title:"title",textContainer:"text-container"},S={checked:"check",remove:"x"},I={actionsEnd:"actions-end",actionsStart:"actions-start"},L={remove:"remove"};export{F as C,O as I,E as L,I as S,L as T,h as a,f as b,u as c,A as d,d as e,y as f,x as g,w as h,l as i,j,p as k,m as l,o as m,S as n,v as r,C as s}