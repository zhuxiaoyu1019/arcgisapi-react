/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{_ as r}from"../../../../chunks/tslib.es6.js";import{bindProjectionMatrix as e,bindView as o}from"../core/shaderLibrary/util/View.glsl.js";import{ReloadableShaderModule as t}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as i}from"../core/shaderTechnique/ShaderTechnique.js";import{ShaderTechniqueConfiguration as s,parameter as n}from"../core/shaderTechnique/ShaderTechniqueConfiguration.js";import{Default3D as a}from"../lib/DefaultVertexAttributeLocations.js";import{Program as m}from"../lib/Program.js";import{M as p}from"../../../../chunks/MeasurementArrow.glsl.js";import{makePipelineState as l,defaultDepthWriteParams as f,defaultColorWriteParams as h}from"../../../webgl/renderState.js";class d extends i{constructor(r,e,o){super(r,e,o)}initializeProgram(r){const e=d.shader.get().build();return new m(r.rctx,e,a)}bindPass(r,o){e(this.program,o.camera.projectionMatrix),this.program.setUniform1f("width",r.width),this.program.setUniform1f("outlineSize",r.outlineSize),this.program.setUniform4fv("outlineColor",r.outlineColor),this.program.setUniform1f("stripeLength",r.stripeLength),this.program.setUniform4fv("stripeEvenColor",r.stripeEvenColor),this.program.setUniform4fv("stripeOddColor",r.stripeOddColor)}bindDraw(r){o(this.program,r),this.program.rebindTextures()}initializePipeline(){return l({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:f,colorWrite:h})}get primitiveType(){return 5}}d.shader=new t(p,(()=>import("./MeasurementArrow.glsl.js")));class u extends s{constructor(){super(...arguments),this.polygonOffsetEnabled=!1}}r([n()],u.prototype,"polygonOffsetEnabled",void 0);export{d as MeasurementArrowTechnique,u as MeasurementArrowTechniqueConfiguration};
