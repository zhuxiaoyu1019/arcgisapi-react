/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{isNone as e,isSome as r,unwrap as t}from"../../../../core/maybe.js";function a(e,r){if(!e.target)return null;switch(e.target.type){case"stage":return u(e.target.obj.metadata,r);case"external":switch(e.intersector){case"PointRenderer":return l(e.target,r);case"I3S":case"IM":case"LodRenderer":case"OverlayRenderer":return u(e.target.metadata,r);case"TerrainRenderer":return r.map&&r.map.ground}}return null}function n(e,r){if(!e.target)return null;switch(e.target.type){case"stage":return i(e.target.obj.metadata,r);case"external":switch(e.intersector){case"PointRenderer":return s(e.target);case"I3S":case"IM":case"LodRenderer":case"OverlayRenderer":return i(e.target.metadata,r)}}return null}function i(a,n){if(e(a))return null;const i=u(a,n);if(e(i))return null;if(i===n.graphics)return r(n.graphicsView)?t(n.graphicsView.getGraphicFromGraphicUid(a.graphicUid)):null;const l=n.allLayerViews.find((e=>e.layer===i));return l?c(l,a):null}function c(e,r){return!e||e.suspended?null:"getGraphicFromIntersectorMetadata"in e&&r?e.getGraphicFromIntersectorMetadata(r):"getGraphicFromGraphicUid"in e&&null!=r.graphicUid?e.getGraphicFromGraphicUid(r.graphicUid):null}function u(t,a){return e(t)||null==t.layerUid?null:r(a.graphicsView)&&t.layerUid===a.graphicsView.graphics3d.layer.id?a.graphics:a.map.findLayerByUid(t.layerUid)}function l(e,r){const t=e.metadata.layerUid;return null!=t?r.map.findLayerByUid(t):null}function s(e){return e.metadata.createGraphic()}export{n as toGraphic,a as toOwner};
