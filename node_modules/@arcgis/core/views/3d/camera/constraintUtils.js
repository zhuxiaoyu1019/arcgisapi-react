/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{d as t}from"../../../chunks/vec2.js";import{getAltitudeConstraintError as r,applyAltitudeConstraint as o}from"./constraintUtils/altitude.js";export{applyAltitudeConstraint,getAltitudeConstraintError}from"./constraintUtils/altitude.js";import{hasConstraintType as n}from"./constraintUtils/common.js";import{getDistanceConstraintError as i,applyDistanceConstraint as e}from"./constraintUtils/distance.js";export{applyDistanceConstraint,getDistanceConstraintError}from"./constraintUtils/distance.js";import{applySurfaceCollisionConstraint as s}from"./constraintUtils/surfaceCollision.js";export{applySurfaceCollisionConstraint}from"./constraintUtils/surfaceCollision.js";import{applyTiltConstraint as a,getTiltConstraintError as c}from"./constraintUtils/tilt.js";export{applyTiltConstraint,getTiltConstraintError}from"./constraintUtils/tilt.js";import{inOutCubic as l}from"../../animation/easing.js";function p(t,r,o=d,i=r){let e=!1;i!==r&&i.copyFrom(r),i.computeUp(t.state.viewingMode);for(let s=0;s<j;s++){let r=0;for(const s of y)if(n(o.selection,s.type)){const n=Math.abs(s.error(t,i,o));s.apply(t,i,o)&&(e=!0,r+=n)}if(0===r)break}const a=n(o.selection,8),c=m(o.interactionType,t);return a&&s(t,i,c)&&(e=!0),e&&i.computeUp(t.state.viewingMode),e}function m(t,r){switch(t){case 4:return 1;case 5:return r.state.isGlobal?2:1;default:return 0}}function f(r,o){const n="number"==typeof r?r:t(r,o),i=Math.min(1,n/150);return l(i)}function u(t,r,o){return c(t,r,o)*r.distance}const y=[{type:1,error:u,apply:a},{type:2,error:r,apply:o},{type:4,error:i,apply:e}],d={selection:15,interactionType:0,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:0},j=5;export{p as applyAll,f as pixelDistanceToInteractionFactor};
