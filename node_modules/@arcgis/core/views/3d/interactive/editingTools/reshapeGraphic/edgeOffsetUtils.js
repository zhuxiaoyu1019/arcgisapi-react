/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{isNone as e}from"../../../../../core/maybe.js";import{createRenderScreenPointArray3 as r}from"../../../../../core/screenUtils.js";import{f as o}from"../../../../../chunks/mat4f64.js";import{c as n,r as t,p as s,f as c}from"../../../../../chunks/vec3.js";import{c as i}from"../../../../../chunks/vec3f64.js";import{normal as d,fromPositionAndNormal as f,create as p}from"../../../../../geometry/support/plane.js";import{makeDehydratedPoint as m}from"../../../../../layers/graphics/dehydratedFeatures.js";import{OffsetEdgeVertex as u}from"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js";function a(e,r,o){const n="on-the-ground"===o.mode?1:0;return new u(e,n,r,0)}function l(r,o,t){const s=i();if(!r.renderCoordsHelper.toRenderCoords(o,s))return null;const c=j(r,o,d(t.plane)),m=j(r,o,t.edgeDirection);if(e(c)||e(m))return null;const u=n(i(),c,m);return f(s,u,p())}function j(e,r,o){const n=m(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),s=i(),c=i();return e.renderCoordsHelper.toRenderCoords(r,s)&&e.renderCoordsHelper.toRenderCoords(n,c)?t(c,s,c):null}function h(e,r,s){const c=d(e),f=t(i(),r,s),p=n(i(),f,c),m=n(i(),f,p);return o(f[0],f[1],f[2],0,p[0],p[1],p[2],0,m[0],m[1],m[2],0,0,0,0,1)}function y(e,o,n){const t=n.projectToRenderScreen(e,r()),i=n.projectToRenderScreen(o,r());return s(c(t,t,i))}export{l as createEdgeOffsetIntersectionPlane,a as createEdgeOffsetOperation,h as edgeOffsetRotationMatrix,y as screenEdgeLengthSquared};
