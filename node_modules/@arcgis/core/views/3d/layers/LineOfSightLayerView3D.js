/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{_ as r}from"../../../chunks/tslib.es6.js";import{destroyMaybe as e,applySome as t,unwrapOr as i,mapOr as s}from"../../../core/maybe.js";import{property as o}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/accessorSupport/ensureType.js";import"../../../core/Logger.js";import{subclass as a}from"../../../core/accessorSupport/decorators/subclass.js";import{LayerView3D as l}from"./LayerView3D.js";import{LineOfSightController as n}from"./analysis/LineOfSight/LineOfSightController.js";import{LineOfSightLayerViewData as y}from"./analysis/LineOfSight/LineOfSightLayerViewData.js";import{LineOfSightView as p}from"./analysis/LineOfSight/LineOfSightView.js";import h from"../../layers/LayerView.js";let m=class extends(l(h)){constructor(){super(...arguments),this.type="line-of-sight-3d",this._layerViewData=new y}initialize(){const r=this.view,e=this.layer,t=this._layerViewData;this._analysisController=new n({layer:e,layerViewData:t,view:r}),this._analysisView=new p({layer:e,layerViewData:t,view:r})}destroy(){this._analysisController=e(this._analysisController),this._analysisView=e(this._analysisView)}get results(){return this._layerViewData.analyses.map((r=>r.result))}get priority(){return this._analysisController.priority}set priority(r){this._analysisController.priority=r}getResultForTarget(r){const e=this._layerViewData.analyses.find((e=>e.target===r)),s=t(e,(r=>r.result));return i(s,null)}isUpdating(){return s(this._analysisController,!1,(r=>r.updating))}};r([o({readOnly:!0})],m.prototype,"type",void 0),r([o()],m.prototype,"layer",void 0),r([o({readOnly:!0})],m.prototype,"results",null),r([o()],m.prototype,"priority",null),r([o()],m.prototype,"_layerViewData",void 0),r([o()],m.prototype,"_analysisController",void 0),r([o()],m.prototype,"_analysisView",void 0),m=r([a("esri.views.3d.layers.LineOfSightLayerView3D")],m);var w=m;export default w;export{m as LineOfSightLayerView3D};
