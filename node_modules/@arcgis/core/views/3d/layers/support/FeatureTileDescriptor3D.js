/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{create as i,set as e}from"../../../../geometry/support/aaBoundingRect.js";class t{constructor(e,t,s,h=null){this.lij=[0,0,0],this.extent=i(),this.resolution=0,this.loadPriority=0,this.measures={visibility:2,screenRect:i(),distance:0,shouldSplit:!1},this.used=!1,h&&this.acquire(e,t,s,h)}acquire(i,e,s,h){this.tilingScheme=h,this.id=t.id(i,e,s),this.lij[0]=i,this.lij[1]=e,this.lij[2]=s,h.getExtent(i,e,s,this.extent),this.resolution=h.resolutionAtLevel(i)}release(){this.tilingScheme=null}getChildren(i){const e=this.lij[0]+1,s=2*this.lij[1],h=2*this.lij[2];return i?(i[0].acquire(e,s,h,this.tilingScheme),i[1].acquire(e,s+1,h,this.tilingScheme),i[2].acquire(e,s,h+1,this.tilingScheme),i[3].acquire(e,s+1,h+1,this.tilingScheme),i):[new t(e,s,h,this.tilingScheme),new t(e,s+1,h,this.tilingScheme),new t(e,s,h+1,this.tilingScheme),new t(e,s+1,h+1,this.tilingScheme)]}copyMeasurementsFrom(i){this.measures.visibility=i.measures.visibility,this.measures.shouldSplit=i.measures.shouldSplit,this.measures.distance=i.measures.distance,e(i.measures.screenRect,this.measures.screenRect)}static id(i,e,t){return`${i}/${e}/${t}`}}export default t;export{t as FeatureTileDescriptor3D};
