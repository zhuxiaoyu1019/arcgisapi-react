/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{floatEqualAbsolute as t}from"../../core/mathUtils.js";import{d as n,h as s,q as r,b as e,a as o,i as u,p as a,c,l as i}from"../../chunks/vec2.js";import{b as f,a as p}from"../../chunks/vec2f64.js";function h(t,n){return t[0]*n[1]-t[1]*n[0]}function m(t,s,r){const e=(s[0]-t[0])*(r[1]-t[1])-(s[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/n(s,r)}function y(t,n,o){const u=s(o,n)/r(o);return e(t,o,u)}function d(t,n,s,r,e=s){return o(x,r,s),o(g,n,e),y(w,g,x),u(t,e,w)}function b(t,n,e,u){o(x,u,e),o(g,n,e);const i=s(x,g)/r(x);return i>0?a(t,e,x,i):c(t,e)}function l(t,n,s,r){o(x,n,s);const e=r/i(x);return a(t,s,x,e)}function j(n,s){return d(g,s,n.start,n.end),t(g[0],s[0])&&t(g[1],s[1])?[f(s)]:[]}function M(n,s,r){return l(g,r,n,s),t(g[0],r[0])&&t(g[1],r[1])?[f(r)]:[]}function k(t,n){const s=t.start,r=t.end,e=n.start,u=n.end,c=o(x,r,s),i=o(U,u,e),f=h(c,i);if(Math.abs(f)<=v)return[];const p=o(g,s,e),m=h(i,p)/f,y=h(c,p)/f;if(m>=0){if(y>=0||1===n.type)return[a(w,s,c,m)]}else if(1===t.type&&(y>=0||1===n.type))return[a(w,s,c,m)];return[]}function q(t,n,e){const u=[],c=o(x,t.end,t.start),i=o(U,t.start,n),f=r(c),p=2*s(c,i),h=p*p-4*f*(r(i)-e*e);if(0===h){const n=-p/(2*f);(1===t.type||n>=0)&&u.push(a(w,t.start,c,n))}else if(h>0){const n=Math.sqrt(h),s=(-p+n)/(2*f);(1===t.type||s>=0)&&u.push(a(w,t.start,c,s));const r=(-p-n)/(2*f);(1===t.type||r>=0)&&u.push(a(g,t.start,c,r))}return u}const v=1e-6,x=p(),U=p(),g=p(),w=p();export{h as cross,M as intersectCircleAndPoint,j as intersectLineAndPoint,k as intersectLineAndRay,q as intersectLineLikeAndCircle,m as pointToLineDistance,y as projectPoint,l as projectPointToCircle,d as projectPointToLine,b as projectPointToRay};
