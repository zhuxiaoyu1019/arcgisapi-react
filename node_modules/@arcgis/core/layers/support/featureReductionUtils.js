/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import e from"../../core/Error.js";import{setDeepValue as t}from"../../core/object.js";import r from"./FeatureReduction.js";import o from"./FeatureReductionCluster.js";import n from"./FeatureReductionSelection.js";const s={key:"type",base:r,typeMap:{selection:n}};function u(e,t){const r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return n.fromJSON(r);case"cluster":return o.fromJSON(r)}return null}function c(e,r,o,n){const s=i(e,{},n);s&&t(o,s,r)}function i(t,r,o){return t?"selection"!==t.type?(o.messages&&o.messages.push(new e("featureReduction:unsupported",`FeatureReduction of type '${t.declaredClass}' are not supported in scenes.`,{featureReduction:t,context:o})),null):t.write(r,o):null}export{u as read,s as webSceneFeatureReductionTypes,i as write,c as writeTarget};
