/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import"../../core/has.js";import e from"../../core/Error.js";import{setDeepValue as r}from"../../core/object.js";import n from"../../core/Warning.js";import{createTypeReader as s}from"../../core/accessorSupport/extensions/serializableProperty/reader.js";import{rendererTypes as t}from"./types.js";function o(e,n,s,t){const o=a(e,t);o&&r(s,o,n)}function u(e,r){if(!r||"web-scene"!==r.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}function a(r,n){return r?u(r,n)?r.write({},n):(n.messages&&n.messages.push(new e("renderer:unsupported",`Renderer of type '${r.declaredClass}' are not supported in scenes.`,{renderer:r,context:n})),null):null}function c(e,r){return p(e,null,r)}const i=s({types:t});function p(e,r,s){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(s&&s.messages&&s.messages.push(new n("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:s})),null):i(e,r,s):null}export{c as fromJSON,p as read,o as write};
