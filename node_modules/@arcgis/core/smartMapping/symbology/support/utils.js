/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{createScreenPoint as e,pt2px as t,toPt as r}from"../../../core/screenUtils.js";import{getBasemapId as o}from"../../support/utils.js";const n=["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector"],i=["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"],c=[].concat(n).concat(i);function s(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function a(e,t){let r=0;if(e.length===t.length){let o=e.every(((e,r)=>s(e,t[r])));if(o)r=1;else{o=e.slice(0).reverse().every(((e,r)=>s(e,t[r]))),o&&(r=-1)}}return r}function l(t){const r=t.width,o=t.height;let n=t.pixelSizeAt(t.toMap(e(.5*r,.5*o),{exclude:[]}));if(n<=0&&(n=t.pixelSizeAt(t.toMap(e(.5*r,.95*o),{exclude:[]})),n<=0)){const e=t.camera.position.clone();e.z=0,n=2*t.pixelSizeAt(e)}return n}function u(e,o){return Math.ceil(l(o)*t(r(e)))}function f(e){return"multipoint"===e?"point":"mesh"===e?"polygon":e}function p(e){const t=o(e,c,!1);return t?n.indexOf(t)>-1?"light":i.indexOf(t)>-1?"dark":void 0:null}function g(e){if(!e)return[];const t=new Set,r=[e.primaryScheme];e.secondarySchemes&&r.push(...e.secondarySchemes);for(const o of r)o&&"tags"in o&&o.tags&&o.tags.forEach((e=>t.add(e)));return[...t]}export{p as getBasemapTheme,l as getPixelSize,f as getStorageType,g as getTagsFromSchemes,a as hasIdenticalColors,u as toWorldScale};
