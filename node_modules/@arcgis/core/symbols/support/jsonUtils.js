/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{readSymbol as e}from"../../symbols.js";import s from"../../core/Error.js";import o from"../Symbol3D.js";import n from"../WebStyleSymbol.js";import{to3D as r}from"./symbolConversion.js";function t(e,s,o,n){const r=m(e,{},n);r&&(s[o]=r)}function m(e,t,m){if(!e)return null;if(m&&"web-scene"===m.origin&&!(e instanceof o)&&!(e instanceof n)){const o="cim"!==e.type?r(e):{symbol:null,error:new s("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:e})};return o.symbol?o.symbol.write(t,m):(m.messages&&m.messages.push(new s("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:m,error:o.error})),null)}return m&&"web-map"===m.origin&&"web-style"===e.type?(m.messages&&m.messages.push(new s("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:m})),null):e.write(t,m)}function i(s,o){return e(s,null,o)}export{i as fromJSON,t as write};
