/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import t from"../../../core/Handles.js";import{destroyMaybe as e}from"../../../core/maybe.js";import{reactionInit as i}from"../../../core/accessorSupport/trackingUtils.js";import{ElevationProfileState as s}from"./constants.js";import{HoveredPoints as n}from"./HoveredPoints.js";import{InputRepresentation2D as o}from"./InputRepresentation2D.js";class r{constructor(e,s){this._handles=new t,this._inputRepresentation=new o({view:e}),this._hoveredPoints=new n({view:e}),this._handles.add([i((()=>s.viewModel.hoveredPoints),(t=>this._hoveredPoints.update(t))),i((()=>{const{state:t,highlightEnabled:e,viewModel:i}=s;return{input:i.input,state:t,highlightEnabled:e}}),(t=>this._updateInputRepresentation(t)))])}destroy(){this._handles=e(this._handles),this._inputRepresentation=e(this._inputRepresentation),this._hoveredPoints=e(this._hoveredPoints)}_updateInputRepresentation({input:t,state:e,highlightEnabled:i}){e===s.Selected&&i?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{r as ElevationProfileView2D};
