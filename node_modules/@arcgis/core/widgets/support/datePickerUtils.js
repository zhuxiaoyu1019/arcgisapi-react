/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import t from"../../core/Error.js";import{getDateTimeFormatter as r,formatDate as e}from"../../intl/date.js";function o(t,e){const o=r(e),i=Date.now(),l=o.formatToParts(i),c=new Set;l.filter((({type:t})=>"literal"===t)).forEach((({value:t})=>c.add(t)));let f=0;const s={};for(;l.length>0;){const{type:r,value:e}=l.shift();for(let o=0;o<e.length;o++,f++){const e=t.charAt(f);if(c.has(e)){f++;break}if("literal"===r)break;s[r]||(s[r]=[]),s[r].push(e)}}const g={};try{g.day=n(s.day.join("")),g.month=n(s.month.join(""))-1,g.year=n((s.year||s.relatedYear).join(""))}catch(h){throw a(e)}if(isNaN(g.day)||isNaN(g.month)||isNaN(g.year))throw a(e);return g}function n(t){const r=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];for(let e=0;e<10;e++)t=t.replace(r[e],e.toString());return Number(t)}function a(r){return new t(`could not parse date input, expecting the following format: ${e(Date.now(),r)}`)}export{o as parseDateIntoParts};
