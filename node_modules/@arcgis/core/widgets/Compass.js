/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{aliasOf as s}from"../core/accessorSupport/decorators/aliasOf.js";import"../core/has.js";import"../core/accessorSupport/ensureType.js";import"../core/Logger.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import{subclass as t}from"../core/accessorSupport/decorators/subclass.js";import r from"./Widget.js";import i from"./Compass/CompassViewModel.js";import{accessibleHandler as a}from"./support/decorators/accessibleHandler.js";import{messageBundle as c}from"./support/decorators/messageBundle.js";import{tsx as p}from"./support/jsxFactory.js";import"./support/widgetUtils.js";const n={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let d=class extends r{constructor(e,s){super(e,s),this.goToOverride=null,this.iconClass=n.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new i}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:s}=this.viewModel,o="disabled"===s,t="compass"===("rotation"===s?"rotation":"compass"),r=o?-1:0,i={[n.disabled]:o,[n.interactive]:!o},a={[n.northIcon]:t,[n.rotationIcon]:!t},{messages:c}=this;return p("div",{bind:this,class:this.classes(n.base,i),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:r,"aria-label":c.reset,title:c.reset},p("span",{"aria-hidden":"true",class:this.classes(n.icon,a),styles:this._toRotationTransform(e)}),p("span",{class:n.text},c.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};e([s("viewModel.goToOverride")],d.prototype,"goToOverride",void 0),e([o()],d.prototype,"iconClass",void 0),e([o({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],d.prototype,"label",void 0),e([o(),c("esri/widgets/Compass/t9n/Compass")],d.prototype,"messages",void 0),e([s("viewModel.view")],d.prototype,"view",void 0),e([o({type:i})],d.prototype,"viewModel",void 0),e([a()],d.prototype,"_reset",null),d=e([t("esri.widgets.Compass")],d);var l=d;export default l;
