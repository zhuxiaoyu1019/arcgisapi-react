/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{_ as i}from"../../../chunks/tslib.es6.js";import{on as e,init as s}from"../../../core/watchUtils.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/accessorSupport/ensureType.js";import"../../../core/Logger.js";import{subclass as o}from"../../../core/accessorSupport/decorators/subclass.js";import r from"../../Widget.js";import d from"../BuildingDisciplinesViewModel.js";import l from"./BuildingDisciplinesNode.js";import"../../support/widgetUtils.js";import{tsx as p}from"../../support/jsxFactory.js";const h={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},a={base:`${"esri-building-disciplines-tree"}`};let g=class extends r{constructor(i){super(i),this._defaultViewModel=new d,this.viewModel=this._defaultViewModel,this.messages=h,this.toggleSiblingsVisibility=!1,this._childWidgets=[],this._updateChildWidgets=()=>{this._destroyChildWidgets(),this.viewModel&&(this._childWidgets=this.viewModel.root.children.toArray().reverse().map((i=>new l({node:i,messages:this.messages,toggleSiblingsVisibility:this.toggleSiblingsVisibility}))))}}initialize(){this.own(e(this,"viewModel.root.children","after-changes",this._updateChildWidgets,this._updateChildWidgets,this._updateChildWidgets),s(this,["messages","toggleSiblingsVisibility"],this._updateChildWidgets))}destroy(){this._destroyChildWidgets(),this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}render(){return p("div",{role:"tree",class:a.base},this._childWidgets.map((i=>i.render())))}_destroyChildWidgets(){this._childWidgets.forEach((i=>i.destroy())),this._childWidgets=[]}};i([t({type:d})],g.prototype,"viewModel",void 0),i([t()],g.prototype,"messages",void 0),i([t({nonNullable:!0})],g.prototype,"toggleSiblingsVisibility",void 0),i([t()],g.prototype,"_childWidgets",void 0),g=i([o("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesTree")],g);var c=g;export default c;
