/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{isSome as r,isNone as t}from"../../../core/maybe.js";import{generateUUID as o}from"../../../core/uuid.js";import i from"../../../layers/support/BuildingFilterBlock.js";import n from"../../../layers/support/BuildingFilterModeSolid.js";import e from"../../../layers/support/BuildingFilterModeXRay.js";const f="__BUILDING_EXPLORER_FILTER__";function s(){return`${o()}${f}`}function l(r){const t="string"==typeof r?r:r.id;return!!t&&-1!==t.indexOf(f)}function u(t,o){for(const i of t.items)for(const t of i.filters.items){if(!l(t))continue;const i=o(t);if(r(i))return i}return null}function c(r,o){t(o)||r.forEach((r=>{r.filters=r.filters.filter((r=>!l(r))).concat([o]),r.activeFilterId=o.id}))}function p(r){const t=d(r);return t?new i({filterExpression:t,filterMode:new e}):null}function m(r){const t=d(r);return t?new i({filterExpression:t,filterMode:new n}):null}function d(r){return r.filter((r=>!!r)).map((r=>`(${r})`)).join(" AND ")}export{s as generateFilterId,m as getFilterBlockSolid,p as getFilterBlockXRay,u as getValueFromFilters,l as isBuildingExplorerFilter,c as setFilterOnLayers};
