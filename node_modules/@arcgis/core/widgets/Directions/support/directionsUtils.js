/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import"../../../intl.js";import{formatDate as t}from"../../../intl/date.js";import{formatNumber as e}from"../../../intl/number.js";import{substitute as r}from"../../../intl/substitute.js";function n(t,e){return!(!A(t)||!e||-22091616e5===t.get("attributes.ETA"))}function i(r,n,i,s){const u=new Date(i),o=new Date(u.getTime()+60*u.getTimezoneOffset()*1e3),a=t(o,{hour:"2-digit",minute:"2-digit",hour12:!1});if(n){const t=(i-n)/1e3/60/60,s=Math.floor(t),u=60*(t-s),o=e(s,{minimumIntegerDigits:2}),c=e(u,{minimumIntegerDigits:2});return`${a} ${r.gmt}${s<0?"":"+"}${o}${c}`}return s?t(o,{hour:"numeric",minute:"numeric"}):a}function s(t){return"esriNAUSeconds"===t||"esriNAUMinutes"===t||"esriNAUHours"===t||"esriNAUDays"===t}function u(t,e,r){const n=s(e),i=s(r),u=n?o(t,e):c(t,e);return n===i?i?a(u,r):l(u,r):t}function o(t,e,r){switch(t=t||0,e){case"esriNAUSeconds":t/=60**(r?-1:1);break;case"esriNAUHours":t*=60**(r?-1:1);break;case"esriNAUDays":t*=1440**(r?-1:1)}return t}function a(t,e){return o(t,e,!0)}function c(t,e,r){switch(t=t||0,(e||"").replace("esriNAU","esri")){case"esriInches":t*=.0254**(r?-1:1);break;case"esriFeet":t*=.3048**(r?-1:1);break;case"esriYards":t*=.9144**(r?-1:1);break;case"esriMiles":t*=1609.344**(r?-1:1);break;case"esriNauticalMiles":t*=1851.995396854**(r?-1:1);break;case"esriMillimeters":t/=1e3**(r?-1:1);break;case"esriCentimeters":t/=100**(r?-1:1);break;case"esriKilometers":t*=1e3**(r?-1:1);break;case"esriDecimeters":t/=10**(r?-1:1)}return t}function l(t,e){return c(t,e,!0)}function m(t){const e=t&&t.attributes||{};return null===(e.ArriveCurbApproach||null)&&null!==(e.DepartCurbApproach||null)}function f(t){const e=t&&t.attributes||{};return null!==(e.ArriveCurbApproach||null)&&null!==(e.DepartCurbApproach||null)}function p(t){const e=t&&t.attributes||{};return null!==(e.ArriveCurbApproach||null)&&null===(e.DepartCurbApproach||null)}function b(t){return t&&t.get("attributes.isWaypoint")}function h(t){const e=t&&t.get("attributes.Status");return!e||6===e}function A(t){return t._associatedStop}function g(t,e={}){const{unit:r="minutes"}=e;return d(t,r)}function d(t,e){const r=60,n=60,i="days"===(e=e.toLowerCase())?t*24:"hours"===e?t:"minutes"===e?t/r:t/r/n;if(i<1)return`${Math.floor(i*n)}m`;const s=i%1*r;return`${Math.floor(i)}:${String(Math.floor(s)).padStart(2,"0")}h`}function D(t,e,n,i={}){const{fromUnits:s,toUnits:o}=i,a=u(n,s,o);if(!a)return"";const c=e.units[o],l=c?c.abbr:o.replace("esri","").toLowerCase();return r(t.distanceTemplate,{distance:a,units:l},{format:{distance:{type:"number",intlOptions:{minimumFractionDigits:2,maximumFractionDigits:2}}}})}export{u as convertCostValue,D as formatDistance,g as formatTime,l as fromMeters,a as fromMinutes,A as getAssociatedStop,m as isFirstStop,p as isLastStop,f as isMiddleStop,h as isStopLocated,s as isTimeUnits,b as isWaypoint,c as toMeters,o as toMinutes,i as toSpatiallyLocalTimeString,n as useSpatiallyLocalTime};
