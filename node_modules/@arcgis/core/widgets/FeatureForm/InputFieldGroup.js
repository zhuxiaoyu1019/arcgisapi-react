/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{_ as i}from"../../chunks/tslib.es6.js";import t from"../../core/Accessor.js";import{HandleOwnerMixin as e}from"../../core/HandleOwner.js";import{aliasOf as s}from"../../core/accessorSupport/decorators/aliasOf.js";import"../../core/has.js";import"../../core/accessorSupport/ensureType.js";import"../../core/Logger.js";import{property as o}from"../../core/accessorSupport/decorators/property.js";import{subclass as r}from"../../core/accessorSupport/decorators/subclass.js";let l=class extends(e(t)){constructor(i){super(i),this.arcade=null,this.config=null,this.description=null,this.feature=null,this.label=null,this.state=null,this.visibilityExpression=null}get compiledFunc(){const{arcade:i}=this;return i&&i.arcadeUtils.createFunction(this.visibilityExpression)}get evaluatedVisibility(){const i=this.compiledFunc;if(!i)return;const{arcade:t}=this;return t.arcadeUtils.executeFunction(i,t.arcadeUtils.createExecContext(this.feature))}get inputFields(){return this._get("inputFields")}set inputFields(i){this.handles.removeAll(),i&&this.handles.add(i.map((i=>i.watch("visible",this._dirtyEvaluatedVisibility)))),this._set("inputFields",i)}get visible(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some((i=>i.visible))}_dirtyEvaluatedVisibility(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")}};i([o()],l.prototype,"arcade",void 0),i([o()],l.prototype,"compiledFunc",null),i([o()],l.prototype,"config",void 0),i([o()],l.prototype,"evaluatedVisibility",null),i([s("config.description")],l.prototype,"description",void 0),i([o()],l.prototype,"feature",void 0),i([o()],l.prototype,"inputFields",null),i([s("config.label")],l.prototype,"label",void 0),i([s("config.state")],l.prototype,"state",void 0),i([s("config.visibilityExpression")],l.prototype,"visibilityExpression",void 0),i([o()],l.prototype,"visible",null),l=i([r("esri.widgets.FeatureForm.InputFieldGroup")],l);var p=l;export default p;
