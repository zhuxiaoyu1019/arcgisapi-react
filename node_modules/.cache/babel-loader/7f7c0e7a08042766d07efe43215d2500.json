{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport \"../has.js\";\nimport t from \"../Logger.js\";\nimport { pathToArray as n, getProperties as e } from \"./utils.js\";\nlet o,\n    r = [];\nconst s = t.getLogger(\"esri.core.Accessor\");\n\nfunction c() {\n  r = [];\n}\n\nfunction i(t) {\n  void 0 !== o && o.onObservableAccessed(t);\n}\n\nlet l = !1,\n    f = !1;\n\nfunction a(t, n, e) {\n  if (l) return g(t, n, e);\n  u(t);\n  const o = n.call(e);\n  return p(), o;\n}\n\nfunction g(t, n, e) {\n  const o = l;\n  l = !0, u(t);\n  let r = null;\n\n  try {\n    r = n.call(e);\n  } catch (c) {\n    f && s.error(c);\n  }\n\n  return p(), l = o, r;\n}\n\nfunction u(t) {\n  o = t, r.push(t);\n}\n\nfunction p() {\n  const t = r.pop();\n  o = r.length > 0 ? r[r.length - 1] : void 0, void 0 !== t && t.onTrackingEnd();\n}\n\nfunction d(t, n) {\n  if (32 & n.flags) return;\n  const e = f;\n  f = !1, 64 & n.flags ? g(n, n.metadata.get, t) : h(t, n), f = e;\n}\n\nconst m = [];\n\nfunction h(t, e) {\n  128 & e.flags || (e.flags |= 128, g(e, () => {\n    const o = e.metadata.dependsOn || m;\n\n    for (const e of o) if (\"string\" == typeof e && -1 === e.indexOf(\".\")) A(t, e, !1);else {\n      const o = n(e);\n\n      for (let n = 0, e = t; n < o.length && null != e && \"object\" == typeof e; ++n) e = A(e, o[n], n !== o.length - 1);\n    }\n  }), e.flags &= -129);\n}\n\nfunction A(t, n, o) {\n  const r = \"?\" === n[n.length - 1] ? n.slice(0, -1) : n;\n\n  if (null != t.getItemAt || Array.isArray(t)) {\n    const n = parseInt(r, 10);\n    if (!isNaN(n)) return Array.isArray(t) ? t[n] : t.getItemAt(n);\n  }\n\n  const s = e(t),\n        c = null == s ? void 0 : s.properties.get(r);\n  return c && (i(c), d(t, c)), o ? t[r] : void 0;\n}\n\nexport { d as initializeDependencyTracking, c as resetGlobalTarget, a as runTracked, g as runTrackedNoThrow, i as trackAccess, h as trackExplicitDependencies };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/core/accessorSupport/tracking.js"],"names":["t","pathToArray","n","getProperties","e","o","r","s","getLogger","c","i","onObservableAccessed","l","f","a","g","u","call","p","error","push","pop","length","onTrackingEnd","d","flags","metadata","get","h","m","dependsOn","indexOf","A","slice","getItemAt","Array","isArray","parseInt","isNaN","properties","initializeDependencyTracking","resetGlobalTarget","runTracked","runTrackedNoThrow","trackAccess","trackExplicitDependencies"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../has.js\";import t from\"../Logger.js\";import{pathToArray as n,getProperties as e}from\"./utils.js\";let o,r=[];const s=t.getLogger(\"esri.core.Accessor\");function c(){r=[]}function i(t){void 0!==o&&o.onObservableAccessed(t)}let l=!1,f=!1;function a(t,n,e){if(l)return g(t,n,e);u(t);const o=n.call(e);return p(),o}function g(t,n,e){const o=l;l=!0,u(t);let r=null;try{r=n.call(e)}catch(c){f&&s.error(c)}return p(),l=o,r}function u(t){o=t,r.push(t)}function p(){const t=r.pop();o=r.length>0?r[r.length-1]:void 0,void 0!==t&&t.onTrackingEnd()}function d(t,n){if(32&n.flags)return;const e=f;f=!1,64&n.flags?g(n,n.metadata.get,t):h(t,n),f=e}const m=[];function h(t,e){128&e.flags||(e.flags|=128,g(e,(()=>{const o=e.metadata.dependsOn||m;for(const e of o)if(\"string\"==typeof e&&-1===e.indexOf(\".\"))A(t,e,!1);else{const o=n(e);for(let n=0,e=t;n<o.length&&null!=e&&\"object\"==typeof e;++n)e=A(e,o[n],n!==o.length-1)}})),e.flags&=-129)}function A(t,n,o){const r=\"?\"===n[n.length-1]?n.slice(0,-1):n;if(null!=t.getItemAt||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.getItemAt(n)}const s=e(t),c=null==s?void 0:s.properties.get(r);return c&&(i(c),d(t,c)),o?t[r]:void 0}export{d as initializeDependencyTracking,c as resetGlobalTarget,a as runTracked,g as runTrackedNoThrow,i as trackAccess,h as trackExplicitDependencies};\n"]},"metadata":{},"sourceType":"module"}