{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { setDeepValue as t } from \"../../core/object.js\";\nimport r from \"./FeatureReduction.js\";\nimport o from \"./FeatureReductionCluster.js\";\nimport n from \"./FeatureReductionSelection.js\";\nconst s = {\n  key: \"type\",\n  base: r,\n  typeMap: {\n    selection: n\n  }\n};\n\nfunction u(e, t) {\n  const r = (t = t.layerDefinition || t).featureReduction;\n  if (r) switch (r.type) {\n    case \"selection\":\n      return n.fromJSON(r);\n\n    case \"cluster\":\n      return o.fromJSON(r);\n  }\n  return null;\n}\n\nfunction c(e, r, o, n) {\n  const s = i(e, {}, n);\n  s && t(o, s, r);\n}\n\nfunction i(t, r, o) {\n  return t ? \"selection\" !== t.type ? (o.messages && o.messages.push(new e(\"featureReduction:unsupported\", `FeatureReduction of type '${t.declaredClass}' are not supported in scenes.`, {\n    featureReduction: t,\n    context: o\n  })), null) : t.write(r, o) : null;\n}\n\nexport { u as read, s as webSceneFeatureReductionTypes, i as write, c as writeTarget };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/layers/support/featureReductionUtils.js"],"names":["e","setDeepValue","t","r","o","n","s","key","base","typeMap","selection","u","layerDefinition","featureReduction","type","fromJSON","c","i","messages","push","declaredClass","context","write","read","webSceneFeatureReductionTypes","writeTarget"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,qBAAb;AAAmC,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,sBAA7B;AAAoD,OAAOC,CAAP,MAAa,uBAAb;AAAqC,OAAOC,CAAP,MAAa,8BAAb;AAA4C,OAAOC,CAAP,MAAa,gCAAb;AAA8C,MAAMC,CAAC,GAAC;AAACC,EAAAA,GAAG,EAAC,MAAL;AAAYC,EAAAA,IAAI,EAACL,CAAjB;AAAmBM,EAAAA,OAAO,EAAC;AAACC,IAAAA,SAAS,EAACL;AAAX;AAA3B,CAAR;;AAAkD,SAASM,CAAT,CAAWX,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAMC,CAAC,GAAC,CAACD,CAAC,GAACA,CAAC,CAACU,eAAF,IAAmBV,CAAtB,EAAyBW,gBAAjC;AAAkD,MAAGV,CAAH,EAAK,QAAOA,CAAC,CAACW,IAAT;AAAe,SAAI,WAAJ;AAAgB,aAAOT,CAAC,CAACU,QAAF,CAAWZ,CAAX,CAAP;;AAAqB,SAAI,SAAJ;AAAc,aAAOC,CAAC,CAACW,QAAF,CAAWZ,CAAX,CAAP;AAAlE;AAAuF,SAAO,IAAP;AAAY;;AAAA,SAASa,CAAT,CAAWhB,CAAX,EAAaG,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmB;AAAC,QAAMC,CAAC,GAACW,CAAC,CAACjB,CAAD,EAAG,EAAH,EAAMK,CAAN,CAAT;AAAkBC,EAAAA,CAAC,IAAEJ,CAAC,CAACE,CAAD,EAAGE,CAAH,EAAKH,CAAL,CAAJ;AAAY;;AAAA,SAASc,CAAT,CAAWf,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,SAAOF,CAAC,GAAC,gBAAcA,CAAC,CAACY,IAAhB,IAAsBV,CAAC,CAACc,QAAF,IAAYd,CAAC,CAACc,QAAF,CAAWC,IAAX,CAAgB,IAAInB,CAAJ,CAAM,8BAAN,EAAsC,6BAA4BE,CAAC,CAACkB,aAAc,gCAAlF,EAAkH;AAACP,IAAAA,gBAAgB,EAACX,CAAlB;AAAoBmB,IAAAA,OAAO,EAACjB;AAA5B,GAAlH,CAAhB,CAAZ,EAA+K,IAArM,IAA2MF,CAAC,CAACoB,KAAF,CAAQnB,CAAR,EAAUC,CAAV,CAA5M,GAAyN,IAAjO;AAAsO;;AAAA,SAAOO,CAAC,IAAIY,IAAZ,EAAiBjB,CAAC,IAAIkB,6BAAtB,EAAoDP,CAAC,IAAIK,KAAzD,EAA+DN,CAAC,IAAIS,WAApE","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as t}from\"../../core/object.js\";import r from\"./FeatureReduction.js\";import o from\"./FeatureReductionCluster.js\";import n from\"./FeatureReductionSelection.js\";const s={key:\"type\",base:r,typeMap:{selection:n}};function u(e,t){const r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case\"selection\":return n.fromJSON(r);case\"cluster\":return o.fromJSON(r)}return null}function c(e,r,o,n){const s=i(e,{},n);s&&t(o,s,r)}function i(t,r,o){return t?\"selection\"!==t.type?(o.messages&&o.messages.push(new e(\"featureReduction:unsupported\",`FeatureReduction of type '${t.declaredClass}' are not supported in scenes.`,{featureReduction:t,context:o})),null):t.write(r,o):null}export{u as read,s as webSceneFeatureReductionTypes,i as write,c as writeTarget};\n"]},"metadata":{},"sourceType":"module"}