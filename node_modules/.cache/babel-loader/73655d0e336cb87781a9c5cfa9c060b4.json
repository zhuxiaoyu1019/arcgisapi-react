{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isNone as e } from \"../../../../core/maybe.js\";\nimport { Edge as t } from \"../EditGeometry.js\";\n\nclass i {\n  constructor(e, t) {\n    this.editGeometry = e, this.component = t, this.createdEdge = null;\n  }\n\n  apply() {\n    let i = \"redo\";\n\n    if (e(this.createdEdge)) {\n      i = \"apply\";\n      const s = this.component.getFirstVertex(),\n            o = this.component.getLastVertex();\n      if (this.component.isClosed() || this.component.vertices.length < 3 || e(s) || e(o)) return;\n      this.createdEdge = new t(this.component, o, s);\n    }\n\n    this.createdEdge.left.right = this.createdEdge, this.createdEdge.right.left = this.createdEdge, this.component.edges.push(this.createdEdge);\n    const s = {\n      operation: i\n    };\n    this.editGeometry.emit(\"change\", s);\n  }\n\n  undo() {\n    if (e(this.createdEdge)) return;\n    this.component.edges.splice(this.component.edges.indexOf(this.createdEdge), 1), this.createdEdge.left.right = null, this.createdEdge.right.left = null;\n    const t = {\n      operation: \"undo\"\n    };\n    this.editGeometry.emit(\"change\", t);\n  }\n\n  accumulate() {\n    return !1;\n  }\n\n}\n\nexport { i as CloseComponent };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js"],"names":["isNone","e","Edge","t","i","constructor","editGeometry","component","createdEdge","apply","s","getFirstVertex","o","getLastVertex","isClosed","vertices","length","left","right","edges","push","operation","emit","undo","splice","indexOf","accumulate","CloseComponent"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,IAAI,IAAIC,CAAf,QAAqB,oBAArB;;AAA0C,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACJ,CAAD,EAAGE,CAAH,EAAK;AAAC,SAAKG,YAAL,GAAkBL,CAAlB,EAAoB,KAAKM,SAAL,GAAeJ,CAAnC,EAAqC,KAAKK,WAAL,GAAiB,IAAtD;AAA2D;;AAAAC,EAAAA,KAAK,GAAE;AAAC,QAAIL,CAAC,GAAC,MAAN;;AAAa,QAAGH,CAAC,CAAC,KAAKO,WAAN,CAAJ,EAAuB;AAACJ,MAAAA,CAAC,GAAC,OAAF;AAAU,YAAMM,CAAC,GAAC,KAAKH,SAAL,CAAeI,cAAf,EAAR;AAAA,YAAwCC,CAAC,GAAC,KAAKL,SAAL,CAAeM,aAAf,EAA1C;AAAyE,UAAG,KAAKN,SAAL,CAAeO,QAAf,MAA2B,KAAKP,SAAL,CAAeQ,QAAf,CAAwBC,MAAxB,GAA+B,CAA1D,IAA6Df,CAAC,CAACS,CAAD,CAA9D,IAAmET,CAAC,CAACW,CAAD,CAAvE,EAA2E;AAAO,WAAKJ,WAAL,GAAiB,IAAIL,CAAJ,CAAM,KAAKI,SAAX,EAAqBK,CAArB,EAAuBF,CAAvB,CAAjB;AAA2C;;AAAA,SAAKF,WAAL,CAAiBS,IAAjB,CAAsBC,KAAtB,GAA4B,KAAKV,WAAjC,EAA6C,KAAKA,WAAL,CAAiBU,KAAjB,CAAuBD,IAAvB,GAA4B,KAAKT,WAA9E,EAA0F,KAAKD,SAAL,CAAeY,KAAf,CAAqBC,IAArB,CAA0B,KAAKZ,WAA/B,CAA1F;AAAsI,UAAME,CAAC,GAAC;AAACW,MAAAA,SAAS,EAACjB;AAAX,KAAR;AAAsB,SAAKE,YAAL,CAAkBgB,IAAlB,CAAuB,QAAvB,EAAgCZ,CAAhC;AAAmC;;AAAAa,EAAAA,IAAI,GAAE;AAAC,QAAGtB,CAAC,CAAC,KAAKO,WAAN,CAAJ,EAAuB;AAAO,SAAKD,SAAL,CAAeY,KAAf,CAAqBK,MAArB,CAA4B,KAAKjB,SAAL,CAAeY,KAAf,CAAqBM,OAArB,CAA6B,KAAKjB,WAAlC,CAA5B,EAA2E,CAA3E,GAA8E,KAAKA,WAAL,CAAiBS,IAAjB,CAAsBC,KAAtB,GAA4B,IAA1G,EAA+G,KAAKV,WAAL,CAAiBU,KAAjB,CAAuBD,IAAvB,GAA4B,IAA3I;AAAgJ,UAAMd,CAAC,GAAC;AAACkB,MAAAA,SAAS,EAAC;AAAX,KAAR;AAA2B,SAAKf,YAAL,CAAkBgB,IAAlB,CAAuB,QAAvB,EAAgCnB,CAAhC;AAAmC;;AAAAuB,EAAAA,UAAU,GAAE;AAAC,WAAM,CAAC,CAAP;AAAS;;AAAlxB;;AAAmxB,SAAOtB,CAAC,IAAIuB,cAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class i{constructor(e,t){this.editGeometry=e,this.component=t,this.createdEdge=null}apply(){let i=\"redo\";if(e(this.createdEdge)){i=\"apply\";const s=this.component.getFirstVertex(),o=this.component.getLastVertex();if(this.component.isClosed()||this.component.vertices.length<3||e(s)||e(o))return;this.createdEdge=new t(this.component,o,s)}this.createdEdge.left.right=this.createdEdge,this.createdEdge.right.left=this.createdEdge,this.component.edges.push(this.createdEdge);const s={operation:i};this.editGeometry.emit(\"change\",s)}undo(){if(e(this.createdEdge))return;this.component.edges.splice(this.component.edges.indexOf(this.createdEdge),1),this.createdEdge.left.right=null,this.createdEdge.right.left=null;const t={operation:\"undo\"};this.editGeometry.emit(\"change\",t)}accumulate(){return!1}}export{i as CloseComponent};\n"]},"metadata":{},"sourceType":"module"}