{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { handlesGroup as r } from \"../handleUtils.js\";\nimport { clone as n } from \"../lang.js\";\nimport { assumeNonNull as t } from \"../maybe.js\";\n\nfunction e(r) {\n  return r ? r.__accessor__ ? r.__accessor__ : r.propertyInvalidated ? r : null : null;\n}\n\nfunction i(r, n) {\n  return null != r && r.metadatas && null != r.metadatas[n];\n}\n\nfunction o(r, n) {\n  const t = e(r);\n  return t ? t.getDependsInfo(r, n, \"\") : \"\";\n}\n\nfunction u(r, n, t) {\n  if (t) {\n    return a(r, n, {\n      policy: t,\n      path: \"\"\n    });\n  }\n\n  return a(r, n, null);\n}\n\nfunction a(r, e, i) {\n  return e ? Object.keys(e).reduce(function (r, o) {\n    let u = null,\n        l = \"merge\";\n    if (i && (u = i.path ? `${i.path}.${o}` : o, l = i.policy(u)), \"replace\" === l) return r[o] = e[o], r;\n    if (void 0 === r[o]) return r[o] = n(e[o]), r;\n    let f = r[o],\n        s = e[o];\n    if (f === s) return r;\n    if (Array.isArray(s) || Array.isArray(r)) f = f ? Array.isArray(f) ? r[o] = f.concat() : r[o] = [f] : r[o] = [], s && (Array.isArray(s) || (s = [s]), s.forEach(r => {\n      -1 === f.indexOf(r) && f.push(r);\n    }));else if (s && \"object\" == typeof s) {\n      if (i) {\n        const n = i.path;\n        i.path = t(u), r[o] = a(f, s, i), i.path = n;\n      } else r[o] = a(f, s, null);\n    } else r.hasOwnProperty(o) && !e.hasOwnProperty(o) || (r[o] = s);\n    return r;\n  }, r || {}) : r;\n}\n\nfunction l(r) {\n  return r ? \"string\" == typeof r && -1 === r.indexOf(\".\") ? r : f(r) : r;\n}\n\nfunction f(r) {\n  return Array.isArray(r) ? r : r.split(\".\");\n}\n\nfunction s(r) {\n  return r.indexOf(\",\") > -1 ? r.split(\",\").map(r => r.trim()) : [r.trim()];\n}\n\nfunction c(r) {\n  if (Array.isArray(r)) {\n    const n = [];\n\n    for (const t of r) n.push(...s(t));\n\n    return n;\n  }\n\n  return s(r);\n}\n\nfunction p(r) {\n  if (-1 === r.indexOf(\"?\")) return null;\n  const n = f(r),\n        t = new Array(n.length);\n\n  for (let e = 0; e < n.length; e++) {\n    const r = n[e];\n    t[e] = \"?\" === r[r.length - 1], t[e] && (n[e] = r.slice(0, -1));\n  }\n\n  return {\n    fullPath: n.join(\".\"),\n    conditional: t\n  };\n}\n\nfunction y(n, t, e, i) {\n  const o = c(t);\n\n  if (1 !== o.length) {\n    const t = o.map(r => i(n, r, e));\n    return r(t);\n  }\n\n  return i(n, o[0], e);\n}\n\nfunction h(r) {\n  let n = !1;\n  return () => {\n    n || (n = !0, r());\n  };\n}\n\nexport { o as getDependsInfo, e as getProperties, i as isPropertyDeclared, u as merge, h as once, y as parse, p as parseConditionalPath, f as pathToArray, l as pathToStringOrArray, c as splitPath };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/core/accessorSupport/utils.js"],"names":["handlesGroup","r","clone","n","assumeNonNull","t","e","__accessor__","propertyInvalidated","i","metadatas","o","getDependsInfo","u","a","policy","path","Object","keys","reduce","l","f","s","Array","isArray","concat","forEach","indexOf","push","hasOwnProperty","split","map","trim","c","p","length","slice","fullPath","join","conditional","y","h","getProperties","isPropertyDeclared","merge","once","parse","parseConditionalPath","pathToArray","pathToStringOrArray","splitPath"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{handlesGroup as r}from\"../handleUtils.js\";import{clone as n}from\"../lang.js\";import{assumeNonNull as t}from\"../maybe.js\";function e(r){return r?r.__accessor__?r.__accessor__:r.propertyInvalidated?r:null:null}function i(r,n){return null!=r&&r.metadatas&&null!=r.metadatas[n]}function o(r,n){const t=e(r);return t?t.getDependsInfo(r,n,\"\"):\"\"}function u(r,n,t){if(t){return a(r,n,{policy:t,path:\"\"})}return a(r,n,null)}function a(r,e,i){return e?Object.keys(e).reduce((function(r,o){let u=null,l=\"merge\";if(i&&(u=i.path?`${i.path}.${o}`:o,l=i.policy(u)),\"replace\"===l)return r[o]=e[o],r;if(void 0===r[o])return r[o]=n(e[o]),r;let f=r[o],s=e[o];if(f===s)return r;if(Array.isArray(s)||Array.isArray(r))f=f?Array.isArray(f)?r[o]=f.concat():r[o]=[f]:r[o]=[],s&&(Array.isArray(s)||(s=[s]),s.forEach((r=>{-1===f.indexOf(r)&&f.push(r)})));else if(s&&\"object\"==typeof s)if(i){const n=i.path;i.path=t(u),r[o]=a(f,s,i),i.path=n}else r[o]=a(f,s,null);else r.hasOwnProperty(o)&&!e.hasOwnProperty(o)||(r[o]=s);return r}),r||{}):r}function l(r){return r?\"string\"==typeof r&&-1===r.indexOf(\".\")?r:f(r):r}function f(r){return Array.isArray(r)?r:r.split(\".\")}function s(r){return r.indexOf(\",\")>-1?r.split(\",\").map((r=>r.trim())):[r.trim()]}function c(r){if(Array.isArray(r)){const n=[];for(const t of r)n.push(...s(t));return n}return s(r)}function p(r){if(-1===r.indexOf(\"?\"))return null;const n=f(r),t=new Array(n.length);for(let e=0;e<n.length;e++){const r=n[e];t[e]=\"?\"===r[r.length-1],t[e]&&(n[e]=r.slice(0,-1))}return{fullPath:n.join(\".\"),conditional:t}}function y(n,t,e,i){const o=c(t);if(1!==o.length){const t=o.map((r=>i(n,r,e)));return r(t)}return i(n,o[0],e)}function h(r){let n=!1;return()=>{n||(n=!0,r())}}export{o as getDependsInfo,e as getProperties,i as isPropertyDeclared,u as merge,h as once,y as parse,p as parseConditionalPath,f as pathToArray,l as pathToStringOrArray,c as splitPath};\n"]},"metadata":{},"sourceType":"module"}