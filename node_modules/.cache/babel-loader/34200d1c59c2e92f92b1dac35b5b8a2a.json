{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport \"../../core/has.js\";\nimport r from \"../../core/Error.js\";\nimport { isNone as e } from \"../../core/maybe.js\";\nimport { to3D as n } from \"../../symbols/support/symbolConversion.js\";\n\nfunction o(r) {\n  return e(r) || \"simple\" === r.type || \"unique-value\" === r.type || \"class-breaks\" === r.type || \"dictionary\" === r.type;\n}\n\nfunction s(n) {\n  if (e(n)) return null;\n  if (!o(n)) return new r(\"renderer-conversion-3d:unsupported-renderer\", `Unsupported renderer of type '${n.type || n.declaredClass}'`, {\n    renderer: n\n  });\n\n  switch (n.type) {\n    case \"simple\":\n      return u(n);\n\n    case \"unique-value\":\n      return l(n);\n\n    case \"class-breaks\":\n      return i(n);\n\n    case \"dictionary\":\n      return null;\n  }\n\n  return null;\n}\n\nfunction t(e, n) {\n  if (!n) return null;\n  let o;\n\n  if (o = Array.isArray(n) ? n : [n], o.length > 0) {\n    const n = o.map(r => r.details.symbol.type || r.details.symbol.declaredClass).filter(r => !!r);\n    n.sort();\n    const s = [];\n    return n.forEach((r, e) => {\n      0 !== e && r === n[e - 1] || s.push(r);\n    }), new r(\"renderer-conversion-3d:unsupported-symbols\", `Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`, {\n      renderer: e,\n      symbolErrors: o\n    });\n  }\n\n  return null;\n}\n\nfunction u(r) {\n  return t(r, n(r.symbol).error);\n}\n\nfunction l(r) {\n  const e = r.uniqueValueInfos.map(r => n(r.symbol).error).filter(r => !!r),\n        o = n(r.defaultSymbol);\n  return o.error && e.unshift(o.error), t(r, e);\n}\n\nfunction i(r) {\n  const e = r.classBreakInfos.map(r => n(r.symbol).error).filter(r => !!r),\n        o = n(r.defaultSymbol);\n  return o.error && e.unshift(o.error), t(r, e);\n}\n\nexport { o as isSupportedRenderer3D, s as validateTo3D };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/renderers/support/rendererConversion.js"],"names":["r","isNone","e","to3D","n","o","type","s","declaredClass","renderer","u","l","i","t","Array","isArray","length","map","details","symbol","filter","sort","forEach","push","join","symbolErrors","error","uniqueValueInfos","defaultSymbol","unshift","classBreakInfos","isSupportedRenderer3D","validateTo3D"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e}from\"../../core/maybe.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type}function s(n){if(e(n))return null;if(!o(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":return null}return null}function t(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function u(r){return t(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}export{o as isSupportedRenderer3D,s as validateTo3D};\n"]},"metadata":{},"sourceType":"module"}