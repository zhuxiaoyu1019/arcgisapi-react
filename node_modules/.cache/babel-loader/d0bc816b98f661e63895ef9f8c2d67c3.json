{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../../request.js\";\nimport { pt2px as e } from \"../../core/screenUtils.js\";\n\nfunction i(e, i, h) {\n  const s = e.thumbnail && e.thumbnail.url;\n  return s ? t(s, {\n    responseType: \"image\"\n  }).then(t => {\n    const e = n(t.data, h);\n    return h && h.node ? (h.node.appendChild(e), h.node) : e;\n  }) : e.fetchSymbol().then(t => i(t, h));\n}\n\nfunction n(t, i) {\n  const n = !/\\\\.svg$/i.test(t.src) && i && i.disableUpsampling,\n        h = Math.max(t.width, t.height);\n  let s = i && null != i.maxSize ? e(i.maxSize) : 120;\n  n && (s = Math.min(h, s));\n  const o = Math.min(s, i && null != i.size ? e(i.size) : h);\n\n  if (o !== h) {\n    const e = 0 !== t.width && 0 !== t.height ? t.width / t.height : 1;\n    e >= 1 ? (t.width = o, t.height = o / e) : (t.width = o * e, t.height = o);\n  }\n\n  return t;\n}\n\nexport { i as previewWebStyleSymbol };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/symbols/support/previewWebStyleSymbol.js"],"names":["t","pt2px","e","i","h","s","thumbnail","url","responseType","then","n","data","node","appendChild","fetchSymbol","test","src","disableUpsampling","Math","max","width","height","maxSize","min","o","size","previewWebStyleSymbol"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;AAAgC,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,2BAAtB;;AAAkD,SAASC,CAAT,CAAWD,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,QAAMC,CAAC,GAACH,CAAC,CAACI,SAAF,IAAaJ,CAAC,CAACI,SAAF,CAAYC,GAAjC;AAAqC,SAAOF,CAAC,GAACL,CAAC,CAACK,CAAD,EAAG;AAACG,IAAAA,YAAY,EAAC;AAAd,GAAH,CAAD,CAA4BC,IAA5B,CAAkCT,CAAC,IAAE;AAAC,UAAME,CAAC,GAACQ,CAAC,CAACV,CAAC,CAACW,IAAH,EAAQP,CAAR,CAAT;AAAoB,WAAOA,CAAC,IAAEA,CAAC,CAACQ,IAAL,IAAWR,CAAC,CAACQ,IAAF,CAAOC,WAAP,CAAmBX,CAAnB,GAAsBE,CAAC,CAACQ,IAAnC,IAAyCV,CAAhD;AAAkD,GAA5G,CAAD,GAAgHA,CAAC,CAACY,WAAF,GAAgBL,IAAhB,CAAsBT,CAAC,IAAEG,CAAC,CAACH,CAAD,EAAGI,CAAH,CAA1B,CAAxH;AAA0J;;AAAA,SAASM,CAAT,CAAWV,CAAX,EAAaG,CAAb,EAAe;AAAC,QAAMO,CAAC,GAAC,CAAC,WAAWK,IAAX,CAAgBf,CAAC,CAACgB,GAAlB,CAAD,IAAyBb,CAAzB,IAA4BA,CAAC,CAACc,iBAAtC;AAAA,QAAwDb,CAAC,GAACc,IAAI,CAACC,GAAL,CAASnB,CAAC,CAACoB,KAAX,EAAiBpB,CAAC,CAACqB,MAAnB,CAA1D;AAAqF,MAAIhB,CAAC,GAACF,CAAC,IAAE,QAAMA,CAAC,CAACmB,OAAX,GAAmBpB,CAAC,CAACC,CAAC,CAACmB,OAAH,CAApB,GAAgC,GAAtC;AAA0CZ,EAAAA,CAAC,KAAGL,CAAC,GAACa,IAAI,CAACK,GAAL,CAASnB,CAAT,EAAWC,CAAX,CAAL,CAAD;AAAqB,QAAMmB,CAAC,GAACN,IAAI,CAACK,GAAL,CAASlB,CAAT,EAAWF,CAAC,IAAE,QAAMA,CAAC,CAACsB,IAAX,GAAgBvB,CAAC,CAACC,CAAC,CAACsB,IAAH,CAAjB,GAA0BrB,CAArC,CAAR;;AAAgD,MAAGoB,CAAC,KAAGpB,CAAP,EAAS;AAAC,UAAMF,CAAC,GAAC,MAAIF,CAAC,CAACoB,KAAN,IAAa,MAAIpB,CAAC,CAACqB,MAAnB,GAA0BrB,CAAC,CAACoB,KAAF,GAAQpB,CAAC,CAACqB,MAApC,GAA2C,CAAnD;AAAqDnB,IAAAA,CAAC,IAAE,CAAH,IAAMF,CAAC,CAACoB,KAAF,GAAQI,CAAR,EAAUxB,CAAC,CAACqB,MAAF,GAASG,CAAC,GAACtB,CAA3B,KAA+BF,CAAC,CAACoB,KAAF,GAAQI,CAAC,GAACtB,CAAV,EAAYF,CAAC,CAACqB,MAAF,GAASG,CAApD;AAAuD;;AAAA,SAAOxB,CAAP;AAAS;;AAAA,SAAOG,CAAC,IAAIuB,qBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{pt2px as e}from\"../../core/screenUtils.js\";function i(e,i,h){const s=e.thumbnail&&e.thumbnail.url;return s?t(s,{responseType:\"image\"}).then((t=>{const e=n(t.data,h);return h&&h.node?(h.node.appendChild(e),h.node):e})):e.fetchSymbol().then((t=>i(t,h)))}function n(t,i){const n=!/\\\\.svg$/i.test(t.src)&&i&&i.disableUpsampling,h=Math.max(t.width,t.height);let s=i&&null!=i.maxSize?e(i.maxSize):120;n&&(s=Math.min(h,s));const o=Math.min(s,i&&null!=i.size?e(i.size):h);if(o!==h){const e=0!==t.width&&0!==t.height?t.width/t.height:1;e>=1?(t.width=o,t.height=o/e):(t.width=o*e,t.height=o)}return t}export{i as previewWebStyleSymbol};\n"]},"metadata":{},"sourceType":"module"}