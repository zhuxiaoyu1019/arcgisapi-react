{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t) {\n  const e = t.renderer,\n        n = e && e.type,\n        o = e && t.renderer.toJSON() || null;\n  let r = null,\n      i = !1;\n  \"point-cloud-unique-value\" === n || \"point-cloud-stretch\" === n || \"point-cloud-class-breaks\" === n ? r = u(t.attributeStorageInfo, e.field) : \"point-cloud-rgb\" === n ? (r = l(t.attributeStorageInfo, e.field), i = null != r) : (r = l(t.attributeStorageInfo, \"RGB\"), i = null != r);\n  let a = null;\n  return e && e.colorModulation && (a = u(t.attributeStorageInfo, e.colorModulation.field)), {\n    rendererJSON: o,\n    isRGBRenderer: i,\n    primaryAttribute: r,\n    modulationAttribute: a\n  };\n}\n\nfunction e(t) {\n  const e = t.filters;\n  return e ? e.map(e => ({\n    filterJSON: e.toJSON(),\n    attributeInfo: u(t.attributeStorageInfo, e.field)\n  })) : [];\n}\n\nfunction n(t) {\n  const e = t && t.pointSizeAlgorithm;\n  return e && \"splat\" === e.type ? e : null;\n}\n\nfunction o(t) {\n  const e = t && t.pointSizeAlgorithm;\n  return e && \"fixed-size\" === e.type ? e : null;\n}\n\nfunction r(t) {\n  const e = t && t.pointSizeAlgorithm;\n  return !(!e || !e.type) && \"fixed-size\" === e.type;\n}\n\nfunction l(t, e) {\n  for (const n of t) if (n.name === e && null != n.attributeValues && \"UInt8\" === n.attributeValues.valueType && 3 === n.attributeValues.valuesPerElement) return {\n    name: e,\n    storageInfo: n,\n    useElevation: !1\n  };\n\n  return null;\n}\n\nfunction u(t, e) {\n  for (const n of t) if (n.name === e) {\n    const t = \"embedded-elevation\" === n.encoding;\n    return {\n      name: e,\n      storageInfo: t ? null : n,\n      useElevation: t\n    };\n  }\n\n  return \"elevation\" === e.toLowerCase() ? {\n    name: e,\n    storageInfo: null,\n    useElevation: !0\n  } : null;\n}\n\nexport { u as getAttributeInfo, e as getFilterInfo, o as getFixedSizeAlgorithm, t as getRendererInfo, n as getSplatSizeAlgorithm, r as rendererUsesFixedSizes };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js"],"names":["t","e","renderer","n","type","o","toJSON","r","i","u","attributeStorageInfo","field","l","a","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","getAttributeInfo","getFilterInfo","getFixedSizeAlgorithm","getRendererInfo","getSplatSizeAlgorithm","rendererUsesFixedSizes"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e&&e.type,o=e&&t.renderer.toJSON()||null;let r=null,i=!1;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?r=u(t.attributeStorageInfo,e.field):\"point-cloud-rgb\"===n?(r=l(t.attributeStorageInfo,e.field),i=null!=r):(r=l(t.attributeStorageInfo,\"RGB\"),i=null!=r);let a=null;return e&&e.colorModulation&&(a=u(t.attributeStorageInfo,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:r,modulationAttribute:a}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t&&t.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t&&t.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function r(t){const e=t&&t.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function l(t,e){for(const n of t)if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t)if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,r as rendererUsesFixedSizes};\n"]},"metadata":{},"sourceType":"module"}