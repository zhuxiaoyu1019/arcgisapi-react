{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isNone as t } from \"../../../../../core/maybe.js\";\nimport { f as r } from \"../../../../../chunks/vec4f32.js\";\nimport { createProgramDescriptor as s } from \"../Utils.js\";\nimport e from \"./WGLBrush.js\";\nimport { background as o } from \"../shaders/BackgroundPrograms.js\";\nimport { createProgram as i } from \"../../../../webgl/programUtils.js\";\n\nconst a = () => s(\"clip\", {\n  geometry: [{\n    location: 0,\n    name: \"a_pos\",\n    count: 2,\n    type: 5122\n  }]\n});\n\nclass n extends e {\n  constructor() {\n    super(...arguments), this._color = r(0, 1, 0, 1);\n  }\n\n  dispose() {\n    this._program && this._program.dispose();\n  }\n\n  prepareState({\n    context: t\n  }) {\n    t.setStencilTestEnabled(!0), t.setBlendingEnabled(!1), t.setFaceCullingEnabled(!1), t.setColorMask(!1, !1, !1, !1), t.setStencilOp(7680, 7680, 7681), t.setStencilWriteMask(255), t.setStencilFunction(519, 0, 255);\n  }\n\n  draw(r, s) {\n    const {\n      context: e,\n      state: n\n    } = r,\n          m = a(),\n          p = s.getVAO(e, n, m.attributes, m.bufferLayouts);\n    t(p.indexBuffer) || (this._program || (this._program = i(e, o)), e.useProgram(this._program), this._program.setUniform2fv(\"u_coord_range\", [1, 1]), this._program.setUniform4fv(\"u_color\", this._color), this._program.setUniformMatrix3fv(\"u_dvsMat3\", n.displayMat3), e.bindVAO(p), e.drawElements(4, p.indexBuffer.size, 5125, 0), e.bindVAO());\n  }\n\n}\n\nexport default n;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/BrushClip.js"],"names":["isNone","t","f","r","createProgramDescriptor","s","e","background","o","createProgram","i","a","geometry","location","name","count","type","n","constructor","arguments","_color","dispose","_program","prepareState","context","setStencilTestEnabled","setBlendingEnabled","setFaceCullingEnabled","setColorMask","setStencilOp","setStencilWriteMask","setStencilFunction","draw","state","m","p","getVAO","attributes","bufferLayouts","indexBuffer","useProgram","setUniform2fv","setUniform4fv","setUniformMatrix3fv","displayMat3","bindVAO","drawElements","size"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{f as r}from\"../../../../../chunks/vec4f32.js\";import{createProgramDescriptor as s}from\"../Utils.js\";import e from\"./WGLBrush.js\";import{background as o}from\"../shaders/BackgroundPrograms.js\";import{createProgram as i}from\"../../../../webgl/programUtils.js\";const a=()=>s(\"clip\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5122}]});class n extends e{constructor(){super(...arguments),this._color=r(0,1,0,1)}dispose(){this._program&&this._program.dispose()}prepareState({context:t}){t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setFaceCullingEnabled(!1),t.setColorMask(!1,!1,!1,!1),t.setStencilOp(7680,7680,7681),t.setStencilWriteMask(255),t.setStencilFunction(519,0,255)}draw(r,s){const{context:e,state:n}=r,m=a(),p=s.getVAO(e,n,m.attributes,m.bufferLayouts);t(p.indexBuffer)||(this._program||(this._program=i(e,o)),e.useProgram(this._program),this._program.setUniform2fv(\"u_coord_range\",[1,1]),this._program.setUniform4fv(\"u_color\",this._color),this._program.setUniformMatrix3fv(\"u_dvsMat3\",n.displayMat3),e.bindVAO(p),e.drawElements(4,p.indexBuffer.size,5125,0),e.bindVAO())}}export default n;\n"]},"metadata":{},"sourceType":"module"}