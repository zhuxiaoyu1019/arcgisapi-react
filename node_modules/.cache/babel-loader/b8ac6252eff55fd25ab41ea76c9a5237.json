{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { c as e } from \"../../../chunks/mat3f64.js\";\nimport { t as r, n } from \"../../../chunks/vec3.js\";\nimport { c as o } from \"../../../chunks/vec3f64.js\";\nimport s from \"../MeshComponent.js\";\nimport a from \"../MeshVertexAttributes.js\";\nimport { georeferenceByTransform as i } from \"./georeference.js\";\n\nfunction l() {\n  const {\n    faceDescriptions: t,\n    faceVertexOffsets: e,\n    uvScales: r\n  } = x,\n        n = 4 * t.length,\n        o = new Float64Array(3 * n),\n        s = new Float32Array(3 * n),\n        a = new Float32Array(2 * n),\n        i = new Uint32Array(2 * t.length * 3);\n  let l = 0,\n      c = 0,\n      f = 0,\n      u = 0;\n\n  for (let h = 0; h < t.length; h++) {\n    const n = t[h],\n          m = l / 3;\n\n    for (const t of e) i[u++] = m + t;\n\n    const p = n.corners;\n\n    for (let t = 0; t < 4; t++) {\n      const e = p[t];\n      let i = 0;\n      a[f++] = .25 * r[t][0] + n.uvOrigin[0], a[f++] = n.uvOrigin[1] - .25 * r[t][1];\n\n      for (let t = 0; t < 3; t++) 0 !== n.axis[t] ? (o[l++] = .5 * n.axis[t], s[c++] = n.axis[t]) : (o[l++] = .5 * e[i++], s[c++] = 0);\n    }\n  }\n\n  return {\n    position: o,\n    normal: s,\n    uv: a,\n    faces: i\n  };\n}\n\nfunction c(e, r) {\n  const n = e.components[0],\n        o = n.faces,\n        a = M[r],\n        i = 6 * a,\n        l = new Uint32Array(6),\n        c = new Uint32Array(o.length - 6);\n  let f = 0,\n      u = 0;\n\n  for (let t = 0; t < o.length; t++) t >= i && t < i + 6 ? l[f++] = o[t] : c[u++] = o[t];\n\n  if (t(e.vertexAttributes.uv)) {\n    const t = new Float32Array(e.vertexAttributes.uv),\n          r = 4 * a * 2,\n          n = [0, 1, 1, 1, 1, 0, 0, 0];\n\n    for (let e = 0; e < n.length; e++) t[r + e] = n[e];\n\n    e.vertexAttributes.uv = t;\n  }\n\n  return e.components = [new s({\n    faces: l,\n    material: n.material\n  }), new s({\n    faces: c\n  })], e;\n}\n\nfunction f(t = 0) {\n  const e = Math.round(8 * 2 ** t),\n        r = 2 * e,\n        n = (e - 1) * (r + 1) + 2 * r,\n        o = new Float64Array(3 * n),\n        s = new Float32Array(3 * n),\n        a = new Float32Array(2 * n),\n        i = new Uint32Array(3 * ((e - 1) * r * 2));\n  let l = 0,\n      c = 0,\n      f = 0,\n      u = 0;\n\n  for (let h = 0; h <= e; h++) {\n    const t = h / e * Math.PI + .5 * Math.PI,\n          n = Math.cos(t),\n          m = Math.sin(t);\n    F[2] = m;\n    const p = 0 === h || h === e,\n          w = p ? r - 1 : r;\n\n    for (let v = 0; v <= w; v++) {\n      const t = v / w * 2 * Math.PI;\n      F[0] = -Math.sin(t) * n, F[1] = Math.cos(t) * n;\n\n      for (let e = 0; e < 3; e++) o[l] = .5 * F[e], s[l] = F[e], ++l;\n\n      a[c++] = (v + (p ? .5 : 0)) / r, a[c++] = h / e, 0 !== h && v !== r && (h !== e && (i[f++] = u, i[f++] = u + 1, i[f++] = u - r), 1 !== h && (i[f++] = u, i[f++] = u - r, i[f++] = u - r - 1)), u++;\n    }\n  }\n\n  return {\n    position: o,\n    normal: s,\n    uv: a,\n    faces: i\n  };\n}\n\nfunction u(t = 0) {\n  const e = 5,\n        r = Math.round(16 * 2 ** t),\n        n = (e - 1) * (r + 1) + 2 * r,\n        o = new Float64Array(3 * n),\n        s = new Float32Array(3 * n),\n        a = new Float32Array(2 * n),\n        i = new Uint32Array(3 * (4 * r));\n  let l = 0,\n      c = 0,\n      f = 0,\n      u = 0,\n      h = 0;\n\n  for (let m = 0; m <= e; m++) {\n    const t = 0 === m || m === e,\n          n = m <= 1 || m >= e - 1,\n          p = 2 === m || 4 === m,\n          w = t ? r - 1 : r;\n\n    for (let v = 0; v <= w; v++) {\n      const A = v / w * 2 * Math.PI,\n            g = t ? 0 : .5;\n      F[0] = g * Math.sin(A), F[1] = g * -Math.cos(A), F[2] = m <= 2 ? .5 : -.5;\n\n      for (let t = 0; t < 3; t++) o[l++] = F[t], s[c++] = n ? 2 === t ? m <= 1 ? 1 : -1 : 0 : 2 === t ? 0 : F[t] / g;\n\n      a[f++] = (v + (t ? .5 : 0)) / r, a[f++] = m <= 1 ? 1 * m / 3 : m <= 3 ? 1 * (m - 2) / 3 + 1 / 3 : 1 * (m - 4) / 3 + 2 / 3, p || 0 === m || v === r || (m !== e && (i[u++] = h, i[u++] = h + 1, i[u++] = h - r), 1 !== m && (i[u++] = h, i[u++] = h - r, i[u++] = h - r - 1)), h++;\n    }\n  }\n\n  return {\n    position: o,\n    normal: s,\n    uv: a,\n    faces: i\n  };\n}\n\nfunction h(t) {\n  const e = v.facingAxisOrderSwap[t],\n        r = v.position,\n        n = v.normal,\n        o = new Float64Array(r.length),\n        s = new Float32Array(n.length);\n  let a = 0;\n\n  for (let i = 0; i < 4; i++) {\n    const t = a;\n\n    for (let i = 0; i < 3; i++) {\n      const l = e[i],\n            c = Math.abs(l) - 1,\n            f = l >= 0 ? 1 : -1;\n      o[a] = r[t + c] * f, s[a] = n[t + c] * f, a++;\n    }\n  }\n\n  return {\n    position: o,\n    normal: s,\n    uv: new Float32Array(v.uv),\n    faces: new Uint32Array(v.faces)\n  };\n}\n\nconst m = 1,\n      p = 2,\n      w = 3,\n      v = {\n  position: [-.5, -.5, 0, .5, -.5, 0, .5, .5, 0, -.5, .5, 0],\n  normal: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\n  uv: [0, 1, 1, 1, 1, 0, 0, 0],\n  faces: [0, 1, 2, 0, 2, 3],\n  facingAxisOrderSwap: {\n    east: [w, m, p],\n    west: [-w, -m, p],\n    north: [-m, w, p],\n    south: [m, -w, p],\n    up: [m, p, w],\n    down: [m, -p, -w]\n  }\n};\n\nfunction A(t, e, r) {\n  g(t), y(t, r && r.size);\n  const {\n    vertexAttributes: n,\n    transform: o\n  } = i(t, e, r);\n  return {\n    vertexAttributes: new a({ ...n,\n      uv: t.uv\n    }),\n    transform: o,\n    components: [new s({\n      faces: t.faces,\n      material: r && r.material || null\n    })],\n    spatialReference: e.spatialReference\n  };\n}\n\nfunction g(t) {\n  for (let e = 0; e < t.position.length; e += 3) t.position[e + 2] += .5;\n}\n\nfunction y(t, e) {\n  if (null == e) return;\n  const o = \"number\" == typeof e ? [e, e, e] : [null != e.width ? e.width : 1, null != e.depth ? e.depth : 1, null != e.height ? e.height : 1];\n  O[0] = o[0], O[4] = o[1], O[8] = o[2];\n\n  for (let n = 0; n < t.position.length; n += 3) {\n    for (let e = 0; e < 3; e++) F[e] = t.position[n + e];\n\n    r(F, F, O);\n\n    for (let e = 0; e < 3; e++) t.position[n + e] = F[e];\n  }\n\n  if (o[0] !== o[1] || o[1] !== o[2]) {\n    O[0] = 1 / o[0], O[4] = 1 / o[1], O[8] = 1 / o[2];\n\n    for (let e = 0; e < t.normal.length; e += 3) {\n      for (let r = 0; r < 3; r++) F[r] = t.normal[e + r];\n\n      r(F, F, O), n(F, F);\n\n      for (let r = 0; r < 3; r++) t.normal[e + r] = F[r];\n    }\n  }\n}\n\nconst x = {\n  faceDescriptions: [{\n    axis: [0, -1, 0],\n    uvOrigin: [0, .625],\n    corners: [[-1, -1], [1, -1], [1, 1], [-1, 1]]\n  }, {\n    axis: [1, 0, 0],\n    uvOrigin: [.25, .625],\n    corners: [[-1, -1], [1, -1], [1, 1], [-1, 1]]\n  }, {\n    axis: [0, 1, 0],\n    uvOrigin: [.5, .625],\n    corners: [[1, -1], [-1, -1], [-1, 1], [1, 1]]\n  }, {\n    axis: [-1, 0, 0],\n    uvOrigin: [.75, .625],\n    corners: [[1, -1], [-1, -1], [-1, 1], [1, 1]]\n  }, {\n    axis: [0, 0, 1],\n    uvOrigin: [0, .375],\n    corners: [[-1, -1], [1, -1], [1, 1], [-1, 1]]\n  }, {\n    axis: [0, 0, -1],\n    uvOrigin: [0, .875],\n    corners: [[-1, 1], [1, 1], [1, -1], [-1, -1]]\n  }],\n  uvScales: [[0, 0], [1, 0], [1, 1], [0, 1]],\n  faceVertexOffsets: [0, 1, 2, 0, 2, 3]\n},\n      M = {\n  south: 0,\n  east: 1,\n  north: 2,\n  west: 3,\n  up: 4,\n  down: 5\n},\n      F = o(),\n      O = e();\nexport { M as boxFaceOrder, A as convertUnitGeometry, l as createUnitSizeBox, u as createUnitSizeCylinder, h as createUnitSizePlane, f as createUnitSizeSphere, c as extractSingleFaceOfBox };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/geometry/support/meshUtils/primitives.js"],"names":["isSome","t","c","e","r","n","o","s","a","georeferenceByTransform","i","l","faceDescriptions","faceVertexOffsets","uvScales","x","length","Float64Array","Float32Array","Uint32Array","f","u","h","m","p","corners","uvOrigin","axis","position","normal","uv","faces","components","M","vertexAttributes","material","Math","round","PI","cos","sin","F","w","v","A","g","facingAxisOrderSwap","abs","east","west","north","south","up","down","y","size","transform","spatialReference","width","depth","height","O","boxFaceOrder","convertUnitGeometry","createUnitSizeBox","createUnitSizeCylinder","createUnitSizePlane","createUnitSizeSphere","extractSingleFaceOfBox"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{c as e}from\"../../../chunks/mat3f64.js\";import{t as r,n}from\"../../../chunks/vec3.js\";import{c as o}from\"../../../chunks/vec3f64.js\";import s from\"../MeshComponent.js\";import a from\"../MeshVertexAttributes.js\";import{georeferenceByTransform as i}from\"./georeference.js\";function l(){const{faceDescriptions:t,faceVertexOffsets:e,uvScales:r}=x,n=4*t.length,o=new Float64Array(3*n),s=new Float32Array(3*n),a=new Float32Array(2*n),i=new Uint32Array(2*t.length*3);let l=0,c=0,f=0,u=0;for(let h=0;h<t.length;h++){const n=t[h],m=l/3;for(const t of e)i[u++]=m+t;const p=n.corners;for(let t=0;t<4;t++){const e=p[t];let i=0;a[f++]=.25*r[t][0]+n.uvOrigin[0],a[f++]=n.uvOrigin[1]-.25*r[t][1];for(let t=0;t<3;t++)0!==n.axis[t]?(o[l++]=.5*n.axis[t],s[c++]=n.axis[t]):(o[l++]=.5*e[i++],s[c++]=0)}}return{position:o,normal:s,uv:a,faces:i}}function c(e,r){const n=e.components[0],o=n.faces,a=M[r],i=6*a,l=new Uint32Array(6),c=new Uint32Array(o.length-6);let f=0,u=0;for(let t=0;t<o.length;t++)t>=i&&t<i+6?l[f++]=o[t]:c[u++]=o[t];if(t(e.vertexAttributes.uv)){const t=new Float32Array(e.vertexAttributes.uv),r=4*a*2,n=[0,1,1,1,1,0,0,0];for(let e=0;e<n.length;e++)t[r+e]=n[e];e.vertexAttributes.uv=t}return e.components=[new s({faces:l,material:n.material}),new s({faces:c})],e}function f(t=0){const e=Math.round(8*2**t),r=2*e,n=(e-1)*(r+1)+2*r,o=new Float64Array(3*n),s=new Float32Array(3*n),a=new Float32Array(2*n),i=new Uint32Array(3*((e-1)*r*2));let l=0,c=0,f=0,u=0;for(let h=0;h<=e;h++){const t=h/e*Math.PI+.5*Math.PI,n=Math.cos(t),m=Math.sin(t);F[2]=m;const p=0===h||h===e,w=p?r-1:r;for(let v=0;v<=w;v++){const t=v/w*2*Math.PI;F[0]=-Math.sin(t)*n,F[1]=Math.cos(t)*n;for(let e=0;e<3;e++)o[l]=.5*F[e],s[l]=F[e],++l;a[c++]=(v+(p?.5:0))/r,a[c++]=h/e,0!==h&&v!==r&&(h!==e&&(i[f++]=u,i[f++]=u+1,i[f++]=u-r),1!==h&&(i[f++]=u,i[f++]=u-r,i[f++]=u-r-1)),u++}}return{position:o,normal:s,uv:a,faces:i}}function u(t=0){const e=5,r=Math.round(16*2**t),n=(e-1)*(r+1)+2*r,o=new Float64Array(3*n),s=new Float32Array(3*n),a=new Float32Array(2*n),i=new Uint32Array(3*(4*r));let l=0,c=0,f=0,u=0,h=0;for(let m=0;m<=e;m++){const t=0===m||m===e,n=m<=1||m>=e-1,p=2===m||4===m,w=t?r-1:r;for(let v=0;v<=w;v++){const A=v/w*2*Math.PI,g=t?0:.5;F[0]=g*Math.sin(A),F[1]=g*-Math.cos(A),F[2]=m<=2?.5:-.5;for(let t=0;t<3;t++)o[l++]=F[t],s[c++]=n?2===t?m<=1?1:-1:0:2===t?0:F[t]/g;a[f++]=(v+(t?.5:0))/r,a[f++]=m<=1?1*m/3:m<=3?1*(m-2)/3+1/3:1*(m-4)/3+2/3,p||0===m||v===r||(m!==e&&(i[u++]=h,i[u++]=h+1,i[u++]=h-r),1!==m&&(i[u++]=h,i[u++]=h-r,i[u++]=h-r-1)),h++}}return{position:o,normal:s,uv:a,faces:i}}function h(t){const e=v.facingAxisOrderSwap[t],r=v.position,n=v.normal,o=new Float64Array(r.length),s=new Float32Array(n.length);let a=0;for(let i=0;i<4;i++){const t=a;for(let i=0;i<3;i++){const l=e[i],c=Math.abs(l)-1,f=l>=0?1:-1;o[a]=r[t+c]*f,s[a]=n[t+c]*f,a++}}return{position:o,normal:s,uv:new Float32Array(v.uv),faces:new Uint32Array(v.faces)}}const m=1,p=2,w=3,v={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[w,m,p],west:[-w,-m,p],north:[-m,w,p],south:[m,-w,p],up:[m,p,w],down:[m,-p,-w]}};function A(t,e,r){g(t),y(t,r&&r.size);const{vertexAttributes:n,transform:o}=i(t,e,r);return{vertexAttributes:new a({...n,uv:t.uv}),transform:o,components:[new s({faces:t.faces,material:r&&r.material||null})],spatialReference:e.spatialReference}}function g(t){for(let e=0;e<t.position.length;e+=3)t.position[e+2]+=.5}function y(t,e){if(null==e)return;const o=\"number\"==typeof e?[e,e,e]:[null!=e.width?e.width:1,null!=e.depth?e.depth:1,null!=e.height?e.height:1];O[0]=o[0],O[4]=o[1],O[8]=o[2];for(let n=0;n<t.position.length;n+=3){for(let e=0;e<3;e++)F[e]=t.position[n+e];r(F,F,O);for(let e=0;e<3;e++)t.position[n+e]=F[e]}if(o[0]!==o[1]||o[1]!==o[2]){O[0]=1/o[0],O[4]=1/o[1],O[8]=1/o[2];for(let e=0;e<t.normal.length;e+=3){for(let r=0;r<3;r++)F[r]=t.normal[e+r];r(F,F,O),n(F,F);for(let r=0;r<3;r++)t.normal[e+r]=F[r]}}}const x={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},M={south:0,east:1,north:2,west:3,up:4,down:5},F=o(),O=e();export{M as boxFaceOrder,A as convertUnitGeometry,l as createUnitSizeBox,u as createUnitSizeCylinder,h as createUnitSizePlane,f as createUnitSizeSphere,c as extractSingleFaceOfBox};\n"]},"metadata":{},"sourceType":"module"}