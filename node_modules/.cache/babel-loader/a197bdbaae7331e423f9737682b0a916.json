{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t, e) {\n  return e ? \"xoffset\" in e && e.xoffset ? Math.max(t, Math.abs(e.xoffset)) : \"yoffset\" in e && e.yoffset ? Math.max(t, Math.abs(e.yoffset || 0)) : t : t;\n}\n\nfunction e(t) {\n  let e = 0,\n      n = 0;\n\n  for (let r = 0; r < t.length; r++) {\n    const s = t[r].size;\n    \"number\" == typeof s && (e += s, n++);\n  }\n\n  return e / n;\n}\n\nfunction n(t, n) {\n  return \"number\" == typeof t ? t : t && t.stops && t.stops.length ? e(t.stops) : n;\n}\n\nfunction r(t, e) {\n  if (!e) return t;\n  const r = e.filter(t => \"size\" === t.type).map(e => {\n    const {\n      maxSize: r,\n      minSize: s\n    } = e;\n    return (n(r, t) + n(s, t)) / 2;\n  });\n  let s = 0;\n  const o = r.length;\n  if (0 === o) return t;\n\n  for (let n = 0; n < o; n++) s += r[n];\n\n  const f = Math.floor(s / o);\n  return Math.max(f, t);\n}\n\nfunction s(e) {\n  const n = e && e.renderer,\n        s = \"touch\" === (e && e.event && e.event.pointerType) ? 9 : 6;\n  if (!n) return s;\n  const o = \"visualVariables\" in n ? r(s, n.visualVariables) : s;\n  if (\"simple\" === n.type) return t(o, n.symbol);\n\n  if (\"unique-value\" === n.type) {\n    let e = o;\n    return n.uniqueValueInfos.forEach(n => {\n      e = t(e, n.symbol);\n    }), e;\n  }\n\n  if (\"class-breaks\" === n.type) {\n    let e = o;\n    return n.classBreakInfos.forEach(n => {\n      e = t(e, n.symbol);\n    }), e;\n  }\n\n  return n.type, o;\n}\n\nexport { s as calculateTolerance };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","n","r","length","s","size","stops","filter","type","map","maxSize","minSize","o","f","floor","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","calculateTolerance"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n"]},"metadata":{},"sourceType":"module"}