{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport { isSome as r } from \"../../../core/maybe.js\";\nimport { R as i } from \"../../../chunks/RasterColorizer.glsl.js\";\nimport { ReloadableShaderModule as e } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as n, parameter as s } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as a } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as c } from \"../webgl-engine/lib/Program.js\";\nimport { getUniformLocationInfos as l, setUniforms as m } from \"../../webgl/rasterUtils.js\";\nimport { simpleBlendingParams as h, makePipelineState as p, defaultColorWriteParams as u } from \"../../webgl/renderState.js\";\n\nclass f extends t {\n  get uniformLocationInfos() {\n    return this._uniformLocationInfos || (this._uniformLocationInfos = l(this._context, this.program)), this._uniformLocationInfos;\n  }\n\n  initializeProgram(o) {\n    const r = f.shader.get(),\n          i = this.configuration,\n          e = r.build({\n      output: i.colorizerType,\n      applyColormap: i.applyColormap\n    });\n    return this._context = o.rctx, new c(o.rctx, e, a);\n  }\n\n  initializePipeline() {\n    const o = 2 === this.configuration.mode ? h(1, 771) : 1 === this.configuration.mode ? h(0, 770) : null;\n    return p({\n      blending: o,\n      colorWrite: u\n    });\n  }\n\n  bindPass(o) {\n    m(this.program, this.uniformLocationInfos, o.basic), m(this.program, this.uniformLocationInfos, o.common), r(o.colormap) && m(this.program, this.uniformLocationInfos, o.colormap), 0 === this.configuration.colorizerType && r(o.stretch) ? m(this.program, this.uniformLocationInfos, o.stretch) : 2 === this.configuration.colorizerType && r(o.hillshade) && m(this.program, this.uniformLocationInfos, o.hillshade);\n  }\n\n}\n\nf.shader = new e(i, () => import(\"../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl.js\"));\n\nclass g extends n {\n  constructor() {\n    super(...arguments), this.mode = 2, this.colorizerType = 0, this.applyColormap = !0;\n  }\n\n}\n\no([s({\n  count: 3\n})], g.prototype, \"mode\", void 0), o([s({\n  count: 3\n})], g.prototype, \"colorizerType\", void 0), o([s()], g.prototype, \"applyColormap\", void 0);\nexport { f as RasterColorizerTechnique, g as RasterColorizerTechniqueConfiguration };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/terrain/RasterColorizerTechnique.js"],"names":["_","o","isSome","r","R","i","ReloadableShaderModule","e","ShaderTechnique","t","ShaderTechniqueConfiguration","n","parameter","s","Default3D","a","Program","c","getUniformLocationInfos","l","setUniforms","m","simpleBlendingParams","h","makePipelineState","p","defaultColorWriteParams","u","f","uniformLocationInfos","_uniformLocationInfos","_context","program","initializeProgram","shader","get","configuration","build","output","colorizerType","applyColormap","rctx","initializePipeline","mode","blending","colorWrite","bindPass","basic","common","colormap","stretch","hillshade","g","constructor","arguments","count","prototype","RasterColorizerTechnique","RasterColorizerTechniqueConfiguration"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../core/maybe.js\";import{R as i}from\"../../../chunks/RasterColorizer.glsl.js\";import{ReloadableShaderModule as e}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as n,parameter as s}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as c}from\"../webgl-engine/lib/Program.js\";import{getUniformLocationInfos as l,setUniforms as m}from\"../../webgl/rasterUtils.js\";import{simpleBlendingParams as h,makePipelineState as p,defaultColorWriteParams as u}from\"../../webgl/renderState.js\";class f extends t{get uniformLocationInfos(){return this._uniformLocationInfos||(this._uniformLocationInfos=l(this._context,this.program)),this._uniformLocationInfos}initializeProgram(o){const r=f.shader.get(),i=this.configuration,e=r.build({output:i.colorizerType,applyColormap:i.applyColormap});return this._context=o.rctx,new c(o.rctx,e,a)}initializePipeline(){const o=2===this.configuration.mode?h(1,771):1===this.configuration.mode?h(0,770):null;return p({blending:o,colorWrite:u})}bindPass(o){m(this.program,this.uniformLocationInfos,o.basic),m(this.program,this.uniformLocationInfos,o.common),r(o.colormap)&&m(this.program,this.uniformLocationInfos,o.colormap),0===this.configuration.colorizerType&&r(o.stretch)?m(this.program,this.uniformLocationInfos,o.stretch):2===this.configuration.colorizerType&&r(o.hillshade)&&m(this.program,this.uniformLocationInfos,o.hillshade)}}f.shader=new e(i,(()=>import(\"../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl.js\")));class g extends n{constructor(){super(...arguments),this.mode=2,this.colorizerType=0,this.applyColormap=!0}}o([s({count:3})],g.prototype,\"mode\",void 0),o([s({count:3})],g.prototype,\"colorizerType\",void 0),o([s()],g.prototype,\"applyColormap\",void 0);export{f as RasterColorizerTechnique,g as RasterColorizerTechniqueConfiguration};\n"]},"metadata":{},"sourceType":"module"}