{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Color.js\";\nimport { clone as o } from \"../core/lang.js\";\nimport { aliasOf as r } from \"../core/accessorSupport/decorators/aliasOf.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { enumeration as i } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { collectArcadeFieldNames as l } from \"../layers/support/fieldUtils.js\";\nimport p from \"./Renderer.js\";\nimport { VisualVariablesMixin as a } from \"./mixins/VisualVariablesMixin.js\";\nimport u from \"./support/AttributeColorInfo.js\";\nimport d from \"./support/DotDensityLegendOptions.js\";\nimport c from \"../symbols/SimpleFillSymbol.js\";\nimport h from \"../symbols/SimpleLineSymbol.js\";\nvar m;\nlet y = m = class extends a(p) {\n  constructor(e) {\n    super(e), this.attributes = null, this.backgroundColor = new t([0, 0, 0, 0]), this.blendDots = !0, this.dotBlendingEnabled = !0, this.dotShape = \"square\", this.dotSize = 1, this.legendOptions = null, this.outline = new h(), this.dotValue = null, this.referenceDotValue = null, this.referenceScale = null, this.seed = 1, this.type = \"dot-density\";\n  }\n\n  calculateDotValue(e) {\n    if (null == this.referenceScale) return this.dotValue;\n    const t = e / this.referenceScale * this.dotValue;\n    return t < 1 ? 1 : t;\n  }\n\n  getSymbol() {\n    return new c({\n      outline: this.outline\n    });\n  }\n\n  async getSymbolAsync() {\n    return this.getSymbol();\n  }\n\n  getSymbols() {\n    return [this.getSymbol()];\n  }\n\n  getAttributeHash() {\n    return this.attributes && this.attributes.reduce((e, t) => e + t.getAttributeHash(), \"\");\n  }\n\n  getMeshHash() {\n    return JSON.stringify(this.outline);\n  }\n\n  clone() {\n    return new m({\n      attributes: o(this.attributes),\n      backgroundColor: o(this.backgroundColor),\n      dotBlendingEnabled: o(this.dotBlendingEnabled),\n      dotShape: o(this.dotShape),\n      dotSize: o(this.dotSize),\n      dotValue: o(this.dotValue),\n      legendOptions: o(this.legendOptions),\n      outline: o(this.outline),\n      referenceScale: o(this.referenceScale),\n      visualVariables: o(this.visualVariables),\n      authoringInfo: this.authoringInfo && this.authoringInfo.clone()\n    });\n  }\n\n  getControllerHash() {\n    return `${this.attributes.map(e => e.field || e.valueExpression || \"\")}-${this.outline && JSON.stringify(this.outline.toJSON()) || \"\"}`;\n  }\n\n  async collectRequiredFields(e, t) {\n    await this.collectVVRequiredFields(e, t);\n\n    for (const o of this.attributes) o.valueExpression && (await l(e, t, o.valueExpression)), o.field && e.add(o.field);\n  }\n\n};\ne([s({\n  type: [u],\n  json: {\n    write: !0\n  }\n})], y.prototype, \"attributes\", void 0), e([s({\n  type: t,\n  json: {\n    write: !0\n  }\n})], y.prototype, \"backgroundColor\", void 0), e([s({\n  type: Boolean\n}), r(\"dotBlendingEnabled\")], y.prototype, \"blendDots\", void 0), e([s({\n  type: Boolean,\n  json: {\n    write: !0\n  }\n})], y.prototype, \"dotBlendingEnabled\", void 0), e([s({\n  type: String,\n  json: {\n    write: !1\n  }\n})], y.prototype, \"dotShape\", void 0), e([s({\n  type: Number,\n  json: {\n    write: !1\n  }\n})], y.prototype, \"dotSize\", void 0), e([s({\n  type: d,\n  json: {\n    write: !0\n  }\n})], y.prototype, \"legendOptions\", void 0), e([s({\n  type: h,\n  json: {\n    default: null,\n    write: !0\n  }\n})], y.prototype, \"outline\", void 0), e([s({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], y.prototype, \"dotValue\", void 0), e([s({\n  type: Number\n}), r(\"dotValue\")], y.prototype, \"referenceDotValue\", void 0), e([s({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], y.prototype, \"referenceScale\", void 0), e([s({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], y.prototype, \"seed\", void 0), e([i({\n  dotDensity: \"dot-density\"\n})], y.prototype, \"type\", void 0), y = m = e([n(\"esri.renderers.DotDensityRenderer\")], y);\nvar b = y;\nexport default b;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/renderers/DotDensityRenderer.js"],"names":["_","e","t","clone","o","aliasOf","r","enumeration","i","property","s","subclass","n","collectArcadeFieldNames","l","p","VisualVariablesMixin","a","u","d","c","h","m","y","constructor","attributes","backgroundColor","blendDots","dotBlendingEnabled","dotShape","dotSize","legendOptions","outline","dotValue","referenceDotValue","referenceScale","seed","type","calculateDotValue","getSymbol","getSymbolAsync","getSymbols","getAttributeHash","reduce","getMeshHash","JSON","stringify","visualVariables","authoringInfo","getControllerHash","map","field","valueExpression","toJSON","collectRequiredFields","collectVVRequiredFields","add","json","write","prototype","Boolean","String","Number","default","dotDensity","b"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Color.js\";import{clone as o}from\"../core/lang.js\";import{aliasOf as r}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as i}from\"../core/accessorSupport/decorators/enumeration.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{collectArcadeFieldNames as l}from\"../layers/support/fieldUtils.js\";import p from\"./Renderer.js\";import{VisualVariablesMixin as a}from\"./mixins/VisualVariablesMixin.js\";import u from\"./support/AttributeColorInfo.js\";import d from\"./support/DotDensityLegendOptions.js\";import c from\"../symbols/SimpleFillSymbol.js\";import h from\"../symbols/SimpleLineSymbol.js\";var m;let y=m=class extends(a(p)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new t([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape=\"square\",this.dotSize=1,this.legendOptions=null,this.outline=new h,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type=\"dot-density\"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new c({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),\"\")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new m({attributes:o(this.attributes),backgroundColor:o(this.backgroundColor),dotBlendingEnabled:o(this.dotBlendingEnabled),dotShape:o(this.dotShape),dotSize:o(this.dotSize),dotValue:o(this.dotValue),legendOptions:o(this.legendOptions),outline:o(this.outline),referenceScale:o(this.referenceScale),visualVariables:o(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||\"\"))}-${this.outline&&JSON.stringify(this.outline.toJSON())||\"\"}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const o of this.attributes)o.valueExpression&&await l(e,t,o.valueExpression),o.field&&e.add(o.field)}};e([s({type:[u],json:{write:!0}})],y.prototype,\"attributes\",void 0),e([s({type:t,json:{write:!0}})],y.prototype,\"backgroundColor\",void 0),e([s({type:Boolean}),r(\"dotBlendingEnabled\")],y.prototype,\"blendDots\",void 0),e([s({type:Boolean,json:{write:!0}})],y.prototype,\"dotBlendingEnabled\",void 0),e([s({type:String,json:{write:!1}})],y.prototype,\"dotShape\",void 0),e([s({type:Number,json:{write:!1}})],y.prototype,\"dotSize\",void 0),e([s({type:d,json:{write:!0}})],y.prototype,\"legendOptions\",void 0),e([s({type:h,json:{default:null,write:!0}})],y.prototype,\"outline\",void 0),e([s({type:Number,json:{write:!0}})],y.prototype,\"dotValue\",void 0),e([s({type:Number}),r(\"dotValue\")],y.prototype,\"referenceDotValue\",void 0),e([s({type:Number,json:{write:!0}})],y.prototype,\"referenceScale\",void 0),e([s({type:Number,json:{write:!0}})],y.prototype,\"seed\",void 0),e([i({dotDensity:\"dot-density\"})],y.prototype,\"type\",void 0),y=m=e([n(\"esri.renderers.DotDensityRenderer\")],y);var b=y;export default b;\n"]},"metadata":{},"sourceType":"module"}