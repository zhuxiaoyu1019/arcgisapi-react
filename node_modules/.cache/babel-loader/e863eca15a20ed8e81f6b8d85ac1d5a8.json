{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { s as t, b as n, a as r, j as e } from \"../../../../chunks/vec3.js\";\nimport { c as o } from \"../../../../chunks/vec3f64.js\";\nimport { areaPoints3d as i } from \"../../../../geometry/support/triangle.js\";\n\nlet s = (() => {\n  const t = new Uint32Array(131072);\n\n  for (let n = 0; n < t.length; ++n) t[n] = n;\n\n  return t;\n})();\n\nconst f = new Uint16Array([0]),\n      c = (() => {\n  const t = new Uint16Array(65536);\n\n  for (let n = 0; n < t.length; ++n) t[n] = n;\n\n  return t;\n})();\n\nfunction l(t) {\n  if (1 === t) return f;\n  if (t < c.length) return new Uint16Array(c.buffer, 0, t);\n\n  if (t > s.length) {\n    const n = Math.max(2 * s.length, t);\n    s = new Uint32Array(n);\n\n    for (let t = 0; t < s.length; t++) s[t] = t;\n  }\n\n  return new Uint32Array(s.buffer, 0, t);\n}\n\nfunction a(t) {\n  if (1 === t) return new Uint16Array(f);\n  if (t < c.length) return new Uint16Array(c.slice(0, t));\n\n  if (t > s.length) {\n    const n = new Uint32Array(t);\n\n    for (let t = 0; t < n.length; t++) n[t] = t;\n\n    return n;\n  }\n\n  return new Uint32Array(s.slice(0, t));\n}\n\nfunction u(e, o, s) {\n  if (!e) return !1;\n  const {\n    size: f,\n    data: c\n  } = e;\n  t(s, 0, 0, 0), t(U, 0, 0, 0);\n  let l = 0,\n      a = 0;\n\n  for (let u = 0; u < o.length - 2; u += 3) {\n    const e = o[u + 0] * f,\n          h = o[u + 1] * f,\n          g = o[u + 2] * f;\n    t(y, c[e + 0], c[e + 1], c[e + 2]), t(w, c[h + 0], c[h + 1], c[h + 2]), t(A, c[g + 0], c[g + 1], c[g + 2]);\n    const m = i(y, w, A);\n    m ? (n(y, y, w), n(y, y, A), r(y, y, 1 / 3 * m), n(s, s, y), l += m) : (n(U, U, y), n(U, U, w), n(U, U, A), a += 3);\n  }\n\n  return (0 !== a || 0 !== l) && (0 !== l ? (r(s, s, 1 / l), !0) : 0 !== a && (r(s, U, 1 / a), !0));\n}\n\nfunction h(n, e, o) {\n  if (!n || !e) return !1;\n  const {\n    size: i,\n    data: s\n  } = n;\n  t(o, 0, 0, 0);\n  let f = -1,\n      c = 0;\n\n  for (let t = 0; t < e.length; t++) {\n    const n = e[t] * i;\n    f !== n && (o[0] += s[n + 0], o[1] += s[n + 1], o[2] += s[n + 2], c++), f = n;\n  }\n\n  return c > 1 && r(o, o, 1 / c), c > 0;\n}\n\nfunction g(o, i, s, f) {\n  if (!o) return !1;\n  const {\n    size: c,\n    data: l\n  } = o;\n  t(f, 0, 0, 0), t(U, 0, 0, 0);\n  let a = 0,\n      u = 0;\n  const h = i ? i.length - 1 : l.length / c - 1,\n        g = h + (s ? 2 : 0);\n\n  for (let t = 0; t < g; t += 2) {\n    const o = t < h ? t : h,\n          s = t < h ? t + 1 : 0,\n          g = (i ? i[o] : o) * c,\n          A = (i ? i[s] : s) * c;\n    y[0] = l[g + 0], y[1] = l[g + 1], y[2] = l[g + 2], w[0] = l[A + 0], w[1] = l[A + 1], w[2] = l[A + 2], r(y, n(y, y, w), .5);\n    const m = e(y, w);\n    m > 0 ? (n(f, f, r(y, y, m)), a += m) : (n(U, U, y), u++);\n  }\n\n  return 0 !== a ? (r(f, f, 1 / a), !0) : 0 !== u && (r(f, U, 1 / u), !0);\n}\n\nconst y = o(),\n      w = o(),\n      A = o(),\n      U = o();\nexport { g as computeAttachmentOriginLines, h as computeAttachmentOriginPoints, u as computeAttachmentOriginTriangles, l as generateDefaultIndexArray, a as generateIndexArray };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js"],"names":["s","t","b","n","a","r","j","e","c","o","areaPoints3d","i","Uint32Array","length","f","Uint16Array","l","buffer","Math","max","slice","u","size","data","U","h","g","y","w","A","m","computeAttachmentOriginLines","computeAttachmentOriginPoints","computeAttachmentOriginTriangles","generateDefaultIndexArray","generateIndexArray"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{s as t,b as n,a as r,j as e}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{areaPoints3d as i}from\"../../../../geometry/support/triangle.js\";let s=(()=>{const t=new Uint32Array(131072);for(let n=0;n<t.length;++n)t[n]=n;return t})();const f=new Uint16Array([0]),c=(()=>{const t=new Uint16Array(65536);for(let n=0;n<t.length;++n)t[n]=n;return t})();function l(t){if(1===t)return f;if(t<c.length)return new Uint16Array(c.buffer,0,t);if(t>s.length){const n=Math.max(2*s.length,t);s=new Uint32Array(n);for(let t=0;t<s.length;t++)s[t]=t}return new Uint32Array(s.buffer,0,t)}function a(t){if(1===t)return new Uint16Array(f);if(t<c.length)return new Uint16Array(c.slice(0,t));if(t>s.length){const n=new Uint32Array(t);for(let t=0;t<n.length;t++)n[t]=t;return n}return new Uint32Array(s.slice(0,t))}function u(e,o,s){if(!e)return!1;const{size:f,data:c}=e;t(s,0,0,0),t(U,0,0,0);let l=0,a=0;for(let u=0;u<o.length-2;u+=3){const e=o[u+0]*f,h=o[u+1]*f,g=o[u+2]*f;t(y,c[e+0],c[e+1],c[e+2]),t(w,c[h+0],c[h+1],c[h+2]),t(A,c[g+0],c[g+1],c[g+2]);const m=i(y,w,A);m?(n(y,y,w),n(y,y,A),r(y,y,1/3*m),n(s,s,y),l+=m):(n(U,U,y),n(U,U,w),n(U,U,A),a+=3)}return(0!==a||0!==l)&&(0!==l?(r(s,s,1/l),!0):0!==a&&(r(s,U,1/a),!0))}function h(n,e,o){if(!n||!e)return!1;const{size:i,data:s}=n;t(o,0,0,0);let f=-1,c=0;for(let t=0;t<e.length;t++){const n=e[t]*i;f!==n&&(o[0]+=s[n+0],o[1]+=s[n+1],o[2]+=s[n+2],c++),f=n}return c>1&&r(o,o,1/c),c>0}function g(o,i,s,f){if(!o)return!1;const{size:c,data:l}=o;t(f,0,0,0),t(U,0,0,0);let a=0,u=0;const h=i?i.length-1:l.length/c-1,g=h+(s?2:0);for(let t=0;t<g;t+=2){const o=t<h?t:h,s=t<h?t+1:0,g=(i?i[o]:o)*c,A=(i?i[s]:s)*c;y[0]=l[g+0],y[1]=l[g+1],y[2]=l[g+2],w[0]=l[A+0],w[1]=l[A+1],w[2]=l[A+2],r(y,n(y,y,w),.5);const m=e(y,w);m>0?(n(f,f,r(y,y,m)),a+=m):(n(U,U,y),u++)}return 0!==a?(r(f,f,1/a),!0):0!==u&&(r(f,U,1/u),!0)}const y=o(),w=o(),A=o(),U=o();export{g as computeAttachmentOriginLines,h as computeAttachmentOriginPoints,u as computeAttachmentOriginTriangles,l as generateDefaultIndexArray,a as generateIndexArray};\n"]},"metadata":{},"sourceType":"module"}