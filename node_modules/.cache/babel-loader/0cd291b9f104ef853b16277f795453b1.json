{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { clone as e } from \"../../core/lang.js\";\nimport t from \"./RasterFunction.js\";\nimport { convertColorRampToColormap as n, getColorRampName as r } from \"../../renderers/support/colorRampUtils.js\";\nimport { stretchTypeJSONDict as a } from \"../../renderers/support/stretchRendererUtils.js\";\nimport o from \"../../renderers/visualVariables/SizeVariable.js\";\nconst i = {\n  u1: [0, 1],\n  u2: [0, 3],\n  u4: [0, 15],\n  u8: [0, 255],\n  s8: [-128, 127],\n  u16: [0, 65535],\n  s16: [-32768, 32767]\n},\n      s = {\n  simple_scalar: \"Simple Scalar\",\n  wind_barb: \"Wind Barb\",\n  single_arrow: \"Single Arrow\",\n  beaufort_kn: \"Beaufort Wind (Knots)\",\n  beaufort_m: \"Beaufort Wind (MetersPerSecond)\",\n  ocean_current_m: \"Ocean Current (MetersPerSecond)\",\n  ocean_current_kn: \"Ocean Current (Knots)\"\n},\n      u = new Set([\"raster-stretch\", \"unique-value\", \"class-breaks\", \"raster-shaded-relief\", \"vector-field\", \"raster-colormap\"]);\n\nfunction l(e) {\n  return u.has(e.type);\n}\n\nfunction m(t, n) {\n  if (!t || !n) return e(t || n);\n  const r = e(t);\n\n  if (\"none\" !== n.functionName.toLowerCase()) {\n    p(r.functionArguments).Raster = n;\n  }\n\n  return r;\n}\n\nfunction c(e, t) {\n  switch (t = t || {}, e.type) {\n    case \"raster-stretch\":\n      return h(e, t);\n\n    case \"class-breaks\":\n      return b(e, t);\n\n    case \"unique-value\":\n      return R(e, t);\n\n    case \"raster-colormap\":\n      return v(e, t);\n\n    case \"vector-field\":\n      return d(e, t);\n\n    case \"raster-shaded-relief\":\n      return g(e, t);\n  }\n}\n\nfunction p(e) {\n  const t = e.Raster;\n  return t && \"esri.layers.support.RasterFunction\" === t.declaredClass ? p(t.functionArguments) : e;\n}\n\nconst f = {\n  none: 0,\n  standardDeviation: 3,\n  histogramEqualization: 4,\n  minMax: 5,\n  percentClip: 6,\n  sigmoid: 9\n};\n\nfunction d(e, n) {\n  const r = new t();\n  r.functionName = \"VectorFieldRenderer\";\n  const {\n    dataType: a,\n    bandProperties: i\n  } = n,\n        u = \"vector-uv\" === a;\n  let l, m;\n  i && 2 === i.length && (l = i.map(e => e.BandName.toLowerCase()).indexOf(\"magnitude\"), m = i.map(e => e.BandName.toLowerCase()).indexOf(\"direction\")), -1 !== l && null !== l || (l = 0, m = 1);\n  const c = \"arithmetic\" === e.rotationType ? 1 : 2,\n        p = \"flow-from\" === e.flowRepresentation ? 0 : 1,\n        f = e.visualVariables ? e.visualVariables.filter(e => \"Magnitude\" === e.field)[0] : new o(),\n        d = {\n    magnitudeBandID: l,\n    directionBandID: m,\n    isUVComponents: u,\n    referenceSystem: c,\n    massFlowAngleRepresentation: p,\n    symbolTileSize: 50,\n    symbolTileSizeUnits: 100,\n    calculationMethod: \"Vector Average\",\n    symbologyName: s[e.style.toLowerCase().replace(\"-\", \"_\")],\n    minimumMagnitude: f.minDataValue,\n    maximumMagnitude: f.maxDataValue,\n    minimumSymbolSize: f.minSize,\n    maximumSymbolSize: f.maxSize\n  };\n  return r.functionArguments = d, r;\n}\n\nfunction g(e, r) {\n  if (\"elevation\" !== r.dataType) return new t();\n  const a = new t();\n  a.functionName = \"Hillshade\";\n  const o = \"traditional\" === e.hillshadeType ? 0 : 1,\n        i = \"none\" === e.scalingType ? 1 : 3,\n        s = {\n    HillshadeType: o,\n    SlopeType: i,\n    ZFactor: e.zFactor\n  };\n  return 0 === o && (s.Azimuth = e.azimuth, s.Altitude = e.altitude), 3 === i && (s.PSPower = e.pixelSizePower, s.PSZFactor = e.pixelSizeFactor), a.functionArguments = s, a.variableName = \"Raster\", e.colorRamp && (a.functionName = \"ShadedRelief\", s.Colormap = n(e.colorRamp, 256)), a;\n}\n\nfunction h(e, o) {\n  const i = new t();\n  i.functionName = \"Stretch\";\n  const s = f[a.toJSON(e.stretchType)],\n        u = \"u8\",\n        l = {\n    StretchType: s,\n    Statistics: A(e.statistics),\n    DRA: e.dynamicRangeAdjustment,\n    UseGamma: e.useGamma,\n    Gamma: e.gamma,\n    ComputeGamma: e.computeGamma\n  };\n\n  if (null != e.outputMin && (l.Min = e.outputMin), null != e.outputMax && (l.Max = e.outputMax), s === f.standardDeviation ? (l.NumberOfStandardDeviations = e.numberOfStandardDeviations, i.outputPixelType = u) : s === f.percentClip ? (l.MinPercent = e.minPercent, l.MaxPercent = e.maxPercent, i.outputPixelType = u) : s === f.minMax ? i.outputPixelType = u : s === f.sigmoid && (l.SigmoidStrengthLevel = e.sigmoidStrengthLevel), i.functionArguments = l, i.variableName = \"Raster\", e.colorRamp) {\n    const a = e.colorRamp,\n          s = new t(),\n          u = r(a);\n    return u ? s.functionArguments = {\n      colorRamp: u\n    } : !o.convertColorRampToColormap || \"algorithmic\" !== a.type && \"multipart\" !== a.type ? s.functionArguments = {\n      colorRamp: e.colorRamp.toJSON()\n    } : s.functionArguments = {\n      Colormap: n(a, 256)\n    }, s.variableName = \"Raster\", s.functionName = \"Colormap\", s.functionArguments.Raster = i, s;\n  }\n\n  return i;\n}\n\nfunction b(e, n) {\n  const r = [],\n        a = [],\n        o = [],\n        i = [],\n        s = 1e-6,\n        {\n    pixelType: u,\n    rasterAttributeTable: l\n  } = n,\n        m = l && l.features,\n        c = S(l);\n\n  if (m && Array.isArray(m) && e.classBreakInfos) {\n    e.classBreakInfos.forEach((t, n) => {\n      const r = t.symbol.color;\n      let a;\n      r.a && m.forEach(o => {\n        a = o.attributes[e.field], (a >= t.minValue && a < t.maxValue || n === e.classBreakInfos.length - 1 && a >= t.minValue) && i.push([o.attributes[c], r.r, r.g, r.b]);\n      });\n    });\n    const n = u ? y(i, u) : i,\n          r = new t();\n    return r.functionName = \"Colormap\", r.functionArguments = {}, r.functionArguments.Colormap = n, r.variableName = \"Raster\", r;\n  }\n\n  e.classBreakInfos.forEach((e, t) => {\n    const n = e.symbol && e.symbol.color;\n    n.a ? (0 === t ? r.push(e.minValue, e.maxValue + s) : r.push(e.minValue + s, e.maxValue + s), a.push(t), i.push([t, n.r, n.g, n.b])) : o.push(e.minValue, e.maxValue);\n  });\n  const p = u ? y(i, u) : i,\n        f = new t();\n  f.functionName = \"Remap\", f.functionArguments = {\n    InputRanges: r,\n    OutputValues: a,\n    NoDataRanges: o\n  }, f.variableName = \"Raster\";\n  const d = new t();\n  return d.functionName = \"Colormap\", d.functionArguments = {\n    Colormap: p,\n    Raster: f\n  }, d;\n}\n\nfunction y(e, t) {\n  const n = i[String(t).toLowerCase()];\n  return n && e.push([Math.floor(n[0] - 1), 0, 0, 0], [Math.ceil(n[1] + 1), 0, 0, 0]), e;\n}\n\nfunction S(e) {\n  if (!e) return;\n  const {\n    fields: t\n  } = e,\n        n = t && t.find(e => e && e.name && \"value\" === e.name.toLowerCase());\n  return n && n.name;\n}\n\nfunction R(e, n) {\n  const r = [],\n        {\n    pixelType: a,\n    rasterAttributeTable: o\n  } = n,\n        i = o && o.features,\n        s = S(o);\n  let u = !1;\n  if (e.uniqueValueInfos && e.uniqueValueInfos.forEach(t => {\n    const n = t.symbol.color;\n    null != n && n.a && (e.field !== s && i ? i && i.forEach(a => {\n      String(a.attributes[e.field]) === String(t.value) && r.push([a.attributes[s], n.r, n.g, n.b]);\n    }) : isNaN(+t.value) ? u = !0 : r.push([+t.value, n.r, n.g, n.b]));\n  }), u) return null;\n  const l = a && r.length > 0 ? y(r, a) : r,\n        m = new t();\n  return m.functionName = \"Colormap\", m.functionArguments = {}, m.functionArguments.Colormap = l, m.variableName = \"Raster\", m;\n}\n\nfunction v(e, n) {\n  const r = e.extractColormap();\n  if (!r || 0 === r.length) return;\n  const {\n    pixelType: a\n  } = n,\n        o = a ? y(r, a) : r,\n        i = new t();\n  return i.functionName = \"Colormap\", i.functionArguments = {}, i.functionArguments.Colormap = o, i;\n}\n\nfunction A(e) {\n  const t = [];\n  return e.forEach(e => {\n    const n = e;\n    if (Array.isArray(n)) t.push(n);else {\n      if (null == n.min || null == n.max) return;\n      const e = [n.min, n.max, n.avg || 0, n.stddev || 0];\n      t.push(e);\n    }\n  }), t;\n}\n\nexport { m as combineRenderingRules, c as convertRendererToRenderingRule, l as isSupportedRendererType, i as pixelTypeRanges };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/layers/support/imageryRendererUtils.js"],"names":["clone","e","t","convertColorRampToColormap","n","getColorRampName","r","stretchTypeJSONDict","a","o","i","u1","u2","u4","u8","s8","u16","s16","s","simple_scalar","wind_barb","single_arrow","beaufort_kn","beaufort_m","ocean_current_m","ocean_current_kn","u","Set","l","has","type","m","functionName","toLowerCase","p","functionArguments","Raster","c","h","b","R","v","d","g","declaredClass","f","none","standardDeviation","histogramEqualization","minMax","percentClip","sigmoid","dataType","bandProperties","length","map","BandName","indexOf","rotationType","flowRepresentation","visualVariables","filter","field","magnitudeBandID","directionBandID","isUVComponents","referenceSystem","massFlowAngleRepresentation","symbolTileSize","symbolTileSizeUnits","calculationMethod","symbologyName","style","replace","minimumMagnitude","minDataValue","maximumMagnitude","maxDataValue","minimumSymbolSize","minSize","maximumSymbolSize","maxSize","hillshadeType","scalingType","HillshadeType","SlopeType","ZFactor","zFactor","Azimuth","azimuth","Altitude","altitude","PSPower","pixelSizePower","PSZFactor","pixelSizeFactor","variableName","colorRamp","Colormap","toJSON","stretchType","StretchType","Statistics","A","statistics","DRA","dynamicRangeAdjustment","UseGamma","useGamma","Gamma","gamma","ComputeGamma","computeGamma","outputMin","Min","outputMax","Max","NumberOfStandardDeviations","numberOfStandardDeviations","outputPixelType","MinPercent","minPercent","MaxPercent","maxPercent","SigmoidStrengthLevel","sigmoidStrengthLevel","pixelType","rasterAttributeTable","features","S","Array","isArray","classBreakInfos","forEach","symbol","color","attributes","minValue","maxValue","push","y","InputRanges","OutputValues","NoDataRanges","String","Math","floor","ceil","fields","find","name","uniqueValueInfos","value","isNaN","extractColormap","min","max","avg","stddev","combineRenderingRules","convertRendererToRenderingRule","isSupportedRendererType","pixelTypeRanges"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import t from\"./RasterFunction.js\";import{convertColorRampToColormap as n,getColorRampName as r}from\"../../renderers/support/colorRampUtils.js\";import{stretchTypeJSONDict as a}from\"../../renderers/support/stretchRendererUtils.js\";import o from\"../../renderers/visualVariables/SizeVariable.js\";const i={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767]},s={simple_scalar:\"Simple Scalar\",wind_barb:\"Wind Barb\",single_arrow:\"Single Arrow\",beaufort_kn:\"Beaufort Wind (Knots)\",beaufort_m:\"Beaufort Wind (MetersPerSecond)\",ocean_current_m:\"Ocean Current (MetersPerSecond)\",ocean_current_kn:\"Ocean Current (Knots)\"},u=new Set([\"raster-stretch\",\"unique-value\",\"class-breaks\",\"raster-shaded-relief\",\"vector-field\",\"raster-colormap\"]);function l(e){return u.has(e.type)}function m(t,n){if(!t||!n)return e(t||n);const r=e(t);if(\"none\"!==n.functionName.toLowerCase()){p(r.functionArguments).Raster=n}return r}function c(e,t){switch(t=t||{},e.type){case\"raster-stretch\":return h(e,t);case\"class-breaks\":return b(e,t);case\"unique-value\":return R(e,t);case\"raster-colormap\":return v(e,t);case\"vector-field\":return d(e,t);case\"raster-shaded-relief\":return g(e,t)}}function p(e){const t=e.Raster;return t&&\"esri.layers.support.RasterFunction\"===t.declaredClass?p(t.functionArguments):e}const f={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function d(e,n){const r=new t;r.functionName=\"VectorFieldRenderer\";const{dataType:a,bandProperties:i}=n,u=\"vector-uv\"===a;let l,m;i&&2===i.length&&(l=i.map((e=>e.BandName.toLowerCase())).indexOf(\"magnitude\"),m=i.map((e=>e.BandName.toLowerCase())).indexOf(\"direction\")),-1!==l&&null!==l||(l=0,m=1);const c=\"arithmetic\"===e.rotationType?1:2,p=\"flow-from\"===e.flowRepresentation?0:1,f=e.visualVariables?e.visualVariables.filter((e=>\"Magnitude\"===e.field))[0]:new o,d={magnitudeBandID:l,directionBandID:m,isUVComponents:u,referenceSystem:c,massFlowAngleRepresentation:p,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:\"Vector Average\",symbologyName:s[e.style.toLowerCase().replace(\"-\",\"_\")],minimumMagnitude:f.minDataValue,maximumMagnitude:f.maxDataValue,minimumSymbolSize:f.minSize,maximumSymbolSize:f.maxSize};return r.functionArguments=d,r}function g(e,r){if(\"elevation\"!==r.dataType)return new t;const a=new t;a.functionName=\"Hillshade\";const o=\"traditional\"===e.hillshadeType?0:1,i=\"none\"===e.scalingType?1:3,s={HillshadeType:o,SlopeType:i,ZFactor:e.zFactor};return 0===o&&(s.Azimuth=e.azimuth,s.Altitude=e.altitude),3===i&&(s.PSPower=e.pixelSizePower,s.PSZFactor=e.pixelSizeFactor),a.functionArguments=s,a.variableName=\"Raster\",e.colorRamp&&(a.functionName=\"ShadedRelief\",s.Colormap=n(e.colorRamp,256)),a}function h(e,o){const i=new t;i.functionName=\"Stretch\";const s=f[a.toJSON(e.stretchType)],u=\"u8\",l={StretchType:s,Statistics:A(e.statistics),DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(l.Min=e.outputMin),null!=e.outputMax&&(l.Max=e.outputMax),s===f.standardDeviation?(l.NumberOfStandardDeviations=e.numberOfStandardDeviations,i.outputPixelType=u):s===f.percentClip?(l.MinPercent=e.minPercent,l.MaxPercent=e.maxPercent,i.outputPixelType=u):s===f.minMax?i.outputPixelType=u:s===f.sigmoid&&(l.SigmoidStrengthLevel=e.sigmoidStrengthLevel),i.functionArguments=l,i.variableName=\"Raster\",e.colorRamp){const a=e.colorRamp,s=new t,u=r(a);return u?s.functionArguments={colorRamp:u}:!o.convertColorRampToColormap||\"algorithmic\"!==a.type&&\"multipart\"!==a.type?s.functionArguments={colorRamp:e.colorRamp.toJSON()}:s.functionArguments={Colormap:n(a,256)},s.variableName=\"Raster\",s.functionName=\"Colormap\",s.functionArguments.Raster=i,s}return i}function b(e,n){const r=[],a=[],o=[],i=[],s=1e-6,{pixelType:u,rasterAttributeTable:l}=n,m=l&&l.features,c=S(l);if(m&&Array.isArray(m)&&e.classBreakInfos){e.classBreakInfos.forEach(((t,n)=>{const r=t.symbol.color;let a;r.a&&m.forEach((o=>{a=o.attributes[e.field],(a>=t.minValue&&a<t.maxValue||n===e.classBreakInfos.length-1&&a>=t.minValue)&&i.push([o.attributes[c],r.r,r.g,r.b])}))}));const n=u?y(i,u):i,r=new t;return r.functionName=\"Colormap\",r.functionArguments={},r.functionArguments.Colormap=n,r.variableName=\"Raster\",r}e.classBreakInfos.forEach(((e,t)=>{const n=e.symbol&&e.symbol.color;n.a?(0===t?r.push(e.minValue,e.maxValue+s):r.push(e.minValue+s,e.maxValue+s),a.push(t),i.push([t,n.r,n.g,n.b])):o.push(e.minValue,e.maxValue)}));const p=u?y(i,u):i,f=new t;f.functionName=\"Remap\",f.functionArguments={InputRanges:r,OutputValues:a,NoDataRanges:o},f.variableName=\"Raster\";const d=new t;return d.functionName=\"Colormap\",d.functionArguments={Colormap:p,Raster:f},d}function y(e,t){const n=i[String(t).toLowerCase()];return n&&e.push([Math.floor(n[0]-1),0,0,0],[Math.ceil(n[1]+1),0,0,0]),e}function S(e){if(!e)return;const{fields:t}=e,n=t&&t.find((e=>e&&e.name&&\"value\"===e.name.toLowerCase()));return n&&n.name}function R(e,n){const r=[],{pixelType:a,rasterAttributeTable:o}=n,i=o&&o.features,s=S(o);let u=!1;if(e.uniqueValueInfos&&e.uniqueValueInfos.forEach((t=>{const n=t.symbol.color;null!=n&&n.a&&(e.field!==s&&i?i&&i.forEach((a=>{String(a.attributes[e.field])===String(t.value)&&r.push([a.attributes[s],n.r,n.g,n.b])})):isNaN(+t.value)?u=!0:r.push([+t.value,n.r,n.g,n.b]))})),u)return null;const l=a&&r.length>0?y(r,a):r,m=new t;return m.functionName=\"Colormap\",m.functionArguments={},m.functionArguments.Colormap=l,m.variableName=\"Raster\",m}function v(e,n){const r=e.extractColormap();if(!r||0===r.length)return;const{pixelType:a}=n,o=a?y(r,a):r,i=new t;return i.functionName=\"Colormap\",i.functionArguments={},i.functionArguments.Colormap=o,i}function A(e){const t=[];return e.forEach((e=>{const n=e;if(Array.isArray(n))t.push(n);else{if(null==n.min||null==n.max)return;const e=[n.min,n.max,n.avg||0,n.stddev||0];t.push(e)}})),t}export{m as combineRenderingRules,c as convertRendererToRenderingRule,l as isSupportedRendererType,i as pixelTypeRanges};\n"]},"metadata":{},"sourceType":"module"}