{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../../geometry/Point.js\";\nimport { segmentIntersects as n } from \"../../geometry/support/intersectsBase.js\";\n\nfunction e(t, n, e) {\n  const o = {\n    x: 0,\n    y: 0\n  };\n  n && (o.z = 0), e && (o.m = 0);\n  let h = 0,\n      f = t[0];\n\n  for (let l = 0; l < t.length; l++) {\n    const c = t[l];\n\n    if (!1 === a(c, f)) {\n      const t = s(f, c, n),\n            a = r(f, c, n, e);\n      a.x *= t, a.y *= t, o.x += a.x, o.y += a.y, n && (a.z *= t, o.z += a.z), e && (a.m *= t, o.m += a.m), h += t, f = c;\n    }\n  }\n\n  return h > 0 ? (o.x /= h, o.y /= h, n && (o.z /= h), e && (o.m /= h)) : (o.x = t[0][0], o.y = t[0][1], n && (o.z = t[0][2]), e && n ? o.m = t[0][3] : e && (o.m = t[0][2])), o;\n}\n\nfunction r(t, n, e, r) {\n  const o = {\n    x: (t[0] + n[0]) / 2,\n    y: (t[1] + n[1]) / 2\n  };\n  return e && (o.z = (t[2] + n[2]) / 2), e && r ? o.m = (t[3] + n[3]) / 2 : r && (o.m = (t[2] + n[2]) / 2), o;\n}\n\nfunction o(t, n) {\n  if (t.length <= 1) return 0;\n  let e = 0;\n\n  for (let r = 1; r < t.length; r++) e += s(t[r - 1], t[r], n);\n\n  return e;\n}\n\nfunction s(t, n, e) {\n  const r = n[0] - t[0],\n        o = n[1] - t[1];\n\n  if (e) {\n    const t = n[2] - n[2];\n    return Math.sqrt(r * r + o * o + t * t);\n  }\n\n  return Math.sqrt(r * r + o * o);\n}\n\nfunction a(t, n) {\n  if (t.length !== n.length) return !1;\n\n  for (let e = 0; e < t.length; e++) if (t[e] !== n[e]) return !1;\n\n  return !0;\n}\n\nfunction h(n) {\n  const r = {\n    x: 0,\n    y: 0,\n    spatialReference: n.spatialReference.toJSON()\n  },\n        s = {\n    x: 0,\n    y: 0,\n    spatialReference: n.spatialReference.toJSON()\n  };\n  let a = 0,\n      h = 0;\n\n  for (let t = 0; t < n.paths.length; t++) {\n    if (0 === n.paths[t].length) continue;\n    const f = o(n.paths[t], !0 === n.hasZ);\n\n    if (0 === f) {\n      const o = e(n.paths[t], !0 === n.hasZ, !0 === n.hasM);\n      r.x += o.x, r.y += o.y, !0 === n.hasZ && (r.z += o.z), !0 === n.hasM && (r.m += o.m), ++a;\n    } else {\n      const r = e(n.paths[t], !0 === n.hasZ, !0 === n.hasM);\n      s.x += r.x * f, s.y += r.y * f, !0 === n.hasZ && (s.z += r.z * f), !0 === n.hasM && (s.m += r.m * f), h += f;\n    }\n  }\n\n  return h > 0 ? (s.x /= h, s.y /= h, !0 === n.hasZ && (s.z /= h), !0 === n.hasM && (s.m /= h), new t(s)) : a > 0 ? (r.x /= a, r.y /= a, !0 === n.hasZ && (s.z /= a), !0 === n.hasM && (r.m /= a), new t(r)) : null;\n}\n\nfunction f(n) {\n  if (0 === n.points.length) return null;\n  let e = 0,\n      r = 0,\n      o = 0,\n      s = 0;\n\n  for (let t = 0; t < n.points.length; t++) {\n    const a = n.getPoint(t);\n    !0 === a.hasZ && (o += a.z), !0 === a.hasM && (s += a.m), e += a.x, r += a.y, s += a.m;\n  }\n\n  const a = {\n    x: e / n.points.length,\n    y: r / n.points.length,\n    spatialReference: null\n  };\n  return a.spatialReference = n.spatialReference.toJSON(), !0 === n.hasZ && (a.z = o / n.points.length), !0 === n.hasM && (a.m = s / n.points.length), new t(a);\n}\n\nfunction l(t, n) {\n  return t.x * n.x + t.y * n.y;\n}\n\nfunction c(t, n) {\n  return t.x * n.y - n.x * t.y;\n}\n\nfunction i(t, n, e = 0) {\n  for (; t < e;) t += n;\n\n  const r = e + n;\n\n  for (; t >= r;) t -= n;\n\n  return t;\n}\n\nfunction u(t, n) {\n  return Math.atan2(n.y - t.y, n.x - t.x);\n}\n\nfunction y(t, n) {\n  return i(u(t, n), 2 * Math.PI) * (180 / Math.PI);\n}\n\nfunction x(t, n) {\n  return i(Math.PI / 2 - u(t, n), 2 * Math.PI) * (180 / Math.PI);\n}\n\nfunction m(t, n, e) {\n  const r = {\n    x: t.x - n.x,\n    y: t.y - n.y\n  },\n        o = {\n    x: e.x - n.x,\n    y: e.y - n.y\n  };\n  return Math.atan2(c(r, o), l(r, o));\n}\n\nfunction p(t, n, e) {\n  return i(m(t, n, e), 2 * Math.PI) * (180 / Math.PI);\n}\n\nfunction g(t, n, e) {\n  return i(-1 * m(t, n, e), 2 * Math.PI) * (180 / Math.PI);\n}\n\nconst M = [0, 0];\n\nfunction z(t) {\n  for (let e = 0; e < t.length; e++) {\n    const r = t[e];\n\n    for (let s = 0; s < r.length - 1; s++) {\n      const o = r[s],\n            a = r[s + 1];\n\n      for (let r = e + 1; r < t.length; r++) for (let e = 0; e < t[r].length - 1; e++) {\n        const s = t[r][e],\n              h = t[r][e + 1];\n        if (n(o, a, s, h, M) && !(M[0] === o[0] && M[1] === o[1] || M[0] === s[0] && M[1] === s[1] || M[0] === a[0] && M[1] === a[1] || M[0] === h[0] && M[1] === h[1])) return !0;\n      }\n    }\n\n    const o = r.length;\n    if (!(o < 3)) for (let t = 0; t <= o - 2; t++) {\n      const e = r[t],\n            s = r[t + 1];\n\n      for (let a = t + 2; a <= o - 2; a++) {\n        const t = r[a],\n              o = r[a + 1];\n        if (n(e, s, t, o, M) && !(M[0] === e[0] && M[1] === e[1] || M[0] === t[0] && M[1] === t[1] || M[0] === s[0] && M[1] === s[1] || M[0] === o[0] && M[1] === o[1])) return !0;\n      }\n    }\n  }\n\n  return !1;\n}\n\nexport { y as angle2D, p as angleBetween2D, m as angleBetweenRad, u as angleRad, x as bearing2D, g as bearingBetween2D, f as centroidMultiPoint, h as centroidPolyline, z as pathsSelfIntersecting };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/arcade/functions/centroid.js"],"names":["t","segmentIntersects","n","e","o","x","y","z","m","h","f","l","length","c","a","s","r","Math","sqrt","spatialReference","toJSON","paths","hasZ","hasM","points","getPoint","i","u","atan2","PI","p","g","M","angle2D","angleBetween2D","angleBetweenRad","angleRad","bearing2D","bearingBetween2D","centroidMultiPoint","centroidPolyline","pathsSelfIntersecting"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../geometry/Point.js\";import{segmentIntersects as n}from\"../../geometry/support/intersectsBase.js\";function e(t,n,e){const o={x:0,y:0};n&&(o.z=0),e&&(o.m=0);let h=0,f=t[0];for(let l=0;l<t.length;l++){const c=t[l];if(!1===a(c,f)){const t=s(f,c,n),a=r(f,c,n,e);a.x*=t,a.y*=t,o.x+=a.x,o.y+=a.y,n&&(a.z*=t,o.z+=a.z),e&&(a.m*=t,o.m+=a.m),h+=t,f=c}}return h>0?(o.x/=h,o.y/=h,n&&(o.z/=h),e&&(o.m/=h)):(o.x=t[0][0],o.y=t[0][1],n&&(o.z=t[0][2]),e&&n?o.m=t[0][3]:e&&(o.m=t[0][2])),o}function r(t,n,e,r){const o={x:(t[0]+n[0])/2,y:(t[1]+n[1])/2};return e&&(o.z=(t[2]+n[2])/2),e&&r?o.m=(t[3]+n[3])/2:r&&(o.m=(t[2]+n[2])/2),o}function o(t,n){if(t.length<=1)return 0;let e=0;for(let r=1;r<t.length;r++)e+=s(t[r-1],t[r],n);return e}function s(t,n,e){const r=n[0]-t[0],o=n[1]-t[1];if(e){const t=n[2]-n[2];return Math.sqrt(r*r+o*o+t*t)}return Math.sqrt(r*r+o*o)}function a(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function h(n){const r={x:0,y:0,spatialReference:n.spatialReference.toJSON()},s={x:0,y:0,spatialReference:n.spatialReference.toJSON()};let a=0,h=0;for(let t=0;t<n.paths.length;t++){if(0===n.paths[t].length)continue;const f=o(n.paths[t],!0===n.hasZ);if(0===f){const o=e(n.paths[t],!0===n.hasZ,!0===n.hasM);r.x+=o.x,r.y+=o.y,!0===n.hasZ&&(r.z+=o.z),!0===n.hasM&&(r.m+=o.m),++a}else{const r=e(n.paths[t],!0===n.hasZ,!0===n.hasM);s.x+=r.x*f,s.y+=r.y*f,!0===n.hasZ&&(s.z+=r.z*f),!0===n.hasM&&(s.m+=r.m*f),h+=f}}return h>0?(s.x/=h,s.y/=h,!0===n.hasZ&&(s.z/=h),!0===n.hasM&&(s.m/=h),new t(s)):a>0?(r.x/=a,r.y/=a,!0===n.hasZ&&(s.z/=a),!0===n.hasM&&(r.m/=a),new t(r)):null}function f(n){if(0===n.points.length)return null;let e=0,r=0,o=0,s=0;for(let t=0;t<n.points.length;t++){const a=n.getPoint(t);!0===a.hasZ&&(o+=a.z),!0===a.hasM&&(s+=a.m),e+=a.x,r+=a.y,s+=a.m}const a={x:e/n.points.length,y:r/n.points.length,spatialReference:null};return a.spatialReference=n.spatialReference.toJSON(),!0===n.hasZ&&(a.z=o/n.points.length),!0===n.hasM&&(a.m=s/n.points.length),new t(a)}function l(t,n){return t.x*n.x+t.y*n.y}function c(t,n){return t.x*n.y-n.x*t.y}function i(t,n,e=0){for(;t<e;)t+=n;const r=e+n;for(;t>=r;)t-=n;return t}function u(t,n){return Math.atan2(n.y-t.y,n.x-t.x)}function y(t,n){return i(u(t,n),2*Math.PI)*(180/Math.PI)}function x(t,n){return i(Math.PI/2-u(t,n),2*Math.PI)*(180/Math.PI)}function m(t,n,e){const r={x:t.x-n.x,y:t.y-n.y},o={x:e.x-n.x,y:e.y-n.y};return Math.atan2(c(r,o),l(r,o))}function p(t,n,e){return i(m(t,n,e),2*Math.PI)*(180/Math.PI)}function g(t,n,e){return i(-1*m(t,n,e),2*Math.PI)*(180/Math.PI)}const M=[0,0];function z(t){for(let e=0;e<t.length;e++){const r=t[e];for(let s=0;s<r.length-1;s++){const o=r[s],a=r[s+1];for(let r=e+1;r<t.length;r++)for(let e=0;e<t[r].length-1;e++){const s=t[r][e],h=t[r][e+1];if(n(o,a,s,h,M)&&!(M[0]===o[0]&&M[1]===o[1]||M[0]===s[0]&&M[1]===s[1]||M[0]===a[0]&&M[1]===a[1]||M[0]===h[0]&&M[1]===h[1]))return!0}}const o=r.length;if(!(o<3))for(let t=0;t<=o-2;t++){const e=r[t],s=r[t+1];for(let a=t+2;a<=o-2;a++){const t=r[a],o=r[a+1];if(n(e,s,t,o,M)&&!(M[0]===e[0]&&M[1]===e[1]||M[0]===t[0]&&M[1]===t[1]||M[0]===s[0]&&M[1]===s[1]||M[0]===o[0]&&M[1]===o[1]))return!0}}}return!1}export{y as angle2D,p as angleBetween2D,m as angleBetweenRad,u as angleRad,x as bearing2D,g as bearingBetween2D,f as centroidMultiPoint,h as centroidPolyline,z as pathsSelfIntersecting};\n"]},"metadata":{},"sourceType":"module"}