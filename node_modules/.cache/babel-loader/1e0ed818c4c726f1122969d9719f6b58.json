{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { ObjectStack as t } from \"../../core/ObjectStack.js\";\nimport { d as n } from \"../../chunks/vec2.js\";\nimport { g as r, f as e, c as p, d as o, a as s, b as c, l as u } from \"../../chunks/vec3.js\";\nimport { a as i, c as f } from \"../../chunks/vec3f64.js\";\nimport { distance2 as a, fromValues as g, create as m } from \"./lineSegment.js\";\nimport { sv3d as l } from \"./vectorStacks.js\";\n\nfunction j(t) {\n  return t ? {\n    p0: i(t.p0),\n    p1: i(t.p1),\n    p2: i(t.p2)\n  } : {\n    p0: f(),\n    p1: f(),\n    p2: f()\n  };\n}\n\nfunction h(t, n, r) {\n  const e = x.get();\n  return e.p0 = t, e.p1 = n, e.p2 = r, e;\n}\n\nfunction k(t, n = j()) {\n  return d(t.p0, t.p1, t.p2, n);\n}\n\nfunction d(t, n, e, p = j()) {\n  return r(p.p0, t), r(p.p1, n), r(p.p2, e), p;\n}\n\nfunction v(t, n) {\n  const r = t.p0,\n        s = t.p1,\n        c = t.p2,\n        u = e(l.get(), s, r),\n        i = e(l.get(), c, s),\n        f = e(l.get(), r, c),\n        m = e(l.get(), n, r),\n        j = e(l.get(), n, s),\n        h = e(l.get(), n, c),\n        k = p(u, u, f),\n        d = o(p(l.get(), u, k), m),\n        v = o(p(l.get(), i, k), j),\n        S = o(p(l.get(), f, k), h);\n\n  if (d > 0 && v > 0 && S > 0) {\n    const t = o(k, m);\n    return t * t / o(k, k);\n  }\n\n  const b = a(g(r, u, q.get()), n),\n        w = a(g(s, i, q.get()), n),\n        M = a(g(c, f, q.get()), n);\n  return Math.min(b, w, M);\n}\n\nfunction S(t, n, r) {\n  const e = 1e-5,\n        {\n    direction: p,\n    origin: o\n  } = n,\n        {\n    p0: u,\n    p1: i,\n    p2: f\n  } = t,\n        a = i[0] - u[0],\n        g = i[1] - u[1],\n        m = i[2] - u[2],\n        l = f[0] - u[0],\n        j = f[1] - u[1],\n        h = f[2] - u[2],\n        k = p[1] * h - j * p[2],\n        d = p[2] * l - h * p[0],\n        v = p[0] * j - l * p[1],\n        S = a * k + g * d + m * v;\n  if (S > -e && S < e) return !1;\n  const b = 1 / S,\n        w = o[0] - u[0],\n        M = o[1] - u[1],\n        q = o[2] - u[2],\n        x = b * (w * k + M * d + q * v);\n  if (x < 0 || x > 1) return !1;\n  const O = M * m - g * q,\n        V = q * a - m * w,\n        y = w * g - a * M,\n        z = b * (p[0] * O + p[1] * V + p[2] * y);\n  if (z < 0 || x + z > 1) return !1;\n\n  if (r) {\n    s(r, p, b * (l * O + j * V + h * y)), c(r, o, r);\n  }\n\n  return !0;\n}\n\nfunction b(t, r, e) {\n  const p = n(t, r),\n        o = n(r, e),\n        s = n(e, t),\n        c = (p + o + s) / 2,\n        u = c * (c - p) * (c - o) * (c - s);\n  return u <= 0 ? 0 : Math.sqrt(u);\n}\n\nfunction w(t) {\n  return b(t.p0, t.p1, t.p2);\n}\n\nfunction M(t, n, r) {\n  return e(O, n, t), e(V, r, t), u(p(O, O, V)) / 2;\n}\n\nconst q = new t(m),\n      x = new t(() => ({\n  p0: null,\n  p1: null,\n  p2: null\n})),\n      O = f(),\n      V = f();\nexport { w as area2d, b as areaPoints2d, M as areaPoints3d, k as copy, j as create, v as distance2, d as fromValues, S as intersectRay, h as wrap };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/geometry/support/triangle.js"],"names":["ObjectStack","t","d","n","g","r","f","e","c","p","o","a","s","b","l","u","i","distance2","fromValues","create","m","sv3d","j","p0","p1","p2","h","x","get","k","v","S","q","w","M","Math","min","direction","origin","O","V","y","z","sqrt","area2d","areaPoints2d","areaPoints3d","copy","intersectRay","wrap"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{d as n}from\"../../chunks/vec2.js\";import{g as r,f as e,c as p,d as o,a as s,b as c,l as u}from\"../../chunks/vec3.js\";import{a as i,c as f}from\"../../chunks/vec3f64.js\";import{distance2 as a,fromValues as g,create as m}from\"./lineSegment.js\";import{sv3d as l}from\"./vectorStacks.js\";function j(t){return t?{p0:i(t.p0),p1:i(t.p1),p2:i(t.p2)}:{p0:f(),p1:f(),p2:f()}}function h(t,n,r){const e=x.get();return e.p0=t,e.p1=n,e.p2=r,e}function k(t,n=j()){return d(t.p0,t.p1,t.p2,n)}function d(t,n,e,p=j()){return r(p.p0,t),r(p.p1,n),r(p.p2,e),p}function v(t,n){const r=t.p0,s=t.p1,c=t.p2,u=e(l.get(),s,r),i=e(l.get(),c,s),f=e(l.get(),r,c),m=e(l.get(),n,r),j=e(l.get(),n,s),h=e(l.get(),n,c),k=p(u,u,f),d=o(p(l.get(),u,k),m),v=o(p(l.get(),i,k),j),S=o(p(l.get(),f,k),h);if(d>0&&v>0&&S>0){const t=o(k,m);return t*t/o(k,k)}const b=a(g(r,u,q.get()),n),w=a(g(s,i,q.get()),n),M=a(g(c,f,q.get()),n);return Math.min(b,w,M)}function S(t,n,r){const e=1e-5,{direction:p,origin:o}=n,{p0:u,p1:i,p2:f}=t,a=i[0]-u[0],g=i[1]-u[1],m=i[2]-u[2],l=f[0]-u[0],j=f[1]-u[1],h=f[2]-u[2],k=p[1]*h-j*p[2],d=p[2]*l-h*p[0],v=p[0]*j-l*p[1],S=a*k+g*d+m*v;if(S>-e&&S<e)return!1;const b=1/S,w=o[0]-u[0],M=o[1]-u[1],q=o[2]-u[2],x=b*(w*k+M*d+q*v);if(x<0||x>1)return!1;const O=M*m-g*q,V=q*a-m*w,y=w*g-a*M,z=b*(p[0]*O+p[1]*V+p[2]*y);if(z<0||x+z>1)return!1;if(r){s(r,p,b*(l*O+j*V+h*y)),c(r,o,r)}return!0}function b(t,r,e){const p=n(t,r),o=n(r,e),s=n(e,t),c=(p+o+s)/2,u=c*(c-p)*(c-o)*(c-s);return u<=0?0:Math.sqrt(u)}function w(t){return b(t.p0,t.p1,t.p2)}function M(t,n,r){return e(O,n,t),e(V,r,t),u(p(O,O,V))/2}const q=new t(m),x=new t((()=>({p0:null,p1:null,p2:null}))),O=f(),V=f();export{w as area2d,b as areaPoints2d,M as areaPoints3d,k as copy,j as create,v as distance2,d as fromValues,S as intersectRay,h as wrap};\n"]},"metadata":{},"sourceType":"module"}