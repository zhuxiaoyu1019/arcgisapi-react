{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isNone as n } from \"./maybe.js\";\nimport t from \"./RandomLCG.js\";\n\nfunction r(n) {\n  if (!n) return;\n  return n.length > 0 ? n[0] : void 0;\n}\n\nfunction e(n) {\n  if (!n) return;\n  const t = n.length;\n  return t > 0 ? n[t - 1] : void 0;\n}\n\nfunction o(n) {\n  return n;\n}\n\nfunction f(n, t = o) {\n  if (!n || 0 === n.length) return;\n  let r = n[0],\n      e = t(r);\n\n  for (let o = 1; o < n.length; ++o) {\n    const f = n[o],\n          u = Number(t(f));\n    u > e && (e = u, r = f);\n  }\n\n  return r;\n}\n\nfunction u(n, t = o) {\n  return f(n, n => -t(n));\n}\n\nfunction i(n, t) {\n  return t ? n.filter((n, r, e) => e.findIndex(t.bind(null, n)) === r) : n.filter((n, t, r) => r.indexOf(n) === t);\n}\n\nfunction l(t, r, e) {\n  if (n(t) && n(r)) return !0;\n  if (n(t) || n(r) || t.length !== r.length) return !1;\n\n  if (e) {\n    for (let n = 0; n < t.length; n++) if (!e(t[n], r[n])) return !1;\n  } else for (let n = 0; n < t.length; n++) if (t[n] !== r[n]) return !1;\n\n  return !0;\n}\n\nfunction c(n, t, r) {\n  let e, o;\n  return r ? (e = t.filter(t => !n.some(n => r(n, t))), o = n.filter(n => !t.some(t => r(t, n)))) : (e = t.filter(t => !n.includes(t)), o = n.filter(n => !t.includes(n))), {\n    added: e,\n    removed: o\n  };\n}\n\nfunction s(n, t, r) {\n  return n && t ? r ? n.filter(function (n) {\n    return t.findIndex(function (t) {\n      return r(n, t);\n    }) > -1;\n  }) : n.filter(function (n) {\n    return t.indexOf(n) > -1;\n  }) : [];\n}\n\nfunction a(n) {\n  return n && \"number\" == typeof n.length;\n}\n\nfunction h(n, t) {\n  const r = n.length;\n  if (0 === r) return [];\n  const e = [];\n\n  for (let o = 0; o < r; o += t) e.push(n.slice(o, o + t));\n\n  return e;\n}\n\nconst d = !!Array.prototype.fill;\n\nfunction g(n, t) {\n  if (d) return new Array(n).fill(t);\n  const r = new Array(n);\n\n  for (let e = 0; e < n; e++) r[e] = t;\n\n  return r;\n}\n\nfunction m(n, t) {\n  void 0 === t && (t = n, n = 0);\n  const r = new Array(t - n);\n\n  for (let e = n; e < t; e++) r[e - n] = e;\n\n  return r;\n}\n\nfunction p(n, t, r) {\n  const e = n.length;\n  let o = 0,\n      f = e - 1;\n\n  for (; o < f;) {\n    const r = o + Math.floor((f - o) / 2);\n    t > n[r] ? o = r + 1 : f = r;\n  }\n\n  const u = n[o];\n  return r ? t >= n[e - 1] ? -1 : u === t ? o : o - 1 : u === t ? o : -1;\n}\n\nfunction x(n, t, r) {\n  if (!n || 0 === n.length) return;\n  const e = n.length - 1,\n        o = n[0];\n  if (t <= r(o)) return o;\n  const f = n[e];\n  if (t >= r(f)) return f;\n  let u = 0,\n      i = 0,\n      l = e;\n\n  for (; u < l;) {\n    i = u + Math.floor((l - u) / 2);\n    const o = n[i],\n          f = r(o);\n    if (f === t) return o;\n\n    if (t < f) {\n      if (i > 0) {\n        const e = n[i - 1],\n              u = r(e);\n        if (t > u) return t - u >= f - t ? o : e;\n      }\n\n      l = i;\n    } else {\n      if (i < e) {\n        const e = n[i + 1],\n              u = r(e);\n        if (t < u) return t - f >= u - t ? e : o;\n      }\n\n      u = i + 1;\n    }\n  }\n\n  return n[i];\n}\n\nfunction M(n) {\n  return n.reduce((n, t) => n.concat(t || []), []);\n}\n\nclass w {\n  constructor() {\n    this.last = 0;\n  }\n\n}\n\nconst y = new w();\n\nfunction b(n, t, r, e) {\n  e = e || y;\n  const o = Math.max(0, e.last - 10);\n\n  for (let u = o; u < r; ++u) if (n[u] === t) return e.last = u, u;\n\n  const f = Math.min(o, r);\n\n  for (let u = 0; u < f; ++u) if (n[u] === t) return e.last = u, u;\n\n  return -1;\n}\n\nfunction v(n, t, r, e) {\n  const o = null == r ? n.length : r,\n        f = b(n, t, o, e);\n  if (-1 !== f) return n[f] = n[o - 1], null == r && n.pop(), t;\n}\n\nconst A = new Set();\n\nfunction O(n, t, r = n.length, e = t.length, o, f) {\n  if (0 === e || 0 === r) return r;\n  A.clear();\n\n  for (let i = 0; i < e; ++i) A.add(t[i]);\n\n  o = o || y;\n  const u = Math.max(0, o.last - 10);\n\n  for (let i = u; i < r; ++i) if (A.has(n[i]) && (f && f.push(n[i]), A.delete(n[i]), n[i] = n[r - 1], --r, --i, 0 === A.size || 0 === r)) return A.clear(), r;\n\n  for (let i = 0; i < u; ++i) if (A.has(n[i]) && (f && f.push(n[i]), A.delete(n[i]), n[i] = n[r - 1], --r, --i, 0 === A.size || 0 === r)) return A.clear(), r;\n\n  return A.clear(), r;\n}\n\nfunction j(n, t, r) {\n  const e = n.length;\n  if (t >= e) return n.slice(0);\n  const o = z(r),\n        f = new Set(),\n        u = [];\n\n  for (; u.length < t;) {\n    const t = Math.floor(o() * e);\n    f.has(t) || (f.add(t), u.push(n[t]));\n  }\n\n  return u;\n}\n\nfunction z(n) {\n  return n ? (S.seed = n, () => S.getFloat()) : Math.random;\n}\n\nfunction I(n, t) {\n  const r = z(t);\n\n  for (let e = n.length - 1; e > 0; e--) {\n    const t = Math.floor(r() * (e + 1)),\n          o = n[e];\n    n[e] = n[t], n[t] = o;\n  }\n\n  return n;\n}\n\nconst S = new t();\n\nfunction C(n, t) {\n  const r = n.indexOf(t);\n  return -1 !== r ? (n.splice(r, 1), t) : null;\n}\n\nexport { w as PositionHint, x as binaryFindClosest, p as binaryIndexOf, g as constant, c as difference, l as equals, r as first, M as flatten, b as indexOf, s as intersect, a as isArrayLike, e as last, f as max, u as min, j as pickRandom, m as range, C as remove, v as removeUnordered, O as removeUnorderedMany, I as shuffle, h as splitIntoChunks, i as unique };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/core/arrayUtils.js"],"names":["isNone","n","t","r","length","e","o","f","u","Number","i","filter","findIndex","bind","indexOf","l","c","some","includes","added","removed","s","a","h","push","slice","d","Array","prototype","fill","g","m","p","Math","floor","x","M","reduce","concat","w","constructor","last","y","b","max","min","v","pop","A","Set","O","clear","add","has","delete","size","j","z","S","seed","getFloat","random","I","C","splice","PositionHint","binaryFindClosest","binaryIndexOf","constant","difference","equals","first","flatten","intersect","isArrayLike","pickRandom","range","remove","removeUnordered","removeUnorderedMany","shuffle","splitIntoChunks","unique"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"./maybe.js\";import t from\"./RandomLCG.js\";function r(n){if(!n)return;return n.length>0?n[0]:void 0}function e(n){if(!n)return;const t=n.length;return t>0?n[t-1]:void 0}function o(n){return n}function f(n,t=o){if(!n||0===n.length)return;let r=n[0],e=t(r);for(let o=1;o<n.length;++o){const f=n[o],u=Number(t(f));u>e&&(e=u,r=f)}return r}function u(n,t=o){return f(n,(n=>-t(n)))}function i(n,t){return t?n.filter(((n,r,e)=>e.findIndex(t.bind(null,n))===r)):n.filter(((n,t,r)=>r.indexOf(n)===t))}function l(t,r,e){if(n(t)&&n(r))return!0;if(n(t)||n(r)||t.length!==r.length)return!1;if(e){for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function c(n,t,r){let e,o;return r?(e=t.filter((t=>!n.some((n=>r(n,t))))),o=n.filter((n=>!t.some((t=>r(t,n)))))):(e=t.filter((t=>!n.includes(t))),o=n.filter((n=>!t.includes(n)))),{added:e,removed:o}}function s(n,t,r){return n&&t?r?n.filter((function(n){return t.findIndex((function(t){return r(n,t)}))>-1})):n.filter((function(n){return t.indexOf(n)>-1})):[]}function a(n){return n&&\"number\"==typeof n.length}function h(n,t){const r=n.length;if(0===r)return[];const e=[];for(let o=0;o<r;o+=t)e.push(n.slice(o,o+t));return e}const d=!!Array.prototype.fill;function g(n,t){if(d)return new Array(n).fill(t);const r=new Array(n);for(let e=0;e<n;e++)r[e]=t;return r}function m(n,t){void 0===t&&(t=n,n=0);const r=new Array(t-n);for(let e=n;e<t;e++)r[e-n]=e;return r}function p(n,t,r){const e=n.length;let o=0,f=e-1;for(;o<f;){const r=o+Math.floor((f-o)/2);t>n[r]?o=r+1:f=r}const u=n[o];return r?t>=n[e-1]?-1:u===t?o:o-1:u===t?o:-1}function x(n,t,r){if(!n||0===n.length)return;const e=n.length-1,o=n[0];if(t<=r(o))return o;const f=n[e];if(t>=r(f))return f;let u=0,i=0,l=e;for(;u<l;){i=u+Math.floor((l-u)/2);const o=n[i],f=r(o);if(f===t)return o;if(t<f){if(i>0){const e=n[i-1],u=r(e);if(t>u)return t-u>=f-t?o:e}l=i}else{if(i<e){const e=n[i+1],u=r(e);if(t<u)return t-f>=u-t?e:o}u=i+1}}return n[i]}function M(n){return n.reduce(((n,t)=>n.concat(t||[])),[])}class w{constructor(){this.last=0}}const y=new w;function b(n,t,r,e){e=e||y;const o=Math.max(0,e.last-10);for(let u=o;u<r;++u)if(n[u]===t)return e.last=u,u;const f=Math.min(o,r);for(let u=0;u<f;++u)if(n[u]===t)return e.last=u,u;return-1}function v(n,t,r,e){const o=null==r?n.length:r,f=b(n,t,o,e);if(-1!==f)return n[f]=n[o-1],null==r&&n.pop(),t}const A=new Set;function O(n,t,r=n.length,e=t.length,o,f){if(0===e||0===r)return r;A.clear();for(let i=0;i<e;++i)A.add(t[i]);o=o||y;const u=Math.max(0,o.last-10);for(let i=u;i<r;++i)if(A.has(n[i])&&(f&&f.push(n[i]),A.delete(n[i]),n[i]=n[r-1],--r,--i,0===A.size||0===r))return A.clear(),r;for(let i=0;i<u;++i)if(A.has(n[i])&&(f&&f.push(n[i]),A.delete(n[i]),n[i]=n[r-1],--r,--i,0===A.size||0===r))return A.clear(),r;return A.clear(),r}function j(n,t,r){const e=n.length;if(t>=e)return n.slice(0);const o=z(r),f=new Set,u=[];for(;u.length<t;){const t=Math.floor(o()*e);f.has(t)||(f.add(t),u.push(n[t]))}return u}function z(n){return n?(S.seed=n,()=>S.getFloat()):Math.random}function I(n,t){const r=z(t);for(let e=n.length-1;e>0;e--){const t=Math.floor(r()*(e+1)),o=n[e];n[e]=n[t],n[t]=o}return n}const S=new t;function C(n,t){const r=n.indexOf(t);return-1!==r?(n.splice(r,1),t):null}export{w as PositionHint,x as binaryFindClosest,p as binaryIndexOf,g as constant,c as difference,l as equals,r as first,M as flatten,b as indexOf,s as intersect,a as isArrayLike,e as last,f as max,u as min,j as pickRandom,m as range,C as remove,v as removeUnordered,O as removeUnorderedMany,I as shuffle,h as splitIntoChunks,i as unique};\n"]},"metadata":{},"sourceType":"module"}