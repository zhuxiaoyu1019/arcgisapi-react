{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { nullifyNonnullableForDispose as t } from \"./maybe.js\";\nimport i from \"./nextTick.js\";\n\nclass s {\n  constructor(t) {\n    this.allocator = t, this.items = [], this.itemsPtr = 0, this.tickHandle = i.before(() => this.reset()), this.grow();\n  }\n\n  destroy() {\n    this.tickHandle && (this.tickHandle.remove(), this.tickHandle = t(this.tickHandle)), this.items = t(this.items);\n  }\n\n  get() {\n    return 0 === this.itemsPtr && i(() => {}), this.itemsPtr === this.items.length && this.grow(), this.items[this.itemsPtr++];\n  }\n\n  reset() {\n    const t = Math.min(3 * Math.max(8, this.itemsPtr), this.itemsPtr + 3 * e);\n    this.items.length = Math.min(t, this.items.length), this.itemsPtr = 0;\n  }\n\n  grow() {\n    for (let t = 0; t < Math.max(8, Math.min(this.items.length, e)); t++) this.items.push(this.allocator());\n  }\n\n}\n\nconst e = 1024;\nexport default s;\nexport { s as ObjectStack };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/core/ObjectStack.js"],"names":["nullifyNonnullableForDispose","t","i","s","constructor","allocator","items","itemsPtr","tickHandle","before","reset","grow","destroy","remove","get","length","Math","min","max","e","push","ObjectStack"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,4BAA4B,IAAIC,CAAvC,QAA6C,YAA7C;AAA0D,OAAOC,CAAP,MAAa,eAAb;;AAA6B,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACH,CAAD,EAAG;AAAC,SAAKI,SAAL,GAAeJ,CAAf,EAAiB,KAAKK,KAAL,GAAW,EAA5B,EAA+B,KAAKC,QAAL,GAAc,CAA7C,EAA+C,KAAKC,UAAL,GAAgBN,CAAC,CAACO,MAAF,CAAU,MAAI,KAAKC,KAAL,EAAd,CAA/D,EAA4F,KAAKC,IAAL,EAA5F;AAAwG;;AAAAC,EAAAA,OAAO,GAAE;AAAC,SAAKJ,UAAL,KAAkB,KAAKA,UAAL,CAAgBK,MAAhB,IAAyB,KAAKL,UAAL,GAAgBP,CAAC,CAAC,KAAKO,UAAN,CAA5D,GAA+E,KAAKF,KAAL,GAAWL,CAAC,CAAC,KAAKK,KAAN,CAA3F;AAAwG;;AAAAQ,EAAAA,GAAG,GAAE;AAAC,WAAO,MAAI,KAAKP,QAAT,IAAmBL,CAAC,CAAE,MAAI,CAAE,CAAR,CAApB,EAA+B,KAAKK,QAAL,KAAgB,KAAKD,KAAL,CAAWS,MAA3B,IAAmC,KAAKJ,IAAL,EAAlE,EAA8E,KAAKL,KAAL,CAAW,KAAKC,QAAL,EAAX,CAArF;AAAiH;;AAAAG,EAAAA,KAAK,GAAE;AAAC,UAAMT,CAAC,GAACe,IAAI,CAACC,GAAL,CAAS,IAAED,IAAI,CAACE,GAAL,CAAS,CAAT,EAAW,KAAKX,QAAhB,CAAX,EAAqC,KAAKA,QAAL,GAAc,IAAEY,CAArD,CAAR;AAAgE,SAAKb,KAAL,CAAWS,MAAX,GAAkBC,IAAI,CAACC,GAAL,CAAShB,CAAT,EAAW,KAAKK,KAAL,CAAWS,MAAtB,CAAlB,EAAgD,KAAKR,QAAL,GAAc,CAA9D;AAAgE;;AAAAI,EAAAA,IAAI,GAAE;AAAC,SAAI,IAAIV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACe,IAAI,CAACE,GAAL,CAAS,CAAT,EAAWF,IAAI,CAACC,GAAL,CAAS,KAAKX,KAAL,CAAWS,MAApB,EAA2BI,CAA3B,CAAX,CAAd,EAAwDlB,CAAC,EAAzD,EAA4D,KAAKK,KAAL,CAAWc,IAAX,CAAgB,KAAKf,SAAL,EAAhB;AAAkC;;AAA9kB;;AAA+kB,MAAMc,CAAC,GAAC,IAAR;AAAa,eAAehB,CAAf;AAAiB,SAAOA,CAAC,IAAIkB,WAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nullifyNonnullableForDispose as t}from\"./maybe.js\";import i from\"./nextTick.js\";class s{constructor(t){this.allocator=t,this.items=[],this.itemsPtr=0,this.tickHandle=i.before((()=>this.reset())),this.grow()}destroy(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=t(this.tickHandle)),this.items=t(this.items)}get(){return 0===this.itemsPtr&&i((()=>{})),this.itemsPtr===this.items.length&&this.grow(),this.items[this.itemsPtr++]}reset(){const t=Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*e);this.items.length=Math.min(t,this.items.length),this.itemsPtr=0}grow(){for(let t=0;t<Math.max(8,Math.min(this.items.length,e));t++)this.items.push(this.allocator())}}const e=1024;export default s;export{s as ObjectStack};\n"]},"metadata":{},"sourceType":"module"}