{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { rad2deg as t, acosClamped as s } from \"../../../core/mathUtils.js\";\nimport { n, d as a, g as o, a as c, f as i, l as r, c as e } from \"../../../chunks/vec3.js\";\nimport { c as f } from \"../../../chunks/vec3f64.js\";\nconst l = f(),\n      u = f();\n\nfunction h() {\n  return {\n    direction: f(),\n    up: f()\n  };\n}\n\nfunction m(f, h, m, p, d) {\n  let g = n(l, f),\n      j = a(g, p);\n  const b = j > 0;\n  j = Math.abs(j), j > .99 && (j = Math.abs(a(h, p)), j < .99 ? (o(g, h), b && c(g, g, -1)) : g = null);\n  let k = 0;\n\n  if (g) {\n    c(u, p, a(p, g)), i(g, g, u);\n    const n = a(g, d) / (r(g) * r(d));\n    e(u, g, d);\n    k = (a(u, p) > 0 ? 1 : -1) * t(s(n));\n  }\n\n  const v = t(s(-a(p, f) / r(f)));\n  return m ? (m.heading = k, m.tilt = v, m) : {\n    heading: k,\n    tilt: v\n  };\n}\n\nexport { h as createDirectionUp, m as directionToHeadingTilt };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/support/cameraUtilsInternal.js"],"names":["rad2deg","t","acosClamped","s","n","d","a","g","o","c","f","i","l","r","e","u","h","direction","up","m","p","j","b","Math","abs","k","v","heading","tilt","createDirectionUp","directionToHeadingTilt"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,OAAO,IAAIC,CAAlB,EAAoBC,WAAW,IAAIC,CAAnC,QAAyC,4BAAzC;AAAsE,SAAOC,CAAP,EAASC,CAAC,IAAIC,CAAd,EAAgBC,CAAC,IAAIC,CAArB,EAAuBF,CAAC,IAAIG,CAA5B,EAA8BC,CAAC,IAAIC,CAAnC,EAAqCC,CAAC,IAAIC,CAA1C,EAA4CJ,CAAC,IAAIK,CAAjD,QAAuD,yBAAvD;AAAiF,SAAOL,CAAC,IAAIC,CAAZ,QAAkB,4BAAlB;AAA+C,MAAME,CAAC,GAACF,CAAC,EAAT;AAAA,MAAYK,CAAC,GAACL,CAAC,EAAf;;AAAkB,SAASM,CAAT,GAAY;AAAC,SAAM;AAACC,IAAAA,SAAS,EAACP,CAAC,EAAZ;AAAeQ,IAAAA,EAAE,EAACR,CAAC;AAAnB,GAAN;AAA6B;;AAAA,SAASS,CAAT,CAAWT,CAAX,EAAaM,CAAb,EAAeG,CAAf,EAAiBC,CAAjB,EAAmBf,CAAnB,EAAqB;AAAC,MAAIE,CAAC,GAACH,CAAC,CAACQ,CAAD,EAAGF,CAAH,CAAP;AAAA,MAAaW,CAAC,GAACf,CAAC,CAACC,CAAD,EAAGa,CAAH,CAAhB;AAAsB,QAAME,CAAC,GAACD,CAAC,GAAC,CAAV;AAAYA,EAAAA,CAAC,GAACE,IAAI,CAACC,GAAL,CAASH,CAAT,CAAF,EAAcA,CAAC,GAAC,GAAF,KAAQA,CAAC,GAACE,IAAI,CAACC,GAAL,CAASlB,CAAC,CAACU,CAAD,EAAGI,CAAH,CAAV,CAAF,EAAmBC,CAAC,GAAC,GAAF,IAAOb,CAAC,CAACD,CAAD,EAAGS,CAAH,CAAD,EAAOM,CAAC,IAAEb,CAAC,CAACF,CAAD,EAAGA,CAAH,EAAK,CAAC,CAAN,CAAlB,IAA4BA,CAAC,GAAC,IAAzD,CAAd;AAA6E,MAAIkB,CAAC,GAAC,CAAN;;AAAQ,MAAGlB,CAAH,EAAK;AAACE,IAAAA,CAAC,CAACM,CAAD,EAAGK,CAAH,EAAKd,CAAC,CAACc,CAAD,EAAGb,CAAH,CAAN,CAAD,EAAcI,CAAC,CAACJ,CAAD,EAAGA,CAAH,EAAKQ,CAAL,CAAf;AAAuB,UAAMX,CAAC,GAACE,CAAC,CAACC,CAAD,EAAGF,CAAH,CAAD,IAAQQ,CAAC,CAACN,CAAD,CAAD,GAAKM,CAAC,CAACR,CAAD,CAAd,CAAR;AAA2BS,IAAAA,CAAC,CAACC,CAAD,EAAGR,CAAH,EAAKF,CAAL,CAAD;AAASoB,IAAAA,CAAC,GAAC,CAACnB,CAAC,CAACS,CAAD,EAAGK,CAAH,CAAD,GAAO,CAAP,GAAS,CAAT,GAAW,CAAC,CAAb,IAAgBnB,CAAC,CAACE,CAAC,CAACC,CAAD,CAAF,CAAnB;AAA0B;;AAAA,QAAMsB,CAAC,GAACzB,CAAC,CAACE,CAAC,CAAC,CAACG,CAAC,CAACc,CAAD,EAAGV,CAAH,CAAF,GAAQG,CAAC,CAACH,CAAD,CAAV,CAAF,CAAT;AAA2B,SAAOS,CAAC,IAAEA,CAAC,CAACQ,OAAF,GAAUF,CAAV,EAAYN,CAAC,CAACS,IAAF,GAAOF,CAAnB,EAAqBP,CAAvB,IAA0B;AAACQ,IAAAA,OAAO,EAACF,CAAT;AAAWG,IAAAA,IAAI,EAACF;AAAhB,GAAlC;AAAqD;;AAAA,SAAOV,CAAC,IAAIa,iBAAZ,EAA8BV,CAAC,IAAIW,sBAAnC","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,acosClamped as s}from\"../../../core/mathUtils.js\";import{n,d as a,g as o,a as c,f as i,l as r,c as e}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";const l=f(),u=f();function h(){return{direction:f(),up:f()}}function m(f,h,m,p,d){let g=n(l,f),j=a(g,p);const b=j>0;j=Math.abs(j),j>.99&&(j=Math.abs(a(h,p)),j<.99?(o(g,h),b&&c(g,g,-1)):g=null);let k=0;if(g){c(u,p,a(p,g)),i(g,g,u);const n=a(g,d)/(r(g)*r(d));e(u,g,d);k=(a(u,p)>0?1:-1)*t(s(n))}const v=t(s(-a(p,f)/r(f)));return m?(m.heading=k,m.tilt=v,m):{heading:k,tilt:v}}export{h as createDirectionUp,m as directionToHeadingTilt};\n"]},"metadata":{},"sourceType":"module"}