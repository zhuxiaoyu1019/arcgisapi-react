{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { NormalAttribute as o } from \"./NormalAttribute.glsl.js\";\nimport { VertexPosition as r } from \"./VertexPosition.glsl.js\";\nimport { glsl as a } from \"../../shaderModules/interfaces.js\";\n\nfunction l(l, e) {\n  0 === e.normalType || 1 === e.normalType ? (l.include(o, e), l.varyings.add(\"vNormalWorld\", \"vec3\"), l.varyings.add(\"vNormalView\", \"vec3\"), l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\", \"mat3\"), l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\", \"mat3\"), l.vertex.code.add(a`void forwardNormal() {\nvNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\nvNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n}`)) : 2 === e.normalType ? (l.include(r, e), l.varyings.add(\"vNormalWorld\", \"vec3\"), l.vertex.code.add(a`\n    void forwardNormal() {\n      vNormalWorld = ${1 === e.viewingMode ? a`normalize(vPositionWorldCameraRelative);` : a`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)) : l.vertex.code.add(a`void forwardNormal() {}`);\n}\n\n!function (o) {\n  function r(o, r) {\n    o.setUniformMatrix4fv(\"viewNormal\", r);\n  }\n\n  o.bindUniforms = r;\n}(l || (l = {}));\nexport { l as VertexNormal };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js"],"names":["NormalAttribute","o","VertexPosition","r","glsl","a","l","e","normalType","include","varyings","add","vertex","uniforms","code","viewingMode","setUniformMatrix4fv","bindUniforms","VertexNormal"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,eAAe,IAAIC,CAA1B,QAAgC,2BAAhC;AAA4D,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,0BAA/B;AAA0D,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;;AAAyD,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAIA,CAAC,CAACC,UAAN,IAAkB,MAAID,CAAC,CAACC,UAAxB,IAAoCF,CAAC,CAACG,OAAF,CAAUR,CAAV,EAAYM,CAAZ,GAAeD,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,cAAf,EAA8B,MAA9B,CAAf,EAAqDL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,aAAf,EAA6B,MAA7B,CAArD,EAA0FL,CAAC,CAACM,MAAF,CAASC,QAAT,CAAkBF,GAAlB,CAAsB,kCAAtB,EAAyD,MAAzD,CAA1F,EAA2JL,CAAC,CAACM,MAAF,CAASC,QAAT,CAAkBF,GAAlB,CAAsB,iCAAtB,EAAwD,MAAxD,CAA3J,EAA2NL,CAAC,CAACM,MAAF,CAASE,IAAT,CAAcH,GAAd,CAAkBN,CAAE;AACld;AACA;AACA,EAH8b,CAA/P,IAG1L,MAAIE,CAAC,CAACC,UAAN,IAAkBF,CAAC,CAACG,OAAF,CAAUN,CAAV,EAAYI,CAAZ,GAAeD,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,cAAf,EAA8B,MAA9B,CAAf,EAAqDL,CAAC,CAACM,MAAF,CAASE,IAAT,CAAcH,GAAd,CAAkBN,CAAE;AAChG;AACA,uBAAuB,MAAIE,CAAC,CAACQ,WAAN,GAAkBV,CAAE,0CAApB,GAA8DA,CAAE,sBAAsB;AAC7G;AACA,KAJ4E,CAAvE,IAIGC,CAAC,CAACM,MAAF,CAASE,IAAT,CAAcH,GAAd,CAAkBN,CAAE,yBAApB,CAPuL;AAOzI;;AAAA,CAAC,UAASJ,CAAT,EAAW;AAAC,WAASE,CAAT,CAAWF,CAAX,EAAaE,CAAb,EAAe;AAACF,IAAAA,CAAC,CAACe,mBAAF,CAAsB,YAAtB,EAAmCb,CAAnC;AAAsC;;AAAAF,EAAAA,CAAC,CAACgB,YAAF,GAAed,CAAf;AAAiB,CAAnF,CAAoFG,CAAC,KAAGA,CAAC,GAAC,EAAL,CAArF,CAAD;AAAgG,SAAOA,CAAC,IAAIY,YAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{NormalAttribute as o}from\"./NormalAttribute.glsl.js\";import{VertexPosition as r}from\"./VertexPosition.glsl.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";function l(l,e){0===e.normalType||1===e.normalType?(l.include(o,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.varyings.add(\"vNormalView\",\"vec3\"),l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\",\"mat3\"),l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\",\"mat3\"),l.vertex.code.add(a`void forwardNormal() {\nvNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\nvNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n}`)):2===e.normalType?(l.include(r,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.vertex.code.add(a`\n    void forwardNormal() {\n      vNormalWorld = ${1===e.viewingMode?a`normalize(vPositionWorldCameraRelative);`:a`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):l.vertex.code.add(a`void forwardNormal() {}`)}!function(o){function r(o,r){o.setUniformMatrix4fv(\"viewNormal\",r)}o.bindUniforms=r}(l||(l={}));export{l as VertexNormal};\n"]},"metadata":{},"sourceType":"module"}