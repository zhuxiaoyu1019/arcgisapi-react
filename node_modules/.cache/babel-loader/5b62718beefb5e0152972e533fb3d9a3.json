{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isSome as n } from \"../../../../../core/maybe.js\";\nimport { c as o } from \"../../../../../chunks/vec3f64.js\";\nimport { empty as t, expandWithVec3 as e, center as i, diameter as s } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { LodComponentData as r } from \"./LodComponentData.js\";\n\nclass c {\n  constructor(n, o) {\n    this.minScreenSpaceRadius = n, this.components = o;\n  }\n\n  static async create(n, o, t) {\n    const e = await Promise.all(o.components.map(o => n.schedule(() => new r(n, o), t)));\n    return new c(o.minScreenSpaceRadius, e);\n  }\n\n  destroy() {\n    this.components.forEach(n => {\n      n.destroy();\n    });\n  }\n\n  intersect(n, o, t, e, i, s) {\n    this.components.forEach(r => {\n      r.intersect(n, o, t, e, i, s);\n    });\n  }\n\n  get boundingBox() {\n    if (!this._boundingBox) {\n      const o = t();\n      this.components.forEach(t => {\n        n(t.boundingInfo) && (e(o, t.boundingInfo.bbMin), e(o, t.boundingInfo.bbMax));\n      }), this._boundingBox = o;\n    }\n\n    return this._boundingBox;\n  }\n\n  get boundingSphere() {\n    if (!this._boundingSphere) {\n      const n = this.boundingBox,\n            t = o();\n      i(n, t), this._boundingSphere = {\n        center: t,\n        radius: .5 * s(n)\n      };\n    }\n\n    return this._boundingSphere;\n  }\n\n  get triangleCount() {\n    return this.components.reduce((n, o) => n + o.triangleCount, 0);\n  }\n\n}\n\nexport { c as LodLevel };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js"],"names":["isSome","n","c","o","empty","t","expandWithVec3","e","center","i","diameter","s","LodComponentData","r","constructor","minScreenSpaceRadius","components","create","Promise","all","map","schedule","destroy","forEach","intersect","boundingBox","_boundingBox","boundingInfo","bbMin","bbMax","boundingSphere","_boundingSphere","radius","triangleCount","reduce","LodLevel"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,8BAAvB;AAAsD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,kCAAlB;AAAqD,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,cAAc,IAAIC,CAApC,EAAsCC,MAAM,IAAIC,CAAhD,EAAkDC,QAAQ,IAAIC,CAA9D,QAAoE,kDAApE;AAAuH,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,uBAAjC;;AAAyD,MAAMX,CAAN,CAAO;AAACY,EAAAA,WAAW,CAACb,CAAD,EAAGE,CAAH,EAAK;AAAC,SAAKY,oBAAL,GAA0Bd,CAA1B,EAA4B,KAAKe,UAAL,GAAgBb,CAA5C;AAA8C;;AAAmB,eAANc,MAAM,CAAChB,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;AAAC,UAAME,CAAC,GAAC,MAAMW,OAAO,CAACC,GAAR,CAAYhB,CAAC,CAACa,UAAF,CAAaI,GAAb,CAAkBjB,CAAC,IAAEF,CAAC,CAACoB,QAAF,CAAY,MAAI,IAAIR,CAAJ,CAAMZ,CAAN,EAAQE,CAAR,CAAhB,EAA4BE,CAA5B,CAArB,CAAZ,CAAd;AAAiF,WAAO,IAAIH,CAAJ,CAAMC,CAAC,CAACY,oBAAR,EAA6BR,CAA7B,CAAP;AAAuC;;AAAAe,EAAAA,OAAO,GAAE;AAAC,SAAKN,UAAL,CAAgBO,OAAhB,CAAyBtB,CAAC,IAAE;AAACA,MAAAA,CAAC,CAACqB,OAAF;AAAY,KAAzC;AAA4C;;AAAAE,EAAAA,SAAS,CAACvB,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAa;AAAC,SAAKK,UAAL,CAAgBO,OAAhB,CAAyBV,CAAC,IAAE;AAACA,MAAAA,CAAC,CAACW,SAAF,CAAYvB,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkBE,CAAlB,EAAoBE,CAApB,EAAsBE,CAAtB;AAAyB,KAAtD;AAAyD;;AAAe,MAAXc,WAAW,GAAE;AAAC,QAAG,CAAC,KAAKC,YAAT,EAAsB;AAAC,YAAMvB,CAAC,GAACE,CAAC,EAAT;AAAY,WAAKW,UAAL,CAAgBO,OAAhB,CAAyBlB,CAAC,IAAE;AAACJ,QAAAA,CAAC,CAACI,CAAC,CAACsB,YAAH,CAAD,KAAoBpB,CAAC,CAACJ,CAAD,EAAGE,CAAC,CAACsB,YAAF,CAAeC,KAAlB,CAAD,EAA0BrB,CAAC,CAACJ,CAAD,EAAGE,CAAC,CAACsB,YAAF,CAAeE,KAAlB,CAA/C;AAAyE,OAAtG,GAAyG,KAAKH,YAAL,GAAkBvB,CAA3H;AAA6H;;AAAA,WAAO,KAAKuB,YAAZ;AAAyB;;AAAkB,MAAdI,cAAc,GAAE;AAAC,QAAG,CAAC,KAAKC,eAAT,EAAyB;AAAC,YAAM9B,CAAC,GAAC,KAAKwB,WAAb;AAAA,YAAyBpB,CAAC,GAACF,CAAC,EAA5B;AAA+BM,MAAAA,CAAC,CAACR,CAAD,EAAGI,CAAH,CAAD,EAAO,KAAK0B,eAAL,GAAqB;AAACvB,QAAAA,MAAM,EAACH,CAAR;AAAU2B,QAAAA,MAAM,EAAC,KAAGrB,CAAC,CAACV,CAAD;AAArB,OAA5B;AAAsD;;AAAA,WAAO,KAAK8B,eAAZ;AAA4B;;AAAiB,MAAbE,aAAa,GAAE;AAAC,WAAO,KAAKjB,UAAL,CAAgBkB,MAAhB,CAAwB,CAACjC,CAAD,EAAGE,CAAH,KAAOF,CAAC,GAACE,CAAC,CAAC8B,aAAnC,EAAkD,CAAlD,CAAP;AAA4D;;AAApxB;;AAAqxB,SAAO/B,CAAC,IAAIiC,QAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as n}from\"../../../../../core/maybe.js\";import{c as o}from\"../../../../../chunks/vec3f64.js\";import{empty as t,expandWithVec3 as e,center as i,diameter as s}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as r}from\"./LodComponentData.js\";class c{constructor(n,o){this.minScreenSpaceRadius=n,this.components=o}static async create(n,o,t){const e=await Promise.all(o.components.map((o=>n.schedule((()=>new r(n,o)),t))));return new c(o.minScreenSpaceRadius,e)}destroy(){this.components.forEach((n=>{n.destroy()}))}intersect(n,o,t,e,i,s){this.components.forEach((r=>{r.intersect(n,o,t,e,i,s)}))}get boundingBox(){if(!this._boundingBox){const o=t();this.components.forEach((t=>{n(t.boundingInfo)&&(e(o,t.boundingInfo.bbMin),e(o,t.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(!this._boundingSphere){const n=this.boundingBox,t=o();i(n,t),this._boundingSphere={center:t,radius:.5*s(n)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((n,o)=>n+o.triangleCount),0)}}export{c as LodLevel};\n"]},"metadata":{},"sourceType":"module"}