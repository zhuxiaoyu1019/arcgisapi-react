{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { s as t, b as e, a as n, h as r, d as o, i as s, c as i, n as f, g as u } from \"../../../../../chunks/vec3.js\";\nimport { c as a } from \"../../../../../chunks/vec3f64.js\";\nimport { geodesicArea as c } from \"../../../../../geometry/geometryEngine.js\";\nimport l from \"../../../../../geometry/Polygon.js\";\nimport { projectPointToVector as m, projectPointToWGS84ComparableLonLat as h, projectVectorToWGS84ComparableLonLat as g } from \"../../../../../geometry/projection.js\";\nimport p from \"../../../../../geometry/SpatialReference.js\";\nimport { inverseGeodeticSolver as j } from \"../../../../../geometry/support/geodesicUtils.js\";\nimport { planeFromPoints as d } from \"../../../support/mathUtils.js\";\n\nfunction y(o, s) {\n  const i = s.center;\n  t(i, 0, 0, 0);\n\n  for (let t = 0; t < o.length; ++t) e(i, i, o[t]);\n\n  n(i, i, 1 / o.length);\n  let f = 0;\n\n  for (let t = 0; t < o.length; ++t) f = Math.max(f, r(i, o[t]));\n\n  s.radius = Math.sqrt(f);\n}\n\nfunction M(t, e) {\n  if (t.length < 3) throw new Error(\"need at least 3 points to fit a plane\");\n  d(t[0], t[1], t[2], e);\n}\n\nfunction b(t, e) {\n  return o(t, e) + t[3];\n}\n\nfunction P(t, e, n) {\n  return m(t, R, n) && m(e, S, n) ? s(R, S) : 0;\n}\n\nfunction w(t, e) {\n  if (!h(t, R) || !h(e, S)) return 0;\n  const n = {\n    distance: null\n  };\n  return j(n, [R[0], R[1]], [S[0], S[1]]), n.distance;\n}\n\nfunction z(t, e, n) {\n  const r = {\n    distance: null\n  };\n  return j(r, [t[0], t[1]], [e[0], e[1]], n), r.distance;\n}\n\nfunction k(t, e, n) {\n  const r = e[0] - t[0],\n        o = e[1] - t[1],\n        s = n[0] - t[0],\n        i = n[1] - t[1];\n  return .5 * Math.abs(r * i - o * s);\n}\n\nfunction q(t, e, n, r) {\n  const o = G;\n  return g(t, r, R) && g(e, r, S) && g(n, r, U) ? (o.setPoint(0, 0, R), o.setPoint(0, 1, S), o.setPoint(0, 2, U), Math.abs(c(o, \"square-meters\"))) : 0;\n}\n\nfunction v(e, n, r) {\n  Math.abs(e[0]) > Math.abs(e[1]) ? t(n, 0, 1, 0) : t(n, 1, 0, 0), i(r, e, n), f(n, n), i(n, r, e), f(r, r);\n}\n\nfunction x(n, r = null, s = !0) {\n  const a = 1e-6,\n        c = (t, e) => {\n    if (0 === e[0] && 0 === e[1] && 0 === e[2]) return !1;\n\n    for (let n = 0; n < t.length; ++n) if (o(e, t[n]) < -a) return !1;\n\n    return !0;\n  };\n\n  if (0 === n.length) return !1;\n  if (1 === n.length) return r && u(r, n[0]), !0;\n  t(W, 0, 0, 0);\n\n  for (let t = 0; t < n.length; ++t) e(W, W, n[t]);\n\n  if (f(W, W), c(n, W)) return r && u(r, W), !0;\n  if (!s) return !1;\n\n  for (let t = 0; t < n.length; ++t) for (let e = 0; e < n.length; ++e) if (t !== e && (i(W, n[t], n[e]), f(W, W), c(n, W))) return r && u(r, W), !0;\n\n  return !1;\n}\n\nfunction E(t, e) {\n  if (t === e) return !0;\n  if (t.size !== e.size) return !1;\n\n  for (let n = 0; n < t.size; ++n) if (!e.has(t[n])) return !1;\n\n  return !0;\n}\n\nconst R = a(),\n      S = a(),\n      U = a(),\n      G = new l({\n  rings: [[R, S, U]],\n  spatialReference: p.WGS84\n}),\n      W = a();\nexport { M as bestFitPlane, y as boundingSphere, E as compareSets, x as fitHemisphere, b as planePointDistance, P as segmentLengthEuclidean, w as segmentLengthGeodesic, z as segmentLengthGeodesicVector, v as tangentFrame, k as triangleAreaEuclidean, q as triangleAreaGeodesic };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/layers/analysis/support/measurementUtils.js"],"names":["s","t","b","e","a","n","h","r","d","o","i","c","f","g","u","geodesicArea","l","projectPointToVector","m","projectPointToWGS84ComparableLonLat","projectVectorToWGS84ComparableLonLat","p","inverseGeodeticSolver","j","planeFromPoints","y","center","length","Math","max","radius","sqrt","M","Error","P","R","S","w","distance","z","k","abs","q","G","U","setPoint","v","x","W","E","size","has","rings","spatialReference","WGS84","bestFitPlane","boundingSphere","compareSets","fitHemisphere","planePointDistance","segmentLengthEuclidean","segmentLengthGeodesic","segmentLengthGeodesicVector","tangentFrame","triangleAreaEuclidean","triangleAreaGeodesic"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{s as t,b as e,a as n,h as r,d as o,i as s,c as i,n as f,g as u}from\"../../../../../chunks/vec3.js\";import{c as a}from\"../../../../../chunks/vec3f64.js\";import{geodesicArea as c}from\"../../../../../geometry/geometryEngine.js\";import l from\"../../../../../geometry/Polygon.js\";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as h,projectVectorToWGS84ComparableLonLat as g}from\"../../../../../geometry/projection.js\";import p from\"../../../../../geometry/SpatialReference.js\";import{inverseGeodeticSolver as j}from\"../../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as d}from\"../../../support/mathUtils.js\";function y(o,s){const i=s.center;t(i,0,0,0);for(let t=0;t<o.length;++t)e(i,i,o[t]);n(i,i,1/o.length);let f=0;for(let t=0;t<o.length;++t)f=Math.max(f,r(i,o[t]));s.radius=Math.sqrt(f)}function M(t,e){if(t.length<3)throw new Error(\"need at least 3 points to fit a plane\");d(t[0],t[1],t[2],e)}function b(t,e){return o(t,e)+t[3]}function P(t,e,n){return m(t,R,n)&&m(e,S,n)?s(R,S):0}function w(t,e){if(!h(t,R)||!h(e,S))return 0;const n={distance:null};return j(n,[R[0],R[1]],[S[0],S[1]]),n.distance}function z(t,e,n){const r={distance:null};return j(r,[t[0],t[1]],[e[0],e[1]],n),r.distance}function k(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],i=n[1]-t[1];return.5*Math.abs(r*i-o*s)}function q(t,e,n,r){const o=G;return g(t,r,R)&&g(e,r,S)&&g(n,r,U)?(o.setPoint(0,0,R),o.setPoint(0,1,S),o.setPoint(0,2,U),Math.abs(c(o,\"square-meters\"))):0}function v(e,n,r){Math.abs(e[0])>Math.abs(e[1])?t(n,0,1,0):t(n,1,0,0),i(r,e,n),f(n,n),i(n,r,e),f(r,r)}function x(n,r=null,s=!0){const a=1e-6,c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let n=0;n<t.length;++n)if(o(e,t[n])<-a)return!1;return!0};if(0===n.length)return!1;if(1===n.length)return r&&u(r,n[0]),!0;t(W,0,0,0);for(let t=0;t<n.length;++t)e(W,W,n[t]);if(f(W,W),c(n,W))return r&&u(r,W),!0;if(!s)return!1;for(let t=0;t<n.length;++t)for(let e=0;e<n.length;++e)if(t!==e&&(i(W,n[t],n[e]),f(W,W),c(n,W)))return r&&u(r,W),!0;return!1}function E(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let n=0;n<t.size;++n)if(!e.has(t[n]))return!1;return!0}const R=a(),S=a(),U=a(),G=new l({rings:[[R,S,U]],spatialReference:p.WGS84}),W=a();export{M as bestFitPlane,y as boundingSphere,E as compareSets,x as fitHemisphere,b as planePointDistance,P as segmentLengthEuclidean,w as segmentLengthGeodesic,z as segmentLengthGeodesicVector,v as tangentFrame,k as triangleAreaEuclidean,q as triangleAreaGeodesic};\n"]},"metadata":{},"sourceType":"module"}