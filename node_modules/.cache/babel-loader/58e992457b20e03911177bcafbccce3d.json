{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e } from \"../../../core/maybe.js\";\nimport { c as t } from \"../../../chunks/vec2f32.js\";\nimport \"../../webgl/BufferObject.js\";\nimport r from \"../../webgl/FramebufferObject.js\";\nimport \"../../../core/has.js\";\nimport \"../../webgl/enums.js\";\nimport \"../../webgl/RenderingContext.js\";\nimport \"../../../chunks/builtins.js\";\nimport \"../../webgl/Texture.js\";\nimport \"../../webgl/VertexArrayObject.js\";\n\nclass i {\n  constructor(e, i) {\n    this.size = t(), this._fbo = null, this._fbo = new r(e, {\n      colorTarget: 0,\n      depthStencilTarget: 0\n    }, {\n      target: 3553,\n      pixelFormat: 6408,\n      dataType: 5121,\n      wrapMode: 33071,\n      samplingMode: 9987,\n      hasMipmap: i,\n      maxAnisotropy: 8,\n      width: 0,\n      height: 0\n    });\n  }\n\n  dispose() {\n    this._fbo = e(this._fbo);\n  }\n\n  getTexture() {\n    return this._fbo ? this._fbo.colorTexture : null;\n  }\n\n  isValid() {\n    return null !== this._fbo;\n  }\n\n  resize(e, t) {\n    this.size[0] = e, this.size[1] = t, this._fbo.resize(this.size[0], this.size[1]);\n  }\n\n  bind(e) {\n    e.bindFramebuffer(this._fbo);\n  }\n\n  generateMipMap() {\n    this._fbo.colorTexture.descriptor.hasMipmap && this._fbo.colorTexture.generateMipmap();\n  }\n\n  disposeRenderTargetMemory() {\n    var e;\n    null == (e = this._fbo) || e.resize(0, 0);\n  }\n\n  get gpuMemoryUsage() {\n    var e, t;\n    return null != (e = null == (t = this._fbo) ? void 0 : t.gpuMemoryUsage) ? e : 0;\n  }\n\n}\n\nexport { i as OverlayFramebufferObject };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js"],"names":["disposeMaybe","e","c","t","r","i","constructor","size","_fbo","colorTarget","depthStencilTarget","target","pixelFormat","dataType","wrapMode","samplingMode","hasMipmap","maxAnisotropy","width","height","dispose","getTexture","colorTexture","isValid","resize","bind","bindFramebuffer","generateMipMap","descriptor","generateMipmap","disposeRenderTargetMemory","gpuMemoryUsage","OverlayFramebufferObject"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAvB,QAA6B,wBAA7B;AAAsD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,4BAAlB;AAA+C,OAAM,6BAAN;AAAoC,OAAOC,CAAP,MAAa,kCAAb;AAAgD,OAAM,sBAAN;AAA6B,OAAM,sBAAN;AAA6B,OAAM,iCAAN;AAAwC,OAAM,6BAAN;AAAoC,OAAM,wBAAN;AAA+B,OAAM,kCAAN;;AAAyC,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACL,CAAD,EAAGI,CAAH,EAAK;AAAC,SAAKE,IAAL,GAAUJ,CAAC,EAAX,EAAc,KAAKK,IAAL,GAAU,IAAxB,EAA6B,KAAKA,IAAL,GAAU,IAAIJ,CAAJ,CAAMH,CAAN,EAAQ;AAACQ,MAAAA,WAAW,EAAC,CAAb;AAAeC,MAAAA,kBAAkB,EAAC;AAAlC,KAAR,EAA6C;AAACC,MAAAA,MAAM,EAAC,IAAR;AAAaC,MAAAA,WAAW,EAAC,IAAzB;AAA8BC,MAAAA,QAAQ,EAAC,IAAvC;AAA4CC,MAAAA,QAAQ,EAAC,KAArD;AAA2DC,MAAAA,YAAY,EAAC,IAAxE;AAA6EC,MAAAA,SAAS,EAACX,CAAvF;AAAyFY,MAAAA,aAAa,EAAC,CAAvG;AAAyGC,MAAAA,KAAK,EAAC,CAA/G;AAAiHC,MAAAA,MAAM,EAAC;AAAxH,KAA7C,CAAvC;AAAgN;;AAAAC,EAAAA,OAAO,GAAE;AAAC,SAAKZ,IAAL,GAAUP,CAAC,CAAC,KAAKO,IAAN,CAAX;AAAuB;;AAAAa,EAAAA,UAAU,GAAE;AAAC,WAAO,KAAKb,IAAL,GAAU,KAAKA,IAAL,CAAUc,YAApB,GAAiC,IAAxC;AAA6C;;AAAAC,EAAAA,OAAO,GAAE;AAAC,WAAO,SAAO,KAAKf,IAAnB;AAAwB;;AAAAgB,EAAAA,MAAM,CAACvB,CAAD,EAAGE,CAAH,EAAK;AAAC,SAAKI,IAAL,CAAU,CAAV,IAAaN,CAAb,EAAe,KAAKM,IAAL,CAAU,CAAV,IAAaJ,CAA5B,EAA8B,KAAKK,IAAL,CAAUgB,MAAV,CAAiB,KAAKjB,IAAL,CAAU,CAAV,CAAjB,EAA8B,KAAKA,IAAL,CAAU,CAAV,CAA9B,CAA9B;AAA0E;;AAAAkB,EAAAA,IAAI,CAACxB,CAAD,EAAG;AAACA,IAAAA,CAAC,CAACyB,eAAF,CAAkB,KAAKlB,IAAvB;AAA6B;;AAAAmB,EAAAA,cAAc,GAAE;AAAC,SAAKnB,IAAL,CAAUc,YAAV,CAAuBM,UAAvB,CAAkCZ,SAAlC,IAA6C,KAAKR,IAAL,CAAUc,YAAV,CAAuBO,cAAvB,EAA7C;AAAqF;;AAAAC,EAAAA,yBAAyB,GAAE;AAAC,QAAI7B,CAAJ;AAAM,aAAOA,CAAC,GAAC,KAAKO,IAAd,KAAqBP,CAAC,CAACuB,MAAF,CAAS,CAAT,EAAW,CAAX,CAArB;AAAmC;;AAAkB,MAAdO,cAAc,GAAE;AAAC,QAAI9B,CAAJ,EAAME,CAAN;AAAQ,WAAO,SAAOF,CAAC,GAAC,SAAOE,CAAC,GAAC,KAAKK,IAAd,IAAoB,KAAK,CAAzB,GAA2BL,CAAC,CAAC4B,cAAtC,IAAsD9B,CAAtD,GAAwD,CAA/D;AAAiE;;AAAnuB;;AAAouB,SAAOI,CAAC,IAAI2B,wBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/vec2f32.js\";import\"../../webgl/BufferObject.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../../core/has.js\";import\"../../webgl/enums.js\";import\"../../webgl/RenderingContext.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import\"../../webgl/VertexArrayObject.js\";class i{constructor(e,i){this.size=t(),this._fbo=null,this._fbo=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:i,maxAnisotropy:8,width:0,height:0})}dispose(){this._fbo=e(this._fbo)}getTexture(){return this._fbo?this._fbo.colorTexture:null}isValid(){return null!==this._fbo}resize(e,t){this.size[0]=e,this.size[1]=t,this._fbo.resize(this.size[0],this.size[1])}bind(e){e.bindFramebuffer(this._fbo)}generateMipMap(){this._fbo.colorTexture.descriptor.hasMipmap&&this._fbo.colorTexture.generateMipmap()}disposeRenderTargetMemory(){var e;null==(e=this._fbo)||e.resize(0,0)}get gpuMemoryUsage(){var e,t;return null!=(e=null==(t=this._fbo)?void 0:t.gpuMemoryUsage)?e:0}}export{i as OverlayFramebufferObject};\n"]},"metadata":{},"sourceType":"module"}