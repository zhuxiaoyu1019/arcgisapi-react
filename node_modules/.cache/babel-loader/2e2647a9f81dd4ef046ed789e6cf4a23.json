{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { applyDefaultProjectionOptions as e, dom as r } from \"./dom.js\";\n\nlet t,\n    n = (e, r) => {\n  let t = [];\n\n  for (; e && e !== r;) t.push(e), e = e.parentNode;\n\n  return t;\n};\n\nt = Array.prototype.find ? (e, r) => e.find(r) : (e, r) => e.filter(r)[0];\n\nlet o = (e, r) => {\n  let n = e;\n  return r.forEach(e => {\n    n = n && n.children ? t(n.children, r => r.domNode === e) : void 0;\n  }), n;\n},\n    d = (e, r, t) => {\n  let d = function (d) {\n    t(\"domEvent\", d);\n    let i = r(),\n        p = n(d.currentTarget, i.domNode);\n    p.reverse();\n    let l,\n        a = o(i.getLastRender(), p);\n    return e.scheduleRender(), a && (l = a.properties[`on${d.type}`].apply(a.properties.bind || this, arguments)), t(\"domEventProcessed\", d), l;\n  };\n\n  return (e, r, t, n) => d;\n},\n    i = t => {\n  let n,\n      o,\n      i = e(t),\n      p = i.performanceLogger,\n      l = !0,\n      a = !1,\n      s = [],\n      c = [],\n      u = (e, r, t) => {\n    let o,\n        l = () => o;\n\n    i.eventHandlerInterceptor = d(n, l, p), o = e(r, t(), i), s.push(o), c.push(t);\n  },\n      f = () => {\n    if (o = void 0, l) {\n      l = !1, p(\"renderStart\", void 0);\n\n      for (let e = 0; e < s.length; e++) {\n        let r = c[e]();\n        p(\"rendered\", void 0), s[e].update(r), p(\"patched\", void 0);\n      }\n\n      p(\"renderDone\", void 0), l = !0;\n    }\n  };\n\n  return n = {\n    renderNow: f,\n    scheduleRender: () => {\n      o || a || (o = requestAnimationFrame(f));\n    },\n    stop: () => {\n      o && (cancelAnimationFrame(o), o = void 0), a = !0;\n    },\n    resume: () => {\n      a = !1, l = !0, n.scheduleRender();\n    },\n    append: (e, t) => {\n      u(r.append, e, t);\n    },\n    insertBefore: (e, t) => {\n      u(r.insertBefore, e, t);\n    },\n    merge: (e, t) => {\n      u(r.merge, e, t);\n    },\n    replace: (e, t) => {\n      u(r.replace, e, t);\n    },\n    detach: e => {\n      for (let r = 0; r < c.length; r++) if (c[r] === e) return c.splice(r, 1), s.splice(r, 1)[0];\n\n      throw new Error(\"renderFunction was not found\");\n    }\n  }, n;\n};\n\nexport { i as createProjector };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/libs/maquette/projector.js"],"names":["applyDefaultProjectionOptions","e","dom","r","t","n","push","parentNode","Array","prototype","find","filter","o","forEach","children","domNode","d","i","p","currentTarget","reverse","l","a","getLastRender","scheduleRender","properties","type","apply","bind","arguments","performanceLogger","s","c","u","eventHandlerInterceptor","f","length","update","renderNow","requestAnimationFrame","stop","cancelAnimationFrame","resume","append","insertBefore","merge","replace","detach","splice","Error","createProjector"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{applyDefaultProjectionOptions as e,dom as r}from\"./dom.js\";let t,n=(e,r)=>{let t=[];for(;e&&e!==r;)t.push(e),e=e.parentNode;return t};t=Array.prototype.find?(e,r)=>e.find(r):(e,r)=>e.filter(r)[0];let o=(e,r)=>{let n=e;return r.forEach((e=>{n=n&&n.children?t(n.children,(r=>r.domNode===e)):void 0})),n},d=(e,r,t)=>{let d=function(d){t(\"domEvent\",d);let i=r(),p=n(d.currentTarget,i.domNode);p.reverse();let l,a=o(i.getLastRender(),p);return e.scheduleRender(),a&&(l=a.properties[`on${d.type}`].apply(a.properties.bind||this,arguments)),t(\"domEventProcessed\",d),l};return(e,r,t,n)=>d},i=t=>{let n,o,i=e(t),p=i.performanceLogger,l=!0,a=!1,s=[],c=[],u=(e,r,t)=>{let o,l=()=>o;i.eventHandlerInterceptor=d(n,l,p),o=e(r,t(),i),s.push(o),c.push(t)},f=()=>{if(o=void 0,l){l=!1,p(\"renderStart\",void 0);for(let e=0;e<s.length;e++){let r=c[e]();p(\"rendered\",void 0),s[e].update(r),p(\"patched\",void 0)}p(\"renderDone\",void 0),l=!0}};return n={renderNow:f,scheduleRender:()=>{o||a||(o=requestAnimationFrame(f))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),a=!0},resume:()=>{a=!1,l=!0,n.scheduleRender()},append:(e,t)=>{u(r.append,e,t)},insertBefore:(e,t)=>{u(r.insertBefore,e,t)},merge:(e,t)=>{u(r.merge,e,t)},replace:(e,t)=>{u(r.replace,e,t)},detach:e=>{for(let r=0;r<c.length;r++)if(c[r]===e)return c.splice(r,1),s.splice(r,1)[0];throw new Error(\"renderFunction was not found\")}},n};export{i as createProjector};\n"]},"metadata":{},"sourceType":"module"}