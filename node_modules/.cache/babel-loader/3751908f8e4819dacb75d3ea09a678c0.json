{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Error.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { canProjectWithoutEngine as s } from \"../../../geometry/projection.js\";\nimport { LayerView3D as a } from \"./LayerView3D.js\";\nimport { TiledLayerView3D as l } from \"./TiledLayerView3D.js\";\nimport n from \"../../layers/LayerView.js\";\nimport { RefreshableLayerView as p } from \"../../layers/RefreshableLayerView.js\";\nimport { TileLayerView as m } from \"../../layers/TileLayerView.js\";\nimport { createQueryGeometry as f } from \"../../support/drapedUtils.js\";\nlet c = class extends p(l(m(a(n)))) {\n  constructor() {\n    super(...arguments), this.type = \"tile-3d\";\n  }\n\n  get imageFormatIsOpaque() {\n    return \"jpg\" === this.layer.tileInfo.format;\n  }\n\n  get hasMixedImageFormats() {\n    return \"mixed\" === this.layer.tileInfo.format;\n  }\n\n  get dataLevelRange() {\n    if (this.tileInfo) {\n      const e = this.tileInfo.lods,\n            r = e[0].scale,\n            t = e[e.length - 1].scale;\n      return this.levelRangeFromScaleRange(r, t);\n    }\n\n    return {\n      minLevel: 0,\n      maxLevel: 0\n    };\n  }\n\n  initialize() {\n    if (\"web-tile\" === this.layer.type) {\n      const e = this.layer.get(\"fullExtent.spatialReference\"),\n            o = this.layer.get(\"tileInfo.spatialReference\");\n\n      if (t(e) || t(o) || !s(e, o)) {\n        const e = \"defaults\" === this.layer.originOf(\"fullExtent\") || t(this.layer.fullExtent) ? \"SceneView requires fullExtent to be specified by the user on WebTileLayer\" : \"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer\";\n        this.addResolvingPromise(Promise.reject(new r(\"layerview:incompatible-fullextent\", e)));\n      }\n    }\n\n    this._addTilingSchemeMatchPromise();\n  }\n\n  createFetchPopupFeaturesQueryGeometry(e, r) {\n    return f(e, r, this.view);\n  }\n\n  async doRefresh(e) {\n    this.suspended || this.emit(\"data-changed\");\n  }\n\n};\ne([o({\n  readOnly: !0\n})], c.prototype, \"imageFormatIsOpaque\", null), e([o({\n  readOnly: !0\n})], c.prototype, \"hasMixedImageFormats\", null), e([o({\n  aliasOf: \"layer.fullExtent\"\n})], c.prototype, \"fullExtent\", void 0), e([o()], c.prototype, \"layer\", void 0), e([o({\n  aliasOf: \"layer.tileInfo\"\n})], c.prototype, \"tileInfo\", void 0), e([o({\n  readOnly: !0\n})], c.prototype, \"dataLevelRange\", null), c = e([i(\"esri.views.3d.layers.TileLayerView3D\")], c);\nvar y = c;\nexport default y;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/layers/TileLayerView3D.js"],"names":["_","e","r","isNone","t","property","o","subclass","i","canProjectWithoutEngine","s","LayerView3D","a","TiledLayerView3D","l","n","RefreshableLayerView","p","TileLayerView","m","createQueryGeometry","f","c","constructor","arguments","type","imageFormatIsOpaque","layer","tileInfo","format","hasMixedImageFormats","dataLevelRange","lods","scale","length","levelRangeFromScaleRange","minLevel","maxLevel","initialize","get","originOf","fullExtent","addResolvingPromise","Promise","reject","_addTilingSchemeMatchPromise","createFetchPopupFeaturesQueryGeometry","view","doRefresh","suspended","emit","readOnly","prototype","aliasOf","y"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as s}from\"../../../geometry/projection.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{TiledLayerView3D as l}from\"./TiledLayerView3D.js\";import n from\"../../layers/LayerView.js\";import{RefreshableLayerView as p}from\"../../layers/RefreshableLayerView.js\";import{TileLayerView as m}from\"../../layers/TileLayerView.js\";import{createQueryGeometry as f}from\"../../support/drapedUtils.js\";let c=class extends(p(l(m(a(n))))){constructor(){super(...arguments),this.type=\"tile-3d\"}get imageFormatIsOpaque(){return\"jpg\"===this.layer.tileInfo.format}get hasMixedImageFormats(){return\"mixed\"===this.layer.tileInfo.format}get dataLevelRange(){if(this.tileInfo){const e=this.tileInfo.lods,r=e[0].scale,t=e[e.length-1].scale;return this.levelRangeFromScaleRange(r,t)}return{minLevel:0,maxLevel:0}}initialize(){if(\"web-tile\"===this.layer.type){const e=this.layer.get(\"fullExtent.spatialReference\"),o=this.layer.get(\"tileInfo.spatialReference\");if(t(e)||t(o)||!s(e,o)){const e=\"defaults\"===this.layer.originOf(\"fullExtent\")||t(this.layer.fullExtent)?\"SceneView requires fullExtent to be specified by the user on WebTileLayer\":\"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer\";this.addResolvingPromise(Promise.reject(new r(\"layerview:incompatible-fullextent\",e)))}}this._addTilingSchemeMatchPromise()}createFetchPopupFeaturesQueryGeometry(e,r){return f(e,r,this.view)}async doRefresh(e){this.suspended||this.emit(\"data-changed\")}};e([o({readOnly:!0})],c.prototype,\"imageFormatIsOpaque\",null),e([o({readOnly:!0})],c.prototype,\"hasMixedImageFormats\",null),e([o({aliasOf:\"layer.fullExtent\"})],c.prototype,\"fullExtent\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o({aliasOf:\"layer.tileInfo\"})],c.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],c.prototype,\"dataLevelRange\",null),c=e([i(\"esri.views.3d.layers.TileLayerView3D\")],c);var y=c;export default y;\n"]},"metadata":{},"sourceType":"module"}