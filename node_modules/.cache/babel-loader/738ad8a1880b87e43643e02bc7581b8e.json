{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"./chunks/tslib.es6.js\";\nimport { geometryTypes as e } from \"./geometry.js\";\nimport r from \"./PopupTemplate.js\";\nimport { symbolTypes as o } from \"./symbols.js\";\nimport { JSONSupport as s } from \"./core/JSONSupport.js\";\nimport { clone as i } from \"./core/lang.js\";\nimport { isSome as p } from \"./core/maybe.js\";\nimport { generateUID as l } from \"./core/uid.js\";\nimport { property as a } from \"./core/accessorSupport/decorators/property.js\";\nimport \"./core/accessorSupport/ensureType.js\";\nimport \"./core/has.js\";\nimport \"./core/Logger.js\";\nimport { subclass as u } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { fromJSON as y } from \"./geometry/support/jsonUtils.js\";\nvar m;\nlet n = m = class extends s {\n  constructor(...t) {\n    super(...t), this.isAggregate = !1, this.layer = null, this.popupTemplate = null, this.sourceLayer = null, Object.defineProperty(this, \"uid\", {\n      value: l(),\n      configurable: !0\n    });\n  }\n\n  normalizeCtorArgs(t, e, r, o) {\n    return t && !t.declaredClass ? t : {\n      geometry: t,\n      symbol: e,\n      attributes: r,\n      popupTemplate: o\n    };\n  }\n\n  set attributes(t) {\n    const e = this._get(\"attributes\");\n\n    e !== t && (this._set(\"attributes\", t), this._notifyLayer(\"attributes\", e, t));\n  }\n\n  set geometry(t) {\n    const e = this._get(\"geometry\");\n\n    e !== t && (this._set(\"geometry\", t), this._notifyLayer(\"geometry\", e, t));\n  }\n\n  set symbol(t) {\n    const e = this._get(\"symbol\");\n\n    e !== t && (this._set(\"symbol\", t), this._notifyLayer(\"symbol\", e, t));\n  }\n\n  set visible(t) {\n    const e = this._get(\"visible\");\n\n    e !== t && (this._set(\"visible\", t), this._notifyLayer(\"visible\", e, t));\n  }\n\n  getEffectivePopupTemplate(t = !1) {\n    if (this.popupTemplate) return this.popupTemplate;\n\n    for (const e of [this.sourceLayer, this.layer]) if (e) {\n      if (\"popupTemplate\" in e && e.popupTemplate) return e.popupTemplate;\n      if (t && \"defaultPopupTemplate\" in e && p(e.defaultPopupTemplate)) return e.defaultPopupTemplate;\n    }\n\n    return null;\n  }\n\n  getAttribute(t) {\n    return this.attributes && this.attributes[t];\n  }\n\n  setAttribute(t, e) {\n    if (this.attributes) {\n      const r = this.getAttribute(t);\n      this.attributes[t] = e, this._notifyLayer(\"attributes\", r, e, t);\n    } else this.attributes = {\n      [t]: e\n    }, this._notifyLayer(\"attributes\", void 0, e, t);\n  }\n\n  getObjectId() {\n    return this.sourceLayer && \"objectIdField\" in this.sourceLayer && this.sourceLayer.objectIdField ? this.getAttribute(this.sourceLayer.objectIdField) : null;\n  }\n\n  toJSON() {\n    return {\n      geometry: p(this.geometry) ? this.geometry.toJSON() : null,\n      symbol: p(this.symbol) ? this.symbol.toJSON() : null,\n      attributes: { ...this.attributes\n      },\n      popupTemplate: this.popupTemplate && this.popupTemplate.toJSON()\n    };\n  }\n\n  clone() {\n    return new m(this.cloneProperties());\n  }\n\n  notifyGeometryChanged() {\n    this._notifyLayer(\"geometry\", this.geometry, this.geometry);\n  }\n\n  cloneProperties() {\n    return {\n      attributes: i(this.attributes),\n      geometry: i(this.geometry),\n      layer: this.layer,\n      popupTemplate: this.popupTemplate && this.popupTemplate.clone(),\n      sourceLayer: this.sourceLayer,\n      symbol: i(this.symbol),\n      visible: this.visible\n    };\n  }\n\n  _notifyLayer(t, e, r, o) {\n    if (!this.layer || !(\"graphicChanged\" in this.layer)) return;\n    const s = {\n      graphic: this,\n      property: t,\n      oldValue: e,\n      newValue: r\n    };\n    \"attributes\" === t && (s.attributeName = o), this.layer.graphicChanged(s);\n  }\n\n};\nt([a({\n  value: null\n})], n.prototype, \"attributes\", null), t([a({\n  value: null,\n  types: e,\n  json: {\n    read: y\n  }\n})], n.prototype, \"geometry\", null), t([a({\n  type: Boolean\n})], n.prototype, \"isAggregate\", void 0), t([a()], n.prototype, \"layer\", void 0), t([a({\n  type: r\n})], n.prototype, \"popupTemplate\", void 0), t([a()], n.prototype, \"sourceLayer\", void 0), t([a({\n  value: null,\n  types: o\n})], n.prototype, \"symbol\", null), t([a({\n  type: Boolean,\n  value: !0\n})], n.prototype, \"visible\", null), n = m = t([u(\"esri.Graphic\")], n), function (t) {\n  t.generateUID = l;\n}(n || (n = {}));\nvar h = n;\nexport default h;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/Graphic.js"],"names":["_","t","geometryTypes","e","r","symbolTypes","o","JSONSupport","s","clone","i","isSome","p","generateUID","l","property","a","subclass","u","fromJSON","y","m","n","constructor","isAggregate","layer","popupTemplate","sourceLayer","Object","defineProperty","value","configurable","normalizeCtorArgs","declaredClass","geometry","symbol","attributes","_get","_set","_notifyLayer","visible","getEffectivePopupTemplate","defaultPopupTemplate","getAttribute","setAttribute","getObjectId","objectIdField","toJSON","cloneProperties","notifyGeometryChanged","graphic","oldValue","newValue","attributeName","graphicChanged","prototype","types","json","read","type","Boolean","h"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"./chunks/tslib.es6.js\";import{geometryTypes as e}from\"./geometry.js\";import r from\"./PopupTemplate.js\";import{symbolTypes as o}from\"./symbols.js\";import{JSONSupport as s}from\"./core/JSONSupport.js\";import{clone as i}from\"./core/lang.js\";import{isSome as p}from\"./core/maybe.js\";import{generateUID as l}from\"./core/uid.js\";import{property as a}from\"./core/accessorSupport/decorators/property.js\";import\"./core/accessorSupport/ensureType.js\";import\"./core/has.js\";import\"./core/Logger.js\";import{subclass as u}from\"./core/accessorSupport/decorators/subclass.js\";import{fromJSON as y}from\"./geometry/support/jsonUtils.js\";var m;let n=m=class extends s{constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,\"uid\",{value:l(),configurable:!0})}normalizeCtorArgs(t,e,r,o){return t&&!t.declaredClass?t:{geometry:t,symbol:e,attributes:r,popupTemplate:o}}set attributes(t){const e=this._get(\"attributes\");e!==t&&(this._set(\"attributes\",t),this._notifyLayer(\"attributes\",e,t))}set geometry(t){const e=this._get(\"geometry\");e!==t&&(this._set(\"geometry\",t),this._notifyLayer(\"geometry\",e,t))}set symbol(t){const e=this._get(\"symbol\");e!==t&&(this._set(\"symbol\",t),this._notifyLayer(\"symbol\",e,t))}set visible(t){const e=this._get(\"visible\");e!==t&&(this._set(\"visible\",t),this._notifyLayer(\"visible\",e,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const e of[this.sourceLayer,this.layer])if(e){if(\"popupTemplate\"in e&&e.popupTemplate)return e.popupTemplate;if(t&&\"defaultPopupTemplate\"in e&&p(e.defaultPopupTemplate))return e.defaultPopupTemplate}return null}getAttribute(t){return this.attributes&&this.attributes[t]}setAttribute(t,e){if(this.attributes){const r=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer(\"attributes\",r,e,t)}else this.attributes={[t]:e},this._notifyLayer(\"attributes\",void 0,e,t)}getObjectId(){return this.sourceLayer&&\"objectIdField\"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:p(this.geometry)?this.geometry.toJSON():null,symbol:p(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new m(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer(\"geometry\",this.geometry,this.geometry)}cloneProperties(){return{attributes:i(this.attributes),geometry:i(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:i(this.symbol),visible:this.visible}}_notifyLayer(t,e,r,o){if(!this.layer||!(\"graphicChanged\"in this.layer))return;const s={graphic:this,property:t,oldValue:e,newValue:r};\"attributes\"===t&&(s.attributeName=o),this.layer.graphicChanged(s)}};t([a({value:null})],n.prototype,\"attributes\",null),t([a({value:null,types:e,json:{read:y}})],n.prototype,\"geometry\",null),t([a({type:Boolean})],n.prototype,\"isAggregate\",void 0),t([a()],n.prototype,\"layer\",void 0),t([a({type:r})],n.prototype,\"popupTemplate\",void 0),t([a()],n.prototype,\"sourceLayer\",void 0),t([a({value:null,types:o})],n.prototype,\"symbol\",null),t([a({type:Boolean,value:!0})],n.prototype,\"visible\",null),n=m=t([u(\"esri.Graphic\")],n),function(t){t.generateUID=l}(n||(n={}));var h=n;export default h;\n"]},"metadata":{},"sourceType":"module"}