{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport { isSome as e, isNone as t } from \"../../core/maybe.js\";\nimport { getMetersPerUnitForSR as r } from \"../../core/unitUtils.js\";\nimport { calculateTolerance as n } from \"../../renderers/support/clickToleranceUtils.js\";\nimport i from \"../../geometry/Extent.js\";\n\nfunction a(t, n, a, o = new i()) {\n  let s;\n  if (\"2d\" === a.type) s = n * a.resolution;else if (\"3d\" === a.type) {\n    const i = a.overlayPixelSizeInMapUnits(t),\n          o = a.basemapSpatialReference;\n    s = e(o) && !o.equals(a.spatialReference) ? r(o) / r(a.spatialReference) : n * i;\n  }\n  const m = t.x - s,\n        p = t.y - s,\n        c = t.x + s,\n        l = t.y + s,\n        {\n    spatialReference: f\n  } = a;\n  return o.xmin = Math.min(m, c), o.ymin = Math.min(p, l), o.xmax = Math.max(m, c), o.ymax = Math.max(p, l), o.spatialReference = f, o;\n}\n\nfunction o(e, r, i) {\n  const o = i.toMap(e);\n  if (t(o)) return !1;\n  return a(o, n(), i, s).intersects(r);\n}\n\nconst s = new i();\nexport { a as createQueryGeometry, o as intersectsDrapedGeometry };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["isSome","e","isNone","t","getMetersPerUnitForSR","r","calculateTolerance","n","i","a","o","s","type","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","spatialReference","m","x","p","y","c","l","f","xmin","Math","min","ymin","xmax","max","ymax","toMap","intersects","createQueryGeometry","intersectsDrapedGeometry"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAM,mBAAN;AAA0B,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,qBAAnC;AAAyD,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,yBAAtC;AAAgE,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,gDAAnC;AAAoF,OAAOC,CAAP,MAAa,0BAAb;;AAAwC,SAASC,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAeE,CAAf,EAAiBC,CAAC,GAAC,IAAIF,CAAJ,EAAnB,EAAyB;AAAC,MAAIG,CAAJ;AAAM,MAAG,SAAOF,CAAC,CAACG,IAAZ,EAAiBD,CAAC,GAACJ,CAAC,GAACE,CAAC,CAACI,UAAN,CAAjB,KAAuC,IAAG,SAAOJ,CAAC,CAACG,IAAZ,EAAiB;AAAC,UAAMJ,CAAC,GAACC,CAAC,CAACK,0BAAF,CAA6BX,CAA7B,CAAR;AAAA,UAAwCO,CAAC,GAACD,CAAC,CAACM,uBAA5C;AAAoEJ,IAAAA,CAAC,GAACV,CAAC,CAACS,CAAD,CAAD,IAAM,CAACA,CAAC,CAACM,MAAF,CAASP,CAAC,CAACQ,gBAAX,CAAP,GAAoCZ,CAAC,CAACK,CAAD,CAAD,GAAKL,CAAC,CAACI,CAAC,CAACQ,gBAAH,CAA1C,GAA+DV,CAAC,GAACC,CAAnE;AAAqE;AAAA,QAAMU,CAAC,GAACf,CAAC,CAACgB,CAAF,GAAIR,CAAZ;AAAA,QAAcS,CAAC,GAACjB,CAAC,CAACkB,CAAF,GAAIV,CAApB;AAAA,QAAsBW,CAAC,GAACnB,CAAC,CAACgB,CAAF,GAAIR,CAA5B;AAAA,QAA8BY,CAAC,GAACpB,CAAC,CAACkB,CAAF,GAAIV,CAApC;AAAA,QAAsC;AAACM,IAAAA,gBAAgB,EAACO;AAAlB,MAAqBf,CAA3D;AAA6D,SAAOC,CAAC,CAACe,IAAF,GAAOC,IAAI,CAACC,GAAL,CAAST,CAAT,EAAWI,CAAX,CAAP,EAAqBZ,CAAC,CAACkB,IAAF,GAAOF,IAAI,CAACC,GAAL,CAASP,CAAT,EAAWG,CAAX,CAA5B,EAA0Cb,CAAC,CAACmB,IAAF,GAAOH,IAAI,CAACI,GAAL,CAASZ,CAAT,EAAWI,CAAX,CAAjD,EAA+DZ,CAAC,CAACqB,IAAF,GAAOL,IAAI,CAACI,GAAL,CAASV,CAAT,EAAWG,CAAX,CAAtE,EAAoFb,CAAC,CAACO,gBAAF,GAAmBO,CAAvG,EAAyGd,CAAhH;AAAkH;;AAAA,SAASA,CAAT,CAAWT,CAAX,EAAaI,CAAb,EAAeG,CAAf,EAAiB;AAAC,QAAME,CAAC,GAACF,CAAC,CAACwB,KAAF,CAAQ/B,CAAR,CAAR;AAAmB,MAAGE,CAAC,CAACO,CAAD,CAAJ,EAAQ,OAAM,CAAC,CAAP;AAAS,SAAOD,CAAC,CAACC,CAAD,EAAGH,CAAC,EAAJ,EAAOC,CAAP,EAASG,CAAT,CAAD,CAAasB,UAAb,CAAwB5B,CAAxB,CAAP;AAAkC;;AAAA,MAAMM,CAAC,GAAC,IAAIH,CAAJ,EAAR;AAAc,SAAOC,CAAC,IAAIyB,mBAAZ,EAAgCxB,CAAC,IAAIyB,wBAArC","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"]},"metadata":{},"sourceType":"module"}