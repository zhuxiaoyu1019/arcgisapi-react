{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport r from \"../../core/Evented.js\";\nimport { HandleOwnerMixin as s } from \"../../core/HandleOwner.js\";\nimport { IdentifiableMixin as i } from \"../../core/Identifiable.js\";\nimport o from \"../../core/Logger.js\";\nimport { EsriPromiseMixin as n } from \"../../core/Promise.js\";\nimport { property as l } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nlet p = class extends s(i(n(r.EventedMixin(t)))) {\n  constructor(e) {\n    super(e), this.layer = null, this.parent = null;\n  }\n\n  initialize() {\n    this.when().catch(e => {\n      if (\"layerview:create-error\" !== e.name) {\n        const t = this.layer && this.layer.id || \"no id\",\n              r = this.layer && this.layer.title || \"no title\";\n        throw o.getLogger(this.declaredClass).error(\"#resolve()\", `Failed to resolve layer view (layer title: '${r}', id: '${t}')`, e), e;\n      }\n    });\n  }\n\n  get fullOpacity() {\n    const e = e => null == e ? 1 : e;\n\n    return e(this.get(\"layer.opacity\")) * e(this.get(\"parent.fullOpacity\"));\n  }\n\n  get suspended() {\n    return !this.canResume();\n  }\n\n  get suspendInfo() {\n    return this.getSuspendInfo();\n  }\n\n  get legendEnabled() {\n    return !this.suspended && !0 === this.layer.legendEnabled;\n  }\n\n  get updating() {\n    return !!(this.updatingHandles && this.updatingHandles.updating || this.isUpdating());\n  }\n\n  get updatingProgress() {\n    return this.updating ? 0 : 1;\n  }\n\n  get visible() {\n    return !0 === this.get(\"layer.visible\");\n  }\n\n  set visible(e) {\n    void 0 !== e ? this._override(\"visible\", e) : this._clearOverride(\"visible\");\n  }\n\n  canResume() {\n    return !this.get(\"parent.suspended\") && this.get(\"view.ready\") && this.get(\"layer.loaded\") && this.visible || !1;\n  }\n\n  getSuspendInfo() {\n    const e = this.parent && this.parent.suspended ? this.parent.suspendInfo : {},\n          t = this;\n    return t.view && t.view.ready || (e.viewNotReady = !0), this.layer && this.layer.loaded || (e.layerNotLoaded = !0), this.visible || (e.layerInvisible = !0), e;\n  }\n\n  isUpdating() {\n    return !1;\n  }\n\n};\ne([l()], p.prototype, \"fullOpacity\", null), e([l()], p.prototype, \"layer\", void 0), e([l()], p.prototype, \"parent\", void 0), e([l({\n  readOnly: !0\n})], p.prototype, \"suspended\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"suspendInfo\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"legendEnabled\", null), e([l({\n  type: Boolean,\n  readOnly: !0\n})], p.prototype, \"updating\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"updatingProgress\", null), e([l()], p.prototype, \"visible\", null), p = e([a(\"esri.views.layers.LayerView\")], p);\nvar d = p;\nexport default d;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/layers/LayerView.js"],"names":["_","e","t","r","HandleOwnerMixin","s","IdentifiableMixin","i","o","EsriPromiseMixin","n","property","l","subclass","a","p","EventedMixin","constructor","layer","parent","initialize","when","catch","name","id","title","getLogger","declaredClass","error","fullOpacity","get","suspended","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingHandles","isUpdating","updatingProgress","visible","_override","_clearOverride","view","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","prototype","readOnly","type","Boolean","d"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l()],p.prototype,\"fullOpacity\",null),e([l()],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"parent\",void 0),e([l({readOnly:!0})],p.prototype,\"suspended\",null),e([l({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([l({readOnly:!0})],p.prototype,\"updatingProgress\",null),e([l()],p.prototype,\"visible\",null),p=e([a(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n"]},"metadata":{},"sourceType":"module"}