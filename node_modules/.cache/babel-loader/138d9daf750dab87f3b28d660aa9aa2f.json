{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"./has.js\";\nimport e from \"./ObjectPool.js\";\nconst s = 4294967296,\n      i = t(\"esri-text-decoder\") ? new TextDecoder(\"utf-8\") : null,\n      r = t(\"safari\") || t(\"ios\") ? 6 : t(\"ff\") ? 12 : 32;\n\nclass n {\n  constructor(t, e, s = 0, i = t ? t.byteLength : 0) {\n    this._tag = 0, this._dataType = 99, this.init(t, e, s, i);\n  }\n\n  init(t, e, s, i) {\n    this._data = t, this._dataView = e, this._pos = s, this._end = i;\n  }\n\n  clone() {\n    return new n(this._data, this._dataView, this._pos, this._end);\n  }\n\n  pos() {\n    return this._pos;\n  }\n\n  move(t) {\n    this._pos = t;\n  }\n\n  nextTag(t) {\n    for (;;) {\n      if (this._pos === this._end) return !1;\n\n      const e = this._decodeVarint();\n\n      if (this._tag = e >> 3, this._dataType = 7 & e, !t || t === this._tag) break;\n      this.skip();\n    }\n\n    return !0;\n  }\n\n  next() {\n    if (this._pos === this._end) return !1;\n\n    const t = this._decodeVarint();\n\n    return this._tag = t >> 3, this._dataType = 7 & t, !0;\n  }\n\n  empty() {\n    return this._pos >= this._end;\n  }\n\n  tag() {\n    return this._tag;\n  }\n\n  getInt32() {\n    return this._decodeVarint();\n  }\n\n  getInt64() {\n    return this._decodeVarint();\n  }\n\n  getUInt32() {\n    let t = 4294967295;\n    return t = (127 & this._data[this._pos]) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (127 & this._data[this._pos]) << 7) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (127 & this._data[this._pos]) << 14) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (127 & this._data[this._pos]) << 21) >>> 0, this._data[this._pos++] < 128 ? t : (t = (t | (15 & this._data[this._pos]) << 28) >>> 0, this._data[this._pos++] < 128 ? t : void 0))));\n  }\n\n  getUInt64() {\n    return this._decodeVarint();\n  }\n\n  getSInt32() {\n    const t = this.getUInt32();\n    return t >>> 1 ^ -(1 & t) | 0;\n  }\n\n  getSInt64() {\n    return this._decodeSVarint();\n  }\n\n  getBool() {\n    const t = 0 !== this._data[this._pos];\n    return this._skip(1), t;\n  }\n\n  getEnum() {\n    return this._decodeVarint();\n  }\n\n  getFixed64() {\n    const t = this._dataView,\n          e = this._pos,\n          i = t.getUint32(e, !0) + t.getUint32(e + 4, !0) * s;\n    return this._skip(8), i;\n  }\n\n  getSFixed64() {\n    const t = this._dataView,\n          e = this._pos,\n          i = t.getUint32(e, !0) + t.getInt32(e + 4, !0) * s;\n    return this._skip(8), i;\n  }\n\n  getDouble() {\n    const t = this._dataView.getFloat64(this._pos, !0);\n\n    return this._skip(8), t;\n  }\n\n  getFixed32() {\n    const t = this._dataView.getUint32(this._pos, !0);\n\n    return this._skip(4), t;\n  }\n\n  getSFixed32() {\n    const t = this._dataView.getInt32(this._pos, !0);\n\n    return this._skip(4), t;\n  }\n\n  getFloat() {\n    const t = this._dataView.getFloat32(this._pos, !0);\n\n    return this._skip(4), t;\n  }\n\n  getString() {\n    const t = this._getLength(),\n          e = this._pos,\n          s = this._toString(this._data, e, e + t);\n\n    return this._skip(t), s;\n  }\n\n  getBytes() {\n    const t = this._getLength(),\n          e = this._pos,\n          s = this._toBytes(this._data, e, e + t);\n\n    return this._skip(t), s;\n  }\n\n  getLength() {\n    return this._getLengthUnsafe();\n  }\n\n  processMessageWithArgs(t, e, s, i) {\n    const r = this.getMessage(),\n          n = t(r, e, s, i);\n    return r.release(), n;\n  }\n\n  processMessage(t) {\n    const e = this.getMessage(),\n          s = t(e);\n    return e.release(), s;\n  }\n\n  getMessage() {\n    const t = this._getLength(),\n          e = n.pool.acquire();\n\n    return e.init(this._data, this._dataView, this._pos, this._pos + t), this._skip(t), e;\n  }\n\n  release() {\n    n.pool.release(this);\n  }\n\n  dataType() {\n    return this._dataType;\n  }\n\n  skip() {\n    switch (this._dataType) {\n      case 0:\n        this._decodeVarint();\n\n        break;\n\n      case 1:\n        this._skip(8);\n\n        break;\n\n      case 2:\n        this._skip(this._getLength());\n\n        break;\n\n      case 5:\n        this._skip(4);\n\n        break;\n\n      default:\n        throw new Error(\"Invalid data type!\");\n    }\n  }\n\n  skipLen(t) {\n    this._skip(t);\n  }\n\n  _skip(t) {\n    if (this._pos + t > this._end) throw new Error(\"Attempt to skip past the end of buffer!\");\n    this._pos += t;\n  }\n\n  _decodeVarint() {\n    const t = this._data;\n    let e,\n        s = this._pos,\n        i = 0;\n    if (this._end - s >= 10) do {\n      if (e = t[s++], i |= 127 & e, 0 == (128 & e)) break;\n      if (e = t[s++], i |= (127 & e) << 7, 0 == (128 & e)) break;\n      if (e = t[s++], i |= (127 & e) << 14, 0 == (128 & e)) break;\n      if (e = t[s++], i |= (127 & e) << 21, 0 == (128 & e)) break;\n      if (e = t[s++], i += 268435456 * (127 & e), 0 == (128 & e)) break;\n      if (e = t[s++], i += 34359738368 * (127 & e), 0 == (128 & e)) break;\n      if (e = t[s++], i += 4398046511104 * (127 & e), 0 == (128 & e)) break;\n      if (e = t[s++], i += 562949953421312 * (127 & e), 0 == (128 & e)) break;\n      if (e = t[s++], i += 72057594037927940 * (127 & e), 0 == (128 & e)) break;\n      if (e = t[s++], i += 0x8000000000000000 * (127 & e), 0 == (128 & e)) break;\n      throw new Error(\"Varint too long!\");\n    } while (0);else {\n      let r = 1;\n\n      for (; s !== this._end && (e = t[s], 0 != (128 & e));) ++s, i += (127 & e) * r, r *= 128;\n\n      if (s === this._end) throw new Error(\"Varint overrun!\");\n      ++s, i += e * r;\n    }\n    return this._pos = s, i;\n  }\n\n  _decodeSVarint() {\n    const t = this._decodeVarint();\n\n    return t % 2 ? -(t + 1) / 2 : t / 2;\n  }\n\n  _getLength() {\n    if (2 !== this._dataType) throw new Error(\"Not a delimited data type!\");\n    return this._decodeVarint();\n  }\n\n  _getLengthUnsafe() {\n    return this.getUInt32();\n  }\n\n  _toString(t, e, s) {\n    if ((s = Math.min(this._end, s)) - e > r && i) {\n      const r = t.subarray(e, s);\n      return i.decode(r);\n    }\n\n    let n = \"\",\n        a = \"\";\n\n    for (let i = e; i < s; ++i) {\n      const e = t[i];\n      128 & e ? a += \"%\" + e.toString(16) : (n += decodeURIComponent(a) + String.fromCharCode(e), a = \"\");\n    }\n\n    return a.length && (n += decodeURIComponent(a)), n;\n  }\n\n  _toBytes(t, e, s) {\n    return s = Math.min(this._end, s), new Uint8Array(t.buffer, e, s - e);\n  }\n\n}\n\nn.pool = new e(n, null, t => {\n  t._data = null, t._dataView = null;\n});\nexport default n;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/core/pbf.js"],"names":["t","e","s","i","TextDecoder","r","n","constructor","byteLength","_tag","_dataType","init","_data","_dataView","_pos","_end","clone","pos","move","nextTag","_decodeVarint","skip","next","empty","tag","getInt32","getInt64","getUInt32","getUInt64","getSInt32","getSInt64","_decodeSVarint","getBool","_skip","getEnum","getFixed64","getUint32","getSFixed64","getDouble","getFloat64","getFixed32","getSFixed32","getFloat","getFloat32","getString","_getLength","_toString","getBytes","_toBytes","getLength","_getLengthUnsafe","processMessageWithArgs","getMessage","release","processMessage","pool","acquire","dataType","Error","skipLen","Math","min","subarray","decode","a","toString","decodeURIComponent","String","fromCharCode","length","Uint8Array","buffer"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"./has.js\";import e from\"./ObjectPool.js\";const s=4294967296,i=t(\"esri-text-decoder\")?new TextDecoder(\"utf-8\"):null,r=t(\"safari\")||t(\"ios\")?6:t(\"ff\")?12:32;class n{constructor(t,e,s=0,i=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,s,i)}init(t,e,s,i){this._data=t,this._dataView=e,this._pos=s,this._end=i}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,s=this._toString(this._data,e,e+t);return this._skip(t),s}getBytes(){const t=this._getLength(),e=this._pos,s=this._toBytes(this._data,e,e+t);return this._skip(t),s}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,s,i){const r=this.getMessage(),n=t(r,e,s,i);return r.release(),n}processMessage(t){const e=this.getMessage(),s=t(e);return e.release(),s}getMessage(){const t=this._getLength(),e=n.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e,s=this._pos,i=0;if(this._end-s>=10)do{if(e=t[s++],i|=127&e,0==(128&e))break;if(e=t[s++],i|=(127&e)<<7,0==(128&e))break;if(e=t[s++],i|=(127&e)<<14,0==(128&e))break;if(e=t[s++],i|=(127&e)<<21,0==(128&e))break;if(e=t[s++],i+=268435456*(127&e),0==(128&e))break;if(e=t[s++],i+=34359738368*(127&e),0==(128&e))break;if(e=t[s++],i+=4398046511104*(127&e),0==(128&e))break;if(e=t[s++],i+=562949953421312*(127&e),0==(128&e))break;if(e=t[s++],i+=72057594037927940*(127&e),0==(128&e))break;if(e=t[s++],i+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;s!==this._end&&(e=t[s],0!=(128&e));)++s,i+=(127&e)*r,r*=128;if(s===this._end)throw new Error(\"Varint overrun!\");++s,i+=e*r}return this._pos=s,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,s){if((s=Math.min(this._end,s))-e>r&&i){const r=t.subarray(e,s);return i.decode(r)}let n=\"\",a=\"\";for(let i=e;i<s;++i){const e=t[i];128&e?a+=\"%\"+e.toString(16):(n+=decodeURIComponent(a)+String.fromCharCode(e),a=\"\")}return a.length&&(n+=decodeURIComponent(a)),n}_toBytes(t,e,s){return s=Math.min(this._end,s),new Uint8Array(t.buffer,e,s-e)}}n.pool=new e(n,null,(t=>{t._data=null,t._dataView=null}));export default n;\n"]},"metadata":{},"sourceType":"module"}