{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { readSymbol as e } from \"../../symbols.js\";\nimport s from \"../../core/Error.js\";\nimport o from \"../Symbol3D.js\";\nimport n from \"../WebStyleSymbol.js\";\nimport { to3D as r } from \"./symbolConversion.js\";\n\nfunction t(e, s, o, n) {\n  const r = m(e, {}, n);\n  r && (s[o] = r);\n}\n\nfunction m(e, t, m) {\n  if (!e) return null;\n\n  if (m && \"web-scene\" === m.origin && !(e instanceof o) && !(e instanceof n)) {\n    const o = \"cim\" !== e.type ? r(e) : {\n      symbol: null,\n      error: new s(\"symbol-conversion:unsupported-cim-symbol\", \"CIM symbol is unsupported in web scenes\", {\n        symbol: e\n      })\n    };\n    return o.symbol ? o.symbol.write(t, m) : (m.messages && m.messages.push(new s(\"symbol:unsupported\", `Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`, {\n      symbol: e,\n      context: m,\n      error: o.error\n    })), null);\n  }\n\n  return m && \"web-map\" === m.origin && \"web-style\" === e.type ? (m.messages && m.messages.push(new s(\"symbol:unsupported\", `Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`, {\n    symbol: e,\n    context: m\n  })), null) : e.write(t, m);\n}\n\nfunction i(s, o) {\n  return e(s, null, o);\n}\n\nexport { i as fromJSON, t as write };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/symbols/support/jsonUtils.js"],"names":["readSymbol","e","s","o","n","to3D","r","t","m","origin","type","symbol","error","write","messages","push","declaredClass","context","i","fromJSON"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,UAAU,IAAIC,CAArB,QAA2B,kBAA3B;AAA8C,OAAOC,CAAP,MAAa,qBAAb;AAAmC,OAAOC,CAAP,MAAa,gBAAb;AAA8B,OAAOC,CAAP,MAAa,sBAAb;AAAoC,SAAOC,IAAI,IAAIC,CAAf,QAAqB,uBAArB;;AAA6C,SAASC,CAAT,CAAWN,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmB;AAAC,QAAME,CAAC,GAACE,CAAC,CAACP,CAAD,EAAG,EAAH,EAAMG,CAAN,CAAT;AAAkBE,EAAAA,CAAC,KAAGJ,CAAC,CAACC,CAAD,CAAD,GAAKG,CAAR,CAAD;AAAY;;AAAA,SAASE,CAAT,CAAWP,CAAX,EAAaM,CAAb,EAAeC,CAAf,EAAiB;AAAC,MAAG,CAACP,CAAJ,EAAM,OAAO,IAAP;;AAAY,MAAGO,CAAC,IAAE,gBAAcA,CAAC,CAACC,MAAnB,IAA2B,EAAER,CAAC,YAAYE,CAAf,CAA3B,IAA8C,EAAEF,CAAC,YAAYG,CAAf,CAAjD,EAAmE;AAAC,UAAMD,CAAC,GAAC,UAAQF,CAAC,CAACS,IAAV,GAAeJ,CAAC,CAACL,CAAD,CAAhB,GAAoB;AAACU,MAAAA,MAAM,EAAC,IAAR;AAAaC,MAAAA,KAAK,EAAC,IAAIV,CAAJ,CAAM,0CAAN,EAAiD,yCAAjD,EAA2F;AAACS,QAAAA,MAAM,EAACV;AAAR,OAA3F;AAAnB,KAA5B;AAAuJ,WAAOE,CAAC,CAACQ,MAAF,GAASR,CAAC,CAACQ,MAAF,CAASE,KAAT,CAAeN,CAAf,EAAiBC,CAAjB,CAAT,IAA8BA,CAAC,CAACM,QAAF,IAAYN,CAAC,CAACM,QAAF,CAAWC,IAAX,CAAgB,IAAIb,CAAJ,CAAM,oBAAN,EAA4B,oBAAmBD,CAAC,CAACe,aAAc,kGAA/D,EAAiK;AAACL,MAAAA,MAAM,EAACV,CAAR;AAAUgB,MAAAA,OAAO,EAACT,CAAlB;AAAoBI,MAAAA,KAAK,EAACT,CAAC,CAACS;AAA5B,KAAjK,CAAhB,CAAZ,EAAkO,IAAhQ,CAAP;AAA6Q;;AAAA,SAAOJ,CAAC,IAAE,cAAYA,CAAC,CAACC,MAAjB,IAAyB,gBAAcR,CAAC,CAACS,IAAzC,IAA+CF,CAAC,CAACM,QAAF,IAAYN,CAAC,CAACM,QAAF,CAAWC,IAAX,CAAgB,IAAIb,CAAJ,CAAM,oBAAN,EAA4B,oBAAmBD,CAAC,CAACe,aAAc,4FAA/D,EAA2J;AAACL,IAAAA,MAAM,EAACV,CAAR;AAAUgB,IAAAA,OAAO,EAACT;AAAlB,GAA3J,CAAhB,CAAZ,EAA8M,IAA7P,IAAmQP,CAAC,CAACY,KAAF,CAAQN,CAAR,EAAUC,CAAV,CAA1Q;AAAuR;;AAAA,SAASU,CAAT,CAAWhB,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOF,CAAC,CAACC,CAAD,EAAG,IAAH,EAAQC,CAAR,CAAR;AAAmB;;AAAA,SAAOe,CAAC,IAAIC,QAAZ,EAAqBZ,CAAC,IAAIM,KAA1B","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import s from\"../../core/Error.js\";import o from\"../Symbol3D.js\";import n from\"../WebStyleSymbol.js\";import{to3D as r}from\"./symbolConversion.js\";function t(e,s,o,n){const r=m(e,{},n);r&&(s[o]=r)}function m(e,t,m){if(!e)return null;if(m&&\"web-scene\"===m.origin&&!(e instanceof o)&&!(e instanceof n)){const o=\"cim\"!==e.type?r(e):{symbol:null,error:new s(\"symbol-conversion:unsupported-cim-symbol\",\"CIM symbol is unsupported in web scenes\",{symbol:e})};return o.symbol?o.symbol.write(t,m):(m.messages&&m.messages.push(new s(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:m,error:o.error})),null)}return m&&\"web-map\"===m.origin&&\"web-style\"===e.type?(m.messages&&m.messages.push(new s(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:m})),null):e.write(t,m)}function i(s,o){return e(s,null,o)}export{i as fromJSON,t as write};\n"]},"metadata":{},"sourceType":"module"}