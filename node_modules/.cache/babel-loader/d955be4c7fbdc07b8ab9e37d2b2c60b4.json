{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from \"../../request.js\";\nimport { urlToObject as t } from \"../../core/urlUtils.js\";\nimport { getJsonType as e, getGeometryType as o } from \"../../geometry/support/jsonUtils.js\";\n\nasync function i(o, i, f) {\n  const m = \"string\" == typeof o ? t(o) : o,\n        p = i[0].spatialReference,\n        a = e(i[0]),\n        u = { ...f,\n    query: { ...m.query,\n      f: \"json\",\n      sr: p.wkid ? p.wkid : JSON.stringify(p),\n      geometries: JSON.stringify(s(i))\n    }\n  };\n  return n((await r(m.path + \"/simplify\", u)).data, a, p);\n}\n\nfunction s(r) {\n  return {\n    geometryType: e(r[0]),\n    geometries: r.map(r => r.toJSON())\n  };\n}\n\nfunction n(r, t, e) {\n  const i = o(t);\n  return r.map(r => {\n    const t = i.fromJSON(r);\n    return t.spatialReference = e, t;\n  });\n}\n\nexport { i as simplify };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/tasks/geometry/simplify.js"],"names":["r","urlToObject","t","getJsonType","e","getGeometryType","o","i","f","m","p","spatialReference","a","u","query","sr","wkid","JSON","stringify","geometries","s","n","path","data","geometryType","map","toJSON","fromJSON","simplify"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;AAAgC,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,wBAA5B;AAAqD,SAAOC,WAAW,IAAIC,CAAtB,EAAwBC,eAAe,IAAIC,CAA3C,QAAiD,qCAAjD;;AAAuF,eAAeC,CAAf,CAAiBD,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuB;AAAC,QAAMC,CAAC,GAAC,YAAU,OAAOH,CAAjB,GAAmBJ,CAAC,CAACI,CAAD,CAApB,GAAwBA,CAAhC;AAAA,QAAkCI,CAAC,GAACH,CAAC,CAAC,CAAD,CAAD,CAAKI,gBAAzC;AAAA,QAA0DC,CAAC,GAACR,CAAC,CAACG,CAAC,CAAC,CAAD,CAAF,CAA7D;AAAA,QAAoEM,CAAC,GAAC,EAAC,GAAGL,CAAJ;AAAMM,IAAAA,KAAK,EAAC,EAAC,GAAGL,CAAC,CAACK,KAAN;AAAYN,MAAAA,CAAC,EAAC,MAAd;AAAqBO,MAAAA,EAAE,EAACL,CAAC,CAACM,IAAF,GAAON,CAAC,CAACM,IAAT,GAAcC,IAAI,CAACC,SAAL,CAAeR,CAAf,CAAtC;AAAwDS,MAAAA,UAAU,EAACF,IAAI,CAACC,SAAL,CAAeE,CAAC,CAACb,CAAD,CAAhB;AAAnE;AAAZ,GAAtE;AAA4K,SAAOc,CAAC,CAAC,CAAC,MAAMrB,CAAC,CAACS,CAAC,CAACa,IAAF,GAAO,WAAR,EAAoBT,CAApB,CAAR,EAAgCU,IAAjC,EAAsCX,CAAtC,EAAwCF,CAAxC,CAAR;AAAmD;;AAAA,SAASU,CAAT,CAAWpB,CAAX,EAAa;AAAC,SAAM;AAACwB,IAAAA,YAAY,EAACpB,CAAC,CAACJ,CAAC,CAAC,CAAD,CAAF,CAAf;AAAsBmB,IAAAA,UAAU,EAACnB,CAAC,CAACyB,GAAF,CAAOzB,CAAC,IAAEA,CAAC,CAAC0B,MAAF,EAAV;AAAjC,GAAN;AAA+D;;AAAA,SAASL,CAAT,CAAWrB,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,QAAMG,CAAC,GAACD,CAAC,CAACJ,CAAD,CAAT;AAAa,SAAOF,CAAC,CAACyB,GAAF,CAAOzB,CAAC,IAAE;AAAC,UAAME,CAAC,GAACK,CAAC,CAACoB,QAAF,CAAW3B,CAAX,CAAR;AAAsB,WAAOE,CAAC,CAACS,gBAAF,GAAmBP,CAAnB,EAAqBF,CAA5B;AAA8B,GAA/D,CAAP;AAAyE;;AAAA,SAAOK,CAAC,IAAIqB,QAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as e,getGeometryType as o}from\"../../geometry/support/jsonUtils.js\";async function i(o,i,f){const m=\"string\"==typeof o?t(o):o,p=i[0].spatialReference,a=e(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await r(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:e(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,e){const i=o(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=e,t}))}export{i as simplify};\n"]},"metadata":{},"sourceType":"module"}