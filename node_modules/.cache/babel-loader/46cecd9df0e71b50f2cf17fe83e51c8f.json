{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Error.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as o } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { readLoadable as s } from \"../../core/accessorSupport/read.js\";\nimport { willPropertyWrite as a } from \"../../core/accessorSupport/write.js\";\nimport { supportedTypes as p } from \"./operationalLayers.js\";\nimport { opacity as n } from \"../support/commonProperties.js\";\n\nconst l = l => {\n  let y = class extends l {\n    constructor() {\n      super(...arguments), this.title = null;\n    }\n\n    writeListMode(e, r, i, t) {\n      (t && \"ground\" === t.layerContainerType || e && a(this, i, {}, t)) && (r[i] = e);\n    }\n\n    writeOperationalLayerType(e, r, i, t) {\n      !e || t && \"tables\" === t.layerContainerType || (r.layerType = e);\n    }\n\n    writeTitle(e, r) {\n      r.title = e || \"Layer\";\n    }\n\n    read(e, r) {\n      r && (r.layer = this), s(this, e, r => super.read(e, r), r);\n    }\n\n    write(e, i) {\n      if (i && i.origin) {\n        const e = `${i.origin}/${i.layerContainerType || \"operational-layers\"}`,\n              t = p[e];\n        let o = t && t[this.operationalLayerType];\n        if (\"ArcGISTiledElevationServiceLayer\" === this.operationalLayerType && \"web-scene/operational-layers\" === e && (o = !1), !o) return i.messages && i.messages.push(new r(\"layer:unsupported\", `Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`, {\n          layer: this\n        })), null;\n      }\n\n      const t = super.write(e, { ...i,\n        layer: this\n      }),\n            o = !!i && !!i.messages && !!i.messages.filter(e => e instanceof r && \"web-document-write:property-required\" === e.name).length;\n      return !this.url && o ? null : t;\n    }\n\n    beforeSave() {}\n\n  };\n  return e([i({\n    type: String,\n    json: {\n      write: {\n        ignoreOrigin: !0\n      },\n      origins: {\n        \"web-scene\": {\n          write: {\n            isRequired: !0,\n            ignoreOrigin: !0\n          }\n        },\n        \"portal-item\": {\n          write: !1\n        }\n      }\n    }\n  })], y.prototype, \"id\", void 0), e([i({\n    json: {\n      write: {\n        ignoreOrigin: !0\n      },\n      origins: {\n        \"web-map\": {\n          read: !1,\n          write: !1\n        }\n      }\n    }\n  })], y.prototype, \"listMode\", void 0), e([o(\"listMode\")], y.prototype, \"writeListMode\", null), e([i({\n    type: String,\n    readOnly: !0,\n    json: {\n      read: !1,\n      write: {\n        target: \"layerType\",\n        ignoreOrigin: !0\n      },\n      origins: {\n        \"portal-item\": {\n          write: !1\n        }\n      }\n    }\n  })], y.prototype, \"operationalLayerType\", void 0), e([o(\"operationalLayerType\")], y.prototype, \"writeOperationalLayerType\", null), e([i(n)], y.prototype, \"opacity\", void 0), e([i({\n    type: String,\n    json: {\n      write: {\n        ignoreOrigin: !0,\n        allowNull: !0\n      },\n      origins: {\n        \"web-scene\": {\n          write: {\n            isRequired: !0,\n            ignoreOrigin: !0,\n            allowNull: !0\n          }\n        },\n        \"portal-item\": {\n          write: !1\n        }\n      }\n    },\n    value: \"Layer\"\n  })], y.prototype, \"title\", void 0), e([o(\"title\")], y.prototype, \"writeTitle\", null), e([i({\n    type: Boolean,\n    json: {\n      name: \"visibility\",\n      origins: {\n        \"web-document\": {\n          name: \"visibility\",\n          default: !0\n        },\n        \"portal-item\": {\n          name: \"visibility\",\n          read: {\n            source: [\"visible\", \"visibility\"]\n          }\n        }\n      }\n    }\n  })], y.prototype, \"visible\", void 0), y = e([t(\"esri.layers.mixins.OperationalLayer\")], y), y;\n};\n\nfunction y(e) {\n  return \"operationalLayerType\" in e;\n}\n\nexport { l as OperationalLayer, y as isOperationalLayer };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/layers/mixins/OperationalLayer.js"],"names":["_","e","r","property","i","subclass","t","writer","o","readLoadable","s","willPropertyWrite","a","supportedTypes","p","opacity","n","l","y","constructor","arguments","title","writeListMode","layerContainerType","writeOperationalLayerType","layerType","writeTitle","read","layer","write","origin","operationalLayerType","messages","push","id","declaredClass","filter","name","length","url","beforeSave","type","String","json","ignoreOrigin","origins","isRequired","prototype","readOnly","target","allowNull","value","Boolean","default","source","OperationalLayer","isOperationalLayer"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as a}from\"../../core/accessorSupport/write.js\";import{supportedTypes as p}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,i,t){(t&&\"ground\"===t.layerContainerType||e&&a(this,i,{},t))&&(r[i]=e)}writeOperationalLayerType(e,r,i,t){!e||t&&\"tables\"===t.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,i){if(i&&i.origin){const e=`${i.origin}/${i.layerContainerType||\"operational-layers\"}`,t=p[e];let o=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(o=!1),!o)return i.messages&&i.messages.push(new r(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...i,layer:this}),o=!!i&&!!i.messages&&!!i.messages.filter((e=>e instanceof r&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&o?null:t}beforeSave(){}};return e([i({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([i({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([o(\"listMode\")],y.prototype,\"writeListMode\",null),e([i({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([o(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([i(n)],y.prototype,\"opacity\",void 0),e([i({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([o(\"title\")],y.prototype,\"writeTitle\",null),e([i({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n"]},"metadata":{},"sourceType":"module"}