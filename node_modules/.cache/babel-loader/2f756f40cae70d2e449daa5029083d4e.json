{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isNone as e } from \"../../../../core/maybe.js\";\nimport { d as r } from \"../../../../chunks/vec4f64.js\";\nimport { createMaterialFromEdges as o } from \"../support/edgeUtils.js\";\nconst a = .15,\n      t = .5 * a;\n\nfunction l(e) {\n  switch (e.filterMode.type) {\n    case \"solid\":\n      return {\n        mode: 0\n      };\n\n    case \"wire-frame\":\n      return {\n        mode: 1,\n        edgeMaterial: o(e.filterMode.edges, {})\n      };\n\n    case \"x-ray\":\n      return {\n        mode: 2\n      };\n  }\n}\n\nfunction c(r, o) {\n  if (e(o)) return r.color[3] = 0, r.edgeMaterial = null, void (r.pickable = !1);\n\n  switch (o.mode) {\n    case 0:\n      return;\n\n    case 1:\n      return r.color[3] = 0, r.edgeMaterial = o.edgeMaterial, void (r.pickable = !1);\n\n    case 2:\n      return r.color[0] = 1, r.color[1] = 1, r.color[2] = 1, r.color[3] *= a, r.colorMixMode = 3, r.castShadows = !1, r.pickable = !1, void (r.edgeMaterial = i(r.edgeMaterial));\n  }\n}\n\nfunction i(r) {\n  return e(r) ? null : (s.lastMaterial !== r && (s.cachedMaterial = n(r), s.lastMaterial = r), s.cachedMaterial);\n}\n\nfunction n(e) {\n  const o = r(e.color);\n  return o[3] *= t, { ...e,\n    color: o\n  };\n}\n\nconst s = {\n  cachedMaterial: null,\n  lastMaterial: null\n};\nexport { c as applyFilterMode, l as parseFilterMode };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js"],"names":["isNone","e","d","r","createMaterialFromEdges","o","a","t","l","filterMode","type","mode","edgeMaterial","edges","c","color","pickable","colorMixMode","castShadows","i","s","lastMaterial","cachedMaterial","n","applyFilterMode","parseFilterMode"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,uBAAuB,IAAIC,CAAlC,QAAwC,yBAAxC;AAAkE,MAAMC,CAAC,GAAC,GAAR;AAAA,MAAYC,CAAC,GAAC,KAAGD,CAAjB;;AAAmB,SAASE,CAAT,CAAWP,CAAX,EAAa;AAAC,UAAOA,CAAC,CAACQ,UAAF,CAAaC,IAApB;AAA0B,SAAI,OAAJ;AAAY,aAAM;AAACC,QAAAA,IAAI,EAAC;AAAN,OAAN;;AAAe,SAAI,YAAJ;AAAiB,aAAM;AAACA,QAAAA,IAAI,EAAC,CAAN;AAAQC,QAAAA,YAAY,EAACP,CAAC,CAACJ,CAAC,CAACQ,UAAF,CAAaI,KAAd,EAAoB,EAApB;AAAtB,OAAN;;AAAqD,SAAI,OAAJ;AAAY,aAAM;AAACF,QAAAA,IAAI,EAAC;AAAN,OAAN;AAAvI;AAAuJ;;AAAA,SAASG,CAAT,CAAWX,CAAX,EAAaE,CAAb,EAAe;AAAC,MAAGJ,CAAC,CAACI,CAAD,CAAJ,EAAQ,OAAOF,CAAC,CAACY,KAAF,CAAQ,CAAR,IAAW,CAAX,EAAaZ,CAAC,CAACS,YAAF,GAAe,IAA5B,EAAiC,MAAKT,CAAC,CAACa,QAAF,GAAW,CAAC,CAAjB,CAAxC;;AAA4D,UAAOX,CAAC,CAACM,IAAT;AAAe,SAAK,CAAL;AAAO;;AAAO,SAAK,CAAL;AAAO,aAAOR,CAAC,CAACY,KAAF,CAAQ,CAAR,IAAW,CAAX,EAAaZ,CAAC,CAACS,YAAF,GAAeP,CAAC,CAACO,YAA9B,EAA2C,MAAKT,CAAC,CAACa,QAAF,GAAW,CAAC,CAAjB,CAAlD;;AAAsE,SAAK,CAAL;AAAO,aAAOb,CAAC,CAACY,KAAF,CAAQ,CAAR,IAAW,CAAX,EAAaZ,CAAC,CAACY,KAAF,CAAQ,CAAR,IAAW,CAAxB,EAA0BZ,CAAC,CAACY,KAAF,CAAQ,CAAR,IAAW,CAArC,EAAuCZ,CAAC,CAACY,KAAF,CAAQ,CAAR,KAAYT,CAAnD,EAAqDH,CAAC,CAACc,YAAF,GAAe,CAApE,EAAsEd,CAAC,CAACe,WAAF,GAAc,CAAC,CAArF,EAAuFf,CAAC,CAACa,QAAF,GAAW,CAAC,CAAnG,EAAqG,MAAKb,CAAC,CAACS,YAAF,GAAeO,CAAC,CAAChB,CAAC,CAACS,YAAH,CAArB,CAA5G;AAAjH;AAAqQ;;AAAA,SAASO,CAAT,CAAWhB,CAAX,EAAa;AAAC,SAAOF,CAAC,CAACE,CAAD,CAAD,GAAK,IAAL,IAAWiB,CAAC,CAACC,YAAF,KAAiBlB,CAAjB,KAAqBiB,CAAC,CAACE,cAAF,GAAiBC,CAAC,CAACpB,CAAD,CAAlB,EAAsBiB,CAAC,CAACC,YAAF,GAAelB,CAA1D,GAA6DiB,CAAC,CAACE,cAA1E,CAAP;AAAiG;;AAAA,SAASC,CAAT,CAAWtB,CAAX,EAAa;AAAC,QAAMI,CAAC,GAACF,CAAC,CAACF,CAAC,CAACc,KAAH,CAAT;AAAmB,SAAOV,CAAC,CAAC,CAAD,CAAD,IAAME,CAAN,EAAQ,EAAC,GAAGN,CAAJ;AAAMc,IAAAA,KAAK,EAACV;AAAZ,GAAf;AAA8B;;AAAA,MAAMe,CAAC,GAAC;AAACE,EAAAA,cAAc,EAAC,IAAhB;AAAqBD,EAAAA,YAAY,EAAC;AAAlC,CAAR;AAAgD,SAAOP,CAAC,IAAIU,eAAZ,EAA4BhB,CAAC,IAAIiB,eAAjC","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";const a=.15,t=.5*a;function l(e){switch(e.filterMode.type){case\"solid\":return{mode:0};case\"wire-frame\":return{mode:1,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:2}}}function c(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case 0:return;case 1:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case 2:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=a,r.colorMixMode=3,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=i(r.edgeMaterial))}}function i(r){return e(r)?null:(s.lastMaterial!==r&&(s.cachedMaterial=n(r),s.lastMaterial=r),s.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=t,{...e,color:o}}const s={cachedMaterial:null,lastMaterial:null};export{c as applyFilterMode,l as parseFilterMode};\n"]},"metadata":{},"sourceType":"module"}