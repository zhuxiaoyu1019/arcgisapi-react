{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as r } from \"../../../../core/maybe.js\";\nimport { u as t } from \"../../../../chunks/mat4.js\";\nimport { f as s } from \"../../../../chunks/vec3.js\";\nimport { c as o } from \"../../../../chunks/vec3f64.js\";\nimport { Object3DVisualElement as i } from \"./Object3DVisualElement.js\";\nimport { Geometry as c } from \"../../webgl-engine/lib/Geometry.js\";\nimport { CheckerBoardMaterial as a } from \"../../webgl-engine/materials/CheckerBoardMaterial.js\";\n\nclass l extends i {\n  constructor(e) {\n    super(e), this._checkerBoardMaterial = null, this._renderOccluded = 4, this._geometry = null, this._size = [1, 1], this._color1 = [1, .5, 0, .5], this._color2 = [1, 1, 1, .5], this.applyProps(e);\n  }\n\n  get renderOccluded() {\n    return this._renderOccluded;\n  }\n\n  set renderOccluded(e) {\n    e !== this._renderOccluded && (this._renderOccluded = e, this.updateMaterial());\n  }\n\n  get geometry() {\n    return this._geometry;\n  }\n\n  set geometry(e) {\n    this._geometry = e, this.geometryChanged();\n  }\n\n  get size() {\n    return this._size;\n  }\n\n  set size(e) {\n    this._size = e, this.updateMaterial();\n  }\n\n  get color1() {\n    return this._color1;\n  }\n\n  set color1(e) {\n    this._color1 = e, this.updateMaterial();\n  }\n\n  get color2() {\n    return this._color2;\n  }\n\n  set color2(e) {\n    this._color2 = e, this.updateMaterial();\n  }\n\n  updateMaterial() {\n    e(this._checkerBoardMaterial) && this._checkerBoardMaterial.setParameterValues({\n      size: this._size,\n      color1: this._color1,\n      color2: this._color2,\n      renderOccluded: this._renderOccluded\n    });\n  }\n\n  createExternalResources() {\n    this._checkerBoardMaterial = new a({\n      size: this._size,\n      color1: this._color1,\n      color2: this._color2,\n      transparent: !0,\n      writeDepth: !1,\n      polygonOffset: !0,\n      renderOccluded: 4\n    });\n  }\n\n  destroyExternalResources() {\n    this._checkerBoardMaterial = null;\n  }\n\n  forEachExternalMaterial(r) {\n    e(this._checkerBoardMaterial) && r(this._checkerBoardMaterial);\n  }\n\n  createGeometries(e) {\n    if (r(this._geometry) || r(this._checkerBoardMaterial)) return;\n    const i = h;\n    t(i, this.transform);\n    const a = this._geometry,\n          l = [],\n          d = o();\n    a.position.forEach(e => {\n      s(d, e, i), l.push(d[0], d[1], d[2]);\n    });\n    const n = [];\n    a.uv.forEach(e => {\n      n.push(e[0], e[1]);\n    });\n    const u = new c([[\"position\", {\n      size: 3,\n      data: l,\n      exclusive: !0\n    }], [\"uv0\", {\n      size: 2,\n      data: n,\n      exclusive: !0\n    }]], [[\"position\", a.triangleIndices], [\"uv0\", a.triangleIndices]]);\n    e.addGeometry(u, this._checkerBoardMaterial);\n  }\n\n  geometryChanged() {\n    this.recreateGeometry();\n  }\n\n}\n\nconst h = o();\nexport { l as MeasurementAreaVisualElement };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementAreaVisualElement.js"],"names":["isSome","e","isNone","r","u","t","f","s","c","o","Object3DVisualElement","i","Geometry","CheckerBoardMaterial","a","l","constructor","_checkerBoardMaterial","_renderOccluded","_geometry","_size","_color1","_color2","applyProps","renderOccluded","updateMaterial","geometry","geometryChanged","size","color1","color2","setParameterValues","createExternalResources","transparent","writeDepth","polygonOffset","destroyExternalResources","forEachExternalMaterial","createGeometries","h","transform","d","position","forEach","push","n","uv","data","exclusive","triangleIndices","addGeometry","recreateGeometry","MeasurementAreaVisualElement"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{u as t}from\"../../../../chunks/mat4.js\";import{f as s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{Object3DVisualElement as i}from\"./Object3DVisualElement.js\";import{Geometry as c}from\"../../webgl-engine/lib/Geometry.js\";import{CheckerBoardMaterial as a}from\"../../webgl-engine/materials/CheckerBoardMaterial.js\";class l extends i{constructor(e){super(e),this._checkerBoardMaterial=null,this._renderOccluded=4,this._geometry=null,this._size=[1,1],this._color1=[1,.5,0,.5],this._color2=[1,1,1,.5],this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get size(){return this._size}set size(e){this._size=e,this.updateMaterial()}get color1(){return this._color1}set color1(e){this._color1=e,this.updateMaterial()}get color2(){return this._color2}set color2(e){this._color2=e,this.updateMaterial()}updateMaterial(){e(this._checkerBoardMaterial)&&this._checkerBoardMaterial.setParameterValues({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})}createExternalResources(){this._checkerBoardMaterial=new a({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:4})}destroyExternalResources(){this._checkerBoardMaterial=null}forEachExternalMaterial(r){e(this._checkerBoardMaterial)&&r(this._checkerBoardMaterial)}createGeometries(e){if(r(this._geometry)||r(this._checkerBoardMaterial))return;const i=h;t(i,this.transform);const a=this._geometry,l=[],d=o();a.position.forEach((e=>{s(d,e,i),l.push(d[0],d[1],d[2])}));const n=[];a.uv.forEach((e=>{n.push(e[0],e[1])}));const u=new c([[\"position\",{size:3,data:l,exclusive:!0}],[\"uv0\",{size:2,data:n,exclusive:!0}]],[[\"position\",a.triangleIndices],[\"uv0\",a.triangleIndices]]);e.addGeometry(u,this._checkerBoardMaterial)}geometryChanged(){this.recreateGeometry()}}const h=o();export{l as MeasurementAreaVisualElement};\n"]},"metadata":{},"sourceType":"module"}