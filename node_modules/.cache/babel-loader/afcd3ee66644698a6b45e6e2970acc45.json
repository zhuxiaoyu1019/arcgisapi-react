{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Logger.js\";\nimport i from \"./Field.js\";\nimport t from \"./FieldsIndex.js\";\nimport { fixFields as r } from \"./fieldUtils.js\";\nconst s = e.getLogger(\"esri.layers.support.fieldProperties\");\n\nfunction l() {\n  return {\n    fields: {\n      type: [i],\n      value: null\n    },\n    fieldsIndex: {\n      readOnly: !0,\n\n      get() {\n        return new t(this.fields || []);\n      }\n\n    },\n    outFields: {\n      type: [String],\n      json: {\n        read: !1\n      },\n      set: function (e) {\n        this._userOutFields = e, this.notifyChange(\"outFields\");\n      },\n      get: function () {\n        const e = this._userOutFields;\n        if (!e || !e.length) return null;\n        if (e.includes(\"*\")) return [\"*\"];\n        if (!this.fields) return e;\n\n        for (const i of e) {\n          this.fieldsIndex.has(i) || s.error(\"field-attributes-layer:invalid-field\", `Invalid field ${i} found in outFields`, {\n            layer: this,\n            outFields: e\n          });\n        }\n\n        return r(this.fieldsIndex, e);\n      }\n    }\n  };\n}\n\nexport { l as defineFieldProperties };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/layers/support/fieldProperties.js"],"names":["e","i","t","fixFields","r","s","getLogger","l","fields","type","value","fieldsIndex","readOnly","get","outFields","String","json","read","set","_userOutFields","notifyChange","length","includes","has","error","layer","defineFieldProperties"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,sBAAb;AAAoC,OAAOC,CAAP,MAAa,YAAb;AAA0B,OAAOC,CAAP,MAAa,kBAAb;AAAgC,SAAOC,SAAS,IAAIC,CAApB,QAA0B,iBAA1B;AAA4C,MAAMC,CAAC,GAACL,CAAC,CAACM,SAAF,CAAY,qCAAZ,CAAR;;AAA2D,SAASC,CAAT,GAAY;AAAC,SAAM;AAACC,IAAAA,MAAM,EAAC;AAACC,MAAAA,IAAI,EAAC,CAACR,CAAD,CAAN;AAAUS,MAAAA,KAAK,EAAC;AAAhB,KAAR;AAA8BC,IAAAA,WAAW,EAAC;AAACC,MAAAA,QAAQ,EAAC,CAAC,CAAX;;AAAaC,MAAAA,GAAG,GAAE;AAAC,eAAO,IAAIX,CAAJ,CAAM,KAAKM,MAAL,IAAa,EAAnB,CAAP;AAA8B;;AAAjD,KAA1C;AAA6FM,IAAAA,SAAS,EAAC;AAACL,MAAAA,IAAI,EAAC,CAACM,MAAD,CAAN;AAAeC,MAAAA,IAAI,EAAC;AAACC,QAAAA,IAAI,EAAC,CAAC;AAAP,OAApB;AAA8BC,MAAAA,GAAG,EAAC,UAASlB,CAAT,EAAW;AAAC,aAAKmB,cAAL,GAAoBnB,CAApB,EAAsB,KAAKoB,YAAL,CAAkB,WAAlB,CAAtB;AAAqD,OAAnG;AAAoGP,MAAAA,GAAG,EAAC,YAAU;AAAC,cAAMb,CAAC,GAAC,KAAKmB,cAAb;AAA4B,YAAG,CAACnB,CAAD,IAAI,CAACA,CAAC,CAACqB,MAAV,EAAiB,OAAO,IAAP;AAAY,YAAGrB,CAAC,CAACsB,QAAF,CAAW,GAAX,CAAH,EAAmB,OAAM,CAAC,GAAD,CAAN;AAAY,YAAG,CAAC,KAAKd,MAAT,EAAgB,OAAOR,CAAP;;AAAS,aAAI,MAAMC,CAAV,IAAeD,CAAf,EAAiB;AAAC,eAAKW,WAAL,CAAiBY,GAAjB,CAAqBtB,CAArB,KAAyBI,CAAC,CAACmB,KAAF,CAAQ,sCAAR,EAAgD,iBAAgBvB,CAAE,qBAAlE,EAAuF;AAACwB,YAAAA,KAAK,EAAC,IAAP;AAAYX,YAAAA,SAAS,EAACd;AAAtB,WAAvF,CAAzB;AAA0I;;AAAA,eAAOI,CAAC,CAAC,KAAKO,WAAN,EAAkBX,CAAlB,CAAR;AAA6B;AAA7Z;AAAvG,GAAN;AAA6gB;;AAAA,SAAOO,CAAC,IAAImB,qBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import i from\"./Field.js\";import t from\"./FieldsIndex.js\";import{fixFields as r}from\"./fieldUtils.js\";const s=e.getLogger(\"esri.layers.support.fieldProperties\");function l(){return{fields:{type:[i],value:null},fieldsIndex:{readOnly:!0,get(){return new t(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange(\"outFields\")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes(\"*\"))return[\"*\"];if(!this.fields)return e;for(const i of e){this.fieldsIndex.has(i)||s.error(\"field-attributes-layer:invalid-field\",`Invalid field ${i} found in outFields`,{layer:this,outFields:e})}return r(this.fieldsIndex,e)}}}}export{l as defineFieldProperties};\n"]},"metadata":{},"sourceType":"module"}