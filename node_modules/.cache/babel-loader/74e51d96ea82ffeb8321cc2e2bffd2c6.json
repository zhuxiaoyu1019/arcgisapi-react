{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { q as t } from \"./quickselect.js\";\n\nfunction i(t, n) {\n  if (!(this instanceof i)) return new i(t, n);\n  this._maxEntries = Math.max(4, t || 9), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), n && (\"function\" == typeof n ? this.toBBox = n : this._initFormat(n)), this.clear();\n}\n\nfunction n(t, i, n) {\n  if (!n) return i.indexOf(t);\n\n  for (var h = 0; h < i.length; h++) if (n(t, i[h])) return h;\n\n  return -1;\n}\n\nfunction h(t, i) {\n  a(t, 0, t.children.length, i, t);\n}\n\nfunction a(t, i, n, h, a) {\n  a || (a = x(null)), a.minX = 1 / 0, a.minY = 1 / 0, a.maxX = -1 / 0, a.maxY = -1 / 0;\n\n  for (var e, o = i; o < n; o++) e = t.children[o], r(a, t.leaf ? h(e) : e);\n\n  return a;\n}\n\nfunction r(t, i) {\n  return t.minX = Math.min(t.minX, i.minX), t.minY = Math.min(t.minY, i.minY), t.maxX = Math.max(t.maxX, i.maxX), t.maxY = Math.max(t.maxY, i.maxY), t;\n}\n\nfunction e(t, i) {\n  return t.minX - i.minX;\n}\n\nfunction o(t, i) {\n  return t.minY - i.minY;\n}\n\nfunction s(t) {\n  return (t.maxX - t.minX) * (t.maxY - t.minY);\n}\n\nfunction l(t) {\n  return t.maxX - t.minX + (t.maxY - t.minY);\n}\n\nfunction m(t, i) {\n  return (Math.max(i.maxX, t.maxX) - Math.min(i.minX, t.minX)) * (Math.max(i.maxY, t.maxY) - Math.min(i.minY, t.minY));\n}\n\nfunction c(t, i) {\n  var n = Math.max(t.minX, i.minX),\n      h = Math.max(t.minY, i.minY),\n      a = Math.min(t.maxX, i.maxX),\n      r = Math.min(t.maxY, i.maxY);\n  return Math.max(0, a - n) * Math.max(0, r - h);\n}\n\nfunction u(t, i) {\n  return t.minX <= i.minX && t.minY <= i.minY && i.maxX <= t.maxX && i.maxY <= t.maxY;\n}\n\nfunction f(t, i) {\n  return i.minX <= t.maxX && i.minY <= t.maxY && i.maxX >= t.minX && i.maxY >= t.minY;\n}\n\nfunction x(t) {\n  return {\n    children: t,\n    height: 1,\n    leaf: !0,\n    minX: 1 / 0,\n    minY: 1 / 0,\n    maxX: -1 / 0,\n    maxY: -1 / 0\n  };\n}\n\nfunction d(i, n, h, a, r) {\n  for (var e, o = [n, h]; o.length;) (h = o.pop()) - (n = o.pop()) <= a || (e = n + Math.ceil((h - n) / a / 2) * a, t(i, e, n, h, r), o.push(n, e, e, h));\n}\n\ni.prototype = {\n  all: function () {\n    return this._all(this.data, []);\n  },\n  search: function (t) {\n    var i = this.data,\n        n = [],\n        h = this.toBBox;\n    if (!f(t, i)) return n;\n\n    for (var a, r, e, o, s = []; i;) {\n      for (a = 0, r = i.children.length; a < r; a++) e = i.children[a], f(t, o = i.leaf ? h(e) : e) && (i.leaf ? n.push(e) : u(t, o) ? this._all(e, n) : s.push(e));\n\n      i = s.pop();\n    }\n\n    return n;\n  },\n  collides: function (t) {\n    var i = this.data,\n        n = this.toBBox;\n    if (!f(t, i)) return !1;\n\n    for (var h, a, r, e, o = []; i;) {\n      for (h = 0, a = i.children.length; h < a; h++) if (r = i.children[h], f(t, e = i.leaf ? n(r) : r)) {\n        if (i.leaf || u(t, e)) return !0;\n        o.push(r);\n      }\n\n      i = o.pop();\n    }\n\n    return !1;\n  },\n  load: function (t) {\n    if (!t || !t.length) return this;\n\n    if (t.length < this._minEntries) {\n      for (var i = 0, n = t.length; i < n; i++) this.insert(t[i]);\n\n      return this;\n    }\n\n    var h = this._build(t.slice(), 0, t.length - 1, 0);\n\n    if (this.data.children.length) {\n      if (this.data.height === h.height) this._splitRoot(this.data, h);else {\n        if (this.data.height < h.height) {\n          var a = this.data;\n          this.data = h, h = a;\n        }\n\n        this._insert(h, this.data.height - h.height - 1, !0);\n      }\n    } else this.data = h;\n    return this;\n  },\n  insert: function (t) {\n    return t && this._insert(t, this.data.height - 1), this;\n  },\n  clear: function () {\n    return this.data = x([]), this;\n  },\n  remove: function (t, i) {\n    if (!t) return this;\n\n    for (var h, a, r, e, o = this.data, s = this.toBBox(t), l = [], m = []; o || l.length;) {\n      if (o || (o = l.pop(), a = l[l.length - 1], h = m.pop(), e = !0), o.leaf && -1 !== (r = n(t, o.children, i))) return o.children.splice(r, 1), l.push(o), this._condense(l), this;\n      e || o.leaf || !u(o, s) ? a ? (h++, o = a.children[h], e = !1) : o = null : (l.push(o), m.push(h), h = 0, a = o, o = o.children[0]);\n    }\n\n    return this;\n  },\n  toBBox: function (t) {\n    return t;\n  },\n  compareMinX: e,\n  compareMinY: o,\n  toJSON: function () {\n    return this.data;\n  },\n  fromJSON: function (t) {\n    return this.data = t, this;\n  },\n  _all: function (t, i) {\n    for (var n = []; t;) t.leaf ? i.push.apply(i, t.children) : n.push.apply(n, t.children), t = n.pop();\n\n    return i;\n  },\n  _build: function (t, i, n, a) {\n    var r,\n        e = n - i + 1,\n        o = this._maxEntries;\n    if (e <= o) return h(r = x(t.slice(i, n + 1)), this.toBBox), r;\n    a || (a = Math.ceil(Math.log(e) / Math.log(o)), o = Math.ceil(e / Math.pow(o, a - 1))), (r = x([])).leaf = !1, r.height = a;\n    var s,\n        l,\n        m,\n        c,\n        u = Math.ceil(e / o),\n        f = u * Math.ceil(Math.sqrt(o));\n\n    for (d(t, i, n, f, this.compareMinX), s = i; s <= n; s += f) for (d(t, s, m = Math.min(s + f - 1, n), u, this.compareMinY), l = s; l <= m; l += u) c = Math.min(l + u - 1, m), r.children.push(this._build(t, l, c, a - 1));\n\n    return h(r, this.toBBox), r;\n  },\n  _chooseSubtree: function (t, i, n, h) {\n    for (var a, r, e, o, l, c, u, f; h.push(i), !i.leaf && h.length - 1 !== n;) {\n      for (u = f = 1 / 0, a = 0, r = i.children.length; a < r; a++) l = s(e = i.children[a]), (c = m(t, e) - l) < f ? (f = c, u = l < u ? l : u, o = e) : c === f && l < u && (u = l, o = e);\n\n      i = o || i.children[0];\n    }\n\n    return i;\n  },\n  _insert: function (t, i, n) {\n    var h = this.toBBox,\n        a = n ? t : h(t),\n        e = [],\n        o = this._chooseSubtree(a, this.data, i, e);\n\n    for (o.children.push(t), r(o, a); i >= 0 && e[i].children.length > this._maxEntries;) this._split(e, i), i--;\n\n    this._adjustParentBBoxes(a, e, i);\n  },\n  _split: function (t, i) {\n    var n = t[i],\n        a = n.children.length,\n        r = this._minEntries;\n\n    this._chooseSplitAxis(n, r, a);\n\n    var e = this._chooseSplitIndex(n, r, a),\n        o = x(n.children.splice(e, n.children.length - e));\n\n    o.height = n.height, o.leaf = n.leaf, h(n, this.toBBox), h(o, this.toBBox), i ? t[i - 1].children.push(o) : this._splitRoot(n, o);\n  },\n  _splitRoot: function (t, i) {\n    this.data = x([t, i]), this.data.height = t.height + 1, this.data.leaf = !1, h(this.data, this.toBBox);\n  },\n  _chooseSplitIndex: function (t, i, n) {\n    var h, r, e, o, l, m, u, f;\n\n    for (m = u = 1 / 0, h = i; h <= n - i; h++) o = c(r = a(t, 0, h, this.toBBox), e = a(t, h, n, this.toBBox)), l = s(r) + s(e), o < m ? (m = o, f = h, u = l < u ? l : u) : o === m && l < u && (u = l, f = h);\n\n    return f;\n  },\n  _chooseSplitAxis: function (t, i, n) {\n    var h = t.leaf ? this.compareMinX : e,\n        a = t.leaf ? this.compareMinY : o;\n    this._allDistMargin(t, i, n, h) < this._allDistMargin(t, i, n, a) && t.children.sort(h);\n  },\n  _allDistMargin: function (t, i, n, h) {\n    t.children.sort(h);\n    var e,\n        o,\n        s = this.toBBox,\n        m = a(t, 0, i, s),\n        c = a(t, n - i, n, s),\n        u = l(m) + l(c);\n\n    for (e = i; e < n - i; e++) o = t.children[e], r(m, t.leaf ? s(o) : o), u += l(m);\n\n    for (e = n - i - 1; e >= i; e--) o = t.children[e], r(c, t.leaf ? s(o) : o), u += l(c);\n\n    return u;\n  },\n  _adjustParentBBoxes: function (t, i, n) {\n    for (var h = n; h >= 0; h--) r(i[h], t);\n  },\n  _condense: function (t) {\n    for (var i, n = t.length - 1; n >= 0; n--) 0 === t[n].children.length ? n > 0 ? (i = t[n - 1].children).splice(i.indexOf(t[n]), 1) : this.clear() : h(t[n], this.toBBox);\n  },\n  _initFormat: function (t) {\n    var i = [\"return a\", \" - b\", \";\"];\n    this.compareMinX = new Function(\"a\", \"b\", i.join(t[0])), this.compareMinY = new Function(\"a\", \"b\", i.join(t[1])), this.toBBox = new Function(\"a\", \"return {minX: a\" + t[0] + \", minY: a\" + t[1] + \", maxX: a\" + t[2] + \", maxY: a\" + t[3] + \"};\");\n  }\n};\nexport { i as r };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/chunks/rbush.js"],"names":["q","t","i","n","_maxEntries","Math","max","_minEntries","ceil","toBBox","_initFormat","clear","indexOf","h","length","a","children","x","minX","minY","maxX","maxY","e","o","r","leaf","min","s","l","m","c","u","f","height","d","pop","push","prototype","all","_all","data","search","collides","load","insert","_build","slice","_splitRoot","_insert","remove","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","log","pow","sqrt","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","_allDistMargin","sort","Function","join"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{q as t}from\"./quickselect.js\";function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&(\"function\"==typeof n?this.toBBox=n:this._initFormat(n)),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var h=0;h<i.length;h++)if(n(t,i[h]))return h;return-1}function h(t,i){a(t,0,t.children.length,i,t)}function a(t,i,n,h,a){a||(a=x(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var e,o=i;o<n;o++)e=t.children[o],r(a,t.leaf?h(e):e);return a}function r(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function e(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function c(t,i){var n=Math.max(t.minX,i.minX),h=Math.max(t.minY,i.minY),a=Math.min(t.maxX,i.maxX),r=Math.min(t.maxY,i.maxY);return Math.max(0,a-n)*Math.max(0,r-h)}function u(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,h,a,r){for(var e,o=[n,h];o.length;)(h=o.pop())-(n=o.pop())<=a||(e=n+Math.ceil((h-n)/a/2)*a,t(i,e,n,h,r),o.push(n,e,e,h))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!f(t,i))return n;for(var a,r,e,o,s=[];i;){for(a=0,r=i.children.length;a<r;a++)e=i.children[a],f(t,o=i.leaf?h(e):e)&&(i.leaf?n.push(e):u(t,o)?this._all(e,n):s.push(e));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var h,a,r,e,o=[];i;){for(h=0,a=i.children.length;h<a;h++)if(r=i.children[h],f(t,e=i.leaf?n(r):r)){if(i.leaf||u(t,e))return!0;o.push(r)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var a=this.data;this.data=h,h=a}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var h,a,r,e,o=this.data,s=this.toBBox(t),l=[],m=[];o||l.length;){if(o||(o=l.pop(),a=l[l.length-1],h=m.pop(),e=!0),o.leaf&&-1!==(r=n(t,o.children,i)))return o.children.splice(r,1),l.push(o),this._condense(l),this;e||o.leaf||!u(o,s)?a?(h++,o=a.children[h],e=!1):o=null:(l.push(o),m.push(h),h=0,a=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:e,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,a){var r,e=n-i+1,o=this._maxEntries;if(e<=o)return h(r=x(t.slice(i,n+1)),this.toBBox),r;a||(a=Math.ceil(Math.log(e)/Math.log(o)),o=Math.ceil(e/Math.pow(o,a-1))),(r=x([])).leaf=!1,r.height=a;var s,l,m,c,u=Math.ceil(e/o),f=u*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,m=Math.min(s+f-1,n),u,this.compareMinY),l=s;l<=m;l+=u)c=Math.min(l+u-1,m),r.children.push(this._build(t,l,c,a-1));return h(r,this.toBBox),r},_chooseSubtree:function(t,i,n,h){for(var a,r,e,o,l,c,u,f;h.push(i),!i.leaf&&h.length-1!==n;){for(u=f=1/0,a=0,r=i.children.length;a<r;a++)l=s(e=i.children[a]),(c=m(t,e)-l)<f?(f=c,u=l<u?l:u,o=e):c===f&&l<u&&(u=l,o=e);i=o||i.children[0]}return i},_insert:function(t,i,n){var h=this.toBBox,a=n?t:h(t),e=[],o=this._chooseSubtree(a,this.data,i,e);for(o.children.push(t),r(o,a);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(a,e,i)},_split:function(t,i){var n=t[i],a=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,a);var e=this._chooseSplitIndex(n,r,a),o=x(n.children.splice(e,n.children.length-e));o.height=n.height,o.leaf=n.leaf,h(n,this.toBBox),h(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var h,r,e,o,l,m,u,f;for(m=u=1/0,h=i;h<=n-i;h++)o=c(r=a(t,0,h,this.toBBox),e=a(t,h,n,this.toBBox)),l=s(r)+s(e),o<m?(m=o,f=h,u=l<u?l:u):o===m&&l<u&&(u=l,f=h);return f},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:e,a=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,h)<this._allDistMargin(t,i,n,a)&&t.children.sort(h)},_allDistMargin:function(t,i,n,h){t.children.sort(h);var e,o,s=this.toBBox,m=a(t,0,i,s),c=a(t,n-i,n,s),u=l(m)+l(c);for(e=i;e<n-i;e++)o=t.children[e],r(m,t.leaf?s(o):o),u+=l(m);for(e=n-i-1;e>=i;e--)o=t.children[e],r(c,t.leaf?s(o):o),u+=l(c);return u},_adjustParentBBoxes:function(t,i,n){for(var h=n;h>=0;h--)r(i[h],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():h(t[n],this.toBBox)},_initFormat:function(t){var i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}};export{i as r};\n"]},"metadata":{},"sourceType":"module"}