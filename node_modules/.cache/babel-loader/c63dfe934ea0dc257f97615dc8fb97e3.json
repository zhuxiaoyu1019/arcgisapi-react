{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../intl.js\";\nimport t from \"../core/Collection.js\";\nimport { eventKey as i } from \"../core/events.js\";\nimport o from \"../core/Handles.js\";\nimport n from \"../core/Logger.js\";\nimport { isNone as s } from \"../core/maybe.js\";\nimport { throttle as r } from \"../core/throttle.js\";\nimport { watch as a, whenFalse as l, on as u, init as c } from \"../core/watchUtils.js\";\nimport { aliasOf as d } from \"../core/accessorSupport/decorators/aliasOf.js\";\nimport \"../core/has.js\";\nimport { cast as p } from \"../core/accessorSupport/decorators/cast.js\";\nimport { property as h } from \"../core/accessorSupport/decorators/property.js\";\nimport { subclass as g } from \"../core/accessorSupport/decorators/subclass.js\";\nimport _ from \"./Feature.js\";\nimport f from \"./Spinner.js\";\nimport v from \"./Widget.js\";\nimport { FeatureContentMixin as m } from \"./Feature/support/FeatureContentMixin.js\";\nimport b from \"./Popup/PopupViewModel.js\";\nimport { Heading as M } from \"./support/Heading.js\";\nimport { accessibleHandler as w } from \"./support/decorators/accessibleHandler.js\";\nimport { messageBundle as y } from \"./support/decorators/messageBundle.js\";\nimport { vmEvent as k } from \"./support/decorators/vmEvent.js\";\nimport { tsx as C } from \"./support/jsxFactory.js\";\nimport { storeNode as A, cssTransition as F, isRTL as I } from \"./support/widgetUtils.js\";\nimport { substitute as x } from \"../intl/substitute.js\";\nconst O = \"selected-index\",\n      N = 0,\n      B = \"popup-spinner\",\n      T = {\n  iconLeftTriangleArrow: \"esri-icon-left-triangle-arrow\",\n  iconRightTriangleArrow: \"esri-icon-right-triangle-arrow\",\n  iconDockToTop: \"esri-icon-maximize\",\n  iconDockToBottom: \"esri-icon-dock-bottom\",\n  iconDockToLeft: \"esri-icon-dock-left\",\n  iconDockToRight: \"esri-icon-dock-right\",\n  iconClose: \"esri-icon-close\",\n  iconUndock: \"esri-icon-minimize\",\n  iconCheckMark: \"esri-icon-check-mark\",\n  iconLoading: \"esri-icon-loading-indicator\",\n  iconDefaultAction: \"esri-icon-default-action\",\n  iconActionsMenu: \"esri-icon-handle-horizontal\",\n  rotating: \"esri-rotating\",\n  base: \"esri-popup\",\n  widget: \"esri-widget\",\n  main: \"esri-popup__main-container\",\n  loadingContainer: \"esri-popup__loading-container\",\n  isCollapsible: \"esri-popup--is-collapsible\",\n  isCollapsed: \"esri-popup--is-collapsed\",\n  shadow: \"esri-popup--shadow\",\n  isDocked: \"esri-popup--is-docked\",\n  isDockedTopLeft: \"esri-popup--is-docked-top-left\",\n  isDockedTopCenter: \"esri-popup--is-docked-top-center\",\n  isDockedTopRight: \"esri-popup--is-docked-top-right\",\n  isDockedBottomLeft: \"esri-popup--is-docked-bottom-left\",\n  isDockedBottomCenter: \"esri-popup--is-docked-bottom-center\",\n  isDockedBottomRight: \"esri-popup--is-docked-bottom-right\",\n  alignTopCenter: \"esri-popup--aligned-top-center\",\n  alignBottomCenter: \"esri-popup--aligned-bottom-center\",\n  alignTopLeft: \"esri-popup--aligned-top-left\",\n  alignBottomLeft: \"esri-popup--aligned-bottom-left\",\n  alignTopRight: \"esri-popup--aligned-top-right\",\n  alignBottomRight: \"esri-popup--aligned-bottom-right\",\n  isFeatureMenuOpen: \"esri-popup--feature-menu-open\",\n  isActionsMenuOpen: \"esri-popup--actions-menu-open\",\n  hasFeatureUpdated: \"esri-popup--feature-updated\",\n  header: \"esri-popup__header\",\n  headerButtons: \"esri-popup__header-buttons\",\n  headerContainer: \"esri-popup__header-container\",\n  headerContainerButton: \"esri-popup__header-container--button\",\n  headerTitle: \"esri-popup__header-title\",\n  content: \"esri-popup__content\",\n  footer: \"esri-popup__footer\",\n  footerHasPagination: \"esri-popup__footer--has-pagination\",\n  footerHasActions: \"esri-popup__footer--has-actions\",\n  footerHasActionsMenu: \"esri-popup__footer--has-actions-menu\",\n  button: \"esri-popup__button\",\n  buttonDisabled: \"esri-popup__button--disabled\",\n  buttonDock: \"esri-popup__button--dock\",\n  icon: \"esri-popup__icon\",\n  iconDock: \"esri-popup__icon--dock-icon\",\n  inlineActionsContainer: \"esri-popup__inline-actions-container\",\n  actionsMenuButton: \"esri-popup__actions-menu-button\",\n  actions: \"esri-popup__actions\",\n  action: \"esri-popup__action\",\n  actionImage: \"esri-popup__action-image\",\n  actionText: \"esri-popup__action-text\",\n  actionToggle: \"esri-popup__action-toggle\",\n  actionToggleOn: \"esri-popup__action-toggle--on\",\n  pointer: \"esri-popup__pointer\",\n  pointerDirection: \"esri-popup__pointer-direction\",\n  navigation: \"esri-popup__navigation\",\n  paginationPrevious: \"esri-popup__pagination-previous\",\n  paginationNext: \"esri-popup__pagination-next\",\n  paginationPreviousIconLTR: \"esri-popup__pagination-previous-icon\",\n  paginationPreviousIconRTL: \"esri-popup__pagination-previous-icon--rtl\",\n  paginationNextIconLTR: \"esri-popup__pagination-next-icon\",\n  paginationNextIconRTL: \"esri-popup__pagination-next-icon--rtl\",\n  featureMenu: \"esri-popup__feature-menu\",\n  featureMenuList: \"esri-popup__feature-menu-list\",\n  featureMenuItem: \"esri-popup__feature-menu-item\",\n  featureMenuViewport: \"esri-popup__feature-menu-viewport\",\n  featureMenuHeader: \"esri-popup__feature-menu-header\",\n  featureMenuNote: \"esri-popup__feature-menu-note\",\n  featureMenuSelected: \"esri-popup__feature-menu-item--selected\",\n  featureMenuButton: \"esri-popup__feature-menu-button\",\n  featureMenuTitle: \"esri-popup__feature-menu-title\",\n  featureMenuObserver: \"esri-popup__feature-menu-observer\",\n  featureMenuLoader: \"esri-popup__feature-menu-loader\",\n  collapseButton: \"esri-popup__collapse-button\"\n},\n      D = {\n  buttonEnabled: !0,\n  position: \"auto\",\n  breakpoint: {\n    width: 544\n  }\n},\n      E = \"esri-popup\";\n\nfunction P(e, t) {\n  return void 0 === t ? `${E}__${e}` : `${E}__${e}-${t}`;\n}\n\nconst L = \"esri.widgets.Popup\",\n      S = n.getLogger(L),\n      V = {\n  closeButton: !0,\n  featureNavigation: !0\n};\nlet R = class extends m(v) {\n  constructor(e, t) {\n    super(e, t), this._blurClose = !1, this._blurContainer = !1, this._containerNode = null, this._mainContainerNode = null, this._featureMenuNode = null, this._actionsMenuNode = null, this._focusClose = !1, this._focusContainer = !1, this._focusDockButton = !1, this._focusFeatureMenuButton = !1, this._focusActionsMenuButton = !1, this._focusFirstFeature = !1, this._focusFirstAction = !1, this._handles = new o(), this._pointerOffsetInPx = 16, this._spinner = null, this._feature = null, this._featureMenuIntersectionObserverCallback = ([e]) => {\n      null != e && e.isIntersecting && this.viewModel.featurePage++;\n    }, this._featureMenuIntersectionObserver = new IntersectionObserver(this._featureMenuIntersectionObserverCallback), this._displaySpinnerThrottled = r(() => this._displaySpinner(), N), this.actions = null, this.alignment = \"auto\", this.autoCloseEnabled = null, this.autoOpenEnabled = null, this.defaultPopupTemplateEnabled = null, this.content = null, this.collapsed = !1, this.collapseEnabled = !0, this.dockEnabled = !1, this.featureCount = null, this.featureMenuOpen = !1, this.features = null, this.goToOverride = null, this.headingLevel = 2, this.highlightEnabled = null, this.location = null, this.label = void 0, this.maxInlineActions = 3, this.messages = null, this.messagesCommon = null, this.promises = null, this.selectedFeature = null, this.selectedFeatureIndex = null, this.spinnerEnabled = !0, this.title = null, this.updateLocationEnabled = null, this.view = null, this.viewModel = new b(), this.visible = null, this.visibleElements = { ...V\n    }, this._addSelectedFeatureIndexHandle(), this.own([a(this, \"viewModel.screenLocation\", () => this._positionContainer()), a(this, [\"viewModel.active\", \"dockEnabled\"], () => this._toggleScreenLocationEnabled()), a(this, \"viewModel.screenLocation\", (e, t) => {\n      !!e != !!t && this.reposition();\n    }), a(this, [\"viewModel.view.padding\", \"viewModel.view.size\", \"viewModel.active\", \"viewModel.location\", \"alignment\"], () => this.reposition()), a(this, \"spinnerEnabled\", e => this._spinnerEnabledChange(e)), a(this, \"viewModel.view.size\", (e, t) => this._updateDockEnabledForViewSize(e, t)), a(this, \"viewModel.view\", (e, t) => this._viewChange(e, t)), a(this, \"viewModel.view.ready\", (e, t) => this._viewReadyChange(e, t)), a(this, [\"viewModel.waitingForResult\", \"viewModel.location\"], () => {\n      this._hideSpinner(), this._displaySpinnerThrottled();\n    }), a(this, \"selectedFeatureWidget.viewModel.title\", e => this._setTitleFromFeatureWidget(e)), a(this, [\"selectedFeatureWidget.viewModel.content\", \"selectedFeatureWidget.viewModel.waitingForContent\"], () => this._setContentFromFeatureWidget()), l(this, \"collapsed\", () => {\n      var e, t;\n      \"xsmall\" === (null == (e = this.viewModel) || null == (t = e.view) ? void 0 : t.widthBreakpoint) && this.viewModel.active && this.collapseEnabled && this.viewModel.centerAtLocation();\n    }), u(this, \"viewModel.allActions\", \"change\", () => this._watchActions()), c(this, \"viewModel.allActions\", () => this._watchActions()), a(this, \"viewModel.featureViewModels\", () => this._featureMenuViewportScrollTop())]);\n  }\n\n  destroy() {\n    var e, t;\n    this._destroySelectedFeatureWidget(), this._destroySpinner(), null == (e = this._handles) || e.destroy(), this._unobserveFeatureMenuObserver(), null == (t = this._featureMenuIntersectionObserver) || t.disconnect(), this._handles = null;\n  }\n\n  get actionsMenuId() {\n    return `${this.id}-actions-menu`;\n  }\n\n  get actionsMenuButtonId() {\n    return `${this.id}-actions-menu-button`;\n  }\n\n  get featureMenuId() {\n    return `${this.id}-feature-menu`;\n  }\n\n  get titleId() {\n    return `${this.id}-popup-title`;\n  }\n\n  get contentId() {\n    return `${this.id}-popup-content`;\n  }\n\n  get hasContent() {\n    var e, t, i, o, n;\n    return !!(this.selectedFeatureWidget ? (null == (e = this.selectedFeatureWidget) || null == (t = e.viewModel) ? void 0 : t.waitingForContent) || (null == (i = this.selectedFeatureWidget) || null == (o = i.viewModel) ? void 0 : o.content) : null == (n = this.viewModel) ? void 0 : n.content);\n  }\n\n  get featureNavigationVisible() {\n    return this.viewModel.active && this.viewModel.featureCount > 1 && this.visibleElements.featureNavigation;\n  }\n\n  get collapsible() {\n    return !!(this.collapseEnabled && this.viewModel.title && this.hasContent);\n  }\n\n  get featureMenuVisible() {\n    return this.featureNavigationVisible && this.featureMenuOpen;\n  }\n\n  get contentCollapsed() {\n    return this.collapsible && !this.featureMenuVisible && this.collapsed;\n  }\n\n  get dividedActions() {\n    return this._divideActions();\n  }\n\n  set actionsMenuOpen(e) {\n    this._set(\"actionsMenuOpen\", !!e);\n  }\n\n  get actionsMenuOpen() {\n    return !!this.viewModel.active && this._get(\"actionsMenuOpen\");\n  }\n\n  get currentAlignment() {\n    return this._getCurrentAlignment();\n  }\n\n  get currentDockPosition() {\n    return this._getCurrentDockPosition();\n  }\n\n  get dockOptions() {\n    return this._get(\"dockOptions\") || D;\n  }\n\n  set dockOptions(e) {\n    const t = { ...D\n    },\n          i = this.get(\"viewModel.view.breakpoints\"),\n          o = {};\n    i && (o.width = i.xsmall, o.height = i.xsmall);\n    const n = { ...t,\n      ...e\n    },\n          s = { ...t.breakpoint,\n      ...o\n    },\n          {\n      breakpoint: r\n    } = n;\n    !0 === r ? n.breakpoint = s : \"object\" == typeof r && (n.breakpoint = { ...s,\n      ...r\n    }), this._set(\"dockOptions\", n), this._setCurrentDockPosition(), this.reposition();\n  }\n\n  get selectedFeatureWidget() {\n    const {\n      _feature: e,\n      visibleElements: t,\n      headingLevel: i\n    } = this,\n          {\n      selectedFeatureViewModel: o\n    } = this.viewModel,\n          n = { ...t,\n      title: !1\n    };\n    return o ? (e ? (e.viewModel = o, e.visibleElements = n) : this._feature = new _({\n      headingLevel: i + 1,\n      viewModel: o,\n      visibleElements: n\n    }), this._feature) : null;\n  }\n\n  castVisibleElements(e) {\n    return { ...V,\n      ...e\n    };\n  }\n\n  blur() {\n    const {\n      active: e\n    } = this.viewModel;\n    e || S.warn(\"Popup can only be blurred when currently active.\"), this.visibleElements.closeButton ? this._blurClose = !0 : this._blurContainer = !0, this.scheduleRender();\n  }\n\n  clear() {\n    this.viewModel.clear();\n  }\n\n  close() {\n    this.visible = !1;\n  }\n\n  fetchFeatures(e, t) {\n    return this.viewModel.fetchFeatures(e, t);\n  }\n\n  focus() {\n    const {\n      active: e\n    } = this.viewModel;\n    e || S.warn(\"Popup can only be focused when currently active.\"), this.visibleElements.closeButton ? this._focusClose = !0 : this._focusContainer = !0, this.scheduleRender();\n  }\n\n  next() {\n    return this.viewModel.next();\n  }\n\n  open(e) {\n    var t, i;\n\n    this._handles.remove(O);\n\n    const o = !!e && !!e.featureMenuOpen,\n          n = !!e && !!e.actionsMenuOpen,\n          s = {\n      collapsed: !!e && !!e.collapsed,\n      actionsMenuOpen: n,\n      featureMenuOpen: o\n    };\n    \"xsmall\" === (null == (t = this.viewModel) || null == (i = t.view) ? void 0 : i.widthBreakpoint) && (s.collapsed = !0), this.set(s), this.viewModel.open(e), this._addSelectedFeatureIndexHandle();\n  }\n\n  previous() {\n    return this.viewModel.previous();\n  }\n\n  reposition() {\n    this.renderNow(), this._positionContainer(), this._setCurrentAlignment();\n  }\n\n  triggerAction(e) {\n    this.viewModel.triggerAction(e);\n  }\n\n  render() {\n    var e, t, i, o;\n\n    const {\n      actionsMenuOpen: n,\n      dockEnabled: s,\n      featureMenuVisible: r,\n      dividedActions: a,\n      currentAlignment: l,\n      currentDockPosition: u\n    } = this,\n          {\n      active: c\n    } = this.viewModel,\n          {\n      menuActions: d\n    } = a,\n          p = c && d.length > 1 && n,\n          h = c && s,\n          g = c && !s,\n          _ = null == (e = this.selectedFeature) || null == (t = e.layer) ? void 0 : t.title,\n          f = null == (i = this.selectedFeature) || null == (o = i.layer) ? void 0 : o.id,\n          v = {\n      [T.alignTopCenter]: \"top-center\" === l,\n      [T.alignBottomCenter]: \"bottom-center\" === l,\n      [T.alignTopLeft]: \"top-left\" === l,\n      [T.alignBottomLeft]: \"bottom-left\" === l,\n      [T.alignTopRight]: \"top-right\" === l,\n      [T.alignBottomRight]: \"bottom-right\" === l,\n      [T.isDocked]: h,\n      [T.shadow]: g,\n      [T.isDockedTopLeft]: \"top-left\" === u,\n      [T.isDockedTopCenter]: \"top-center\" === u,\n      [T.isDockedTopRight]: \"top-right\" === u,\n      [T.isDockedBottomLeft]: \"bottom-left\" === u,\n      [T.isDockedBottomCenter]: \"bottom-center\" === u,\n      [T.isDockedBottomRight]: \"bottom-right\" === u,\n      [T.isFeatureMenuOpen]: r,\n      [T.isActionsMenuOpen]: p\n    };\n\n    return C(\"div\", {\n      class: this.classes(T.base, v),\n      role: \"presentation\",\n      \"data-layer-title\": _,\n      \"data-layer-id\": f,\n      bind: this,\n      afterCreate: this._positionContainer,\n      afterUpdate: this._positionContainer\n    }, c ? [this.renderMainContainer(), this.renderPointer()] : null);\n  }\n\n  renderLoadingIcon() {\n    return C(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(T.icon, T.iconLoading, T.rotating)\n    });\n  }\n\n  renderNavigationLoading() {\n    const {\n      messagesCommon: e\n    } = this;\n    return this.viewModel.pendingPromisesCount ? C(\"div\", {\n      key: P(\"loading-container\"),\n      role: \"presentation\",\n      class: T.loadingContainer,\n      \"aria-label\": e.loading,\n      title: e.loading\n    }, this.renderLoadingIcon()) : null;\n  }\n\n  renderPreviousIcon() {\n    const e = I(),\n          t = {\n      [T.iconRightTriangleArrow]: e,\n      [T.paginationPreviousIconRTL]: e,\n      [T.iconLeftTriangleArrow]: !e,\n      [T.paginationPreviousIconLTR]: !e\n    };\n    return C(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(T.icon, t)\n    });\n  }\n\n  renderPreviousButton() {\n    const {\n      messages: e\n    } = this;\n    return C(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._previous,\n      onkeydown: this._previous,\n      class: this.classes(T.button, T.paginationPrevious),\n      \"aria-label\": e.previous,\n      title: e.previous\n    }, this.renderPreviousIcon());\n  }\n\n  renderNextIcon() {\n    const e = I(),\n          t = {\n      [T.iconLeftTriangleArrow]: e,\n      [T.paginationNextIconRTL]: e,\n      [T.iconRightTriangleArrow]: !e,\n      [T.paginationNextIconLTR]: !e\n    };\n    return C(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(T.icon, t)\n    });\n  }\n\n  renderNextButton() {\n    const {\n      messages: e\n    } = this;\n    return C(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._next,\n      onkeydown: this._next,\n      class: this.classes(T.button, T.paginationNext),\n      \"aria-label\": e.next,\n      title: e.next\n    }, this.renderNextIcon());\n  }\n\n  renderFeatureMenuButton() {\n    const {\n      featureMenuOpen: e,\n      featureMenuId: t,\n      messagesCommon: i\n    } = this,\n          {\n      featureCount: o,\n      selectedFeatureIndex: n\n    } = this.viewModel;\n    return C(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleFeatureMenu,\n      onkeydown: this._toggleFeatureMenu,\n      afterCreate: this._focusFeatureMenuButtonNode,\n      afterUpdate: this._focusFeatureMenuButtonNode,\n      class: this.classes(T.button, T.featureMenuButton),\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": t,\n      \"aria-expanded\": e.toString(),\n      \"aria-label\": i.menu,\n      title: i.menu\n    }, this._getPageText(o, n));\n  }\n\n  renderNavigationButtons() {\n    return this.featureNavigationVisible ? [this.renderPreviousButton(), this.renderNavigationLoading() || this.renderFeatureMenuButton(), this.renderNextButton()] : null;\n  }\n\n  renderDockIcon() {\n    const {\n      dockEnabled: e\n    } = this,\n          t = this._wouldDockTo(),\n          i = {\n      [T.iconUndock]: e,\n      [T.iconDock]: !e,\n      [T.iconDockToRight]: !e && (\"top-right\" === t || \"bottom-right\" === t),\n      [T.iconDockToLeft]: !e && (\"top-left\" === t || \"bottom-left\" === t),\n      [T.iconDockToTop]: !e && \"top-center\" === t,\n      [T.iconDockToBottom]: !e && \"bottom-center\" === t\n    };\n\n    return C(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(i, T.icon)\n    });\n  }\n\n  renderDockButton() {\n    var e, t, i;\n    const {\n      dockEnabled: o,\n      messages: n\n    } = this,\n          s = null == (e = this.viewModel) || null == (t = e.view) ? void 0 : t.widthBreakpoint,\n          r = o ? n.undock : n.dock;\n    return \"xsmall\" !== s && null != (i = this.dockOptions) && i.buttonEnabled ? C(\"div\", {\n      role: \"button\",\n      \"aria-label\": r,\n      title: r,\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleDockEnabled,\n      onkeydown: this._toggleDockEnabled,\n      afterCreate: this._focusDockButtonNode,\n      afterUpdate: this._focusDockButtonNode,\n      class: this.classes(T.button, T.buttonDock)\n    }, this.renderDockIcon()) : null;\n  }\n\n  renderTitle() {\n    const {\n      title: e\n    } = this.viewModel,\n          {\n      titleId: t,\n      collapsible: i,\n      contentCollapsed: o,\n      messagesCommon: n\n    } = this,\n          s = {\n      [T.headerContainerButton]: i\n    },\n          r = C(M, {\n      level: this.headingLevel,\n      class: T.headerTitle,\n      innerHTML: e\n    }),\n          a = i ? C(\"button\", {\n      key: `${e}--collapsible`,\n      id: t,\n      title: o ? n.expand : n.collapse,\n      bind: this,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      class: this.classes(T.headerContainer, s),\n      \"aria-expanded\": o ? \"false\" : \"true\",\n      onclick: this._toggleCollapsed\n    }, r) : C(\"div\", {\n      key: e,\n      id: t,\n      bind: this,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      class: this.classes(T.headerContainer, s)\n    }, r);\n    return e ? a : null;\n  }\n\n  renderCloseIcon() {\n    return C(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(T.icon, T.iconClose)\n    });\n  }\n\n  renderCloseButton() {\n    const {\n      visibleElements: e,\n      messagesCommon: t\n    } = this;\n    return e.closeButton ? C(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._close,\n      onkeydown: this._close,\n      class: T.button,\n      \"aria-label\": t.close,\n      title: t.close,\n      afterCreate: this._closeButtonNodeUpdated,\n      afterUpdate: this._closeButtonNodeUpdated\n    }, this.renderCloseIcon()) : null;\n  }\n\n  renderHeader() {\n    return C(\"header\", {\n      class: T.header\n    }, this.renderTitle(), C(\"div\", {\n      class: T.headerButtons\n    }, this.renderDockButton(), this.renderCloseButton()));\n  }\n\n  renderContentContainer() {\n    const {\n      contentId: e,\n      hasContent: t,\n      contentCollapsed: i\n    } = this,\n          {\n      content: o\n    } = this.viewModel;\n    return t && !i ? C(\"article\", {\n      key: o,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      id: e,\n      class: T.content\n    }, this.renderContent()) : null;\n  }\n\n  renderActionsMenuButton() {\n    const {\n      actionsMenuId: e,\n      actionsMenuButtonId: t,\n      actionsMenuOpen: i,\n      dividedActions: o,\n      messagesCommon: n\n    } = this,\n          s = i ? n.close : n.open,\n          {\n      menuActions: r\n    } = o;\n    return r.length ? C(\"div\", {\n      key: P(\"actions-menu-button\"),\n      class: this.classes(T.button, T.actionsMenuButton),\n      role: \"button\",\n      id: t,\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": i ? e : null,\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleActionsMenu,\n      onkeydown: this._toggleActionsMenu,\n      afterCreate: this._focusActionsMenuButtonNode,\n      afterUpdate: this._focusActionsMenuButtonNode,\n      \"aria-label\": s,\n      title: s\n    }, C(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: T.iconActionsMenu\n    })) : null;\n  }\n\n  renderMenuActions() {\n    const {\n      actionsMenuId: e,\n      actionsMenuButtonId: t,\n      actionsMenuOpen: i,\n      dividedActions: o\n    } = this,\n          {\n      menuActions: n,\n      inlineActions: s\n    } = o;\n    return n.length && i ? C(\"ul\", {\n      id: e,\n      role: \"menu\",\n      \"aria-labelledby\": t,\n      key: P(\"actions\"),\n      class: T.actions,\n      bind: this,\n      onkeyup: this._handleActionMenuKeyup,\n      afterCreate: this._actionsMenuNodeUpdated,\n      afterUpdate: this._actionsMenuNodeUpdated\n    }, n.toArray().map((e, t) => this.renderAction({\n      action: e,\n      index: t + s.length,\n      type: \"menu-item\"\n    }))) : null;\n  }\n\n  renderInlineActions() {\n    const {\n      inlineActions: e\n    } = this.dividedActions;\n    return !!e.length && e.toArray().map((e, t) => this.renderAction({\n      action: e,\n      index: t,\n      type: \"inline\"\n    }));\n  }\n\n  renderInlineActionsContainer() {\n    const {\n      inlineActions: e,\n      menuActions: t\n    } = this.dividedActions,\n          i = !!e.length,\n          o = !!t.length;\n    return i || o ? C(\"div\", {\n      key: \"inline-actions-container\",\n      \"data-inline-actions\": i.toString(),\n      \"data-menu-actions\": o.toString(),\n      class: T.inlineActionsContainer\n    }, this.renderInlineActions(), this.renderActionsMenuButton(), this.renderMenuActions()) : null;\n  }\n\n  renderNavigation() {\n    return this.featureNavigationVisible ? C(\"section\", {\n      key: P(\"navigation\"),\n      class: this.classes(T.navigation)\n    }, this.renderNavigationButtons()) : null;\n  }\n\n  renderFooter() {\n    const {\n      featureNavigationVisible: e,\n      dividedActions: t\n    } = this,\n          {\n      inlineActions: i,\n      menuActions: o\n    } = t,\n          n = !!i.length,\n          s = !!o.length,\n          r = {\n      [T.footerHasPagination]: e,\n      [T.footerHasActions]: n,\n      [T.footerHasActionsMenu]: s\n    };\n    return e || n ? C(\"div\", {\n      key: P(\"feature-buttons\"),\n      class: this.classes(T.footer, r)\n    }, this.renderInlineActionsContainer(), this.renderNavigation()) : null;\n  }\n\n  renderFeatureMenuContainer() {\n    const {\n      messages: e\n    } = this,\n          {\n      featureViewModels: t,\n      isLoadingFeature: i\n    } = this.viewModel,\n          o = x(e.selectedFeatures, {\n      total: t.length\n    });\n    return C(\"section\", {\n      key: P(\"menu\"),\n      class: T.featureMenu\n    }, C(\"strong\", {\n      class: T.featureMenuHeader\n    }, o), C(\"nav\", {\n      bind: this,\n      class: T.featureMenuViewport,\n      \"data-node-ref\": \"_featureMenuViewportNode\",\n      afterCreate: A\n    }, this.renderFeatureMenu(), C(\"div\", {\n      class: T.featureMenuObserver,\n      bind: this,\n      afterCreate: this._featureMenuIntersectionObserverCreated\n    }), i ? C(\"div\", {\n      class: T.featureMenuLoader\n    }, this.renderLoadingIcon()) : null));\n  }\n\n  renderPointer() {\n    return this.dockEnabled ? null : C(\"div\", {\n      key: P(\"pointer\"),\n      class: T.pointer,\n      role: \"presentation\"\n    }, C(\"div\", {\n      class: this.classes(T.pointerDirection, T.shadow)\n    }));\n  }\n\n  renderMainContainer() {\n    const {\n      dockEnabled: e,\n      currentAlignment: t,\n      currentDockPosition: i,\n      titleId: o,\n      contentId: n,\n      collapsible: s,\n      hasContent: r,\n      contentCollapsed: a,\n      visibleElements: l\n    } = this,\n          {\n      title: u\n    } = this.viewModel,\n          c = \"bottom-left\" === t || \"bottom-center\" === t || \"bottom-right\" === t || \"top-left\" === i || \"top-center\" === i || \"top-right\" === i,\n          d = \"top-left\" === t || \"top-center\" === t || \"top-right\" === t || \"bottom-left\" === i || \"bottom-center\" === i || \"bottom-right\" === i,\n          p = {\n      [T.shadow]: e,\n      [T.isCollapsible]: s,\n      [T.isCollapsed]: a\n    };\n    return C(\"div\", {\n      class: this.classes(T.main, T.widget, p),\n      tabIndex: l.closeButton ? null : -1,\n      role: \"dialog\",\n      \"aria-labelledby\": u ? o : \"\",\n      \"aria-describedby\": r && !a ? n : \"\",\n      bind: this,\n      onkeyup: this._handleMainKeyup,\n      afterCreate: this._mainContainerNodeUpdated,\n      afterUpdate: this._mainContainerNodeUpdated\n    }, c ? this.renderFooter() : null, c ? this.renderFeatureMenuContainer() : null, this.renderHeader(), this.renderContentContainer(), d ? this.renderFooter() : null, d ? this.renderFeatureMenuContainer() : null);\n  }\n\n  renderContent() {\n    var e;\n    const t = null == (e = this.viewModel) ? void 0 : e.content;\n    return t ? \"string\" == typeof t ? C(\"div\", {\n      key: t,\n      innerHTML: t\n    }) : this.renderNodeContent(t) : null;\n  }\n\n  renderActionText(e) {\n    return C(\"span\", {\n      key: \"text\",\n      class: T.actionText\n    }, e);\n  }\n\n  renderActionIcon(e) {\n    const t = this._getActionClass(e),\n          i = this._getActionImage(e),\n          o = {\n      [T.iconLoading]: e.active,\n      [T.rotating]: e.active,\n      [T.icon]: !!t,\n      [T.actionImage]: !e.active && !!i\n    };\n\n    return t && (o[t] = !e.active), C(\"span\", {\n      key: \"icon\",\n      \"aria-hidden\": \"true\",\n      class: this.classes(T.icon, o),\n      styles: this._getIconStyles(i)\n    });\n  }\n\n  renderAction(e) {\n    const {\n      action: t,\n      index: i,\n      type: o\n    } = e,\n          n = this._getActionTitle(t),\n          s = {\n      [T.action]: \"toggle\" !== t.type,\n      [T.actionToggle]: \"toggle\" === t.type,\n      [T.actionToggleOn]: \"toggle\" === t.type && t.value,\n      [T.buttonDisabled]: t.disabled\n    },\n          r = [this.renderActionIcon(t), this.renderActionText(n)],\n          a = \"menu-item\" === o ? C(\"li\", {\n      key: t.uid,\n      role: \"menuitem\",\n      tabIndex: 0,\n      title: n,\n      \"aria-label\": n,\n      class: this.classes(T.button, s),\n      onkeyup: this._handleActionMenuItemKeyup,\n      bind: this,\n      \"data-action-index\": i,\n      onclick: this._triggerAction,\n      onkeydown: this._triggerAction\n    }, r) : C(\"div\", {\n      key: t.uid,\n      role: \"button\",\n      tabIndex: 0,\n      title: n,\n      \"aria-label\": n,\n      class: this.classes(T.button, s),\n      onkeyup: this._handleActionMenuItemKeyup,\n      bind: this,\n      \"data-action-index\": i,\n      onclick: this._triggerAction,\n      onkeydown: this._triggerAction\n    }, r);\n\n    return t.visible ? a : null;\n  }\n\n  renderFeatureMenuItem(e, t) {\n    const {\n      messages: i,\n      messagesCommon: o\n    } = this,\n          {\n      selectedFeatureIndex: n,\n      selectedFeatureViewModel: s\n    } = this.viewModel,\n          r = e === s,\n          a = {\n      [T.featureMenuSelected]: r\n    },\n          l = r ? C(\"span\", {\n      key: P(`feature-menu-selected-feature-${n}`),\n      title: i.selectedFeature,\n      \"aria-label\": i.selectedFeature,\n      class: T.iconCheckMark\n    }) : null,\n          u = C(\"span\", {\n      innerHTML: e.title || o.untitled\n    });\n    return C(\"li\", {\n      role: \"menuitem\",\n      tabIndex: -1,\n      key: P(`feature-menu-feature-${n}`),\n      class: this.classes(a, T.featureMenuItem),\n      bind: this,\n      \"data-feature-index\": t,\n      onkeyup: this._handleFeatureMenuItemKeyup,\n      onclick: this._selectFeature,\n      onkeydown: this._selectFeature\n    }, C(\"span\", {\n      class: T.featureMenuTitle\n    }, u, l));\n  }\n\n  renderFeatureMenu() {\n    const {\n      featureMenuId: e\n    } = this,\n          {\n      featureViewModels: t\n    } = this.viewModel;\n    return t.length > 1 ? C(\"ol\", {\n      class: T.featureMenuList,\n      id: e,\n      bind: this,\n      afterCreate: this._featureMenuNodeUpdated,\n      afterUpdate: this._featureMenuNodeUpdated,\n      onkeyup: this._handleFeatureMenuKeyup,\n      role: \"menu\"\n    }, t.filter(e => !!e.graphic).map((e, t) => this.renderFeatureMenuItem(e, t))) : null;\n  }\n\n  _getActionTitle(e) {\n    const {\n      messages: t,\n      selectedFeature: i,\n      messagesCommon: o\n    } = this,\n          {\n      id: n\n    } = e,\n          s = null == i ? void 0 : i.attributes,\n          r = \"zoom-to-feature\" === n ? x(e.title, {\n      messages: t\n    }) : \"remove-selected-feature\" === n ? x(e.title, {\n      messages: o\n    }) : \"zoom-to-clustered-features\" === n || \"browse-clustered-features\" === n ? x(e.title, {\n      messages: t\n    }) : e.title;\n    return r && s ? x(r, s) : r;\n  }\n\n  _getActionClass(e) {\n    const {\n      selectedFeature: t\n    } = this,\n          i = null == t ? void 0 : t.attributes,\n          {\n      className: o,\n      image: n\n    } = e,\n          s = n || o ? o : T.iconDefaultAction;\n    return s && i ? x(s, i) : s;\n  }\n\n  _getActionImage(e) {\n    const {\n      selectedFeature: t\n    } = this,\n          i = null == t ? void 0 : t.attributes,\n          {\n      image: o\n    } = e;\n    return o && i ? x(o, i) : o;\n  }\n\n  _createFeatureUpdatedAnimation() {\n    return F(\"enter\", T.hasFeatureUpdated);\n  }\n\n  _getInlineActionCount() {\n    const {\n      maxInlineActions: e,\n      featureNavigationVisible: t\n    } = this;\n    if (\"number\" != typeof e) return null;\n    const i = Math.round(e);\n    return Math.max(t ? i - 1 : i, 0);\n  }\n\n  _watchActions() {\n    const {\n      allActions: e\n    } = this.viewModel;\n    this.notifyChange(\"dividedActions\");\n    const t = \"actions\";\n    this._handles.remove(t), e && e.forEach(e => {\n      this._handles.add(a(e, [\"active\", \"className\", \"disabled\", \"id\", \"title\", \"image\", \"visible\"], () => this.scheduleRender()), t);\n    });\n  }\n\n  _divideActions() {\n    const {\n      allActions: e\n    } = this.viewModel,\n          i = this._getInlineActionCount(),\n          o = null === i,\n          n = 0 === i;\n\n    return {\n      inlineActions: o ? e.slice(0) : n ? new t() : e.slice(0, i),\n      menuActions: o ? new t() : n ? e.slice(0) : e.slice(i)\n    };\n  }\n\n  _featureMenuOpenChanged(e) {\n    e ? this._focusFirstFeature = !0 : this._focusFeatureMenuButton = !0;\n  }\n\n  _actionsMenuOpenChanged(e) {\n    e ? this._focusFirstAction = !0 : this._focusActionsMenuButton = !0;\n  }\n\n  _setTitleFromFeatureWidget(e) {\n    const {\n      selectedFeatureWidget: t\n    } = this;\n    t && (this.viewModel.title = e || \"\");\n  }\n\n  _setContentFromFeatureWidget() {\n    const {\n      selectedFeatureWidget: e\n    } = this;\n    e && (this.viewModel.content = e);\n  }\n\n  _unobserveFeatureMenuObserver() {\n    this._featureMenuIntersectionObserverNode && this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode);\n  }\n\n  _featureMenuIntersectionObserverCreated(e) {\n    this._unobserveFeatureMenuObserver(), this._featureMenuIntersectionObserver.observe(e), this._featureMenuIntersectionObserverNode = e;\n  }\n\n  _handleFeatureMenuKeyup(e) {\n    \"Escape\" === i(e) && (e.stopPropagation(), this._focusFeatureMenuButton = !0, this.featureMenuOpen = !1, this.scheduleRender());\n  }\n\n  _handleActionMenuKeyup(e) {\n    \"Escape\" === i(e) && (e.stopPropagation(), this._focusActionsMenuButton = !0, this.actionsMenuOpen = !1, this.scheduleRender());\n  }\n\n  _handleFeatureMenuItemKeyup(e) {\n    const t = i(e),\n          {\n      _featureMenuNode: o\n    } = this,\n          n = e.currentTarget[\"data-feature-index\"];\n    if (!o) return;\n    const s = o.querySelectorAll(\"li\"),\n          r = s.length;\n    if (\"ArrowUp\" !== t) {\n      if (\"ArrowDown\" !== t) {\n        if (\"Home\" !== t) {\n          if (\"End\" !== t) ;else {\n            e.stopPropagation();\n            s[s.length - 1].focus();\n          }\n        } else {\n          e.stopPropagation();\n          s[0].focus();\n        }\n      } else {\n        e.stopPropagation();\n        s[(n + 1 + r) % r].focus();\n      }\n    } else {\n      e.stopPropagation();\n      s[(n - 1 + r) % r].focus();\n    }\n  }\n\n  _handleActionMenuItemKeyup(e) {\n    const t = i(e),\n          {\n      _actionsMenuNode: o\n    } = this,\n          n = e.currentTarget[\"data-action-index\"];\n    if (!o) return;\n    const s = o.querySelectorAll(\"li\"),\n          r = s.length;\n    if (\"ArrowUp\" !== t) {\n      if (\"ArrowDown\" !== t) {\n        if (\"Home\" !== t) {\n          if (\"End\" !== t) ;else {\n            e.stopPropagation();\n            s[s.length - 1].focus();\n          }\n        } else {\n          e.stopPropagation();\n          s[0].focus();\n        }\n      } else {\n        e.stopPropagation();\n        s[(n + 1 + r) % r].focus();\n      }\n    } else {\n      e.stopPropagation();\n      s[(n - 1 + r) % r].focus();\n    }\n  }\n\n  _handleMainKeyup(e) {\n    const t = i(e);\n    \"ArrowLeft\" === t && (e.stopPropagation(), this.previous()), \"ArrowRight\" === t && (e.stopPropagation(), this.next());\n  }\n\n  _spinnerEnabledChange(e) {\n    if (this._destroySpinner(), !e) return;\n    const t = this.get(\"viewModel.view\");\n\n    this._createSpinner(t);\n  }\n\n  _hideSpinner() {\n    const {\n      _spinner: e\n    } = this;\n    e && (e.location = null, e.hide());\n  }\n\n  _displaySpinner() {\n    const {\n      _spinner: e\n    } = this;\n    if (!e) return;\n    const {\n      location: t,\n      waitingForResult: i\n    } = this.viewModel;\n    i ? e.show({\n      location: t\n    }) : e.hide();\n  }\n\n  _getIconStyles(e) {\n    return {\n      \"background-image\": e ? `url(${e})` : \"\"\n    };\n  }\n\n  _addSelectedFeatureIndexHandle() {\n    const e = a(this, \"viewModel.selectedFeatureIndex\", (e, t) => this._selectedFeatureIndexUpdated(e, t));\n\n    this._handles.add(e, O);\n  }\n\n  _selectedFeatureIndexUpdated(e, t) {\n    const {\n      featureCount: i\n    } = this;\n    i && e !== t && -1 !== e && (this.actionsMenuOpen = !1, this.featureMenuOpen = !1);\n  }\n\n  _destroySelectedFeatureWidget() {\n    const {\n      _feature: e\n    } = this;\n    e && (e.viewModel = null, e && !e.destroyed && e.destroy()), this._feature = null;\n  }\n\n  _isScreenLocationWithinView(e, t) {\n    return e.x > -1 && e.y > -1 && e.x <= t.width && e.y <= t.height;\n  }\n\n  _isOutsideView(e) {\n    const {\n      popupHeight: t,\n      popupWidth: i,\n      screenLocation: o,\n      side: n,\n      view: s\n    } = e;\n    if (isNaN(i) || isNaN(t) || !s || !o) return !1;\n    const r = s.padding;\n    return \"right\" === n && o.x + i / 2 > s.width - r.right || \"left\" === n && o.x - i / 2 < r.left || \"top\" === n && o.y - t < r.top || \"bottom\" === n && o.y + t > s.height - r.bottom;\n  }\n\n  _calculateAutoAlignment(e) {\n    if (\"auto\" !== e) return e;\n    const {\n      _pointerOffsetInPx: t,\n      _containerNode: i,\n      _mainContainerNode: o,\n      viewModel: n\n    } = this,\n          {\n      screenLocation: r,\n      view: a\n    } = n;\n    if (s(r) || !a || !i) return \"top-center\";\n    if (!this._isScreenLocationWithinView(r, a)) return this._get(\"currentAlignment\") || \"top-center\";\n\n    function l(e) {\n      return parseInt(e.replace(/[^-\\d\\.]/g, \"\"), 10);\n    }\n\n    const u = o ? window.getComputedStyle(o, null) : null,\n          c = u ? l(u.getPropertyValue(\"max-height\")) : 0,\n          d = u ? l(u.getPropertyValue(\"height\")) : 0,\n          {\n      height: p,\n      width: h\n    } = i.getBoundingClientRect(),\n          g = h + t,\n          _ = Math.max(p, c, d) + t,\n          f = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"right\",\n      view: a\n    }),\n          v = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"left\",\n      view: a\n    }),\n          m = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"top\",\n      view: a\n    }),\n          b = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"bottom\",\n      view: a\n    });\n\n    return v ? m ? \"bottom-right\" : \"top-right\" : f ? m ? \"bottom-left\" : \"top-left\" : m ? b ? \"top-center\" : \"bottom-center\" : \"top-center\";\n  }\n\n  _callCurrentAlignment(e) {\n    return \"function\" == typeof e ? e.call(this) : e;\n  }\n\n  _getCurrentAlignment() {\n    const {\n      alignment: e,\n      dockEnabled: t\n    } = this;\n    return t || !this.viewModel.active ? null : this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)));\n  }\n\n  _setCurrentAlignment() {\n    this._set(\"currentAlignment\", this._getCurrentAlignment());\n  }\n\n  _setCurrentDockPosition() {\n    this._set(\"currentDockPosition\", this._getCurrentDockPosition());\n  }\n\n  _calculatePositionResult(e) {\n    const t = [\"left\", \"right\"];\n    return I() && t.reverse(), e.replace(/leading/gi, t[0]).replace(/trailing/gi, t[1]);\n  }\n\n  _callDockPosition(e) {\n    return \"function\" == typeof e ? e.call(this) : e;\n  }\n\n  _getDockPosition() {\n    var e;\n    return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null == (e = this.dockOptions) ? void 0 : e.position)));\n  }\n\n  _getCurrentDockPosition() {\n    return this.dockEnabled && this.viewModel.active ? this._getDockPosition() : null;\n  }\n\n  _wouldDockTo() {\n    return this.dockEnabled ? null : this._getDockPosition();\n  }\n\n  _calculateAutoDockPosition(e) {\n    var t;\n    if (\"auto\" !== e) return e;\n    const i = null == (t = this.viewModel) ? void 0 : t.view,\n          o = I() ? \"top-left\" : \"top-right\";\n    if (!i) return o;\n    const n = i.padding || {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n          s = i.width - n.left - n.right,\n          {\n      breakpoints: r\n    } = i;\n    return r && s <= r.xsmall ? \"bottom-center\" : o;\n  }\n\n  _positionContainer(e = this._containerNode) {\n    if (e && (this._containerNode = e), !e) return;\n\n    const {\n      screenLocation: t\n    } = this.viewModel,\n          {\n      width: i\n    } = e.getBoundingClientRect(),\n          o = this._calculatePositionStyle(t, i);\n\n    o && (e.style.top = o.top, e.style.left = o.left, e.style.bottom = o.bottom, e.style.right = o.right);\n  }\n\n  _calculateFullWidth(e) {\n    const {\n      currentAlignment: t,\n      _pointerOffsetInPx: i\n    } = this;\n    return \"top-left\" === t || \"bottom-left\" === t || \"top-right\" === t || \"bottom-right\" === t ? e + i : e;\n  }\n\n  _calculateAlignmentPosition(e, t, i, o) {\n    const {\n      currentAlignment: n,\n      _pointerOffsetInPx: s\n    } = this,\n          r = o / 2,\n          a = i.height - t,\n          l = i.width - e,\n          {\n      padding: u\n    } = this.view;\n    return \"bottom-center\" === n ? {\n      top: t + s - u.top,\n      left: e - r - u.left\n    } : \"top-left\" === n ? {\n      bottom: a + s - u.bottom,\n      right: l + s - u.right\n    } : \"bottom-left\" === n ? {\n      top: t + s - u.top,\n      right: l + s - u.right\n    } : \"top-right\" === n ? {\n      bottom: a + s - u.bottom,\n      left: e + s - u.left\n    } : \"bottom-right\" === n ? {\n      top: t + s - u.top,\n      left: e + s - u.left\n    } : \"top-center\" === n ? {\n      bottom: a + s - u.bottom,\n      left: e - r - u.left\n    } : void 0;\n  }\n\n  _calculatePositionStyle(e, t) {\n    const {\n      dockEnabled: i,\n      view: o\n    } = this;\n    if (!o) return;\n    if (i) return {\n      left: \"\",\n      top: \"\",\n      right: \"\",\n      bottom: \"\"\n    };\n    if (s(e) || !t) return;\n\n    const n = this._calculateFullWidth(t),\n          r = this._calculateAlignmentPosition(e.x, e.y, o, n);\n\n    return r ? {\n      top: void 0 !== r.top ? `${r.top}px` : \"auto\",\n      left: void 0 !== r.left ? `${r.left}px` : \"auto\",\n      bottom: void 0 !== r.bottom ? `${r.bottom}px` : \"auto\",\n      right: void 0 !== r.right ? `${r.right}px` : \"auto\"\n    } : void 0;\n  }\n\n  _viewChange(e, t) {\n    e && t && (this.close(), this.clear());\n  }\n\n  _viewReadyChange(e, t) {\n    if (e) {\n      const e = this.get(\"viewModel.view\");\n\n      this._wireUpView(e);\n    } else t && (this.close(), this.clear());\n  }\n\n  _wireUpView(e) {\n    if (this._destroySpinner(), !e) return;\n    const {\n      spinnerEnabled: t\n    } = this;\n    t && this._createSpinner(e), this._setDockEnabledForViewSize(this.dockOptions);\n  }\n\n  _dockingThresholdCrossed(e, t, i) {\n    const [o, n] = e,\n          [s, r] = t,\n          {\n      width: a,\n      height: l\n    } = i;\n    return o <= a && s > a || o > a && s <= a || n <= l && r > l || n > l && r <= l;\n  }\n\n  _updateDockEnabledForViewSize(e, t) {\n    if (!e || !t) return;\n    const i = this.get(\"viewModel.view.padding\") || {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n          o = i.left + i.right,\n          n = i.top + i.bottom,\n          s = [],\n          r = [];\n    s[0] = e[0] - o, s[1] = e[1] - n, r[0] = t[0] - o, r[1] = t[1] - n;\n    const {\n      dockOptions: a\n    } = this,\n          l = a.breakpoint;\n    this._dockingThresholdCrossed(s, r, l) && this._setDockEnabledForViewSize(a), this._setCurrentDockPosition();\n  }\n\n  _focusDockButtonNode(e) {\n    this._focusDockButton && (this._focusDockButton = !1, e.focus());\n  }\n\n  _closeButtonNodeUpdated(e) {\n    return this._focusClose ? (this._focusClose = !1, void e.focus()) : this._blurClose ? (this._blurClose = !1, void e.blur()) : void 0;\n  }\n\n  _mainContainerNodeUpdated(e) {\n    return this._mainContainerNode = e, this._focusContainer ? (this._focusContainer = !1, void e.focus()) : this._blurContainer ? (this._blurContainer = !1, void e.blur()) : void 0;\n  }\n\n  _featureMenuNodeUpdated(e) {\n    if (this._featureMenuNode = e, !e || !this._focusFirstFeature) return;\n    this._focusFirstFeature = !1;\n    const t = e.querySelectorAll(\"li\");\n\n    if (t.length) {\n      t[0].focus();\n    }\n  }\n\n  _actionsMenuNodeUpdated(e) {\n    if (this._actionsMenuNode = e, !e || !this._focusFirstAction) return;\n    this._focusFirstAction = !1;\n    const t = e.querySelectorAll(\"li\");\n\n    if (t.length) {\n      t[0].focus();\n    }\n  }\n\n  _focusFeatureMenuButtonNode(e) {\n    this._focusFeatureMenuButton && (this._focusFeatureMenuButton = !1, e.focus());\n  }\n\n  _focusActionsMenuButtonNode(e) {\n    this._focusActionsMenuButton && (this._focusActionsMenuButton = !1, e.focus());\n  }\n\n  _featureMenuViewportScrollTop() {\n    this._featureMenuViewportNode && (this._featureMenuViewportNode.scrollTop = 0);\n  }\n\n  _toggleScreenLocationEnabled() {\n    const {\n      dockEnabled: e,\n      viewModel: t\n    } = this;\n    if (!t) return;\n    const i = t.active && !e;\n    t.screenLocationEnabled = i;\n  }\n\n  _shouldDockAtCurrentViewSize(e) {\n    var t, i;\n    const o = e.breakpoint,\n          n = null == (t = this.viewModel) || null == (i = t.view) ? void 0 : i.ui;\n    if (!n) return !1;\n    const {\n      width: s,\n      height: r\n    } = n;\n    if (isNaN(s) || isNaN(r)) return !1;\n    const a = o.hasOwnProperty(\"width\") && s <= o.width,\n          l = o.hasOwnProperty(\"height\") && r <= o.height;\n    return a || l;\n  }\n\n  _setDockEnabledForViewSize(e) {\n    e.breakpoint && (this.dockEnabled = this._shouldDockAtCurrentViewSize(e));\n  }\n\n  _getPageText(e, t) {\n    return this.featureNavigationVisible ? x(this.messages.pageText, {\n      index: t + 1,\n      total: e\n    }) : null;\n  }\n\n  _destroySpinner() {\n    const {\n      _spinner: e,\n      view: t\n    } = this;\n    e && (t && t.ui && t.ui.remove(this._spinner, B), e.destroy(), this._spinner = null);\n  }\n\n  _createSpinner(e) {\n    e && (this._spinner = new f({\n      view: e\n    }), e.ui.add(this._spinner, {\n      key: B,\n      position: \"manual\"\n    }));\n  }\n\n  _toggleCollapsed() {\n    this.collapsed = !this.collapsed;\n  }\n\n  _close() {\n    this.close(), this.view && this.view.focus();\n  }\n\n  _toggleDockEnabled() {\n    this.dockEnabled = !this.dockEnabled, this._focusDockButton = !0, this.scheduleRender();\n  }\n\n  _toggleFeatureMenu() {\n    const e = !this.featureMenuOpen;\n    this._featureMenuOpenChanged(e), this.actionsMenuOpen = !1, this.featureMenuOpen = e;\n  }\n\n  _toggleActionsMenu() {\n    const e = !this.actionsMenuOpen;\n    this._actionsMenuOpenChanged(e), this.featureMenuOpen = !1, this.actionsMenuOpen = e;\n  }\n\n  _triggerAction(e) {\n    const t = e.currentTarget[\"data-action-index\"],\n          i = this.viewModel.allActions.getItemAt(t);\n    i && \"toggle\" === i.type && (i.value = !i.value), this.actionsMenuOpen = !1, this.viewModel.triggerAction(t);\n  }\n\n  _selectFeature(e) {\n    const t = e.currentTarget[\"data-feature-index\"];\n    isNaN(t) || (this.viewModel.selectedFeatureIndex = t), this.featureMenuOpen = !1, this._focusFeatureMenuButton = !0, this.scheduleRender();\n  }\n\n  _next() {\n    this.next();\n  }\n\n  _previous() {\n    this.previous();\n  }\n\n};\ne([h({\n  readOnly: !0\n})], R.prototype, \"actionsMenuId\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"actionsMenuButtonId\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"featureMenuId\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"titleId\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"contentId\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"hasContent\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"featureNavigationVisible\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"collapsible\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"featureMenuVisible\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"contentCollapsed\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"dividedActions\", null), e([d(\"viewModel.actions\")], R.prototype, \"actions\", void 0), e([h()], R.prototype, \"actionsMenuOpen\", null), e([h()], R.prototype, \"alignment\", void 0), e([d(\"viewModel.autoCloseEnabled\")], R.prototype, \"autoCloseEnabled\", void 0), e([d(\"viewModel.autoOpenEnabled\")], R.prototype, \"autoOpenEnabled\", void 0), e([d(\"viewModel.defaultPopupTemplateEnabled\")], R.prototype, \"defaultPopupTemplateEnabled\", void 0), e([d(\"viewModel.content\")], R.prototype, \"content\", void 0), e([h()], R.prototype, \"collapsed\", void 0), e([h()], R.prototype, \"collapseEnabled\", void 0), e([h({\n  readOnly: !0\n})], R.prototype, \"currentAlignment\", null), e([h({\n  readOnly: !0\n})], R.prototype, \"currentDockPosition\", null), e([h()], R.prototype, \"dockOptions\", null), e([h()], R.prototype, \"dockEnabled\", void 0), e([d(\"viewModel.featureCount\")], R.prototype, \"featureCount\", void 0), e([h()], R.prototype, \"featureMenuOpen\", void 0), e([d(\"viewModel.features\")], R.prototype, \"features\", void 0), e([d(\"viewModel.goToOverride\")], R.prototype, \"goToOverride\", void 0), e([h()], R.prototype, \"headingLevel\", void 0), e([d(\"viewModel.highlightEnabled\")], R.prototype, \"highlightEnabled\", void 0), e([d(\"viewModel.location\")], R.prototype, \"location\", void 0), e([h({\n  aliasOf: {\n    source: \"messages.widgetLabel\",\n    overridable: !0\n  }\n})], R.prototype, \"label\", void 0), e([h()], R.prototype, \"maxInlineActions\", void 0), e([h(), y(\"esri/widgets/Popup/t9n/Popup\")], R.prototype, \"messages\", void 0), e([h(), y(\"esri/t9n/common\")], R.prototype, \"messagesCommon\", void 0), e([d(\"viewModel.promises\")], R.prototype, \"promises\", void 0), e([d(\"viewModel.selectedFeature\")], R.prototype, \"selectedFeature\", void 0), e([d(\"viewModel.selectedFeatureIndex\")], R.prototype, \"selectedFeatureIndex\", void 0), e([h({\n  readOnly: !0\n})], R.prototype, \"selectedFeatureWidget\", null), e([h()], R.prototype, \"spinnerEnabled\", void 0), e([d(\"viewModel.title\")], R.prototype, \"title\", void 0), e([d(\"viewModel.updateLocationEnabled\")], R.prototype, \"updateLocationEnabled\", void 0), e([d(\"viewModel.view\")], R.prototype, \"view\", void 0), e([h({\n  type: b\n}), k([\"triggerAction\", \"trigger-action\"])], R.prototype, \"viewModel\", void 0), e([d(\"viewModel.visible\")], R.prototype, \"visible\", void 0), e([h()], R.prototype, \"visibleElements\", void 0), e([p(\"visibleElements\")], R.prototype, \"castVisibleElements\", null), e([w()], R.prototype, \"_close\", null), e([w()], R.prototype, \"_toggleDockEnabled\", null), e([w()], R.prototype, \"_toggleFeatureMenu\", null), e([w()], R.prototype, \"_toggleActionsMenu\", null), e([w()], R.prototype, \"_triggerAction\", null), e([w()], R.prototype, \"_selectFeature\", null), e([w()], R.prototype, \"_next\", null), e([w()], R.prototype, \"_previous\", null), R = e([g(L)], R);\nvar U = R;\nexport default U;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/widgets/Popup.js"],"names":["_","e","t","eventKey","i","o","n","isNone","s","throttle","r","watch","a","whenFalse","l","on","u","init","c","aliasOf","d","cast","p","property","h","subclass","g","f","v","FeatureContentMixin","m","b","Heading","M","accessibleHandler","w","messageBundle","y","vmEvent","k","tsx","C","storeNode","A","cssTransition","F","isRTL","I","substitute","x","O","N","B","T","iconLeftTriangleArrow","iconRightTriangleArrow","iconDockToTop","iconDockToBottom","iconDockToLeft","iconDockToRight","iconClose","iconUndock","iconCheckMark","iconLoading","iconDefaultAction","iconActionsMenu","rotating","base","widget","main","loadingContainer","isCollapsible","isCollapsed","shadow","isDocked","isDockedTopLeft","isDockedTopCenter","isDockedTopRight","isDockedBottomLeft","isDockedBottomCenter","isDockedBottomRight","alignTopCenter","alignBottomCenter","alignTopLeft","alignBottomLeft","alignTopRight","alignBottomRight","isFeatureMenuOpen","isActionsMenuOpen","hasFeatureUpdated","header","headerButtons","headerContainer","headerContainerButton","headerTitle","content","footer","footerHasPagination","footerHasActions","footerHasActionsMenu","button","buttonDisabled","buttonDock","icon","iconDock","inlineActionsContainer","actionsMenuButton","actions","action","actionImage","actionText","actionToggle","actionToggleOn","pointer","pointerDirection","navigation","paginationPrevious","paginationNext","paginationPreviousIconLTR","paginationPreviousIconRTL","paginationNextIconLTR","paginationNextIconRTL","featureMenu","featureMenuList","featureMenuItem","featureMenuViewport","featureMenuHeader","featureMenuNote","featureMenuSelected","featureMenuButton","featureMenuTitle","featureMenuObserver","featureMenuLoader","collapseButton","D","buttonEnabled","position","breakpoint","width","E","P","L","S","getLogger","V","closeButton","featureNavigation","R","constructor","_blurClose","_blurContainer","_containerNode","_mainContainerNode","_featureMenuNode","_actionsMenuNode","_focusClose","_focusContainer","_focusDockButton","_focusFeatureMenuButton","_focusActionsMenuButton","_focusFirstFeature","_focusFirstAction","_handles","_pointerOffsetInPx","_spinner","_feature","_featureMenuIntersectionObserverCallback","isIntersecting","viewModel","featurePage","_featureMenuIntersectionObserver","IntersectionObserver","_displaySpinnerThrottled","_displaySpinner","alignment","autoCloseEnabled","autoOpenEnabled","defaultPopupTemplateEnabled","collapsed","collapseEnabled","dockEnabled","featureCount","featureMenuOpen","features","goToOverride","headingLevel","highlightEnabled","location","label","maxInlineActions","messages","messagesCommon","promises","selectedFeature","selectedFeatureIndex","spinnerEnabled","title","updateLocationEnabled","view","visible","visibleElements","_addSelectedFeatureIndexHandle","own","_positionContainer","_toggleScreenLocationEnabled","reposition","_spinnerEnabledChange","_updateDockEnabledForViewSize","_viewChange","_viewReadyChange","_hideSpinner","_setTitleFromFeatureWidget","_setContentFromFeatureWidget","widthBreakpoint","active","centerAtLocation","_watchActions","_featureMenuViewportScrollTop","destroy","_destroySelectedFeatureWidget","_destroySpinner","_unobserveFeatureMenuObserver","disconnect","actionsMenuId","id","actionsMenuButtonId","featureMenuId","titleId","contentId","hasContent","selectedFeatureWidget","waitingForContent","featureNavigationVisible","collapsible","featureMenuVisible","contentCollapsed","dividedActions","_divideActions","actionsMenuOpen","_set","_get","currentAlignment","_getCurrentAlignment","currentDockPosition","_getCurrentDockPosition","dockOptions","get","xsmall","height","_setCurrentDockPosition","selectedFeatureViewModel","castVisibleElements","blur","warn","scheduleRender","clear","close","fetchFeatures","focus","next","open","remove","set","previous","renderNow","_setCurrentAlignment","triggerAction","render","menuActions","length","layer","class","classes","role","bind","afterCreate","afterUpdate","renderMainContainer","renderPointer","renderLoadingIcon","renderNavigationLoading","pendingPromisesCount","key","loading","renderPreviousIcon","renderPreviousButton","tabIndex","onclick","_previous","onkeydown","renderNextIcon","renderNextButton","_next","renderFeatureMenuButton","_toggleFeatureMenu","_focusFeatureMenuButtonNode","toString","menu","_getPageText","renderNavigationButtons","renderDockIcon","_wouldDockTo","renderDockButton","undock","dock","_toggleDockEnabled","_focusDockButtonNode","renderTitle","level","innerHTML","expand","collapse","enterAnimation","_createFeatureUpdatedAnimation","_toggleCollapsed","renderCloseIcon","renderCloseButton","_close","_closeButtonNodeUpdated","renderHeader","renderContentContainer","renderContent","renderActionsMenuButton","_toggleActionsMenu","_focusActionsMenuButtonNode","renderMenuActions","inlineActions","onkeyup","_handleActionMenuKeyup","_actionsMenuNodeUpdated","toArray","map","renderAction","index","type","renderInlineActions","renderInlineActionsContainer","renderNavigation","renderFooter","renderFeatureMenuContainer","featureViewModels","isLoadingFeature","selectedFeatures","total","renderFeatureMenu","_featureMenuIntersectionObserverCreated","_handleMainKeyup","_mainContainerNodeUpdated","renderNodeContent","renderActionText","renderActionIcon","_getActionClass","_getActionImage","styles","_getIconStyles","_getActionTitle","value","disabled","uid","_handleActionMenuItemKeyup","_triggerAction","renderFeatureMenuItem","untitled","_handleFeatureMenuItemKeyup","_selectFeature","_featureMenuNodeUpdated","_handleFeatureMenuKeyup","filter","graphic","attributes","className","image","_getInlineActionCount","Math","round","max","allActions","notifyChange","forEach","add","slice","_featureMenuOpenChanged","_actionsMenuOpenChanged","_featureMenuIntersectionObserverNode","unobserve","observe","stopPropagation","currentTarget","querySelectorAll","_createSpinner","hide","waitingForResult","show","_selectedFeatureIndexUpdated","destroyed","_isScreenLocationWithinView","_isOutsideView","popupHeight","popupWidth","screenLocation","side","isNaN","padding","right","left","top","bottom","_calculateAutoAlignment","parseInt","replace","window","getComputedStyle","getPropertyValue","getBoundingClientRect","_callCurrentAlignment","call","_calculatePositionResult","reverse","_callDockPosition","_getDockPosition","_calculateAutoDockPosition","breakpoints","_calculatePositionStyle","style","_calculateFullWidth","_calculateAlignmentPosition","_wireUpView","_setDockEnabledForViewSize","_dockingThresholdCrossed","_featureMenuViewportNode","scrollTop","screenLocationEnabled","_shouldDockAtCurrentViewSize","ui","hasOwnProperty","pageText","getItemAt","readOnly","prototype","source","overridable","U"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import t from\"../core/Collection.js\";import{eventKey as i}from\"../core/events.js\";import o from\"../core/Handles.js\";import n from\"../core/Logger.js\";import{isNone as s}from\"../core/maybe.js\";import{throttle as r}from\"../core/throttle.js\";import{watch as a,whenFalse as l,on as u,init as c}from\"../core/watchUtils.js\";import{aliasOf as d}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/has.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{property as h}from\"../core/accessorSupport/decorators/property.js\";import{subclass as g}from\"../core/accessorSupport/decorators/subclass.js\";import _ from\"./Feature.js\";import f from\"./Spinner.js\";import v from\"./Widget.js\";import{FeatureContentMixin as m}from\"./Feature/support/FeatureContentMixin.js\";import b from\"./Popup/PopupViewModel.js\";import{Heading as M}from\"./support/Heading.js\";import{accessibleHandler as w}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import{vmEvent as k}from\"./support/decorators/vmEvent.js\";import{tsx as C}from\"./support/jsxFactory.js\";import{storeNode as A,cssTransition as F,isRTL as I}from\"./support/widgetUtils.js\";import{substitute as x}from\"../intl/substitute.js\";const O=\"selected-index\",N=0,B=\"popup-spinner\",T={iconLeftTriangleArrow:\"esri-icon-left-triangle-arrow\",iconRightTriangleArrow:\"esri-icon-right-triangle-arrow\",iconDockToTop:\"esri-icon-maximize\",iconDockToBottom:\"esri-icon-dock-bottom\",iconDockToLeft:\"esri-icon-dock-left\",iconDockToRight:\"esri-icon-dock-right\",iconClose:\"esri-icon-close\",iconUndock:\"esri-icon-minimize\",iconCheckMark:\"esri-icon-check-mark\",iconLoading:\"esri-icon-loading-indicator\",iconDefaultAction:\"esri-icon-default-action\",iconActionsMenu:\"esri-icon-handle-horizontal\",rotating:\"esri-rotating\",base:\"esri-popup\",widget:\"esri-widget\",main:\"esri-popup__main-container\",loadingContainer:\"esri-popup__loading-container\",isCollapsible:\"esri-popup--is-collapsible\",isCollapsed:\"esri-popup--is-collapsed\",shadow:\"esri-popup--shadow\",isDocked:\"esri-popup--is-docked\",isDockedTopLeft:\"esri-popup--is-docked-top-left\",isDockedTopCenter:\"esri-popup--is-docked-top-center\",isDockedTopRight:\"esri-popup--is-docked-top-right\",isDockedBottomLeft:\"esri-popup--is-docked-bottom-left\",isDockedBottomCenter:\"esri-popup--is-docked-bottom-center\",isDockedBottomRight:\"esri-popup--is-docked-bottom-right\",alignTopCenter:\"esri-popup--aligned-top-center\",alignBottomCenter:\"esri-popup--aligned-bottom-center\",alignTopLeft:\"esri-popup--aligned-top-left\",alignBottomLeft:\"esri-popup--aligned-bottom-left\",alignTopRight:\"esri-popup--aligned-top-right\",alignBottomRight:\"esri-popup--aligned-bottom-right\",isFeatureMenuOpen:\"esri-popup--feature-menu-open\",isActionsMenuOpen:\"esri-popup--actions-menu-open\",hasFeatureUpdated:\"esri-popup--feature-updated\",header:\"esri-popup__header\",headerButtons:\"esri-popup__header-buttons\",headerContainer:\"esri-popup__header-container\",headerContainerButton:\"esri-popup__header-container--button\",headerTitle:\"esri-popup__header-title\",content:\"esri-popup__content\",footer:\"esri-popup__footer\",footerHasPagination:\"esri-popup__footer--has-pagination\",footerHasActions:\"esri-popup__footer--has-actions\",footerHasActionsMenu:\"esri-popup__footer--has-actions-menu\",button:\"esri-popup__button\",buttonDisabled:\"esri-popup__button--disabled\",buttonDock:\"esri-popup__button--dock\",icon:\"esri-popup__icon\",iconDock:\"esri-popup__icon--dock-icon\",inlineActionsContainer:\"esri-popup__inline-actions-container\",actionsMenuButton:\"esri-popup__actions-menu-button\",actions:\"esri-popup__actions\",action:\"esri-popup__action\",actionImage:\"esri-popup__action-image\",actionText:\"esri-popup__action-text\",actionToggle:\"esri-popup__action-toggle\",actionToggleOn:\"esri-popup__action-toggle--on\",pointer:\"esri-popup__pointer\",pointerDirection:\"esri-popup__pointer-direction\",navigation:\"esri-popup__navigation\",paginationPrevious:\"esri-popup__pagination-previous\",paginationNext:\"esri-popup__pagination-next\",paginationPreviousIconLTR:\"esri-popup__pagination-previous-icon\",paginationPreviousIconRTL:\"esri-popup__pagination-previous-icon--rtl\",paginationNextIconLTR:\"esri-popup__pagination-next-icon\",paginationNextIconRTL:\"esri-popup__pagination-next-icon--rtl\",featureMenu:\"esri-popup__feature-menu\",featureMenuList:\"esri-popup__feature-menu-list\",featureMenuItem:\"esri-popup__feature-menu-item\",featureMenuViewport:\"esri-popup__feature-menu-viewport\",featureMenuHeader:\"esri-popup__feature-menu-header\",featureMenuNote:\"esri-popup__feature-menu-note\",featureMenuSelected:\"esri-popup__feature-menu-item--selected\",featureMenuButton:\"esri-popup__feature-menu-button\",featureMenuTitle:\"esri-popup__feature-menu-title\",featureMenuObserver:\"esri-popup__feature-menu-observer\",featureMenuLoader:\"esri-popup__feature-menu-loader\",collapseButton:\"esri-popup__collapse-button\"},D={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}},E=\"esri-popup\";function P(e,t){return void 0===t?`${E}__${e}`:`${E}__${e}-${t}`}const L=\"esri.widgets.Popup\",S=n.getLogger(L),V={closeButton:!0,featureNavigation:!0};let R=class extends(m(v)){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new o,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([e])=>{null!=e&&e.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback),this._displaySpinnerThrottled=r((()=>this._displaySpinner()),N),this.actions=null,this.alignment=\"auto\",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new b,this.visible=null,this.visibleElements={...V},this._addSelectedFeatureIndexHandle(),this.own([a(this,\"viewModel.screenLocation\",(()=>this._positionContainer())),a(this,[\"viewModel.active\",\"dockEnabled\"],(()=>this._toggleScreenLocationEnabled())),a(this,\"viewModel.screenLocation\",((e,t)=>{!!e!=!!t&&this.reposition()})),a(this,[\"viewModel.view.padding\",\"viewModel.view.size\",\"viewModel.active\",\"viewModel.location\",\"alignment\"],(()=>this.reposition())),a(this,\"spinnerEnabled\",(e=>this._spinnerEnabledChange(e))),a(this,\"viewModel.view.size\",((e,t)=>this._updateDockEnabledForViewSize(e,t))),a(this,\"viewModel.view\",((e,t)=>this._viewChange(e,t))),a(this,\"viewModel.view.ready\",((e,t)=>this._viewReadyChange(e,t))),a(this,[\"viewModel.waitingForResult\",\"viewModel.location\"],(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),a(this,\"selectedFeatureWidget.viewModel.title\",(e=>this._setTitleFromFeatureWidget(e))),a(this,[\"selectedFeatureWidget.viewModel.content\",\"selectedFeatureWidget.viewModel.waitingForContent\"],(()=>this._setContentFromFeatureWidget())),l(this,\"collapsed\",(()=>{var e,t;\"xsmall\"===(null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),u(this,\"viewModel.allActions\",\"change\",(()=>this._watchActions())),c(this,\"viewModel.allActions\",(()=>this._watchActions())),a(this,\"viewModel.featureViewModels\",(()=>this._featureMenuViewportScrollTop()))])}destroy(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(e=this._handles)||e.destroy(),this._unobserveFeatureMenuObserver(),null==(t=this._featureMenuIntersectionObserver)||t.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,i,o,n;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||(null==(i=this.selectedFeatureWidget)||null==(o=i.viewModel)?void 0:o.content):null==(n=this.viewModel)?void 0:n.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||D}set dockOptions(e){const t={...D},i=this.get(\"viewModel.view.breakpoints\"),o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;!0===r?n.breakpoint=s:\"object\"==typeof r&&(n.breakpoint={...s,...r}),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:i}=this,{selectedFeatureViewModel:o}=this.viewModel,n={...t,title:!1};return o?(e?(e.viewModel=o,e.visibleElements=n):this._feature=new _({headingLevel:i+1,viewModel:o,visibleElements:n}),this._feature):null}castVisibleElements(e){return{...V,...e}}blur(){const{active:e}=this.viewModel;e||S.warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||S.warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,i;this._handles.remove(O);const o=!!e&&!!e.featureMenuOpen,n=!!e&&!!e.actionsMenuOpen,s={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:n,featureMenuOpen:o};\"xsmall\"===(null==(t=this.viewModel)||null==(i=t.view)?void 0:i.widthBreakpoint)&&(s.collapsed=!0),this.set(s),this.viewModel.open(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var e,t,i,o;const{actionsMenuOpen:n,dockEnabled:s,featureMenuVisible:r,dividedActions:a,currentAlignment:l,currentDockPosition:u}=this,{active:c}=this.viewModel,{menuActions:d}=a,p=c&&d.length>1&&n,h=c&&s,g=c&&!s,_=null==(e=this.selectedFeature)||null==(t=e.layer)?void 0:t.title,f=null==(i=this.selectedFeature)||null==(o=i.layer)?void 0:o.id,v={[T.alignTopCenter]:\"top-center\"===l,[T.alignBottomCenter]:\"bottom-center\"===l,[T.alignTopLeft]:\"top-left\"===l,[T.alignBottomLeft]:\"bottom-left\"===l,[T.alignTopRight]:\"top-right\"===l,[T.alignBottomRight]:\"bottom-right\"===l,[T.isDocked]:h,[T.shadow]:g,[T.isDockedTopLeft]:\"top-left\"===u,[T.isDockedTopCenter]:\"top-center\"===u,[T.isDockedTopRight]:\"top-right\"===u,[T.isDockedBottomLeft]:\"bottom-left\"===u,[T.isDockedBottomCenter]:\"bottom-center\"===u,[T.isDockedBottomRight]:\"bottom-right\"===u,[T.isFeatureMenuOpen]:r,[T.isActionsMenuOpen]:p};return C(\"div\",{class:this.classes(T.base,v),role:\"presentation\",\"data-layer-title\":_,\"data-layer-id\":f,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},c?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return C(\"span\",{\"aria-hidden\":\"true\",class:this.classes(T.icon,T.iconLoading,T.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?C(\"div\",{key:P(\"loading-container\"),role:\"presentation\",class:T.loadingContainer,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=I(),t={[T.iconRightTriangleArrow]:e,[T.paginationPreviousIconRTL]:e,[T.iconLeftTriangleArrow]:!e,[T.paginationPreviousIconLTR]:!e};return C(\"span\",{\"aria-hidden\":\"true\",class:this.classes(T.icon,t)})}renderPreviousButton(){const{messages:e}=this;return C(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(T.button,T.paginationPrevious),\"aria-label\":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=I(),t={[T.iconLeftTriangleArrow]:e,[T.paginationNextIconRTL]:e,[T.iconRightTriangleArrow]:!e,[T.paginationNextIconLTR]:!e};return C(\"span\",{\"aria-hidden\":\"true\",class:this.classes(T.icon,t)})}renderNextButton(){const{messages:e}=this;return C(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(T.button,T.paginationNext),\"aria-label\":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return C(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(T.button,T.featureMenuButton),\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e.toString(),\"aria-label\":i.menu,title:i.menu},this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[T.iconUndock]:e,[T.iconDock]:!e,[T.iconDockToRight]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[T.iconDockToLeft]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[T.iconDockToTop]:!e&&\"top-center\"===t,[T.iconDockToBottom]:!e&&\"bottom-center\"===t};return C(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,T.icon)})}renderDockButton(){var e,t,i;const{dockEnabled:o,messages:n}=this,s=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,r=o?n.undock:n.dock;return\"xsmall\"!==s&&null!=(i=this.dockOptions)&&i.buttonEnabled?C(\"div\",{role:\"button\",\"aria-label\":r,title:r,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(T.button,T.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[T.headerContainerButton]:i},r=C(M,{level:this.headingLevel,class:T.headerTitle,innerHTML:e}),a=i?C(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(T.headerContainer,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed},r):C(\"div\",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(T.headerContainer,s)},r);return e?a:null}renderCloseIcon(){return C(\"span\",{\"aria-hidden\":\"true\",class:this.classes(T.icon,T.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?C(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:T.button,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return C(\"header\",{class:T.header},this.renderTitle(),C(\"div\",{class:T.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i}=this,{content:o}=this.viewModel;return t&&!i?C(\"article\",{key:o,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:T.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?C(\"div\",{key:P(\"actions-menu-button\"),class:this.classes(T.button,T.actionsMenuButton),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},C(\"span\",{\"aria-hidden\":\"true\",class:T.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n,inlineActions:s}=o;return n.length&&i?C(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:P(\"actions\"),class:T.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map(((e,t)=>this.renderAction({action:e,index:t+s.length,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(((e,t)=>this.renderAction({action:e,index:t,type:\"inline\"})))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?C(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:T.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?C(\"section\",{key:P(\"navigation\"),class:this.classes(T.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[T.footerHasPagination]:e,[T.footerHasActions]:n,[T.footerHasActionsMenu]:s};return e||n?C(\"div\",{key:P(\"feature-buttons\"),class:this.classes(T.footer,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:i}=this.viewModel,o=x(e.selectedFeatures,{total:t.length});return C(\"section\",{key:P(\"menu\"),class:T.featureMenu},C(\"strong\",{class:T.featureMenuHeader},o),C(\"nav\",{bind:this,class:T.featureMenuViewport,\"data-node-ref\":\"_featureMenuViewportNode\",afterCreate:A},this.renderFeatureMenu(),C(\"div\",{class:T.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?C(\"div\",{class:T.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:C(\"div\",{key:P(\"pointer\"),class:T.pointer,role:\"presentation\"},C(\"div\",{class:this.classes(T.pointerDirection,T.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:a,visibleElements:l}=this,{title:u}=this.viewModel,c=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,d=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,p={[T.shadow]:e,[T.isCollapsible]:s,[T.isCollapsed]:a};return C(\"div\",{class:this.classes(T.main,T.widget,p),tabIndex:l.closeButton?null:-1,role:\"dialog\",\"aria-labelledby\":u?o:\"\",\"aria-describedby\":r&&!a?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},c?this.renderFooter():null,c?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null)}renderContent(){var e;const t=null==(e=this.viewModel)?void 0:e.content;return t?\"string\"==typeof t?C(\"div\",{key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return C(\"span\",{key:\"text\",class:T.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[T.iconLoading]:e.active,[T.rotating]:e.active,[T.icon]:!!t,[T.actionImage]:!e.active&&!!i};return t&&(o[t]=!e.active),C(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(T.icon,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,index:i,type:o}=e,n=this._getActionTitle(t),s={[T.action]:\"toggle\"!==t.type,[T.actionToggle]:\"toggle\"===t.type,[T.actionToggleOn]:\"toggle\"===t.type&&t.value,[T.buttonDisabled]:t.disabled},r=[this.renderActionIcon(t),this.renderActionText(n)],a=\"menu-item\"===o?C(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(T.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r):C(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(T.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r);return t.visible?a:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,a={[T.featureMenuSelected]:r},l=r?C(\"span\",{key:P(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:T.iconCheckMark}):null,u=C(\"span\",{innerHTML:e.title||o.untitled});return C(\"li\",{role:\"menuitem\",tabIndex:-1,key:P(`feature-menu-feature-${n}`),class:this.classes(a,T.featureMenuItem),bind:this,\"data-feature-index\":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},C(\"span\",{class:T.featureMenuTitle},u,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?C(\"ol\",{class:T.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.filter((e=>!!e.graphic)).map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=null==i?void 0:i.attributes,r=\"zoom-to-feature\"===n?x(e.title,{messages:t}):\"remove-selected-feature\"===n?x(e.title,{messages:o}):\"zoom-to-clustered-features\"===n||\"browse-clustered-features\"===n?x(e.title,{messages:t}):e.title;return r&&s?x(r,s):r}_getActionClass(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{className:o,image:n}=e,s=n||o?o:T.iconDefaultAction;return s&&i?x(s,i):s}_getActionImage(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{image:o}=e;return o&&i?x(o,i):o}_createFeatureUpdatedAnimation(){return F(\"enter\",T.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(a(e,[\"active\",\"className\",\"disabled\",\"id\",\"title\",\"image\",\"visible\"],(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,i=this._getInlineActionCount(),o=null===i,n=0===i;return{inlineActions:o?e.slice(0):n?new t:e.slice(0,i),menuActions:o?new t:n?e.slice(0):e.slice(i)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(e){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.title=e||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){\"Escape\"===i(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===i(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(e){const t=i(e),{_featureMenuNode:o}=this,n=e.currentTarget[\"data-feature-index\"];if(!o)return;const s=o.querySelectorAll(\"li\"),r=s.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();s[s.length-1].focus()}else{e.stopPropagation();s[0].focus()}else{e.stopPropagation();s[(n+1+r)%r].focus()}else{e.stopPropagation();s[(n-1+r)%r].focus()}}_handleActionMenuItemKeyup(e){const t=i(e),{_actionsMenuNode:o}=this,n=e.currentTarget[\"data-action-index\"];if(!o)return;const s=o.querySelectorAll(\"li\"),r=s.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();s[s.length-1].focus()}else{e.stopPropagation();s[0].focus()}else{e.stopPropagation();s[(n+1+r)%r].focus()}else{e.stopPropagation();s[(n-1+r)%r].focus()}}_handleMainKeyup(e){const t=i(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}_addSelectedFeatureIndexHandle(){const e=a(this,\"viewModel.selectedFeatureIndex\",((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,O)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:r,view:a}=n;if(s(r)||!a||!i)return\"top-center\";if(!this._isScreenLocationWithinView(r,a))return this._get(\"currentAlignment\")||\"top-center\";function l(e){return parseInt(e.replace(/[^-\\d\\.]/g,\"\"),10)}const u=o?window.getComputedStyle(o,null):null,c=u?l(u.getPropertyValue(\"max-height\")):0,d=u?l(u.getPropertyValue(\"height\")):0,{height:p,width:h}=i.getBoundingClientRect(),g=h+t,_=Math.max(p,c,d)+t,f=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"right\",view:a}),v=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"left\",view:a}),m=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"top\",view:a}),b=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"bottom\",view:a});return v?m?\"bottom-right\":\"top-right\":f?m?\"bottom-left\":\"top-left\":m?b?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return I()&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t;if(\"auto\"!==e)return e;const i=null==(t=this.viewModel)?void 0:t.view,o=I()?\"top-left\":\"top-right\";if(!i)return o;const n=i.padding||{left:0,right:0,top:0,bottom:0},s=i.width-n.left-n.right,{breakpoints:r}=i;return r&&s<=r.xsmall?\"bottom-center\":o}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&(e.style.top=o.top,e.style.left=o.left,e.style.bottom=o.bottom,e.style.right=o.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this,r=o/2,a=i.height-t,l=i.width-e,{padding:u}=this.view;return\"bottom-center\"===n?{top:t+s-u.top,left:e-r-u.left}:\"top-left\"===n?{bottom:a+s-u.bottom,right:l+s-u.right}:\"bottom-left\"===n?{top:t+s-u.top,right:l+s-u.right}:\"top-right\"===n?{bottom:a+s-u.bottom,left:e+s-u.left}:\"bottom-right\"===n?{top:t+s-u.top,left:e+s-u.left}:\"top-center\"===n?{bottom:a+s-u.bottom,left:e-r-u.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(s(e)||!t)return;const n=this._calculateFullWidth(t),r=this._calculateAlignmentPosition(e.x,e.y,o,n);return r?{top:void 0!==r.top?`${r.top}px`:\"auto\",left:void 0!==r.left?`${r.left}px`:\"auto\",bottom:void 0!==r.bottom?`${r.bottom}px`:\"auto\",right:void 0!==r.right?`${r.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:a,height:l}=i;return o<=a&&s>a||o>a&&s<=a||n<=l&&r>l||n>l&&r<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:a}=this,l=a.breakpoint;this._dockingThresholdCrossed(s,r,l)&&this._setDockEnabledForViewSize(a),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){var t,i;const o=e.breakpoint,n=null==(t=this.viewModel)||null==(i=t.view)?void 0:i.ui;if(!n)return!1;const{width:s,height:r}=n;if(isNaN(s)||isNaN(r))return!1;const a=o.hasOwnProperty(\"width\")&&s<=o.width,l=o.hasOwnProperty(\"height\")&&r<=o.height;return a||l}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?x(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,B),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new f({view:e}),e.ui.add(this._spinner,{key:B,position:\"manual\"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget[\"data-action-index\"],i=this.viewModel.allActions.getItemAt(t);i&&\"toggle\"===i.type&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(t)}_selectFeature(e){const t=e.currentTarget[\"data-feature-index\"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};e([h({readOnly:!0})],R.prototype,\"actionsMenuId\",null),e([h({readOnly:!0})],R.prototype,\"actionsMenuButtonId\",null),e([h({readOnly:!0})],R.prototype,\"featureMenuId\",null),e([h({readOnly:!0})],R.prototype,\"titleId\",null),e([h({readOnly:!0})],R.prototype,\"contentId\",null),e([h({readOnly:!0})],R.prototype,\"hasContent\",null),e([h({readOnly:!0})],R.prototype,\"featureNavigationVisible\",null),e([h({readOnly:!0})],R.prototype,\"collapsible\",null),e([h({readOnly:!0})],R.prototype,\"featureMenuVisible\",null),e([h({readOnly:!0})],R.prototype,\"contentCollapsed\",null),e([h({readOnly:!0})],R.prototype,\"dividedActions\",null),e([d(\"viewModel.actions\")],R.prototype,\"actions\",void 0),e([h()],R.prototype,\"actionsMenuOpen\",null),e([h()],R.prototype,\"alignment\",void 0),e([d(\"viewModel.autoCloseEnabled\")],R.prototype,\"autoCloseEnabled\",void 0),e([d(\"viewModel.autoOpenEnabled\")],R.prototype,\"autoOpenEnabled\",void 0),e([d(\"viewModel.defaultPopupTemplateEnabled\")],R.prototype,\"defaultPopupTemplateEnabled\",void 0),e([d(\"viewModel.content\")],R.prototype,\"content\",void 0),e([h()],R.prototype,\"collapsed\",void 0),e([h()],R.prototype,\"collapseEnabled\",void 0),e([h({readOnly:!0})],R.prototype,\"currentAlignment\",null),e([h({readOnly:!0})],R.prototype,\"currentDockPosition\",null),e([h()],R.prototype,\"dockOptions\",null),e([h()],R.prototype,\"dockEnabled\",void 0),e([d(\"viewModel.featureCount\")],R.prototype,\"featureCount\",void 0),e([h()],R.prototype,\"featureMenuOpen\",void 0),e([d(\"viewModel.features\")],R.prototype,\"features\",void 0),e([d(\"viewModel.goToOverride\")],R.prototype,\"goToOverride\",void 0),e([h()],R.prototype,\"headingLevel\",void 0),e([d(\"viewModel.highlightEnabled\")],R.prototype,\"highlightEnabled\",void 0),e([d(\"viewModel.location\")],R.prototype,\"location\",void 0),e([h({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],R.prototype,\"label\",void 0),e([h()],R.prototype,\"maxInlineActions\",void 0),e([h(),y(\"esri/widgets/Popup/t9n/Popup\")],R.prototype,\"messages\",void 0),e([h(),y(\"esri/t9n/common\")],R.prototype,\"messagesCommon\",void 0),e([d(\"viewModel.promises\")],R.prototype,\"promises\",void 0),e([d(\"viewModel.selectedFeature\")],R.prototype,\"selectedFeature\",void 0),e([d(\"viewModel.selectedFeatureIndex\")],R.prototype,\"selectedFeatureIndex\",void 0),e([h({readOnly:!0})],R.prototype,\"selectedFeatureWidget\",null),e([h()],R.prototype,\"spinnerEnabled\",void 0),e([d(\"viewModel.title\")],R.prototype,\"title\",void 0),e([d(\"viewModel.updateLocationEnabled\")],R.prototype,\"updateLocationEnabled\",void 0),e([d(\"viewModel.view\")],R.prototype,\"view\",void 0),e([h({type:b}),k([\"triggerAction\",\"trigger-action\"])],R.prototype,\"viewModel\",void 0),e([d(\"viewModel.visible\")],R.prototype,\"visible\",void 0),e([h()],R.prototype,\"visibleElements\",void 0),e([p(\"visibleElements\")],R.prototype,\"castVisibleElements\",null),e([w()],R.prototype,\"_close\",null),e([w()],R.prototype,\"_toggleDockEnabled\",null),e([w()],R.prototype,\"_toggleFeatureMenu\",null),e([w()],R.prototype,\"_toggleActionsMenu\",null),e([w()],R.prototype,\"_triggerAction\",null),e([w()],R.prototype,\"_selectFeature\",null),e([w()],R.prototype,\"_next\",null),e([w()],R.prototype,\"_previous\",null),R=e([g(L)],R);var U=R;export default U;\n"]},"metadata":{},"sourceType":"module"}