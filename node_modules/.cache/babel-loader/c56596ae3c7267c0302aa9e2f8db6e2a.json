{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from \"../../request.js\";\nimport { parseUrl as t, encode as e, asValidOptions as s } from \"../utils.js\";\nimport { isValidExtent as o, isValidLocation as n } from \"./utils.js\";\nimport a from \"../support/AddressCandidate.js\";\nimport i from \"../support/AddressToLocationsParameters.js\";\n\nasync function d(o, n, a) {\n  n = i.from(n);\n  const d = t(o),\n        {\n    address: p,\n    ...m\n  } = n.toJSON(),\n        u = { ...p,\n    ...m,\n    f: \"json\"\n  },\n        c = e({ ...d.query,\n    ...u\n  }),\n        j = s(c, a),\n        l = `${d.path}/findAddressCandidates`;\n  return r(l, j).then(f);\n}\n\nfunction f({\n  data: r\n}) {\n  if (!r) return [];\n  const {\n    candidates: t,\n    spatialReference: e\n  } = r;\n  return t ? t.map(r => {\n    if (!r) return;\n    const {\n      extent: t,\n      location: s\n    } = r,\n          i = !t || o(t);\n    return n(s) && i ? (t && (t.spatialReference = e), s.spatialReference = e, a.fromJSON(r)) : void 0;\n  }) : [];\n}\n\nexport { d as addressToLocations };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/rest/locator/addressToLocations.js"],"names":["r","parseUrl","t","encode","e","asValidOptions","s","isValidExtent","o","isValidLocation","n","a","i","d","from","address","p","m","toJSON","u","f","c","query","j","l","path","then","data","candidates","spatialReference","map","extent","location","fromJSON","addressToLocations"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;AAAgC,SAAOC,QAAQ,IAAIC,CAAnB,EAAqBC,MAAM,IAAIC,CAA/B,EAAiCC,cAAc,IAAIC,CAAnD,QAAyD,aAAzD;AAAuE,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,eAAe,IAAIC,CAA7C,QAAmD,YAAnD;AAAgE,OAAOC,CAAP,MAAa,gCAAb;AAA8C,OAAOC,CAAP,MAAa,4CAAb;;AAA0D,eAAeC,CAAf,CAAiBL,CAAjB,EAAmBE,CAAnB,EAAqBC,CAArB,EAAuB;AAACD,EAAAA,CAAC,GAACE,CAAC,CAACE,IAAF,CAAOJ,CAAP,CAAF;AAAY,QAAMG,CAAC,GAACX,CAAC,CAACM,CAAD,CAAT;AAAA,QAAa;AAACO,IAAAA,OAAO,EAACC,CAAT;AAAW,OAAGC;AAAd,MAAiBP,CAAC,CAACQ,MAAF,EAA9B;AAAA,QAAyCC,CAAC,GAAC,EAAC,GAAGH,CAAJ;AAAM,OAAGC,CAAT;AAAWG,IAAAA,CAAC,EAAC;AAAb,GAA3C;AAAA,QAAgEC,CAAC,GAACjB,CAAC,CAAC,EAAC,GAAGS,CAAC,CAACS,KAAN;AAAY,OAAGH;AAAf,GAAD,CAAnE;AAAA,QAAuFI,CAAC,GAACjB,CAAC,CAACe,CAAD,EAAGV,CAAH,CAA1F;AAAA,QAAgGa,CAAC,GAAE,GAAEX,CAAC,CAACY,IAAK,wBAA5G;AAAoI,SAAOzB,CAAC,CAACwB,CAAD,EAAGD,CAAH,CAAD,CAAOG,IAAP,CAAYN,CAAZ,CAAP;AAAsB;;AAAA,SAASA,CAAT,CAAW;AAACO,EAAAA,IAAI,EAAC3B;AAAN,CAAX,EAAoB;AAAC,MAAG,CAACA,CAAJ,EAAM,OAAM,EAAN;AAAS,QAAK;AAAC4B,IAAAA,UAAU,EAAC1B,CAAZ;AAAc2B,IAAAA,gBAAgB,EAACzB;AAA/B,MAAkCJ,CAAvC;AAAyC,SAAOE,CAAC,GAACA,CAAC,CAAC4B,GAAF,CAAO9B,CAAC,IAAE;AAAC,QAAG,CAACA,CAAJ,EAAM;AAAO,UAAK;AAAC+B,MAAAA,MAAM,EAAC7B,CAAR;AAAU8B,MAAAA,QAAQ,EAAC1B;AAAnB,QAAsBN,CAA3B;AAAA,UAA6BY,CAAC,GAAC,CAACV,CAAD,IAAIM,CAAC,CAACN,CAAD,CAApC;AAAwC,WAAOQ,CAAC,CAACJ,CAAD,CAAD,IAAMM,CAAN,IAASV,CAAC,KAAGA,CAAC,CAAC2B,gBAAF,GAAmBzB,CAAtB,CAAD,EAA0BE,CAAC,CAACuB,gBAAF,GAAmBzB,CAA7C,EAA+CO,CAAC,CAACsB,QAAF,CAAWjC,CAAX,CAAxD,IAAuE,KAAK,CAAnF;AAAqF,GAArJ,CAAD,GAAyJ,EAAjK;AAAoK;;AAAA,SAAOa,CAAC,IAAIqB,kBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{parseUrl as t,encode as e,asValidOptions as s}from\"../utils.js\";import{isValidExtent as o,isValidLocation as n}from\"./utils.js\";import a from\"../support/AddressCandidate.js\";import i from\"../support/AddressToLocationsParameters.js\";async function d(o,n,a){n=i.from(n);const d=t(o),{address:p,...m}=n.toJSON(),u={...p,...m,f:\"json\"},c=e({...d.query,...u}),j=s(c,a),l=`${d.path}/findAddressCandidates`;return r(l,j).then(f)}function f({data:r}){if(!r)return[];const{candidates:t,spatialReference:e}=r;return t?t.map((r=>{if(!r)return;const{extent:t,location:s}=r,i=!t||o(t);return n(s)&&i?(t&&(t.spatialReference=e),s.spatialReference=e,a.fromJSON(r)):void 0})):[]}export{d as addressToLocations};\n"]},"metadata":{},"sourceType":"module"}