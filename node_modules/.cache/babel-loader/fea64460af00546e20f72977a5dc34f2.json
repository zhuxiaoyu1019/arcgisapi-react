{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"./maybe.js\";\n\nclass s {\n  constructor(t = Number.POSITIVE_INFINITY) {\n    this.size = 0, this._start = 0, this.maxSize = t, this._buffer = isFinite(t) ? new Array(t) : [];\n  }\n\n  get entries() {\n    return this._buffer;\n  }\n\n  enqueue(t) {\n    if (this.size === this.maxSize) {\n      const s = this._buffer[this._start];\n      return this._buffer[this._start] = t, this._start = (this._start + 1) % this.maxSize, s;\n    }\n\n    return isFinite(this.maxSize) ? this._buffer[(this._start + this.size++) % this.maxSize] = t : this._buffer[this._start + this.size++] = t, null;\n  }\n\n  dequeue() {\n    if (0 === this.size) return null;\n    const t = this._buffer[this._start];\n    return this._buffer[this._start] = null, this.size--, this._start = (this._start + 1) % this.maxSize, t;\n  }\n\n  peek() {\n    return 0 === this.size ? null : this._buffer[this._start];\n  }\n\n  find(s) {\n    if (0 === this.size) return null;\n\n    for (const i of this._buffer) if (t(i) && s(i)) return i;\n\n    return null;\n  }\n\n  clear(s) {\n    let i = this.dequeue();\n\n    for (; t(i);) s && s(i), i = this.dequeue();\n  }\n\n}\n\nexport default s;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/core/CircularArray.js"],"names":["isSome","t","s","constructor","Number","POSITIVE_INFINITY","size","_start","maxSize","_buffer","isFinite","Array","entries","enqueue","dequeue","peek","find","i","clear"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,YAAvB;;AAAoC,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACF,CAAC,GAACG,MAAM,CAACC,iBAAV,EAA4B;AAAC,SAAKC,IAAL,GAAU,CAAV,EAAY,KAAKC,MAAL,GAAY,CAAxB,EAA0B,KAAKC,OAAL,GAAaP,CAAvC,EAAyC,KAAKQ,OAAL,GAAaC,QAAQ,CAACT,CAAD,CAAR,GAAY,IAAIU,KAAJ,CAAUV,CAAV,CAAZ,GAAyB,EAA/E;AAAkF;;AAAW,MAAPW,OAAO,GAAE;AAAC,WAAO,KAAKH,OAAZ;AAAoB;;AAAAI,EAAAA,OAAO,CAACZ,CAAD,EAAG;AAAC,QAAG,KAAKK,IAAL,KAAY,KAAKE,OAApB,EAA4B;AAAC,YAAMN,CAAC,GAAC,KAAKO,OAAL,CAAa,KAAKF,MAAlB,CAAR;AAAkC,aAAO,KAAKE,OAAL,CAAa,KAAKF,MAAlB,IAA0BN,CAA1B,EAA4B,KAAKM,MAAL,GAAY,CAAC,KAAKA,MAAL,GAAY,CAAb,IAAgB,KAAKC,OAA7D,EAAqEN,CAA5E;AAA8E;;AAAA,WAAOQ,QAAQ,CAAC,KAAKF,OAAN,CAAR,GAAuB,KAAKC,OAAL,CAAa,CAAC,KAAKF,MAAL,GAAY,KAAKD,IAAL,EAAb,IAA0B,KAAKE,OAA5C,IAAqDP,CAA5E,GAA8E,KAAKQ,OAAL,CAAa,KAAKF,MAAL,GAAY,KAAKD,IAAL,EAAzB,IAAsCL,CAApH,EAAsH,IAA7H;AAAkI;;AAAAa,EAAAA,OAAO,GAAE;AAAC,QAAG,MAAI,KAAKR,IAAZ,EAAiB,OAAO,IAAP;AAAY,UAAML,CAAC,GAAC,KAAKQ,OAAL,CAAa,KAAKF,MAAlB,CAAR;AAAkC,WAAO,KAAKE,OAAL,CAAa,KAAKF,MAAlB,IAA0B,IAA1B,EAA+B,KAAKD,IAAL,EAA/B,EAA2C,KAAKC,MAAL,GAAY,CAAC,KAAKA,MAAL,GAAY,CAAb,IAAgB,KAAKC,OAA5E,EAAoFP,CAA3F;AAA6F;;AAAAc,EAAAA,IAAI,GAAE;AAAC,WAAO,MAAI,KAAKT,IAAT,GAAc,IAAd,GAAmB,KAAKG,OAAL,CAAa,KAAKF,MAAlB,CAA1B;AAAoD;;AAAAS,EAAAA,IAAI,CAACd,CAAD,EAAG;AAAC,QAAG,MAAI,KAAKI,IAAZ,EAAiB,OAAO,IAAP;;AAAY,SAAI,MAAMW,CAAV,IAAe,KAAKR,OAApB,EAA4B,IAAGR,CAAC,CAACgB,CAAD,CAAD,IAAMf,CAAC,CAACe,CAAD,CAAV,EAAc,OAAOA,CAAP;;AAAS,WAAO,IAAP;AAAY;;AAAAC,EAAAA,KAAK,CAAChB,CAAD,EAAG;AAAC,QAAIe,CAAC,GAAC,KAAKH,OAAL,EAAN;;AAAqB,WAAKb,CAAC,CAACgB,CAAD,CAAN,GAAWf,CAAC,IAAEA,CAAC,CAACe,CAAD,CAAJ,EAAQA,CAAC,GAAC,KAAKH,OAAL,EAAV;AAAyB;;AAA9zB;;AAA+zB,eAAeZ,CAAf","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t=Number.POSITIVE_INFINITY){this.size=0,this._start=0,this.maxSize=t,this._buffer=isFinite(t)?new Array(t):[]}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=t:this._buffer[this._start+this.size++]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const i of this._buffer)if(t(i)&&s(i))return i;return null}clear(s){let i=this.dequeue();for(;t(i);)s&&s(i),i=this.dequeue()}}export default s;\n"]},"metadata":{},"sourceType":"module"}