{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t = 1.5;\n\nclass r {\n  constructor(t, r) {\n    this._pos = 0;\n    const e = r ? this._roundToNearest(r, t.BYTES_PER_ELEMENT) : 40;\n    this._array = new ArrayBuffer(e), this._buffer = new t(this._array), this._ctor = t, this._i16View = new Int16Array(this._array);\n  }\n\n  get length() {\n    return this._pos;\n  }\n\n  _roundToNearest(t, r) {\n    const e = Math.round(t);\n    return e + (r - e % r);\n  }\n\n  _ensureSize(r) {\n    if (this._pos + r >= this._buffer.length) {\n      const e = this._roundToNearest((this._array.byteLength + r * this._buffer.BYTES_PER_ELEMENT) * t, this._buffer.BYTES_PER_ELEMENT),\n            s = new ArrayBuffer(e),\n            i = new this._ctor(s);\n\n      i.set(this._buffer, 0), this._array = s, this._buffer = i, this._i16View = new Int16Array(this._array);\n    }\n  }\n\n  writeF32(t) {\n    this._ensureSize(1);\n\n    const r = this._pos;\n    return new Float32Array(this._array, 4 * this._pos, 1)[0] = t, this._pos++, r;\n  }\n\n  push(t) {\n    this._ensureSize(1);\n\n    const r = this._pos;\n    return this._buffer[this._pos++] = t, r;\n  }\n\n  writeFixed(t) {\n    this._buffer[this._pos++] = t;\n  }\n\n  setValue(t, r) {\n    this._buffer[t] = r;\n  }\n\n  i1616Add(t, r, e) {\n    this._i16View[2 * t] += r, this._i16View[2 * t + 1] += e;\n  }\n\n  getValue(t) {\n    return this._buffer[t];\n  }\n\n  incr(t) {\n    if (this._buffer.length < t) throw new Error(\"Increment index overflows the target buffer\");\n    this._buffer[t]++;\n  }\n\n  decr(t) {\n    this._buffer[t]--;\n  }\n\n  writeRegion(t) {\n    this._ensureSize(t.length);\n\n    const r = this._pos;\n    return this._buffer.set(t, this._pos), this._pos += t.length, r;\n  }\n\n  writeManyFrom(t, r, e) {\n    this._ensureSize(e - r);\n\n    for (let s = r; s !== e; s++) this.writeFixed(t._buffer[s]);\n  }\n\n  buffer() {\n    const t = this._array.slice(0, 4 * this._pos);\n\n    return this.destroy(), t;\n  }\n\n  toArray() {\n    const t = this._array,\n          r = [];\n\n    for (let e = 0; e < t.byteLength / 4; e++) r.push(t[e]);\n\n    return r;\n  }\n\n  seek(t) {\n    this._pos = t;\n  }\n\n  destroy() {\n    this._array = null, this._buffer = null;\n  }\n\n}\n\nexport default r;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js"],"names":["t","r","constructor","_pos","e","_roundToNearest","BYTES_PER_ELEMENT","_array","ArrayBuffer","_buffer","_ctor","_i16View","Int16Array","length","Math","round","_ensureSize","byteLength","s","i","set","writeF32","Float32Array","push","writeFixed","setValue","i1616Add","getValue","incr","Error","decr","writeRegion","writeManyFrom","buffer","slice","destroy","toArray","seek"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=1.5;class r{constructor(t,r){this._pos=0;const e=r?this._roundToNearest(r,t.BYTES_PER_ELEMENT):40;this._array=new ArrayBuffer(e),this._buffer=new t(this._array),this._ctor=t,this._i16View=new Int16Array(this._array)}get length(){return this._pos}_roundToNearest(t,r){const e=Math.round(t);return e+(r-e%r)}_ensureSize(r){if(this._pos+r>=this._buffer.length){const e=this._roundToNearest((this._array.byteLength+r*this._buffer.BYTES_PER_ELEMENT)*t,this._buffer.BYTES_PER_ELEMENT),s=new ArrayBuffer(e),i=new this._ctor(s);i.set(this._buffer,0),this._array=s,this._buffer=i,this._i16View=new Int16Array(this._array)}}writeF32(t){this._ensureSize(1);const r=this._pos;return new Float32Array(this._array,4*this._pos,1)[0]=t,this._pos++,r}push(t){this._ensureSize(1);const r=this._pos;return this._buffer[this._pos++]=t,r}writeFixed(t){this._buffer[this._pos++]=t}setValue(t,r){this._buffer[t]=r}i1616Add(t,r,e){this._i16View[2*t]+=r,this._i16View[2*t+1]+=e}getValue(t){return this._buffer[t]}incr(t){if(this._buffer.length<t)throw new Error(\"Increment index overflows the target buffer\");this._buffer[t]++}decr(t){this._buffer[t]--}writeRegion(t){this._ensureSize(t.length);const r=this._pos;return this._buffer.set(t,this._pos),this._pos+=t.length,r}writeManyFrom(t,r,e){this._ensureSize(e-r);for(let s=r;s!==e;s++)this.writeFixed(t._buffer[s])}buffer(){const t=this._array.slice(0,4*this._pos);return this.destroy(),t}toArray(){const t=this._array,r=[];for(let e=0;e<t.byteLength/4;e++)r.push(t[e]);return r}seek(t){this._pos=t}destroy(){this._array=null,this._buffer=null}}export default r;\n"]},"metadata":{},"sourceType":"module"}