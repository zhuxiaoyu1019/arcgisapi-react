{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { JSONSupport as t } from \"../../core/JSONSupport.js\";\nimport { clone as o } from \"../../core/lang.js\";\nimport e from \"../../core/Logger.js\";\nimport { property as n } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as a } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/has.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nvar i;\nconst l = e.getLogger(\"esri.geometry.support.MeshVertexAttributes\");\nlet p = i = class extends t {\n  constructor(r) {\n    super(r), this.color = null, this.position = new Float64Array(0), this.uv = null, this.normal = null, this.tangent = null;\n  }\n\n  castColor(r) {\n    return u(r, Uint8Array, [Uint8ClampedArray], {\n      loggerTag: \".color=\",\n      stride: 4\n    }, l);\n  }\n\n  castPosition(r) {\n    r && r instanceof Float32Array && l.warn(\".position=\", \"Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array\");\n    return u(r, Float64Array, [Float32Array], {\n      loggerTag: \".position=\",\n      stride: 3\n    }, l);\n  }\n\n  castUv(r) {\n    return u(r, Float32Array, [Float64Array], {\n      loggerTag: \".uv=\",\n      stride: 2\n    }, l);\n  }\n\n  castNormal(r) {\n    return u(r, Float32Array, [Float64Array], {\n      loggerTag: \".normal=\",\n      stride: 3\n    }, l);\n  }\n\n  castTangent(r) {\n    return u(r, Float32Array, [Float64Array], {\n      loggerTag: \".tangent=\",\n      stride: 4\n    }, l);\n  }\n\n  clone() {\n    const r = {\n      position: o(this.position),\n      uv: o(this.uv),\n      normal: o(this.normal),\n      tangent: o(this.tangent),\n      color: o(this.color)\n    };\n    return new i(r);\n  }\n\n  clonePositional() {\n    const r = {\n      position: o(this.position),\n      normal: o(this.normal),\n      tangent: o(this.tangent),\n      uv: this.uv,\n      color: this.color\n    };\n    return new i(r);\n  }\n\n};\n\nfunction c(r, t, o, e) {\n  const {\n    loggerTag: n,\n    stride: a\n  } = t;\n  return r.length % a != 0 ? (e.error(n, `Invalid array length, expected a multiple of ${a}`), new o([])) : r;\n}\n\nfunction u(r, t, o, e, n) {\n  if (!r) return r;\n  if (r instanceof t) return c(r, e, t, n);\n\n  for (const a of o) if (r instanceof a) return c(new t(r), e, t, n);\n\n  if (Array.isArray(r)) return c(new t(r), e, t, n);\n  {\n    const e = o.map(r => `'${r.name}'`);\n    return n.error(`Failed to set property, expected one of ${e}, but got ${r.constructor.name}`), new t([]);\n  }\n}\n\nfunction g(r, t, o) {\n  t[o] = m(r);\n}\n\nfunction m(r) {\n  const t = new Array(r.length);\n\n  for (let o = 0; o < r.length; o++) t[o] = r[o];\n\n  return t;\n}\n\nr([n({\n  json: {\n    write: g\n  }\n})], p.prototype, \"color\", void 0), r([a(\"color\")], p.prototype, \"castColor\", null), r([n({\n  nonNullable: !0,\n  json: {\n    write: g\n  }\n})], p.prototype, \"position\", void 0), r([a(\"position\")], p.prototype, \"castPosition\", null), r([n({\n  json: {\n    write: g\n  }\n})], p.prototype, \"uv\", void 0), r([a(\"uv\")], p.prototype, \"castUv\", null), r([n({\n  json: {\n    write: g\n  }\n})], p.prototype, \"normal\", void 0), r([a(\"normal\")], p.prototype, \"castNormal\", null), r([n({\n  json: {\n    write: g\n  }\n})], p.prototype, \"tangent\", void 0), r([a(\"tangent\")], p.prototype, \"castTangent\", null), p = i = r([s(\"esri.geometry.support.MeshVertexAttributes\")], p);\nvar y = p;\nexport default y;\nexport { p as MeshVertexAttributes, u as castArray };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/geometry/support/MeshVertexAttributes.js"],"names":["_","r","JSONSupport","t","clone","o","e","property","n","cast","a","subclass","s","i","l","getLogger","p","constructor","color","position","Float64Array","uv","normal","tangent","castColor","u","Uint8Array","Uint8ClampedArray","loggerTag","stride","castPosition","Float32Array","warn","castUv","castNormal","castTangent","clonePositional","c","length","error","Array","isArray","map","name","g","m","json","write","prototype","nonNullable","y","MeshVertexAttributes","castArray"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import e from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import{cast as a}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var i;const l=e.getLogger(\"esri.geometry.support.MeshVertexAttributes\");let p=i=class extends t{constructor(r){super(r),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(r){return u(r,Uint8Array,[Uint8ClampedArray],{loggerTag:\".color=\",stride:4},l)}castPosition(r){r&&r instanceof Float32Array&&l.warn(\".position=\",\"Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array\");return u(r,Float64Array,[Float32Array],{loggerTag:\".position=\",stride:3},l)}castUv(r){return u(r,Float32Array,[Float64Array],{loggerTag:\".uv=\",stride:2},l)}castNormal(r){return u(r,Float32Array,[Float64Array],{loggerTag:\".normal=\",stride:3},l)}castTangent(r){return u(r,Float32Array,[Float64Array],{loggerTag:\".tangent=\",stride:4},l)}clone(){const r={position:o(this.position),uv:o(this.uv),normal:o(this.normal),tangent:o(this.tangent),color:o(this.color)};return new i(r)}clonePositional(){const r={position:o(this.position),normal:o(this.normal),tangent:o(this.tangent),uv:this.uv,color:this.color};return new i(r)}};function c(r,t,o,e){const{loggerTag:n,stride:a}=t;return r.length%a!=0?(e.error(n,`Invalid array length, expected a multiple of ${a}`),new o([])):r}function u(r,t,o,e,n){if(!r)return r;if(r instanceof t)return c(r,e,t,n);for(const a of o)if(r instanceof a)return c(new t(r),e,t,n);if(Array.isArray(r))return c(new t(r),e,t,n);{const e=o.map((r=>`'${r.name}'`));return n.error(`Failed to set property, expected one of ${e}, but got ${r.constructor.name}`),new t([])}}function g(r,t,o){t[o]=m(r)}function m(r){const t=new Array(r.length);for(let o=0;o<r.length;o++)t[o]=r[o];return t}r([n({json:{write:g}})],p.prototype,\"color\",void 0),r([a(\"color\")],p.prototype,\"castColor\",null),r([n({nonNullable:!0,json:{write:g}})],p.prototype,\"position\",void 0),r([a(\"position\")],p.prototype,\"castPosition\",null),r([n({json:{write:g}})],p.prototype,\"uv\",void 0),r([a(\"uv\")],p.prototype,\"castUv\",null),r([n({json:{write:g}})],p.prototype,\"normal\",void 0),r([a(\"normal\")],p.prototype,\"castNormal\",null),r([n({json:{write:g}})],p.prototype,\"tangent\",void 0),r([a(\"tangent\")],p.prototype,\"castTangent\",null),p=i=r([s(\"esri.geometry.support.MeshVertexAttributes\")],p);var y=p;export default y;export{p as MeshVertexAttributes,u as castArray};\n"]},"metadata":{},"sourceType":"module"}