{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { c as t } from \"../../../../../chunks/mat4f64.js\";\nimport { m as e } from \"../../../../../chunks/vec3.js\";\nimport { w as s, c as i } from \"../../../../../chunks/sphere.js\";\nimport { maxScale as r } from \"../../../support/mathUtils.js\";\nimport h from \"../Octree.js\";\n\nclass n extends h {\n  constructor(e, r) {\n    super(t => s(this._instanceData.view.boundingSphere.getVec(t, this._tmpSphere)), {\n      maximumDepth: 25\n    }), this._tmpSphere = i(), this._tmpMat4 = t(), this._instanceData = e, this._boundingSphere = r;\n  }\n\n  addInstance(t) {\n    const s = this._instanceData.view.boundingSphere,\n          i = this._instanceData.getCombinedModelTransform(t, this._tmpMat4);\n\n    e(this._tmpSphere, this._boundingSphere.center, i), this._tmpSphere[3] = this._boundingSphere.radius * r(i), s.setVec(t, this._tmpSphere), this.add([t]);\n  }\n\n  removeInstance(t) {\n    this.remove([t]);\n  }\n\n}\n\nexport { n as InstanceOctree };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js"],"names":["c","t","m","e","w","s","i","maxScale","r","h","n","constructor","_instanceData","view","boundingSphere","getVec","_tmpSphere","maximumDepth","_tmpMat4","_boundingSphere","addInstance","getCombinedModelTransform","center","radius","setVec","add","removeInstance","remove","InstanceOctree"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,kCAAlB;AAAqD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,CAAC,IAAIC,CAAZ,EAAcL,CAAC,IAAIM,CAAnB,QAAyB,iCAAzB;AAA2D,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,+BAAzB;AAAyD,OAAOC,CAAP,MAAa,cAAb;;AAA4B,MAAMC,CAAN,SAAgBD,CAAhB,CAAiB;AAACE,EAAAA,WAAW,CAACR,CAAD,EAAGK,CAAH,EAAK;AAAC,UAAOP,CAAC,IAAEI,CAAC,CAAC,KAAKO,aAAL,CAAmBC,IAAnB,CAAwBC,cAAxB,CAAuCC,MAAvC,CAA8Cd,CAA9C,EAAgD,KAAKe,UAArD,CAAD,CAAX,EAA+E;AAACC,MAAAA,YAAY,EAAC;AAAd,KAA/E,GAAkG,KAAKD,UAAL,GAAgBV,CAAC,EAAnH,EAAsH,KAAKY,QAAL,GAAcjB,CAAC,EAArI,EAAwI,KAAKW,aAAL,GAAmBT,CAA3J,EAA6J,KAAKgB,eAAL,GAAqBX,CAAlL;AAAoL;;AAAAY,EAAAA,WAAW,CAACnB,CAAD,EAAG;AAAC,UAAMI,CAAC,GAAC,KAAKO,aAAL,CAAmBC,IAAnB,CAAwBC,cAAhC;AAAA,UAA+CR,CAAC,GAAC,KAAKM,aAAL,CAAmBS,yBAAnB,CAA6CpB,CAA7C,EAA+C,KAAKiB,QAApD,CAAjD;;AAA+Gf,IAAAA,CAAC,CAAC,KAAKa,UAAN,EAAiB,KAAKG,eAAL,CAAqBG,MAAtC,EAA6ChB,CAA7C,CAAD,EAAiD,KAAKU,UAAL,CAAgB,CAAhB,IAAmB,KAAKG,eAAL,CAAqBI,MAArB,GAA4Bf,CAAC,CAACF,CAAD,CAAjG,EAAqGD,CAAC,CAACmB,MAAF,CAASvB,CAAT,EAAW,KAAKe,UAAhB,CAArG,EAAiI,KAAKS,GAAL,CAAS,CAACxB,CAAD,CAAT,CAAjI;AAA+I;;AAAAyB,EAAAA,cAAc,CAACzB,CAAD,EAAG;AAAC,SAAK0B,MAAL,CAAY,CAAC1B,CAAD,CAAZ;AAAiB;;AAAtf;;AAAuf,SAAOS,CAAC,IAAIkB,cAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../../chunks/mat4f64.js\";import{m as e}from\"../../../../../chunks/vec3.js\";import{w as s,c as i}from\"../../../../../chunks/sphere.js\";import{maxScale as r}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._tmpSphere=i(),this._tmpMat4=t(),this._instanceData=e,this._boundingSphere=r}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(this._tmpSphere,this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*r(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n"]},"metadata":{},"sourceType":"module"}