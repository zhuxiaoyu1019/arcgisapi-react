{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { f as e } from \"../../../../../../chunks/vec4f64.js\";\nimport { glsl as i } from \"../../shaderModules/interfaces.js\";\nconst t = e(1, 1, 0, 1),\n      o = e(1, 0, 1, 1);\n\nfunction r(e) {\n  e.fragment.uniforms.add(\"depthTex\", \"sampler2D\"), e.fragment.uniforms.add(\"highlightViewportPixelSz\", \"vec4\"), e.fragment.constants.add(\"occludedHighlightFlag\", \"vec4\", t).add(\"unoccludedHighlightFlag\", \"vec4\", o), e.fragment.code.add(i`void outputHighlight() {\nvec4 fragCoord = gl_FragCoord;\nfloat sceneDepth = texture2D(depthTex, (fragCoord.xy - highlightViewportPixelSz.xy) * highlightViewportPixelSz.zw).r;\nif (fragCoord.z > sceneDepth + 5e-7) {\ngl_FragColor = occludedHighlightFlag;\n}\nelse {\ngl_FragColor = unoccludedHighlightFlag;\n}\n}`);\n}\n\nfunction g(e, i) {\n  e.bindTexture(i.highlightDepthTexture, \"depthTex\"), e.setUniform4f(\"highlightViewportPixelSz\", 0, 0, i.inverseViewport[0], i.inverseViewport[1]);\n}\n\nexport { r as OutputHighlight, g as bindOutputHighlight, t as occludedHighlightFlag, o as unoccludedHighlightFlag };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js"],"names":["f","e","glsl","i","t","o","r","fragment","uniforms","add","constants","code","g","bindTexture","highlightDepthTexture","setUniform4f","inverseViewport","OutputHighlight","bindOutputHighlight","occludedHighlightFlag","unoccludedHighlightFlag"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,qCAAlB;AAAwD,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;AAAyD,MAAMC,CAAC,GAACH,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAAT;AAAA,MAAmBI,CAAC,GAACJ,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAAtB;;AAAgC,SAASK,CAAT,CAAWL,CAAX,EAAa;AAACA,EAAAA,CAAC,CAACM,QAAF,CAAWC,QAAX,CAAoBC,GAApB,CAAwB,UAAxB,EAAmC,WAAnC,GAAgDR,CAAC,CAACM,QAAF,CAAWC,QAAX,CAAoBC,GAApB,CAAwB,0BAAxB,EAAmD,MAAnD,CAAhD,EAA2GR,CAAC,CAACM,QAAF,CAAWG,SAAX,CAAqBD,GAArB,CAAyB,uBAAzB,EAAiD,MAAjD,EAAwDL,CAAxD,EAA2DK,GAA3D,CAA+D,yBAA/D,EAAyF,MAAzF,EAAgGJ,CAAhG,CAA3G,EAA8MJ,CAAC,CAACM,QAAF,CAAWI,IAAX,CAAgBF,GAAhB,CAAoBN,CAAE;AACnY;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAT6W,CAA9M;AAS3J;;AAAA,SAASS,CAAT,CAAWX,CAAX,EAAaE,CAAb,EAAe;AAACF,EAAAA,CAAC,CAACY,WAAF,CAAcV,CAAC,CAACW,qBAAhB,EAAsC,UAAtC,GAAkDb,CAAC,CAACc,YAAF,CAAe,0BAAf,EAA0C,CAA1C,EAA4C,CAA5C,EAA8CZ,CAAC,CAACa,eAAF,CAAkB,CAAlB,CAA9C,EAAmEb,CAAC,CAACa,eAAF,CAAkB,CAAlB,CAAnE,CAAlD;AAA2I;;AAAA,SAAOV,CAAC,IAAIW,eAAZ,EAA4BL,CAAC,IAAIM,mBAAjC,EAAqDd,CAAC,IAAIe,qBAA1D,EAAgFd,CAAC,IAAIe,uBAArF","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec4f64.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";const t=e(1,1,0,1),o=e(1,0,1,1);function r(e){e.fragment.uniforms.add(\"depthTex\",\"sampler2D\"),e.fragment.uniforms.add(\"highlightViewportPixelSz\",\"vec4\"),e.fragment.constants.add(\"occludedHighlightFlag\",\"vec4\",t).add(\"unoccludedHighlightFlag\",\"vec4\",o),e.fragment.code.add(i`void outputHighlight() {\nvec4 fragCoord = gl_FragCoord;\nfloat sceneDepth = texture2D(depthTex, (fragCoord.xy - highlightViewportPixelSz.xy) * highlightViewportPixelSz.zw).r;\nif (fragCoord.z > sceneDepth + 5e-7) {\ngl_FragColor = occludedHighlightFlag;\n}\nelse {\ngl_FragColor = unoccludedHighlightFlag;\n}\n}`)}function g(e,i){e.bindTexture(i.highlightDepthTexture,\"depthTex\"),e.setUniform4f(\"highlightViewportPixelSz\",0,0,i.inverseViewport[0],i.inverseViewport[1])}export{r as OutputHighlight,g as bindOutputHighlight,t as occludedHighlightFlag,o as unoccludedHighlightFlag};\n"]},"metadata":{},"sourceType":"module"}