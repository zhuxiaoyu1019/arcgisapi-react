{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport { clone as e } from \"../core/lang.js\";\nimport { property as r } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as i } from \"../core/accessorSupport/decorators/writer.js\";\nimport n from \"./Extent.js\";\nimport o from \"./Geometry.js\";\nimport a from \"./Point.js\";\nimport l from \"./SpatialReference.js\";\nimport { polygonCentroid as h } from \"./support/centroid.js\";\nimport { polygonContainsPoint as p } from \"./support/contains.js\";\nimport { isClockwise as c } from \"./support/coordsUtils.js\";\nimport { getPolygonExtent as m } from \"./support/extentUtils.js\";\nimport { isSelfIntersecting as u } from \"./support/intersectsBase.js\";\nimport { canProject as f, project as g } from \"./support/webMercatorUtils.js\";\nimport { updateSupportFromPoint as y } from \"./support/zmUtils.js\";\nvar d;\n\nfunction R(t) {\n  return !Array.isArray(t[0]);\n}\n\nlet x = d = class extends o {\n  constructor(...t) {\n    super(...t), this.rings = [], this.type = \"polygon\";\n  }\n\n  static fromExtent(t) {\n    const e = t.clone().normalize(),\n          r = t.spatialReference;\n    let s = !1,\n        i = !1;\n    e.map(t => {\n      t.hasZ && (s = !0), t.hasM && (i = !0);\n    });\n    const n = {\n      rings: e.map(function (t) {\n        const e = [[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]];\n\n        if (s && t.hasZ) {\n          const r = t.zmin + .5 * (t.zmax - t.zmin);\n\n          for (let t = 0; t < e.length; t++) e[t].push(r);\n        }\n\n        if (i && t.hasM) {\n          const r = t.mmin + .5 * (t.mmax - t.mmin);\n\n          for (let t = 0; t < e.length; t++) e[t].push(r);\n        }\n\n        return e;\n      }),\n      spatialReference: r\n    };\n    return s && (n.hasZ = !0), i && (n.hasM = !0), new d(n);\n  }\n\n  normalizeCtorArgs(t, e) {\n    let r,\n        s,\n        i = null,\n        n = null;\n    return t && !Array.isArray(t) ? (i = t.rings ? t.rings : null, e || (t.spatialReference ? e = t.spatialReference : t.rings || (e = t)), r = t.hasZ, s = t.hasM) : i = t, i = i || [], e = e || l.WGS84, i.length && i[0] && null != i[0][0] && \"number\" == typeof i[0][0] && (i = [i]), n = i[0] && i[0][0], n && (void 0 === r && void 0 === s ? (r = n.length > 2, s = n.length > 3) : void 0 === r ? r = s ? n.length > 3 : n.length > 2 : void 0 === s && (s = r ? n.length > 3 : n.length > 2)), {\n      rings: i,\n      spatialReference: e,\n      hasZ: r,\n      hasM: s\n    };\n  }\n\n  get cache() {\n    return this.commitProperty(\"rings\"), this.commitProperty(\"hasZ\"), this.commitProperty(\"hasM\"), this.commitProperty(\"spatialReference\"), {};\n  }\n\n  get centroid() {\n    const t = h(this);\n    if (!t || isNaN(t[0]) || isNaN(t[1]) || this.hasZ && isNaN(t[2])) return null;\n    const e = new a();\n    return e.x = t[0], e.y = t[1], e.spatialReference = this.spatialReference, this.hasZ && (e.z = t[2]), e;\n  }\n\n  get extent() {\n    const {\n      spatialReference: t\n    } = this,\n          e = m(this);\n    if (!e) return null;\n    const r = new n(e);\n    return r.spatialReference = t, r;\n  }\n\n  get isSelfIntersecting() {\n    return u(this.rings);\n  }\n\n  writeRings(t, r) {\n    r.rings = e(this.rings);\n  }\n\n  addRing(t) {\n    if (!t) return;\n    const e = this.rings,\n          r = e.length;\n\n    if (R(t)) {\n      const s = [];\n\n      for (let e = 0, r = t.length; e < r; e++) s[e] = t[e].toArray();\n\n      e[r] = s;\n    } else e[r] = t.concat();\n\n    return this.notifyChange(\"rings\"), this;\n  }\n\n  clone() {\n    const t = new d();\n    return t.spatialReference = this.spatialReference, t.rings = e(this.rings), t.hasZ = this.hasZ, t.hasM = this.hasM, t;\n  }\n\n  contains(t) {\n    return !!t && (f(t, this.spatialReference) && (t = g(t, this.spatialReference)), p(this, t));\n  }\n\n  isClockwise(t) {\n    let e;\n    return e = R(t) ? t.map(t => this.hasZ ? this.hasM ? [t.x, t.y, t.z, t.m] : [t.x, t.y, t.z] : [t.x, t.y]) : t, c(e, this.hasM, this.hasZ);\n  }\n\n  getPoint(t, e) {\n    if (!this._validateInputs(t, e)) return null;\n    const r = this.rings[t][e],\n          s = this.hasZ,\n          i = this.hasM;\n    return s && !i ? new a(r[0], r[1], r[2], void 0, this.spatialReference) : i && !s ? new a(r[0], r[1], void 0, r[2], this.spatialReference) : s && i ? new a(r[0], r[1], r[2], r[3], this.spatialReference) : new a(r[0], r[1], this.spatialReference);\n  }\n\n  insertPoint(t, e, r) {\n    return this._validateInputs(t, e, !0) ? (y(this, r), Array.isArray(r) || (r = r.toArray()), this.rings[t].splice(e, 0, r), this.notifyChange(\"rings\"), this) : this;\n  }\n\n  removePoint(t, e) {\n    if (!this._validateInputs(t, e)) return null;\n    const r = new a(this.rings[t].splice(e, 1)[0], this.spatialReference);\n    return this.notifyChange(\"rings\"), r;\n  }\n\n  removeRing(t) {\n    if (!this._validateInputs(t, null)) return null;\n    const e = this.rings.splice(t, 1)[0],\n          r = this.spatialReference,\n          s = e.map(t => new a(t, r));\n    return this.notifyChange(\"rings\"), s;\n  }\n\n  setPoint(t, e, r) {\n    return this._validateInputs(t, e) ? (y(this, r), Array.isArray(r) || (r = r.toArray()), this.rings[t][e] = r, this.notifyChange(\"rings\"), this) : this;\n  }\n\n  _validateInputs(t, e, r = !1) {\n    if (null == t || t < 0 || t >= this.rings.length) return !1;\n\n    if (null != e) {\n      const s = this.rings[t];\n      if (r && (e < 0 || e > s.length)) return !1;\n      if (!r && (e < 0 || e >= s.length)) return !1;\n    }\n\n    return !0;\n  }\n\n  toJSON(t) {\n    return this.write(null, t);\n  }\n\n};\nt([r({\n  readOnly: !0\n})], x.prototype, \"cache\", null), t([r({\n  readOnly: !0\n})], x.prototype, \"centroid\", null), t([r({\n  readOnly: !0\n})], x.prototype, \"extent\", null), t([r({\n  readOnly: !0\n})], x.prototype, \"isSelfIntersecting\", null), t([r({\n  type: [[[Number]]],\n  json: {\n    write: {\n      isRequired: !0\n    }\n  }\n})], x.prototype, \"rings\", void 0), t([i(\"rings\")], x.prototype, \"writeRings\", null), x = d = t([s(\"esri.geometry.Polygon\")], x), x.prototype.toJSON.isDefaultToJSON = !0;\nvar j = x;\nexport default j;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/geometry/Polygon.js"],"names":["_","t","clone","e","property","r","subclass","s","writer","i","n","o","a","l","polygonCentroid","h","polygonContainsPoint","p","isClockwise","c","getPolygonExtent","m","isSelfIntersecting","u","canProject","f","project","g","updateSupportFromPoint","y","d","R","Array","isArray","x","constructor","rings","type","fromExtent","normalize","spatialReference","map","hasZ","hasM","xmin","ymin","ymax","xmax","zmin","zmax","length","push","mmin","mmax","normalizeCtorArgs","WGS84","cache","commitProperty","centroid","isNaN","z","extent","writeRings","addRing","toArray","concat","notifyChange","contains","getPoint","_validateInputs","insertPoint","splice","removePoint","removeRing","setPoint","toJSON","write","readOnly","prototype","Number","json","isRequired","isDefaultToJSON","j"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{clone as e}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../core/accessorSupport/decorators/writer.js\";import n from\"./Extent.js\";import o from\"./Geometry.js\";import a from\"./Point.js\";import l from\"./SpatialReference.js\";import{polygonCentroid as h}from\"./support/centroid.js\";import{polygonContainsPoint as p}from\"./support/contains.js\";import{isClockwise as c}from\"./support/coordsUtils.js\";import{getPolygonExtent as m}from\"./support/extentUtils.js\";import{isSelfIntersecting as u}from\"./support/intersectsBase.js\";import{canProject as f,project as g}from\"./support/webMercatorUtils.js\";import{updateSupportFromPoint as y}from\"./support/zmUtils.js\";var d;function R(t){return!Array.isArray(t[0])}let x=d=class extends o{constructor(...t){super(...t),this.rings=[],this.type=\"polygon\"}static fromExtent(t){const e=t.clone().normalize(),r=t.spatialReference;let s=!1,i=!1;e.map((t=>{t.hasZ&&(s=!0),t.hasM&&(i=!0)}));const n={rings:e.map((function(t){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(s&&t.hasZ){const r=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(r)}if(i&&t.hasM){const r=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(r)}return e})),spatialReference:r};return s&&(n.hasZ=!0),i&&(n.hasM=!0),new d(n)}normalizeCtorArgs(t,e){let r,s,i=null,n=null;return t&&!Array.isArray(t)?(i=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),r=t.hasZ,s=t.hasM):i=t,i=i||[],e=e||l.WGS84,i.length&&i[0]&&null!=i[0][0]&&\"number\"==typeof i[0][0]&&(i=[i]),n=i[0]&&i[0][0],n&&(void 0===r&&void 0===s?(r=n.length>2,s=n.length>3):void 0===r?r=s?n.length>3:n.length>2:void 0===s&&(s=r?n.length>3:n.length>2)),{rings:i,spatialReference:e,hasZ:r,hasM:s}}get cache(){return this.commitProperty(\"rings\"),this.commitProperty(\"hasZ\"),this.commitProperty(\"hasM\"),this.commitProperty(\"spatialReference\"),{}}get centroid(){const t=h(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new a;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=m(this);if(!e)return null;const r=new n(e);return r.spatialReference=t,r}get isSelfIntersecting(){return u(this.rings)}writeRings(t,r){r.rings=e(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(R(t)){const s=[];for(let e=0,r=t.length;e<r;e++)s[e]=t[e].toArray();e[r]=s}else e[r]=t.concat();return this.notifyChange(\"rings\"),this}clone(){const t=new d;return t.spatialReference=this.spatialReference,t.rings=e(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}contains(t){return!!t&&(f(t,this.spatialReference)&&(t=g(t,this.spatialReference)),p(this,t))}isClockwise(t){let e;return e=R(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,c(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],s=this.hasZ,i=this.hasM;return s&&!i?new a(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new a(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new a(r[0],r[1],r[2],r[3],this.spatialReference):new a(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(y(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange(\"rings\"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new a(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange(\"rings\"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,s=e.map((t=>new a(t,r)));return this.notifyChange(\"rings\"),s}setPoint(t,e,r){return this._validateInputs(t,e)?(y(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange(\"rings\"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=e){const s=this.rings[t];if(r&&(e<0||e>s.length))return!1;if(!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write(null,t)}};t([r({readOnly:!0})],x.prototype,\"cache\",null),t([r({readOnly:!0})],x.prototype,\"centroid\",null),t([r({readOnly:!0})],x.prototype,\"extent\",null),t([r({readOnly:!0})],x.prototype,\"isSelfIntersecting\",null),t([r({type:[[[Number]]],json:{write:{isRequired:!0}}})],x.prototype,\"rings\",void 0),t([i(\"rings\")],x.prototype,\"writeRings\",null),x=d=t([s(\"esri.geometry.Polygon\")],x),x.prototype.toJSON.isDefaultToJSON=!0;var j=x;export default j;\n"]},"metadata":{},"sourceType":"module"}