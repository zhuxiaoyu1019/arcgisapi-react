{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport e from \"../core/Collection.js\";\nimport o from \"../core/Error.js\";\nimport { clone as r } from \"../core/lang.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { enumeration as l } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as y } from \"../core/accessorSupport/decorators/writer.js\";\nimport a from \"./IconSymbol3DLayer.js\";\nimport m from \"./ObjectSymbol3DLayer.js\";\nimport c from \"./Symbol3D.js\";\nimport p from \"./TextSymbol3DLayer.js\";\nimport { hasVisibleCallout as n, hasVisibleVerticalOffset as b, calloutProperty as f } from \"./callouts/calloutUtils.js\";\nimport u from \"./support/Symbol3DVerticalOffset.js\";\nvar S;\nconst h = e.ofType({\n  base: null,\n  key: \"type\",\n  typeMap: {\n    icon: a,\n    object: m,\n    text: p\n  }\n}),\n      j = e.ofType({\n  base: null,\n  key: \"type\",\n  typeMap: {\n    icon: a,\n    object: m\n  }\n});\nlet L = S = class extends c {\n  constructor(t) {\n    super(t), this.verticalOffset = null, this.callout = null, this.symbolLayers = new h(), this.type = \"point-3d\";\n  }\n\n  writeSymbolLayers(t, e, r, s) {\n    const l = t.filter(t => \"text\" !== t.type);\n\n    if (s && s.messages && l.length < t.length) {\n      const e = t.find(t => \"text\" === t.type);\n      s.messages.push(new o(\"symbol-layer:unsupported\", \"Symbol layers of type 'text' cannot be persisted in PointSymbol3D\", {\n        symbolLayer: e\n      }));\n    }\n\n    e[r] = l.map(t => t.write({}, s)).toArray();\n  }\n\n  supportsCallout() {\n    if ((this.symbolLayers ? this.symbolLayers.length : 0) < 1) return !1;\n\n    for (const t of this.symbolLayers.items) switch (t.type) {\n      case \"icon\":\n      case \"text\":\n      case \"object\":\n        continue;\n\n      default:\n        return !1;\n    }\n\n    return !0;\n  }\n\n  hasVisibleCallout() {\n    return n(this);\n  }\n\n  hasVisibleVerticalOffset() {\n    return b(this);\n  }\n\n  clone() {\n    return new S({\n      verticalOffset: r(this.verticalOffset),\n      callout: r(this.callout),\n      styleOrigin: r(this.styleOrigin),\n      symbolLayers: r(this.symbolLayers),\n      thumbnail: r(this.thumbnail)\n    });\n  }\n\n  static fromSimpleMarkerSymbol(t) {\n    return new S({\n      symbolLayers: [a.fromSimpleMarkerSymbol(t)]\n    });\n  }\n\n  static fromPictureMarkerSymbol(t) {\n    return new S({\n      symbolLayers: [a.fromPictureMarkerSymbol(t)]\n    });\n  }\n\n  static fromCIMSymbol(t) {\n    if (t.data && t.data.symbol) {\n      const e = t.data.symbol;\n      if (\"CIMPointSymbol\" === e.type && e.callout) return new S({\n        symbolLayers: [a.fromCIMSymbol(t)],\n        callout: {\n          type: \"line\",\n          size: .5,\n          color: [0, 0, 0]\n        },\n        verticalOffset: {\n          screenLength: 40\n        }\n      });\n    }\n\n    return new S({\n      symbolLayers: [a.fromCIMSymbol(t)]\n    });\n  }\n\n  static fromTextSymbol(t) {\n    return new S({\n      symbolLayers: [p.fromTextSymbol(t)]\n    });\n  }\n\n};\nt([s({\n  type: u,\n  json: {\n    write: !0\n  }\n})], L.prototype, \"verticalOffset\", void 0), t([s(f)], L.prototype, \"callout\", void 0), t([s({\n  type: h,\n  json: {\n    type: j,\n    origins: {\n      \"web-scene\": {\n        type: j\n      }\n    }\n  }\n})], L.prototype, \"symbolLayers\", void 0), t([y(\"web-scene\", \"symbolLayers\")], L.prototype, \"writeSymbolLayers\", null), t([l({\n  PointSymbol3D: \"point-3d\"\n}, {\n  readOnly: !0\n})], L.prototype, \"type\", void 0), L = S = t([i(\"esri.symbols.PointSymbol3D\")], L);\nvar d = L;\nexport default d;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/symbols/PointSymbol3D.js"],"names":["_","t","e","o","clone","r","property","s","enumeration","l","subclass","i","writer","y","a","m","c","p","hasVisibleCallout","n","hasVisibleVerticalOffset","b","calloutProperty","f","u","S","h","ofType","base","key","typeMap","icon","object","text","j","L","constructor","verticalOffset","callout","symbolLayers","type","writeSymbolLayers","filter","messages","length","find","push","symbolLayer","map","write","toArray","supportsCallout","items","styleOrigin","thumbnail","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","fromCIMSymbol","data","symbol","size","color","screenLength","fromTextSymbol","json","prototype","origins","PointSymbol3D","readOnly","d"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import o from\"../core/Error.js\";import{clone as r}from\"../core/lang.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{enumeration as l}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../core/accessorSupport/decorators/writer.js\";import a from\"./IconSymbol3DLayer.js\";import m from\"./ObjectSymbol3DLayer.js\";import c from\"./Symbol3D.js\";import p from\"./TextSymbol3DLayer.js\";import{hasVisibleCallout as n,hasVisibleVerticalOffset as b,calloutProperty as f}from\"./callouts/calloutUtils.js\";import u from\"./support/Symbol3DVerticalOffset.js\";var S;const h=e.ofType({base:null,key:\"type\",typeMap:{icon:a,object:m,text:p}}),j=e.ofType({base:null,key:\"type\",typeMap:{icon:a,object:m}});let L=S=class extends c{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new h,this.type=\"point-3d\"}writeSymbolLayers(t,e,r,s){const l=t.filter((t=>\"text\"!==t.type));if(s&&s.messages&&l.length<t.length){const e=t.find((t=>\"text\"===t.type));s.messages.push(new o(\"symbol-layer:unsupported\",\"Symbol layers of type 'text' cannot be persisted in PointSymbol3D\",{symbolLayer:e}))}e[r]=l.map((t=>t.write({},s))).toArray()}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case\"icon\":case\"text\":case\"object\":continue;default:return!1}return!0}hasVisibleCallout(){return n(this)}hasVisibleVerticalOffset(){return b(this)}clone(){return new S({verticalOffset:r(this.verticalOffset),callout:r(this.callout),styleOrigin:r(this.styleOrigin),symbolLayers:r(this.symbolLayers),thumbnail:r(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new S({symbolLayers:[a.fromSimpleMarkerSymbol(t)]})}static fromPictureMarkerSymbol(t){return new S({symbolLayers:[a.fromPictureMarkerSymbol(t)]})}static fromCIMSymbol(t){if(t.data&&t.data.symbol){const e=t.data.symbol;if(\"CIMPointSymbol\"===e.type&&e.callout)return new S({symbolLayers:[a.fromCIMSymbol(t)],callout:{type:\"line\",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})}return new S({symbolLayers:[a.fromCIMSymbol(t)]})}static fromTextSymbol(t){return new S({symbolLayers:[p.fromTextSymbol(t)]})}};t([s({type:u,json:{write:!0}})],L.prototype,\"verticalOffset\",void 0),t([s(f)],L.prototype,\"callout\",void 0),t([s({type:h,json:{type:j,origins:{\"web-scene\":{type:j}}}})],L.prototype,\"symbolLayers\",void 0),t([y(\"web-scene\",\"symbolLayers\")],L.prototype,\"writeSymbolLayers\",null),t([l({PointSymbol3D:\"point-3d\"},{readOnly:!0})],L.prototype,\"type\",void 0),L=S=t([i(\"esri.symbols.PointSymbol3D\")],L);var d=L;export default d;\n"]},"metadata":{},"sourceType":"module"}