{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { glsl as e } from \"../shaderModules/interfaces.js\";\n\nfunction i(i) {\n  i.vertex.uniforms.add(\"camPos\", \"vec3\").add(\"perScreenPixelRatio\", \"float\").add(\"screenSize\", \"float\"), i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`);\n}\n\nfunction r(e, i, r) {\n  e.setUniform1f(\"perScreenPixelRatio\", r.camera.perScreenPixelRatio), e.setUniform1f(\"screenSize\", i.screenSize);\n}\n\nexport { i as ScreenSizeScaling, r as bindScreenSizeScalingUniforms };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js"],"names":["glsl","e","i","vertex","uniforms","add","code","r","setUniform1f","camera","perScreenPixelRatio","screenSize","ScreenSizeScaling","bindScreenSizeScalingUniforms"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAf,QAAqB,gCAArB;;AAAsD,SAASC,CAAT,CAAWA,CAAX,EAAa;AAACA,EAAAA,CAAC,CAACC,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,QAAtB,EAA+B,MAA/B,EAAuCA,GAAvC,CAA2C,qBAA3C,EAAiE,OAAjE,EAA0EA,GAA1E,CAA8E,YAA9E,EAA2F,OAA3F,GAAoGH,CAAC,CAACC,MAAF,CAASG,IAAT,CAAcD,GAAd,CAAkBJ,CAAE;AAC5L;AACA;AACA;AACA;AACA;AACA;AACA,EAPwK,CAApG;AAOhE;;AAAA,SAASM,CAAT,CAAWN,CAAX,EAAaC,CAAb,EAAeK,CAAf,EAAiB;AAACN,EAAAA,CAAC,CAACO,YAAF,CAAe,qBAAf,EAAqCD,CAAC,CAACE,MAAF,CAASC,mBAA9C,GAAmET,CAAC,CAACO,YAAF,CAAe,YAAf,EAA4BN,CAAC,CAACS,UAA9B,CAAnE;AAA6G;;AAAA,SAAOT,CAAC,IAAIU,iBAAZ,EAA8BL,CAAC,IAAIM,6BAAnC","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n"]},"metadata":{},"sourceType":"module"}