{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/ObjectPool.js\";\nimport t from \"../../../webgl/FramebufferObject.js\";\n\nclass o {\n  constructor(e) {\n    this.renderingContext = e, this._pools = new Map();\n  }\n\n  acquire(e) {\n    return this.getPool(e).acquire();\n  }\n\n  release(e) {\n    this.getPool(e.width).release(e);\n  }\n\n  clear() {\n    this._pools.forEach(e => e.destroy()), this._pools.clear();\n  }\n\n  getPool(o) {\n    let r = this._pools.get(o);\n\n    if (!r) {\n      const s = t.bind(t, this.renderingContext, {\n        colorTarget: 0,\n        depthStencilTarget: 1,\n        width: o,\n        height: o\n      });\n      r = new e(s), this._pools.set(o, r);\n    }\n\n    return r;\n  }\n\n}\n\nexport { o as FBOPool };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/terrain/support/FBOPool.js"],"names":["e","t","o","constructor","renderingContext","_pools","Map","acquire","getPool","release","width","clear","forEach","destroy","r","get","s","bind","colorTarget","depthStencilTarget","height","set","FBOPool"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,gCAAb;AAA8C,OAAOC,CAAP,MAAa,qCAAb;;AAAmD,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACH,CAAD,EAAG;AAAC,SAAKI,gBAAL,GAAsBJ,CAAtB,EAAwB,KAAKK,MAAL,GAAY,IAAIC,GAAJ,EAApC;AAA4C;;AAAAC,EAAAA,OAAO,CAACP,CAAD,EAAG;AAAC,WAAO,KAAKQ,OAAL,CAAaR,CAAb,EAAgBO,OAAhB,EAAP;AAAiC;;AAAAE,EAAAA,OAAO,CAACT,CAAD,EAAG;AAAC,SAAKQ,OAAL,CAAaR,CAAC,CAACU,KAAf,EAAsBD,OAAtB,CAA8BT,CAA9B;AAAiC;;AAAAW,EAAAA,KAAK,GAAE;AAAC,SAAKN,MAAL,CAAYO,OAAZ,CAAqBZ,CAAC,IAAEA,CAAC,CAACa,OAAF,EAAxB,GAAsC,KAAKR,MAAL,CAAYM,KAAZ,EAAtC;AAA0D;;AAAAH,EAAAA,OAAO,CAACN,CAAD,EAAG;AAAC,QAAIY,CAAC,GAAC,KAAKT,MAAL,CAAYU,GAAZ,CAAgBb,CAAhB,CAAN;;AAAyB,QAAG,CAACY,CAAJ,EAAM;AAAC,YAAME,CAAC,GAACf,CAAC,CAACgB,IAAF,CAAOhB,CAAP,EAAS,KAAKG,gBAAd,EAA+B;AAACc,QAAAA,WAAW,EAAC,CAAb;AAAeC,QAAAA,kBAAkB,EAAC,CAAlC;AAAoCT,QAAAA,KAAK,EAACR,CAA1C;AAA4CkB,QAAAA,MAAM,EAAClB;AAAnD,OAA/B,CAAR;AAA8FY,MAAAA,CAAC,GAAC,IAAId,CAAJ,CAAMgB,CAAN,CAAF,EAAW,KAAKX,MAAL,CAAYgB,GAAZ,CAAgBnB,CAAhB,EAAkBY,CAAlB,CAAX;AAAgC;;AAAA,WAAOA,CAAP;AAAS;;AAAxY;;AAAyY,SAAOZ,CAAC,IAAIoB,OAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/ObjectPool.js\";import t from\"../../../webgl/FramebufferObject.js\";class o{constructor(e){this.renderingContext=e,this._pools=new Map}acquire(e){return this.getPool(e).acquire()}release(e){this.getPool(e.width).release(e)}clear(){this._pools.forEach((e=>e.destroy())),this._pools.clear()}getPool(o){let r=this._pools.get(o);if(!r){const s=t.bind(t,this.renderingContext,{colorTarget:0,depthStencilTarget:1,width:o,height:o});r=new e(s),this._pools.set(o,r)}return r}}export{o as FBOPool};\n"]},"metadata":{},"sourceType":"module"}