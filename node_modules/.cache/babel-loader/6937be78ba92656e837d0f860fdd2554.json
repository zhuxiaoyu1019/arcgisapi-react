{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../../../../../core/Evented.js\";\nimport { f as e, e as s, t as i } from \"../../../../../chunks/mat3.js\";\nimport { c as a } from \"../../../../../chunks/mat3f64.js\";\nimport { m as r } from \"../../../../../chunks/mat4.js\";\nimport { c as o } from \"../../../../../chunks/mat4f64.js\";\nimport { s as n } from \"../../../../../chunks/vec3.js\";\nimport { c as l } from \"../../../../../chunks/vec3f64.js\";\nimport { BufferViewMat4f64 as h, BufferViewVec3f64 as c, BufferViewMat3f as m, BufferViewVec2f as f, BufferViewVec4f64 as g, BufferViewVec4f as d, BufferViewUint8 as u } from \"../../../../../geometry/support/buffer/BufferView.js\";\nimport { scaleFromMatrix as _ } from \"../../../support/mathUtils.js\";\nimport { newLayout as T } from \"../../../support/buffer/InterleavedLayout.js\";\nimport { assert as v } from \"../Util.js\";\nvar p;\n\nfunction F(t) {\n  let e = T().mat4f64(\"localTransform\").mat4f64(\"globalTransform\").vec4f64(\"boundingSphere\").vec3f64(\"modelOrigin\").mat3f(\"model\").mat3f(\"modelNormal\").vec2f(\"modelScaleFactors\");\n  return t.indexOf(\"color\") >= 0 && (e = e.vec4f(\"color\")), t.indexOf(\"featureAttribute\") >= 0 && (e = e.vec4f(\"featureAttribute\")), e = e.u8(\"state\").u8(\"lodLevel\").alignTo(8), e;\n}\n\n!function (t) {\n  t[t.ALLOCATED = 1] = \"ALLOCATED\", t[t.DEFAULT_ACTIVE = 2] = \"DEFAULT_ACTIVE\", t[t.VISIBLE = 4] = \"VISIBLE\", t[t.HIGHLIGHT = 8] = \"HIGHLIGHT\", t[t.HIGHLIGHT_ACTIVE = 16] = \"HIGHLIGHT_ACTIVE\", t[t.REMOVE = 32] = \"REMOVE\", t[t.TRANSFORM_CHANGED = 64] = \"TRANSFORM_CHANGED\", t[t.ACTIVE = 18] = \"ACTIVE\";\n}(p || (p = {}));\n\nclass b {\n  constructor(t) {\n    this.localTransform = t.getField(\"localTransform\", h), this.globalTransform = t.getField(\"globalTransform\", h), this.modelOrigin = t.getField(\"modelOrigin\", c), this.model = t.getField(\"model\", m), this.modelNormal = t.getField(\"modelNormal\", m), this.modelScaleFactors = t.getField(\"modelScaleFactors\", f), this.boundingSphere = t.getField(\"boundingSphere\", g), this.color = t.getField(\"color\", d), this.featureAttribute = t.getField(\"featureAttribute\", d), this.state = t.getField(\"state\", u), this.lodLevel = t.getField(\"lodLevel\", u);\n  }\n\n}\n\nclass A extends t {\n  constructor(t, e) {\n    super(), this._capacity = 0, this._size = 0, this._next = 0, this._layout = F(t), this._shaderTransformation = e;\n  }\n\n  get capacity() {\n    return this._capacity;\n  }\n\n  get size() {\n    return this._size;\n  }\n\n  get buffer() {\n    return this._buffer.buffer;\n  }\n\n  get view() {\n    return this._view;\n  }\n\n  addInstance() {\n    this._size + 1 > this._capacity && this.grow();\n    const t = this.findSlot();\n    return this._view.state.set(t, p.ALLOCATED), this._size++, this.emit(\"instance-added\", {\n      index: t\n    }), t;\n  }\n\n  removeInstance(t) {\n    const e = this._view.state;\n    v(t >= 0 && t < this._capacity && e.get(t) & p.ALLOCATED, \"invalid instance handle\"), this.getStateFlag(t, p.ACTIVE) ? this.setStateFlags(t, p.REMOVE) : this.freeInstance(t), this.emit(\"instance-removed\", {\n      index: t\n    });\n  }\n\n  freeInstance(t) {\n    const e = this._view.state;\n    v(t >= 0 && t < this._capacity && e.get(t) & p.ALLOCATED, \"invalid instance handle\"), e.set(t, 0), this._size--;\n  }\n\n  setLocalTransform(t, e, s = !0) {\n    this._view.localTransform.setMat(t, e), s && this.updateModelTransform(t);\n  }\n\n  getLocalTransform(t, e) {\n    this._view.localTransform.getMat(t, e);\n  }\n\n  setGlobalTransform(t, e, s = !0) {\n    this._view.globalTransform.setMat(t, e), s && this.updateModelTransform(t);\n  }\n\n  getGlobalTransform(t, e) {\n    this._view.globalTransform.getMat(t, e);\n  }\n\n  updateModelTransform(t) {\n    const a = this._view,\n          o = w,\n          l = I;\n    a.localTransform.getMat(t, E), a.globalTransform.getMat(t, M);\n    const h = r(M, M, E);\n    n(o, h[12], h[13], h[14]), a.modelOrigin.setVec(t, o), e(l, h), a.model.setMat(t, l);\n\n    const c = _(w, h);\n\n    c.sort(), a.modelScaleFactors.set(t, 0, c[1]), a.modelScaleFactors.set(t, 1, c[2]), s(l, l), i(l, l), a.modelNormal.setMat(t, l), this.setStateFlags(t, p.TRANSFORM_CHANGED), this.emit(\"instance-transform-changed\", {\n      index: t\n    });\n  }\n\n  getModelTransform(t, e) {\n    const s = this._view;\n    s.model.getMat(t, I), s.modelOrigin.getVec(t, w), e[0] = I[0], e[1] = I[1], e[2] = I[2], e[3] = 0, e[4] = I[3], e[5] = I[4], e[6] = I[5], e[7] = 0, e[8] = I[6], e[9] = I[7], e[10] = I[8], e[11] = 0, e[12] = w[0], e[13] = w[1], e[14] = w[2], e[15] = 1;\n  }\n\n  applyShaderTransformation(t, e) {\n    this._shaderTransformation && this._shaderTransformation.applyTransform(this, t, e);\n  }\n\n  getCombinedModelTransform(t, e) {\n    return this.getModelTransform(t, e), this._shaderTransformation && this._shaderTransformation.applyTransform(this, t, e), e;\n  }\n\n  getCombinedLocalTransform(t, e) {\n    return this._view.localTransform.getMat(t, e), this._shaderTransformation && this._shaderTransformation.applyTransform(this, t, e), e;\n  }\n\n  getCombinedMaxScaleFactor(t) {\n    let e = this._view.modelScaleFactors.get(t, 1);\n\n    if (this._shaderTransformation) {\n      const s = this._shaderTransformation.scaleFactor(w, this, t);\n\n      e *= Math.max(s[0], s[1], s[2]);\n    }\n\n    return e;\n  }\n\n  getCombinedMedianScaleFactor(t) {\n    let e = this._view.modelScaleFactors.get(t, 0);\n\n    if (this._shaderTransformation) {\n      const s = this._shaderTransformation.scaleFactor(w, this, t);\n\n      s.sort(), e *= s[1];\n    }\n\n    return e;\n  }\n\n  getModel(t, e) {\n    this._view.model.getMat(t, e);\n  }\n\n  setFeatureAttribute(t, e) {\n    this._view.featureAttribute.setVec(t, e);\n  }\n\n  getFeatureAttribute(t, e) {\n    this._view.featureAttribute.getVec(t, e);\n  }\n\n  setColor(t, e) {\n    this._view.color.setVec(t, e);\n  }\n\n  getColor(t, e) {\n    this._view.color.getVec(t, e);\n  }\n\n  setVisible(t, e) {\n    e !== this.getVisible(t) && (this.setStateFlag(t, p.VISIBLE, e), this.emit(\"instance-visibility-changed\", {\n      index: t\n    }));\n  }\n\n  getVisible(t) {\n    return this.getStateFlag(t, p.VISIBLE);\n  }\n\n  setHighlight(t, e) {\n    e !== this.getHighlight(t) && (this.setStateFlag(t, p.HIGHLIGHT, e), this.emit(\"instance-highlight-changed\", {\n      index: t\n    }));\n  }\n\n  getHighlight(t) {\n    return this.getStateFlag(t, p.HIGHLIGHT);\n  }\n\n  getState(t) {\n    return this._view.state.get(t);\n  }\n\n  getLodLevel(t) {\n    return this._view.lodLevel.get(t);\n  }\n\n  countFlags(t) {\n    let e = 0;\n\n    for (let s = 0; s < this._capacity; ++s) {\n      this.getState(s) & t && ++e;\n    }\n\n    return e;\n  }\n\n  setStateFlags(t, e) {\n    const s = this._view.state;\n    e = s.get(t) | e, s.set(t, e);\n  }\n\n  clearStateFlags(t, e) {\n    const s = this._view.state;\n    e = s.get(t) & ~e, s.set(t, e);\n  }\n\n  setStateFlag(t, e, s) {\n    s ? this.setStateFlags(t, e) : this.clearStateFlags(t, e);\n  }\n\n  getStateFlag(t, e) {\n    return !!(this._view.state.get(t) & e);\n  }\n\n  grow() {\n    const t = Math.max(S, Math.floor(this._capacity * L)),\n          e = this._layout.createBuffer(t);\n\n    if (this._buffer) {\n      const t = new Uint8Array(this._buffer.buffer);\n      new Uint8Array(e.buffer).set(t);\n    }\n\n    this._capacity = t, this._buffer = e, this._view = new b(this._buffer);\n  }\n\n  findSlot() {\n    const t = this._view.state;\n    let e = this._next;\n\n    for (; t.get(e) & p.ALLOCATED;) e = (e + 1) % this._capacity;\n\n    return this._next = (e + 1) % this._capacity, e;\n  }\n\n}\n\nconst S = 1024,\n      L = 2,\n      w = l(),\n      I = a(),\n      E = o(),\n      M = o();\nexport { A as InstanceData, b as InstanceDataView, p as StateFlags };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js"],"names":["t","f","e","s","i","c","a","m","r","o","n","l","BufferViewMat4f64","h","BufferViewVec3f64","BufferViewMat3f","BufferViewVec2f","BufferViewVec4f64","g","BufferViewVec4f","d","BufferViewUint8","u","scaleFromMatrix","_","newLayout","T","assert","v","p","F","mat4f64","vec4f64","vec3f64","mat3f","vec2f","indexOf","vec4f","u8","alignTo","ALLOCATED","DEFAULT_ACTIVE","VISIBLE","HIGHLIGHT","HIGHLIGHT_ACTIVE","REMOVE","TRANSFORM_CHANGED","ACTIVE","b","constructor","localTransform","getField","globalTransform","modelOrigin","model","modelNormal","modelScaleFactors","boundingSphere","color","featureAttribute","state","lodLevel","A","_capacity","_size","_next","_layout","_shaderTransformation","capacity","size","buffer","_buffer","view","_view","addInstance","grow","findSlot","set","emit","index","removeInstance","get","getStateFlag","setStateFlags","freeInstance","setLocalTransform","setMat","updateModelTransform","getLocalTransform","getMat","setGlobalTransform","getGlobalTransform","w","I","E","M","setVec","sort","getModelTransform","getVec","applyShaderTransformation","applyTransform","getCombinedModelTransform","getCombinedLocalTransform","getCombinedMaxScaleFactor","scaleFactor","Math","max","getCombinedMedianScaleFactor","getModel","setFeatureAttribute","getFeatureAttribute","setColor","getColor","setVisible","getVisible","setStateFlag","setHighlight","getHighlight","getState","getLodLevel","countFlags","clearStateFlags","S","floor","L","createBuffer","Uint8Array","InstanceData","InstanceDataView","StateFlags"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";import{f as e,e as s,t as i}from\"../../../../../chunks/mat3.js\";import{c as a}from\"../../../../../chunks/mat3f64.js\";import{m as r}from\"../../../../../chunks/mat4.js\";import{c as o}from\"../../../../../chunks/mat4f64.js\";import{s as n}from\"../../../../../chunks/vec3.js\";import{c as l}from\"../../../../../chunks/vec3f64.js\";import{BufferViewMat4f64 as h,BufferViewVec3f64 as c,BufferViewMat3f as m,BufferViewVec2f as f,BufferViewVec4f64 as g,BufferViewVec4f as d,BufferViewUint8 as u}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as _}from\"../../../support/mathUtils.js\";import{newLayout as T}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as v}from\"../Util.js\";var p;function F(t){let e=T().mat4f64(\"localTransform\").mat4f64(\"globalTransform\").vec4f64(\"boundingSphere\").vec3f64(\"modelOrigin\").mat3f(\"model\").mat3f(\"modelNormal\").vec2f(\"modelScaleFactors\");return t.indexOf(\"color\")>=0&&(e=e.vec4f(\"color\")),t.indexOf(\"featureAttribute\")>=0&&(e=e.vec4f(\"featureAttribute\")),e=e.u8(\"state\").u8(\"lodLevel\").alignTo(8),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(p||(p={}));class b{constructor(t){this.localTransform=t.getField(\"localTransform\",h),this.globalTransform=t.getField(\"globalTransform\",h),this.modelOrigin=t.getField(\"modelOrigin\",c),this.model=t.getField(\"model\",m),this.modelNormal=t.getField(\"modelNormal\",m),this.modelScaleFactors=t.getField(\"modelScaleFactors\",f),this.boundingSphere=t.getField(\"boundingSphere\",g),this.color=t.getField(\"color\",d),this.featureAttribute=t.getField(\"featureAttribute\",d),this.state=t.getField(\"state\",u),this.lodLevel=t.getField(\"lodLevel\",u)}}class A extends t{constructor(t,e){super(),this._capacity=0,this._size=0,this._next=0,this._layout=F(t),this._shaderTransformation=e}get capacity(){return this._capacity}get size(){return this._size}get buffer(){return this._buffer.buffer}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this.grow();const t=this.findSlot();return this._view.state.set(t,p.ALLOCATED),this._size++,this.emit(\"instance-added\",{index:t}),t}removeInstance(t){const e=this._view.state;v(t>=0&&t<this._capacity&&e.get(t)&p.ALLOCATED,\"invalid instance handle\"),this.getStateFlag(t,p.ACTIVE)?this.setStateFlags(t,p.REMOVE):this.freeInstance(t),this.emit(\"instance-removed\",{index:t})}freeInstance(t){const e=this._view.state;v(t>=0&&t<this._capacity&&e.get(t)&p.ALLOCATED,\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const a=this._view,o=w,l=I;a.localTransform.getMat(t,E),a.globalTransform.getMat(t,M);const h=r(M,M,E);n(o,h[12],h[13],h[14]),a.modelOrigin.setVec(t,o),e(l,h),a.model.setMat(t,l);const c=_(w,h);c.sort(),a.modelScaleFactors.set(t,0,c[1]),a.modelScaleFactors.set(t,1,c[2]),s(l,l),i(l,l),a.modelNormal.setMat(t,l),this.setStateFlags(t,p.TRANSFORM_CHANGED),this.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,I),s.modelOrigin.getVec(t,w),e[0]=I[0],e[1]=I[1],e[2]=I[2],e[3]=0,e[4]=I[3],e[5]=I[4],e[6]=I[5],e[7]=0,e[8]=I[6],e[9]=I[7],e[10]=I[8],e[11]=0,e[12]=w[0],e[13]=w[1],e[14]=w[2],e[15]=1}applyShaderTransformation(t,e){this._shaderTransformation&&this._shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),this._shaderTransformation&&this._shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){return this._view.localTransform.getMat(t,e),this._shaderTransformation&&this._shaderTransformation.applyTransform(this,t,e),e}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);if(this._shaderTransformation){const s=this._shaderTransformation.scaleFactor(w,this,t);e*=Math.max(s[0],s[1],s[2])}return e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);if(this._shaderTransformation){const s=this._shaderTransformation.scaleFactor(w,this,t);s.sort(),e*=s[1]}return e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}getColor(t,e){this._view.color.getVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this.setStateFlag(t,p.VISIBLE,e),this.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this.getStateFlag(t,p.VISIBLE)}setHighlight(t,e){e!==this.getHighlight(t)&&(this.setStateFlag(t,p.HIGHLIGHT,e),this.emit(\"instance-highlight-changed\",{index:t}))}getHighlight(t){return this.getStateFlag(t,p.HIGHLIGHT)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}setStateFlag(t,e,s){s?this.setStateFlags(t,e):this.clearStateFlags(t,e)}getStateFlag(t,e){return!!(this._view.state.get(t)&e)}grow(){const t=Math.max(S,Math.floor(this._capacity*L)),e=this._layout.createBuffer(t);if(this._buffer){const t=new Uint8Array(this._buffer.buffer);new Uint8Array(e.buffer).set(t)}this._capacity=t,this._buffer=e,this._view=new b(this._buffer)}findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&p.ALLOCATED;)e=(e+1)%this._capacity;return this._next=(e+1)%this._capacity,e}}const S=1024,L=2,w=l(),I=a(),E=o(),M=o();export{A as InstanceData,b as InstanceDataView,p as StateFlags};\n"]},"metadata":{},"sourceType":"module"}