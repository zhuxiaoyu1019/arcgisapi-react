{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../Graphic.js\";\nimport r from \"../../core/Accessor.js\";\nimport i from \"../../core/Handles.js\";\nimport o from \"../../core/Logger.js\";\nimport { isSome as s } from \"../../core/maybe.js\";\nimport { createAbortController as a, eachAlways as l } from \"../../core/promiseUtils.js\";\nimport { throttle as n } from \"../../core/throttle.js\";\nimport { init as p } from \"../../core/watchUtils.js\";\nimport { property as c } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as d } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport u from \"../../popup/content/TextContent.js\";\nimport f from \"./FeatureAttachments/FeatureAttachmentsViewModel.js\";\nimport h from \"./FeatureContent/FeatureContentViewModel.js\";\nimport m from \"./FeatureFields/FeatureFieldsViewModel.js\";\nimport _ from \"./FeatureMedia/FeatureMediaViewModel.js\";\nimport { createCompiledExpressions as y } from \"./support/arcadeFeatureUtils.js\";\nimport { createfieldInfoMap as g, getAllFieldInfos as b, getSourceLayer as I, substituteFieldsInLinksAndAttributes as v, formatEditInfo as A, graphicCallback as M, queryUpdatedFeature as w, formatAttributes as x, isRelatedField as T } from \"./support/featureUtils.js\";\nimport { queryLayerInfos as F, queryRelatedFeatures as C, setRelatedFeatures as j, getRelatedFieldInfo as V, createRelatedInfo as L, updateRelatedInfo as P } from \"./support/relatedFeatureUtils.js\";\nconst E = 1,\n      R = \"esri.widgets.FeatureViewModel\",\n      O = o.getLogger(R);\nlet k = class extends r {\n  constructor(e) {\n    super(e), this._handles = new i(), this._featureAbortController = null, this.graphicChangedThrottled = n(this.graphicChanged, E, this), this._expressionAttributes = null, this.content = null, this.contentViewModels = [], this.defaultPopupTemplateEnabled = !1, this.formattedAttributes = null, this.lastEditInfo = null, this.relatedInfos = new Map(), this.title = \"\", this.view = null, this._handles.add(p(this, [\"graphic\", \"_effectivePopupTemplate\"], () => this.graphicChangedThrottled()));\n  }\n\n  destroy() {\n    this._clear(), this._cancelFeatureQuery(), this._handles.destroy(), this._handles = null, this.graphic = null, this._destroyContentViewModels(), this.relatedInfos.clear();\n  }\n\n  get _effectivePopupTemplate() {\n    return s(this.graphic) ? this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled) : null;\n  }\n\n  get _fieldInfoMap() {\n    return g(b(this._effectivePopupTemplate), this._sourceLayer);\n  }\n\n  get _sourceLayer() {\n    return I(this.graphic);\n  }\n\n  set graphic(e) {\n    this._set(\"graphic\", e ? e.clone() : null);\n  }\n\n  get spatialReference() {\n    return this.get(\"view.spatialReference\") || null;\n  }\n\n  set spatialReference(e) {\n    void 0 !== e ? this._override(\"spatialReference\", e) : this._clearOverride(\"spatialReference\");\n  }\n\n  get map() {\n    return this.get(\"view.map\") || null;\n  }\n\n  set map(e) {\n    void 0 !== e ? this._override(\"map\", e) : this._clearOverride(\"map\");\n  }\n\n  get waitingForContent() {\n    return !!this._featureAbortController;\n  }\n\n  setActiveMedia(e, t) {\n    const r = this.contentViewModels[e];\n    r instanceof _ && r.setActiveMedia(t);\n  }\n\n  nextMedia(e) {\n    const t = this.contentViewModels[e];\n    t instanceof _ && t.next();\n  }\n\n  previousMedia(e) {\n    const t = this.contentViewModels[e];\n    t instanceof _ && t.previous();\n  }\n\n  _clear() {\n    this._set(\"title\", \"\"), this._set(\"content\", null), this._set(\"formattedAttributes\", null);\n  }\n\n  async graphicChanged() {\n    this._cancelFeatureQuery(), this._clear();\n    const {\n      graphic: e\n    } = this;\n    if (!e) return;\n    const t = a();\n    this._featureAbortController = t;\n\n    try {\n      await this._queryFeature({\n        signal: t.signal\n      });\n    } catch (r) {\n      O.error(\"error\", \"error loading popupTemplate for graphic\", {\n        error: r,\n        graphic: e\n      });\n    }\n\n    this._featureAbortController === t && (this._featureAbortController = null);\n  }\n\n  _cancelFeatureQuery() {\n    const {\n      _featureAbortController: e\n    } = this;\n    e && e.abort(), this._featureAbortController = null;\n  }\n\n  _compileContent(e) {\n    if (this._destroyContentViewModels(), this.graphic) return Array.isArray(e) ? e.map((e, t) => \"attachments\" === e.type ? this._compileAttachments(e, t) : \"custom\" === e.type ? this._compileCustom(e, t) : \"fields\" === e.type ? this._compileFields(e, t) : \"media\" === e.type ? this._compileMedia(e, t) : \"text\" === e.type ? this._compileText(e, t) : void 0) : \"string\" == typeof e ? this._compileText(new u({\n      text: e\n    }), 0).text : e;\n  }\n\n  _destroyContentViewModels() {\n    this.contentViewModels.forEach(e => e && !e.destroyed && e.destroy()), this._set(\"contentViewModels\", []);\n  }\n\n  _compileAttachments(e, t) {\n    const {\n      graphic: r\n    } = this,\n          {\n      description: i,\n      title: o\n    } = e;\n    return this.contentViewModels[t] = new f({\n      graphic: r,\n      ...this._compileTitleAndDesc({\n        title: o,\n        description: i\n      })\n    }), e;\n  }\n\n  _compileCustom(e, t) {\n    const {\n      graphic: r\n    } = this,\n          {\n      creator: i,\n      destroyer: o\n    } = e;\n    return this.contentViewModels[t] = new h({\n      graphic: r,\n      creator: i,\n      destroyer: o\n    }), e;\n  }\n\n  _compileTitleAndDesc({\n    title: e,\n    description: t\n  }) {\n    const {\n      _fieldInfoMap: r,\n      _sourceLayer: i,\n      graphic: o,\n      formattedAttributes: s,\n      _expressionAttributes: a\n    } = this,\n          {\n      attributes: l\n    } = o,\n          n = s.global;\n    return {\n      title: v({\n        attributes: l,\n        fieldInfoMap: r,\n        globalAttributes: n,\n        expressionAttributes: a,\n        layer: i,\n        text: e\n      }),\n      description: v({\n        attributes: l,\n        fieldInfoMap: r,\n        globalAttributes: n,\n        expressionAttributes: a,\n        layer: i,\n        text: t\n      })\n    };\n  }\n\n  _compileFields(e, t) {\n    const {\n      _effectivePopupTemplate: r,\n      formattedAttributes: i\n    } = this,\n          o = e.clone(),\n          s = (null == e ? void 0 : e.fieldInfos) || (null == r ? void 0 : r.fieldInfos),\n          a = null == r ? void 0 : r.expressionInfos,\n          l = { ...i.global,\n      ...i.content[t]\n    },\n          {\n      description: n,\n      title: p\n    } = o,\n          c = new m({\n      attributes: l,\n      expressionInfos: a,\n      fieldInfos: s,\n      ...this._compileTitleAndDesc({\n        title: p,\n        description: n\n      })\n    });\n    return this.contentViewModels[t] = c, o.fieldInfos = c.formattedFieldInfos.slice(0), o;\n  }\n\n  _compileMedia(e, t) {\n    const {\n      graphic: r,\n      _fieldInfoMap: i,\n      _effectivePopupTemplate: o,\n      relatedInfos: s,\n      _sourceLayer: a,\n      _expressionAttributes: l\n    } = this,\n          {\n      attributes: n\n    } = r,\n          p = this.formattedAttributes.global,\n          c = e.clone(),\n          {\n      description: d,\n      mediaInfos: u,\n      title: f\n    } = c,\n          h = new _({\n      activeMediaInfoIndex: c.activeMediaInfoIndex || 0,\n      attributes: n,\n      layer: a,\n      fieldInfoMap: i,\n      formattedAttributes: p,\n      expressionAttributes: l,\n      mediaInfos: u,\n      popupTemplate: o,\n      relatedInfos: s,\n      ...this._compileTitleAndDesc({\n        title: f,\n        description: d\n      })\n    });\n    return c.mediaInfos = h.formattedMediaInfos.slice(0), this.contentViewModels[t] = h, c;\n  }\n\n  _compileText(e, t) {\n    const r = e.clone(),\n          {\n      graphic: i,\n      _fieldInfoMap: o,\n      _sourceLayer: s,\n      _expressionAttributes: a\n    } = this;\n\n    if (r && r.text) {\n      const {\n        attributes: e\n      } = i,\n            t = this.formattedAttributes.global;\n      r.text = v({\n        attributes: e,\n        fieldInfoMap: o,\n        globalAttributes: t,\n        expressionAttributes: a,\n        layer: s,\n        text: r.text\n      });\n    }\n\n    return this.contentViewModels[t] = new h({\n      graphic: i,\n      creator: r.text\n    }), r;\n  }\n\n  _compileLastEditInfo() {\n    const {\n      _effectivePopupTemplate: e,\n      _sourceLayer: t,\n      graphic: r\n    } = this;\n    if (!e) return;\n    const {\n      lastEditInfoEnabled: i\n    } = e,\n          o = null == t ? void 0 : t.editFieldsInfo;\n    return i && o ? A(o, r.attributes) : void 0;\n  }\n\n  _compileTitle(e) {\n    const {\n      _fieldInfoMap: t,\n      _sourceLayer: r,\n      graphic: i,\n      _expressionAttributes: o\n    } = this,\n          {\n      attributes: s\n    } = i,\n          a = this.formattedAttributes.global;\n    return v({\n      attributes: s,\n      fieldInfoMap: t,\n      globalAttributes: a,\n      expressionAttributes: o,\n      layer: r,\n      text: e\n    });\n  }\n\n  async _getTitle() {\n    const {\n      _effectivePopupTemplate: e,\n      graphic: t\n    } = this,\n          r = null == e ? void 0 : e.title;\n    return M(r, {\n      graphic: t\n    });\n  }\n\n  async _getContent() {\n    const {\n      _effectivePopupTemplate: e,\n      graphic: t\n    } = this,\n          r = null == e ? void 0 : e.content;\n    return M(r, {\n      graphic: t\n    });\n  }\n\n  async _queryFeature(e) {\n    const {\n      _featureAbortController: t,\n      _sourceLayer: r,\n      graphic: i,\n      _effectivePopupTemplate: o,\n      spatialReference: s,\n      map: a,\n      view: n\n    } = this,\n          {\n      content: {\n        value: p\n      },\n      title: {\n        value: c\n      }\n    } = await l({\n      content: this._getContent(),\n      title: this._getTitle()\n    });\n    if (t !== this._featureAbortController || !i) return;\n    await w({\n      graphic: i,\n      popupTemplate: o,\n      layer: r,\n      spatialReference: s\n    }, e);\n    const {\n      expressionAttributes: {\n        value: d\n      }\n    } = await l({\n      checkForRelatedFeatures: this._checkForRelatedFeatures(e),\n      expressionAttributes: y({\n        popupTemplate: this._effectivePopupTemplate,\n        spatialReference: s,\n        graphic: i,\n        map: a,\n        view: n\n      })\n    });\n    t === this._featureAbortController && i && (this._expressionAttributes = d, this._set(\"formattedAttributes\", this._createFormattedAttributes(p, d)), this._set(\"title\", this._compileTitle(c)), this._set(\"lastEditInfo\", this._compileLastEditInfo() || null), this._set(\"content\", this._compileContent(p) || null));\n  }\n\n  _createFormattedAttributes(e, t) {\n    const {\n      _effectivePopupTemplate: r,\n      graphic: i,\n      relatedInfos: o,\n      _sourceLayer: s,\n      _fieldInfoMap: a\n    } = this,\n          l = null == r ? void 0 : r.fieldInfos,\n          n = { ...i.attributes,\n      ...t\n    },\n          p = {\n      global: x({\n        fieldInfos: l,\n        graphic: i,\n        attributes: n,\n        layer: s,\n        fieldInfoMap: a,\n        relatedInfos: o\n      }),\n      content: []\n    };\n    return Array.isArray(e) && e.forEach((e, t) => {\n      \"fields\" === e.type && e.fieldInfos && (p.content[t] = x({\n        fieldInfos: e.fieldInfos,\n        graphic: i,\n        attributes: n,\n        layer: s,\n        fieldInfoMap: a,\n        relatedInfos: o\n      }));\n    }), p;\n  }\n\n  _checkForRelatedFeatures(e) {\n    const {\n      graphic: t,\n      _effectivePopupTemplate: r\n    } = this;\n    return this._queryRelatedInfos(t, b(r), e);\n  }\n\n  async _queryRelatedInfos(e, t, r) {\n    const {\n      relatedInfos: i,\n      _sourceLayer: o\n    } = this;\n    i.clear();\n    const a = s(o.associatedLayer) ? await o.associatedLayer.load(r) : o;\n    if (!a) return;\n    const l = t.filter(e => e && T(e.fieldName));\n    if (!l || !l.length) return;\n    t.forEach(e => this._configureRelatedInfo(e, a));\n    const n = await F({\n      relatedInfos: i,\n      layer: a\n    }, r);\n    Object.keys(n).forEach(e => {\n      var t;\n      const r = i.get(e.toString()),\n            o = null == (t = n[e]) ? void 0 : t.value;\n      r && o && (r.layerInfo = o.data);\n    });\n    const p = await C({\n      graphic: e,\n      relatedInfos: i,\n      layer: a\n    }, r);\n    Object.keys(p).forEach(e => {\n      var t;\n      j(null == (t = p[e]) ? void 0 : t.value, i.get(e.toString()));\n    });\n  }\n\n  _configureRelatedInfo(e, t) {\n    const {\n      relatedInfos: r\n    } = this,\n          i = V(e.fieldName);\n    if (!i) return;\n    const {\n      layerId: o,\n      fieldName: s\n    } = i;\n    if (!o) return;\n    const a = r.get(o.toString()) || L(o, t);\n    a && (P({\n      relatedInfo: a,\n      fieldName: s,\n      fieldInfo: e\n    }), this.relatedInfos.set(o, a));\n  }\n\n};\ne([c()], k.prototype, \"_featureAbortController\", void 0), e([c({\n  readOnly: !0\n})], k.prototype, \"_effectivePopupTemplate\", null), e([c({\n  readOnly: !0\n})], k.prototype, \"_fieldInfoMap\", null), e([c({\n  readOnly: !0\n})], k.prototype, \"_sourceLayer\", null), e([c({\n  readOnly: !0\n})], k.prototype, \"content\", void 0), e([c({\n  readOnly: !0\n})], k.prototype, \"contentViewModels\", void 0), e([c({\n  type: Boolean\n})], k.prototype, \"defaultPopupTemplateEnabled\", void 0), e([c({\n  readOnly: !0\n})], k.prototype, \"formattedAttributes\", void 0), e([c({\n  type: t,\n  value: null\n})], k.prototype, \"graphic\", null), e([c({\n  readOnly: !0\n})], k.prototype, \"lastEditInfo\", void 0), e([c()], k.prototype, \"relatedInfos\", void 0), e([c()], k.prototype, \"spatialReference\", null), e([c({\n  readOnly: !0\n})], k.prototype, \"title\", void 0), e([c()], k.prototype, \"map\", null), e([c({\n  readOnly: !0\n})], k.prototype, \"waitingForContent\", null), e([c()], k.prototype, \"view\", void 0), k = e([d(R)], k);\nvar S = k;\nexport default S;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/widgets/Feature/FeatureViewModel.js"],"names":["_","e","t","r","i","o","isSome","s","createAbortController","a","eachAlways","l","throttle","n","init","p","property","c","subclass","d","u","f","h","m","createCompiledExpressions","y","createfieldInfoMap","g","getAllFieldInfos","b","getSourceLayer","I","substituteFieldsInLinksAndAttributes","v","formatEditInfo","A","graphicCallback","M","queryUpdatedFeature","w","formatAttributes","x","isRelatedField","T","queryLayerInfos","F","queryRelatedFeatures","C","setRelatedFeatures","j","getRelatedFieldInfo","V","createRelatedInfo","L","updateRelatedInfo","P","E","R","O","getLogger","k","constructor","_handles","_featureAbortController","graphicChangedThrottled","graphicChanged","_expressionAttributes","content","contentViewModels","defaultPopupTemplateEnabled","formattedAttributes","lastEditInfo","relatedInfos","Map","title","view","add","destroy","_clear","_cancelFeatureQuery","graphic","_destroyContentViewModels","clear","_effectivePopupTemplate","getEffectivePopupTemplate","_fieldInfoMap","_sourceLayer","_set","clone","spatialReference","get","_override","_clearOverride","map","waitingForContent","setActiveMedia","nextMedia","next","previousMedia","previous","_queryFeature","signal","error","abort","_compileContent","Array","isArray","type","_compileAttachments","_compileCustom","_compileFields","_compileMedia","_compileText","text","forEach","destroyed","description","_compileTitleAndDesc","creator","destroyer","attributes","global","fieldInfoMap","globalAttributes","expressionAttributes","layer","fieldInfos","expressionInfos","formattedFieldInfos","slice","mediaInfos","activeMediaInfoIndex","popupTemplate","formattedMediaInfos","_compileLastEditInfo","lastEditInfoEnabled","editFieldsInfo","_compileTitle","_getTitle","_getContent","value","checkForRelatedFeatures","_checkForRelatedFeatures","_createFormattedAttributes","_queryRelatedInfos","associatedLayer","load","filter","fieldName","length","_configureRelatedInfo","Object","keys","toString","layerInfo","data","layerId","relatedInfo","fieldInfo","set","prototype","readOnly","Boolean","S"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Accessor.js\";import i from\"../../core/Handles.js\";import o from\"../../core/Logger.js\";import{isSome as s}from\"../../core/maybe.js\";import{createAbortController as a,eachAlways as l}from\"../../core/promiseUtils.js\";import{throttle as n}from\"../../core/throttle.js\";import{init as p}from\"../../core/watchUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../popup/content/TextContent.js\";import f from\"./FeatureAttachments/FeatureAttachmentsViewModel.js\";import h from\"./FeatureContent/FeatureContentViewModel.js\";import m from\"./FeatureFields/FeatureFieldsViewModel.js\";import _ from\"./FeatureMedia/FeatureMediaViewModel.js\";import{createCompiledExpressions as y}from\"./support/arcadeFeatureUtils.js\";import{createfieldInfoMap as g,getAllFieldInfos as b,getSourceLayer as I,substituteFieldsInLinksAndAttributes as v,formatEditInfo as A,graphicCallback as M,queryUpdatedFeature as w,formatAttributes as x,isRelatedField as T}from\"./support/featureUtils.js\";import{queryLayerInfos as F,queryRelatedFeatures as C,setRelatedFeatures as j,getRelatedFieldInfo as V,createRelatedInfo as L,updateRelatedInfo as P}from\"./support/relatedFeatureUtils.js\";const E=1,R=\"esri.widgets.FeatureViewModel\",O=o.getLogger(R);let k=class extends r{constructor(e){super(e),this._handles=new i,this._featureAbortController=null,this.graphicChangedThrottled=n(this.graphicChanged,E,this),this._expressionAttributes=null,this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title=\"\",this.view=null,this._handles.add(p(this,[\"graphic\",\"_effectivePopupTemplate\"],(()=>this.graphicChangedThrottled())))}destroy(){this._clear(),this._cancelFeatureQuery(),this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return s(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return g(b(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return I(this.graphic)}set graphic(e){this._set(\"graphic\",e?e.clone():null)}get spatialReference(){return this.get(\"view.spatialReference\")||null}set spatialReference(e){void 0!==e?this._override(\"spatialReference\",e):this._clearOverride(\"spatialReference\")}get map(){return this.get(\"view.map\")||null}set map(e){void 0!==e?this._override(\"map\",e):this._clearOverride(\"map\")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof _&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof _&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof _&&t.previous()}_clear(){this._set(\"title\",\"\"),this._set(\"content\",null),this._set(\"formattedAttributes\",null)}async graphicChanged(){this._cancelFeatureQuery(),this._clear();const{graphic:e}=this;if(!e)return;const t=a();this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(r){O.error(\"error\",\"error loading popupTemplate for graphic\",{error:r,graphic:e})}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.map(((e,t)=>\"attachments\"===e.type?this._compileAttachments(e,t):\"custom\"===e.type?this._compileCustom(e,t):\"fields\"===e.type?this._compileFields(e,t):\"media\"===e.type?this._compileMedia(e,t):\"text\"===e.type?this._compileText(e,t):void 0)):\"string\"==typeof e?this._compileText(new u({text:e}),0).text:e}_destroyContentViewModels(){this.contentViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"contentViewModels\",[])}_compileAttachments(e,t){const{graphic:r}=this,{description:i,title:o}=e;return this.contentViewModels[t]=new f({graphic:r,...this._compileTitleAndDesc({title:o,description:i})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:i,destroyer:o}=e;return this.contentViewModels[t]=new h({graphic:r,creator:i,destroyer:o}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:i,graphic:o,formattedAttributes:s,_expressionAttributes:a}=this,{attributes:l}=o,n=s.global;return{title:v({attributes:l,fieldInfoMap:r,globalAttributes:n,expressionAttributes:a,layer:i,text:e}),description:v({attributes:l,fieldInfoMap:r,globalAttributes:n,expressionAttributes:a,layer:i,text:t})}}_compileFields(e,t){const{_effectivePopupTemplate:r,formattedAttributes:i}=this,o=e.clone(),s=(null==e?void 0:e.fieldInfos)||(null==r?void 0:r.fieldInfos),a=null==r?void 0:r.expressionInfos,l={...i.global,...i.content[t]},{description:n,title:p}=o,c=new m({attributes:l,expressionInfos:a,fieldInfos:s,...this._compileTitleAndDesc({title:p,description:n})});return this.contentViewModels[t]=c,o.fieldInfos=c.formattedFieldInfos.slice(0),o}_compileMedia(e,t){const{graphic:r,_fieldInfoMap:i,_effectivePopupTemplate:o,relatedInfos:s,_sourceLayer:a,_expressionAttributes:l}=this,{attributes:n}=r,p=this.formattedAttributes.global,c=e.clone(),{description:d,mediaInfos:u,title:f}=c,h=new _({activeMediaInfoIndex:c.activeMediaInfoIndex||0,attributes:n,layer:a,fieldInfoMap:i,formattedAttributes:p,expressionAttributes:l,mediaInfos:u,popupTemplate:o,relatedInfos:s,...this._compileTitleAndDesc({title:f,description:d})});return c.mediaInfos=h.formattedMediaInfos.slice(0),this.contentViewModels[t]=h,c}_compileText(e,t){const r=e.clone(),{graphic:i,_fieldInfoMap:o,_sourceLayer:s,_expressionAttributes:a}=this;if(r&&r.text){const{attributes:e}=i,t=this.formattedAttributes.global;r.text=v({attributes:e,fieldInfoMap:o,globalAttributes:t,expressionAttributes:a,layer:s,text:r.text})}return this.contentViewModels[t]=new h({graphic:i,creator:r.text}),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r}=this;if(!e)return;const{lastEditInfoEnabled:i}=e,o=null==t?void 0:t.editFieldsInfo;return i&&o?A(o,r.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:r,graphic:i,_expressionAttributes:o}=this,{attributes:s}=i,a=this.formattedAttributes.global;return v({attributes:s,fieldInfoMap:t,globalAttributes:a,expressionAttributes:o,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,r=null==e?void 0:e.title;return M(r,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,r=null==e?void 0:e.content;return M(r,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:r,graphic:i,_effectivePopupTemplate:o,spatialReference:s,map:a,view:n}=this,{content:{value:p},title:{value:c}}=await l({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!i)return;await w({graphic:i,popupTemplate:o,layer:r,spatialReference:s},e);const{expressionAttributes:{value:d}}=await l({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:y({popupTemplate:this._effectivePopupTemplate,spatialReference:s,graphic:i,map:a,view:n})});t===this._featureAbortController&&i&&(this._expressionAttributes=d,this._set(\"formattedAttributes\",this._createFormattedAttributes(p,d)),this._set(\"title\",this._compileTitle(c)),this._set(\"lastEditInfo\",this._compileLastEditInfo()||null),this._set(\"content\",this._compileContent(p)||null))}_createFormattedAttributes(e,t){const{_effectivePopupTemplate:r,graphic:i,relatedInfos:o,_sourceLayer:s,_fieldInfoMap:a}=this,l=null==r?void 0:r.fieldInfos,n={...i.attributes,...t},p={global:x({fieldInfos:l,graphic:i,attributes:n,layer:s,fieldInfoMap:a,relatedInfos:o}),content:[]};return Array.isArray(e)&&e.forEach(((e,t)=>{\"fields\"===e.type&&e.fieldInfos&&(p.content[t]=x({fieldInfos:e.fieldInfos,graphic:i,attributes:n,layer:s,fieldInfoMap:a,relatedInfos:o}))})),p}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,b(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:i,_sourceLayer:o}=this;i.clear();const a=s(o.associatedLayer)?await o.associatedLayer.load(r):o;if(!a)return;const l=t.filter((e=>e&&T(e.fieldName)));if(!l||!l.length)return;t.forEach((e=>this._configureRelatedInfo(e,a)));const n=await F({relatedInfos:i,layer:a},r);Object.keys(n).forEach((e=>{var t;const r=i.get(e.toString()),o=null==(t=n[e])?void 0:t.value;r&&o&&(r.layerInfo=o.data)}));const p=await C({graphic:e,relatedInfos:i,layer:a},r);Object.keys(p).forEach((e=>{var t;j(null==(t=p[e])?void 0:t.value,i.get(e.toString()))}))}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,i=V(e.fieldName);if(!i)return;const{layerId:o,fieldName:s}=i;if(!o)return;const a=r.get(o.toString())||L(o,t);a&&(P({relatedInfo:a,fieldName:s,fieldInfo:e}),this.relatedInfos.set(o,a))}};e([c()],k.prototype,\"_featureAbortController\",void 0),e([c({readOnly:!0})],k.prototype,\"_effectivePopupTemplate\",null),e([c({readOnly:!0})],k.prototype,\"_fieldInfoMap\",null),e([c({readOnly:!0})],k.prototype,\"_sourceLayer\",null),e([c({readOnly:!0})],k.prototype,\"content\",void 0),e([c({readOnly:!0})],k.prototype,\"contentViewModels\",void 0),e([c({type:Boolean})],k.prototype,\"defaultPopupTemplateEnabled\",void 0),e([c({readOnly:!0})],k.prototype,\"formattedAttributes\",void 0),e([c({type:t,value:null})],k.prototype,\"graphic\",null),e([c({readOnly:!0})],k.prototype,\"lastEditInfo\",void 0),e([c()],k.prototype,\"relatedInfos\",void 0),e([c()],k.prototype,\"spatialReference\",null),e([c({readOnly:!0})],k.prototype,\"title\",void 0),e([c()],k.prototype,\"map\",null),e([c({readOnly:!0})],k.prototype,\"waitingForContent\",null),e([c()],k.prototype,\"view\",void 0),k=e([d(R)],k);var S=k;export default S;\n"]},"metadata":{},"sourceType":"module"}