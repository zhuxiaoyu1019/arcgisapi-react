{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../../Color.js\";\nimport e from \"../../core/has.js\";\nimport { c as i } from \"../../chunks/mat2df32.js\";\nimport { m as o, t as r, i as n, s, r as a } from \"../../chunks/mat2d.js\";\nimport \"../../widgets/support/widgetUtils.js\";\nimport \"../../core/Logger.js\";\nimport { tsx as l } from \"../../widgets/support/jsxFactory.js\";\nconst h = \"http://www.w3.org/2000/svg\";\nlet c = 0,\n    f = 0;\nconst d = e(\"android\"),\n      y = e(\"chrome\") || d && d >= 4 ? \"auto\" : \"optimizeLegibility\",\n      u = {\n  m: 2,\n  l: 2,\n  h: 1,\n  v: 1,\n  c: 6,\n  s: 4,\n  q: 4,\n  t: 2,\n  a: 7,\n  z: 0\n},\n      p = /([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g;\nlet g = {},\n    x = {};\nconst m = {\n  solid: \"none\",\n  shortdash: [4, 1],\n  shortdot: [1, 1],\n  shortdashdot: [4, 1, 1, 1],\n  shortdashdotdot: [4, 1, 1, 1, 1, 1],\n  dot: [1, 3],\n  dash: [4, 3],\n  longdash: [8, 3],\n  dashdot: [4, 3, 1, 3],\n  longdashdot: [8, 3, 1, 3],\n  longdashdotdot: [8, 3, 1, 3, 1, 3]\n},\n      w = Math.PI;\n\nfunction k(t, e) {\n  const i = t * (w / 180);\n  return Math.abs(e * Math.sin(i)) + Math.abs(e * Math.cos(i));\n}\n\nfunction j(t) {\n  return t.map(t => `${t.command} ${t.values.join(\" \")}`).join(\" \").trim();\n}\n\nfunction b(t, e, i, o) {\n  if (t) {\n    if (\"circle\" === t.type) return l(\"circle\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      cx: t.cx,\n      cy: t.cy,\n      r: t.r\n    });\n    if (\"ellipse\" === t.type) return l(\"ellipse\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      cx: t.cx,\n      cy: t.cy,\n      rx: t.rx,\n      ry: t.ry\n    });\n    if (\"rect\" === t.type) return l(\"rect\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height\n    });\n    if (\"image\" === t.type) return l(\"image\", {\n      href: t.src,\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height,\n      preserveAspectRatio: \"none\"\n    });\n\n    if (\"path\" === t.type) {\n      const o = \"string\" != typeof t.path ? j(t.path) : t.path;\n      return l(\"path\", {\n        fill: e,\n        \"fill-rule\": \"evenodd\",\n        stroke: i.color,\n        \"stroke-width\": i.width,\n        \"stroke-linecap\": i.cap,\n        \"stroke-linejoin\": i.join,\n        \"stroke-dasharray\": i.dashArray,\n        \"stroke-miterlimit\": \"4\",\n        d: o\n      });\n    }\n\n    if (\"text\" === t.type) return l(\"text\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      \"text-anchor\": o.align,\n      \"text-decoration\": o.decoration,\n      kerning: o.kerning,\n      rotate: o.rotate,\n      \"text-rendering\": y,\n      \"font-style\": o.font.style,\n      \"font-variant\": o.font.variant,\n      \"font-weight\": o.font.weight,\n      \"font-size\": o.font.size,\n      \"font-family\": o.font.family,\n      x: t.x,\n      y: t.y\n    }, t.text);\n  }\n\n  return null;\n}\n\nfunction v(e) {\n  const i = {\n    fill: \"none\",\n    pattern: null,\n    linearGradient: null\n  };\n  if (e) if (\"type\" in e && \"pattern\" === e.type) {\n    const t = \"patternId-\" + ++c;\n    i.fill = `url(#${t})`, i.pattern = {\n      id: t,\n      x: e.x,\n      y: e.y,\n      width: e.width,\n      height: e.height,\n      image: {\n        x: 0,\n        y: 0,\n        width: e.width,\n        height: e.height,\n        href: e.src\n      }\n    };\n  } else if (\"type\" in e && \"linear\" === e.type) {\n    const o = \"linearGradientId-\" + ++f;\n    i.fill = `url(#${o})`, i.linearGradient = {\n      id: o,\n      x1: e.x1,\n      y1: e.y1,\n      x2: e.x2,\n      y2: e.y2,\n      stops: e.colors.map(e => ({\n        offset: e.offset,\n        color: e.color && new t(e.color).toString()\n      }))\n    };\n  } else if (e) {\n    const o = new t(e);\n    i.fill = o.toString();\n  }\n  return i;\n}\n\nfunction A(e) {\n  const i = {\n    color: \"none\",\n    width: 1,\n    cap: \"butt\",\n    join: \"4\",\n    dashArray: \"none\"\n  };\n\n  if (e && (null != e.width && (i.width = e.width), e.cap && (i.cap = e.cap), e.join && (i.join = e.join.toString()), e.color && (i.color = new t(e.color).toString()), e.style)) {\n    let t = null;\n\n    if (e.style in m && (t = m[e.style]), Array.isArray(t)) {\n      t = t.slice(0);\n\n      for (let i = 0; i < t.length; ++i) t[i] *= e.width;\n\n      if (\"butt\" !== e.cap) {\n        for (let i = 0; i < t.length; i += 2) t[i] -= e.width, t[i] < 1 && (t[i] = 1);\n\n        for (let i = 1; i < t.length; i += 2) t[i] += e.width;\n      }\n\n      t = t.join(\",\");\n    }\n\n    i.dashArray = t;\n  }\n\n  return i;\n}\n\nfunction M(t, e) {\n  const i = {\n    align: null,\n    decoration: null,\n    kerning: null,\n    rotate: null,\n    font: {\n      style: null,\n      variant: null,\n      weight: null,\n      size: null,\n      family: null\n    }\n  };\n  return t && (i.align = t.align, i.decoration = t.decoration, i.kerning = t.kerning ? \"auto\" : \"0\", i.rotate = t.rotated ? \"90\" : \"0\", i.font.style = e.style || \"normal\", i.font.variant = e.variant || \"normal\", i.font.weight = e.weight || \"normal\", i.font.size = e.size && e.size.toString() || \"10pt\", i.font.family = e.family || \"serif\"), i;\n}\n\nfunction I(t) {\n  const {\n    pattern: e,\n    linearGradient: i\n  } = t;\n  if (e) return l(\"pattern\", {\n    id: e.id,\n    patternUnits: \"userSpaceOnUse\",\n    x: e.x,\n    y: e.y,\n    width: e.width,\n    height: e.height\n  }, l(\"image\", {\n    x: e.image.x,\n    y: e.image.y,\n    width: e.image.width,\n    height: e.image.height,\n    href: e.image.href\n  }));\n\n  if (i) {\n    const t = i.stops.map((t, e) => l(\"stop\", {\n      key: `${e}-stop`,\n      offset: t.offset,\n      \"stop-color\": t.color\n    }));\n    return l(\"linearGradient\", {\n      id: i.id,\n      gradientUnits: \"userSpaceOnUse\",\n      x1: i.x1,\n      y1: i.y1,\n      x2: i.x2,\n      y2: i.y2\n    }, t);\n  }\n\n  return null;\n}\n\nfunction N(t, e, i) {\n  return r(t, n(t), [e, i]);\n}\n\nfunction z(t, e, i, o, r) {\n  return s(t, n(t), [e, i]), t[4] = t[4] * e - o * e + o, t[5] = t[5] * i - r * i + r, t;\n}\n\nfunction $(t, e, i, o) {\n  const r = e % 360 * Math.PI / 180;\n  a(t, n(t), r);\n  const s = Math.cos(r),\n        l = Math.sin(r),\n        h = t[4],\n        c = t[5];\n  return t[4] = h * s - c * l + o * l - i * s + i, t[5] = c * s + h * l - i * l - o * s + o, t;\n}\n\nfunction S(t, e) {\n  g && \"left\" in g ? (g.left > t && (g.left = t), g.right < t && (g.right = t), g.top > e && (g.top = e), g.bottom < e && (g.bottom = e)) : g = {\n    left: t,\n    bottom: e,\n    right: t,\n    top: e\n  };\n}\n\nfunction G(t) {\n  const e = t.args,\n        i = e.length;\n  let o;\n\n  switch (t.action) {\n    case \"M\":\n    case \"L\":\n    case \"C\":\n    case \"S\":\n    case \"Q\":\n    case \"T\":\n      for (o = 0; o < i; o += 2) S(e[o], e[o + 1]);\n\n      x.x = e[i - 2], x.y = e[i - 1];\n      break;\n\n    case \"H\":\n      for (o = 0; o < i; ++o) S(e[o], x.y);\n\n      x.x = e[i - 1];\n      break;\n\n    case \"V\":\n      for (o = 0; o < i; ++o) S(x.x, e[o]);\n\n      x.y = e[i - 1];\n      break;\n\n    case \"m\":\n      {\n        let t = 0;\n        \"x\" in x || (S(x.x = e[0], x.y = e[1]), t = 2);\n\n        for (o = t; o < i; o += 2) S(x.x += e[o], x.y += e[o + 1]);\n\n        break;\n      }\n\n    case \"l\":\n    case \"t\":\n      for (o = 0; o < i; o += 2) S(x.x += e[o], x.y += e[o + 1]);\n\n      break;\n\n    case \"h\":\n      for (o = 0; o < i; ++o) S(x.x += e[o], x.y);\n\n      break;\n\n    case \"v\":\n      for (o = 0; o < i; ++o) S(x.x, x.y += e[o]);\n\n      break;\n\n    case \"c\":\n      for (o = 0; o < i; o += 6) S(x.x + e[o], x.y + e[o + 1]), S(x.x + e[o + 2], x.y + e[o + 3]), S(x.x += e[o + 4], x.y += e[o + 5]);\n\n      break;\n\n    case \"s\":\n    case \"q\":\n      for (o = 0; o < i; o += 4) S(x.x + e[o], x.y + e[o + 1]), S(x.x += e[o + 2], x.y += e[o + 3]);\n\n      break;\n\n    case \"A\":\n      for (o = 0; o < i; o += 7) S(e[o + 5], e[o + 6]);\n\n      x.x = e[i - 2], x.y = e[i - 1];\n      break;\n\n    case \"a\":\n      for (o = 0; o < i; o += 7) S(x.x += e[o + 5], x.y += e[o + 6]);\n\n  }\n}\n\nfunction E(t, e, i) {\n  const o = u[t.toLowerCase()];\n  let r;\n  \"number\" == typeof o && (o ? e.length >= o && (r = {\n    action: t,\n    args: e.slice(0, e.length - e.length % o)\n  }, i.push(r), G(r)) : (r = {\n    action: t,\n    args: []\n  }, i.push(r), G(r)));\n}\n\nfunction F(t) {\n  const e = (\"string\" != typeof t.path ? j(t.path) : t.path).match(p),\n        i = [];\n  if (g = {}, x = {}, !e) return null;\n  let o = \"\",\n      r = [];\n  const n = e.length;\n\n  for (let a = 0; a < n; ++a) {\n    const t = e[a],\n          n = parseFloat(t);\n    isNaN(n) ? (o && E(o, r, i), r = [], o = t) : r.push(n);\n  }\n\n  E(o, r, i);\n  const s = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  return g && \"left\" in g && (s.x = g.left, s.y = g.top, s.width = g.right - g.left, s.height = g.bottom - g.top), s;\n}\n\nfunction T(t) {\n  const e = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  if (\"circle\" === t.type) e.x = t.cx - t.r, e.y = t.cy - t.r, e.width = 2 * t.r, e.height = 2 * t.r;else if (\"ellipse\" === t.type) e.x = t.cx - t.rx, e.y = t.cy - t.ry, e.width = 2 * t.rx, e.height = 2 * t.ry;else if (\"image\" === t.type || \"rect\" === t.type) e.x = t.x, e.y = t.y, e.width = t.width, e.height = t.height;else if (\"path\" === t.type) {\n    const i = F(t);\n    e.x = i.x, e.y = i.y, e.width = i.width, e.height = i.height;\n  }\n  return e;\n}\n\nfunction U(t) {\n  const e = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  let i = null,\n      o = Number.NEGATIVE_INFINITY,\n      r = Number.NEGATIVE_INFINITY;\n\n  for (const n of t) i ? (i.x = Math.min(i.x, n.x), i.y = Math.min(i.y, n.y), o = Math.max(o, n.x + n.width), r = Math.max(r, n.y + n.height)) : (i = e, i.x = n.x, i.y = n.y, o = n.x + n.width, r = n.y + n.height);\n\n  return i && (i.width = o - i.x, i.height = r - i.y), i;\n}\n\nfunction L(t, e, r, n, s, a, l, h) {\n  const c = (l && a ? k(a, e) : e) / 2,\n        f = (l && a ? k(a, r) : r) / 2,\n        d = t.width + n,\n        y = t.height + n,\n        u = i(),\n        p = i();\n  let g = !1;\n\n  if (s && 0 !== d && 0 !== y) {\n    const t = d / y,\n          i = e > r ? e : r;\n    let n = 1,\n        s = 1;\n    isNaN(i) || (t > 1 ? (n = i / d, s = i / t / y) : (s = i / y, n = i * t / d)), o(p, p, z(u, n, s, c, f)), g = !0;\n  }\n\n  const x = t.x + (d - n) / 2,\n        m = t.y + (y - n) / 2;\n\n  if (o(p, p, N(u, c - x, f - m)), !g && (d > e || y > r)) {\n    const t = d / e > y / r,\n          i = (t ? e : r) / (t ? d : y);\n    o(p, p, z(u, i, i, x, m));\n  }\n\n  return a && o(p, p, $(u, a, x, m)), h && o(p, p, N(u, h[0], h[1])), `matrix(${p[0]},${p[1]},${p[2]},${p[3]},${p[4]},${p[5]})`;\n}\n\nfunction C(t, e, i, o) {\n  const r = [],\n        n = [];\n\n  for (const s of t) {\n    const t = [],\n          a = [];\n    let h = 0,\n        c = 0,\n        f = 0;\n\n    for (const e of s) {\n      const {\n        shape: i,\n        fill: o,\n        stroke: n,\n        font: s,\n        offset: l\n      } = e;\n      h += n && n.width || 0;\n      const d = v(o),\n            y = A(n),\n            u = \"text\" === i.type ? M(i, s) : null;\n      r.push(I(d)), t.push(b(i, d.fill, y, u)), a.push(T(i)), l && (c += l[0], f += l[1]);\n    }\n\n    const d = L(U(a), e, i, h, null == o ? void 0 : o.scale, null == o ? void 0 : o.rotation, null == o ? void 0 : o.useRotationSize, [c, f]);\n    n.push(l(\"g\", {\n      transform: d\n    }, t));\n  }\n\n  return null != o && o.useRotationSize && null != o && o.rotation && (e = k(null == o ? void 0 : o.rotation, e), i = k(null == o ? void 0 : o.rotation, i)), l(\"svg\", {\n    xmlns: h,\n    width: e,\n    height: i\n  }, l(\"defs\", null, r), n);\n}\n\nexport { U as computeBBox, v as generateFillAttributes, A as generateStrokeAttributes, M as generateTextAttributes, T as getBoundingBox, L as getTransformMatrix, I as renderDef, C as renderSVG, b as renderShape };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/symbols/support/svgUtils.js"],"names":["t","e","c","i","m","o","r","n","s","a","tsx","l","h","f","d","y","u","v","q","z","p","g","x","solid","shortdash","shortdot","shortdashdot","shortdashdotdot","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","w","Math","PI","k","abs","sin","cos","j","map","command","values","join","trim","b","type","fill","stroke","color","width","cap","dashArray","cx","cy","rx","ry","height","href","src","preserveAspectRatio","path","align","decoration","kerning","rotate","font","style","variant","weight","size","family","text","pattern","linearGradient","id","image","x1","y1","x2","y2","stops","colors","offset","toString","A","Array","isArray","slice","length","M","rotated","I","patternUnits","key","gradientUnits","N","$","S","left","right","top","bottom","G","args","action","E","toLowerCase","push","F","match","parseFloat","isNaN","T","U","Number","NEGATIVE_INFINITY","min","max","L","C","shape","scale","rotation","useRotationSize","transform","xmlns","computeBBox","generateFillAttributes","generateStrokeAttributes","generateTextAttributes","getBoundingBox","getTransformMatrix","renderDef","renderSVG","renderShape"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import e from\"../../core/has.js\";import{c as i}from\"../../chunks/mat2df32.js\";import{m as o,t as r,i as n,s,r as a}from\"../../chunks/mat2d.js\";import\"../../widgets/support/widgetUtils.js\";import\"../../core/Logger.js\";import{tsx as l}from\"../../widgets/support/jsxFactory.js\";const h=\"http://www.w3.org/2000/svg\";let c=0,f=0;const d=e(\"android\"),y=e(\"chrome\")||d&&d>=4?\"auto\":\"optimizeLegibility\",u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},p=/([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g;let g={},x={};const m={solid:\"none\",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},w=Math.PI;function k(t,e){const i=t*(w/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function j(t){return t.map((t=>`${t.command} ${t.values.join(\" \")}`)).join(\" \").trim()}function b(t,e,i,o){if(t){if(\"circle\"===t.type)return l(\"circle\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",cx:t.cx,cy:t.cy,r:t.r});if(\"ellipse\"===t.type)return l(\"ellipse\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if(\"rect\"===t.type)return l(\"rect\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",x:t.x,y:t.y,width:t.width,height:t.height});if(\"image\"===t.type)return l(\"image\",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:\"none\"});if(\"path\"===t.type){const o=\"string\"!=typeof t.path?j(t.path):t.path;return l(\"path\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",d:o})}if(\"text\"===t.type)return l(\"text\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",\"text-anchor\":o.align,\"text-decoration\":o.decoration,kerning:o.kerning,rotate:o.rotate,\"text-rendering\":y,\"font-style\":o.font.style,\"font-variant\":o.font.variant,\"font-weight\":o.font.weight,\"font-size\":o.font.size,\"font-family\":o.font.family,x:t.x,y:t.y},t.text)}return null}function v(e){const i={fill:\"none\",pattern:null,linearGradient:null};if(e)if(\"type\"in e&&\"pattern\"===e.type){const t=\"patternId-\"+ ++c;i.fill=`url(#${t})`,i.pattern={id:t,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if(\"type\"in e&&\"linear\"===e.type){const o=\"linearGradientId-\"+ ++f;i.fill=`url(#${o})`,i.linearGradient={id:o,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((e=>({offset:e.offset,color:e.color&&new t(e.color).toString()})))}}else if(e){const o=new t(e);i.fill=o.toString()}return i}function A(e){const i={color:\"none\",width:1,cap:\"butt\",join:\"4\",dashArray:\"none\"};if(e&&(null!=e.width&&(i.width=e.width),e.cap&&(i.cap=e.cap),e.join&&(i.join=e.join.toString()),e.color&&(i.color=new t(e.color).toString()),e.style)){let t=null;if(e.style in m&&(t=m[e.style]),Array.isArray(t)){t=t.slice(0);for(let i=0;i<t.length;++i)t[i]*=e.width;if(\"butt\"!==e.cap){for(let i=0;i<t.length;i+=2)t[i]-=e.width,t[i]<1&&(t[i]=1);for(let i=1;i<t.length;i+=2)t[i]+=e.width}t=t.join(\",\")}i.dashArray=t}return i}function M(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(i.align=t.align,i.decoration=t.decoration,i.kerning=t.kerning?\"auto\":\"0\",i.rotate=t.rotated?\"90\":\"0\",i.font.style=e.style||\"normal\",i.font.variant=e.variant||\"normal\",i.font.weight=e.weight||\"normal\",i.font.size=e.size&&e.size.toString()||\"10pt\",i.font.family=e.family||\"serif\"),i}function I(t){const{pattern:e,linearGradient:i}=t;if(e)return l(\"pattern\",{id:e.id,patternUnits:\"userSpaceOnUse\",x:e.x,y:e.y,width:e.width,height:e.height},l(\"image\",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(i){const t=i.stops.map(((t,e)=>l(\"stop\",{key:`${e}-stop`,offset:t.offset,\"stop-color\":t.color})));return l(\"linearGradient\",{id:i.id,gradientUnits:\"userSpaceOnUse\",x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},t)}return null}function N(t,e,i){return r(t,n(t),[e,i])}function z(t,e,i,o,r){return s(t,n(t),[e,i]),t[4]=t[4]*e-o*e+o,t[5]=t[5]*i-r*i+r,t}function $(t,e,i,o){const r=e%360*Math.PI/180;a(t,n(t),r);const s=Math.cos(r),l=Math.sin(r),h=t[4],c=t[5];return t[4]=h*s-c*l+o*l-i*s+i,t[5]=c*s+h*l-i*l-o*s+o,t}function S(t,e){g&&\"left\"in g?(g.left>t&&(g.left=t),g.right<t&&(g.right=t),g.top>e&&(g.top=e),g.bottom<e&&(g.bottom=e)):g={left:t,bottom:e,right:t,top:e}}function G(t){const e=t.args,i=e.length;let o;switch(t.action){case\"M\":case\"L\":case\"C\":case\"S\":case\"Q\":case\"T\":for(o=0;o<i;o+=2)S(e[o],e[o+1]);x.x=e[i-2],x.y=e[i-1];break;case\"H\":for(o=0;o<i;++o)S(e[o],x.y);x.x=e[i-1];break;case\"V\":for(o=0;o<i;++o)S(x.x,e[o]);x.y=e[i-1];break;case\"m\":{let t=0;\"x\"in x||(S(x.x=e[0],x.y=e[1]),t=2);for(o=t;o<i;o+=2)S(x.x+=e[o],x.y+=e[o+1]);break}case\"l\":case\"t\":for(o=0;o<i;o+=2)S(x.x+=e[o],x.y+=e[o+1]);break;case\"h\":for(o=0;o<i;++o)S(x.x+=e[o],x.y);break;case\"v\":for(o=0;o<i;++o)S(x.x,x.y+=e[o]);break;case\"c\":for(o=0;o<i;o+=6)S(x.x+e[o],x.y+e[o+1]),S(x.x+e[o+2],x.y+e[o+3]),S(x.x+=e[o+4],x.y+=e[o+5]);break;case\"s\":case\"q\":for(o=0;o<i;o+=4)S(x.x+e[o],x.y+e[o+1]),S(x.x+=e[o+2],x.y+=e[o+3]);break;case\"A\":for(o=0;o<i;o+=7)S(e[o+5],e[o+6]);x.x=e[i-2],x.y=e[i-1];break;case\"a\":for(o=0;o<i;o+=7)S(x.x+=e[o+5],x.y+=e[o+6])}}function E(t,e,i){const o=u[t.toLowerCase()];let r;\"number\"==typeof o&&(o?e.length>=o&&(r={action:t,args:e.slice(0,e.length-e.length%o)},i.push(r),G(r)):(r={action:t,args:[]},i.push(r),G(r)))}function F(t){const e=(\"string\"!=typeof t.path?j(t.path):t.path).match(p),i=[];if(g={},x={},!e)return null;let o=\"\",r=[];const n=e.length;for(let a=0;a<n;++a){const t=e[a],n=parseFloat(t);isNaN(n)?(o&&E(o,r,i),r=[],o=t):r.push(n)}E(o,r,i);const s={x:0,y:0,width:0,height:0};return g&&\"left\"in g&&(s.x=g.left,s.y=g.top,s.width=g.right-g.left,s.height=g.bottom-g.top),s}function T(t){const e={x:0,y:0,width:0,height:0};if(\"circle\"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if(\"ellipse\"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if(\"image\"===t.type||\"rect\"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if(\"path\"===t.type){const i=F(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function U(t){const e={x:0,y:0,width:0,height:0};let i=null,o=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const n of t)i?(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),o=Math.max(o,n.x+n.width),r=Math.max(r,n.y+n.height)):(i=e,i.x=n.x,i.y=n.y,o=n.x+n.width,r=n.y+n.height);return i&&(i.width=o-i.x,i.height=r-i.y),i}function L(t,e,r,n,s,a,l,h){const c=(l&&a?k(a,e):e)/2,f=(l&&a?k(a,r):r)/2,d=t.width+n,y=t.height+n,u=i(),p=i();let g=!1;if(s&&0!==d&&0!==y){const t=d/y,i=e>r?e:r;let n=1,s=1;isNaN(i)||(t>1?(n=i/d,s=i/t/y):(s=i/y,n=i*t/d)),o(p,p,z(u,n,s,c,f)),g=!0}const x=t.x+(d-n)/2,m=t.y+(y-n)/2;if(o(p,p,N(u,c-x,f-m)),!g&&(d>e||y>r)){const t=d/e>y/r,i=(t?e:r)/(t?d:y);o(p,p,z(u,i,i,x,m))}return a&&o(p,p,$(u,a,x,m)),h&&o(p,p,N(u,h[0],h[1])),`matrix(${p[0]},${p[1]},${p[2]},${p[3]},${p[4]},${p[5]})`}function C(t,e,i,o){const r=[],n=[];for(const s of t){const t=[],a=[];let h=0,c=0,f=0;for(const e of s){const{shape:i,fill:o,stroke:n,font:s,offset:l}=e;h+=n&&n.width||0;const d=v(o),y=A(n),u=\"text\"===i.type?M(i,s):null;r.push(I(d)),t.push(b(i,d.fill,y,u)),a.push(T(i)),l&&(c+=l[0],f+=l[1])}const d=L(U(a),e,i,h,null==o?void 0:o.scale,null==o?void 0:o.rotation,null==o?void 0:o.useRotationSize,[c,f]);n.push(l(\"g\",{transform:d},t))}return null!=o&&o.useRotationSize&&null!=o&&o.rotation&&(e=k(null==o?void 0:o.rotation,e),i=k(null==o?void 0:o.rotation,i)),l(\"svg\",{xmlns:h,width:e,height:i},l(\"defs\",null,r),n)}export{U as computeBBox,v as generateFillAttributes,A as generateStrokeAttributes,M as generateTextAttributes,T as getBoundingBox,L as getTransformMatrix,I as renderDef,C as renderSVG,b as renderShape};\n"]},"metadata":{},"sourceType":"module"}