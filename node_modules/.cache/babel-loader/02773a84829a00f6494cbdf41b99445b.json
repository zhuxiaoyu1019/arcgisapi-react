{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { ReloadableShaderModule as r } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as e } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as t, parameter as i } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as n } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as s } from \"../lib/Program.js\";\nimport { C as a } from \"../../../../chunks/Compositing.glsl.js\";\nimport { makePipelineState as c, simpleBlendingParams as l, defaultColorWriteParams as u, separateBlendingParams as h } from \"../../../webgl/renderState.js\";\n\nclass p extends e {\n  initializeProgram(o) {\n    const r = p.shader.get().build(this.configuration);\n    return new s(o.rctx, r, n);\n  }\n\n  initializePipeline() {\n    if (1 === this.configuration.function) return c({\n      colorWrite: {\n        r: !1,\n        g: !0,\n        b: !1,\n        a: !1\n      }\n    });\n\n    switch (this.configuration.alphaMode) {\n      case 0:\n        return c({\n          colorWrite: u\n        });\n\n      case 1:\n        return c({\n          blending: h(770, 1, 771, 771),\n          colorWrite: u\n        });\n\n      default:\n        return c({\n          blending: l(1, 771),\n          colorWrite: u\n        });\n    }\n  }\n\n}\n\np.shader = new r(a, () => import(\"./Compositing.glsl.js\"));\n\nclass d extends t {\n  constructor() {\n    super(...arguments), this.function = 0, this.alphaMode = 0, this.hasOpacityFactor = !1;\n  }\n\n}\n\no([i({\n  count: 4\n})], d.prototype, \"function\", void 0), o([i({\n  count: 3\n})], d.prototype, \"alphaMode\", void 0), o([i()], d.prototype, \"hasOpacityFactor\", void 0);\nexport { p as CompositingTechnique, d as CompositingTechniqueConfiguration };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechnique.js"],"names":["_","o","ReloadableShaderModule","r","ShaderTechnique","e","ShaderTechniqueConfiguration","t","parameter","i","Default3D","n","Program","s","C","a","makePipelineState","c","simpleBlendingParams","l","defaultColorWriteParams","u","separateBlendingParams","h","p","initializeProgram","shader","get","build","configuration","rctx","initializePipeline","function","colorWrite","g","b","alphaMode","blending","d","constructor","arguments","hasOpacityFactor","count","prototype","CompositingTechnique","CompositingTechniqueConfiguration"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as t,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{C as a}from\"../../../../chunks/Compositing.glsl.js\";import{makePipelineState as c,simpleBlendingParams as l,defaultColorWriteParams as u,separateBlendingParams as h}from\"../../../webgl/renderState.js\";class p extends e{initializeProgram(o){const r=p.shader.get().build(this.configuration);return new s(o.rctx,r,n)}initializePipeline(){if(1===this.configuration.function)return c({colorWrite:{r:!1,g:!0,b:!1,a:!1}});switch(this.configuration.alphaMode){case 0:return c({colorWrite:u});case 1:return c({blending:h(770,1,771,771),colorWrite:u});default:return c({blending:l(1,771),colorWrite:u})}}}p.shader=new r(a,(()=>import(\"./Compositing.glsl.js\")));class d extends t{constructor(){super(...arguments),this.function=0,this.alphaMode=0,this.hasOpacityFactor=!1}}o([i({count:4})],d.prototype,\"function\",void 0),o([i({count:3})],d.prototype,\"alphaMode\",void 0),o([i()],d.prototype,\"hasOpacityFactor\",void 0);export{p as CompositingTechnique,d as CompositingTechniqueConfiguration};\n"]},"metadata":{},"sourceType":"module"}