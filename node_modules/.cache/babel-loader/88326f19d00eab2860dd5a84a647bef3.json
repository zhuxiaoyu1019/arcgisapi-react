{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport o from \"../Graphic.js\";\nimport r from \"../core/Collection.js\";\nimport { castForReferenceSetter as t, referenceSetter as s } from \"../core/collectionUtils.js\";\nimport \"../core/has.js\";\nimport n from \"../core/Logger.js\";\nimport { property as i } from \"../core/accessorSupport/decorators/property.js\";\nimport { ensureType as c } from \"../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../core/accessorSupport/decorators/subclass.js\";\nconst p = r.ofType(o);\nn.getLogger(\"esri.support.GraphicsCollection\");\nlet a = class extends p {\n  constructor(e) {\n    super(e), this.on(\"before-add\", e => {\n      e.item || e.preventDefault();\n    }), this.on(\"after-add\", e => this._own(e.item)), this.on(\"after-remove\", ({\n      item: e\n    }) => {\n      e.layer = null;\n    });\n  }\n\n  destroy() {\n    this._unownAll();\n  }\n\n  get owner() {\n    return this._get(\"owner\");\n  }\n\n  set owner(e) {\n    e !== this._get(\"owner\") && (this._unownAll(), this._set(\"owner\", e), this._ownAll());\n  }\n\n  _createNewInstance(e) {\n    return new p(e);\n  }\n\n  _ownAll() {\n    this.items.forEach(e => this._own(e));\n  }\n\n  _own(e) {\n    e.layer && \"remove\" in e.layer && e.layer !== this.owner && e.layer.remove(e), e.layer = this.owner;\n  }\n\n  _unownAll() {\n    this.items.forEach(e => this._unown(e));\n  }\n\n  _unown(e) {\n    e.layer === this.owner && (e.layer = null);\n  }\n\n};\n\nfunction h(e) {\n  const o = c(a, e);\n  return o && (o.owner = this), o;\n}\n\ne([i()], a.prototype, \"owner\", null), a = e([l(\"esri.support.GraphicsCollection\")], a);\n\nconst m = (e = \"graphics\") => ({\n  type: a,\n  cast: t,\n\n  set(o) {\n    const r = s(o, this._get(e), a);\n    r.owner = this, this._set(e, r);\n  }\n\n});\n\nvar u = a;\nexport default u;\nexport { a as GraphicsCollection, h as castGraphicsCollection, m as graphicsCollectionProperty };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/support/GraphicsCollection.js"],"names":["_","e","o","r","castForReferenceSetter","t","referenceSetter","s","n","property","i","ensureType","c","subclass","l","p","ofType","getLogger","a","constructor","on","item","preventDefault","_own","layer","destroy","_unownAll","owner","_get","_set","_ownAll","_createNewInstance","items","forEach","remove","_unown","h","prototype","m","type","cast","set","u","GraphicsCollection","castGraphicsCollection","graphicsCollectionProperty"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import o from\"../Graphic.js\";import r from\"../core/Collection.js\";import{castForReferenceSetter as t,referenceSetter as s}from\"../core/collectionUtils.js\";import\"../core/has.js\";import n from\"../core/Logger.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{ensureType as c}from\"../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";const p=r.ofType(o);n.getLogger(\"esri.support.GraphicsCollection\");let a=class extends p{constructor(e){super(e),this.on(\"before-add\",(e=>{e.item||e.preventDefault()})),this.on(\"after-add\",(e=>this._own(e.item))),this.on(\"after-remove\",(({item:e})=>{e.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get(\"owner\")}set owner(e){e!==this._get(\"owner\")&&(this._unownAll(),this._set(\"owner\",e),this._ownAll())}_createNewInstance(e){return new p(e)}_ownAll(){this.items.forEach((e=>this._own(e)))}_own(e){e.layer&&\"remove\"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_unownAll(){this.items.forEach((e=>this._unown(e)))}_unown(e){e.layer===this.owner&&(e.layer=null)}};function h(e){const o=c(a,e);return o&&(o.owner=this),o}e([i()],a.prototype,\"owner\",null),a=e([l(\"esri.support.GraphicsCollection\")],a);const m=(e=\"graphics\")=>({type:a,cast:t,set(o){const r=s(o,this._get(e),a);r.owner=this,this._set(e,r)}});var u=a;export default u;export{a as GraphicsCollection,h as castGraphicsCollection,m as graphicsCollectionProperty};\n"]},"metadata":{},"sourceType":"module"}