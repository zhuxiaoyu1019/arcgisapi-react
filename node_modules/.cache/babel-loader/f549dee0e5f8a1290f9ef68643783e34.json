{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport \"../../../../geometry.js\";\nimport e from \"../../../../Viewpoint.js\";\nimport t from \"../../ViewState.js\";\nimport i from \"../../../../geometry/Point.js\";\nconst r = .125;\n\nclass s {\n  constructor() {\n    this._renderParams = {\n      context: null,\n      drawPhase: 1,\n      state: new t({\n        viewpoint: new e({\n          targetGeometry: new i(0, 0),\n          scale: 1,\n          rotation: 0\n        }),\n        size: [256, 256]\n      }),\n      stationary: !0,\n      pixelRatio: 1,\n      displayLevel: -1,\n      requiredLevel: -1,\n      globalOpacity: 1,\n      renderPass: \"background\",\n      styleLayer: null,\n      styleLayerUID: -1,\n      painter: null,\n      glyphMosaic: null,\n      spriteMosaic: null,\n      driverTestResult: null,\n      profiler: null,\n      renderingOptions: null,\n      deltaTime: -1,\n      timeline: null,\n      time: 0,\n      hasClipping: !1,\n      blendMode: null,\n      dataUploadCounter: 0,\n      effects: null,\n      inFadeTransition: !1,\n      requireFBO: !1\n    };\n  }\n\n  dispose() {\n    this._renderParams = null;\n  }\n\n  render(e, t, i, s, l, a, n, o, p, d) {\n    const u = a.adjustLevel(t[0]),\n          c = this._renderParams;\n    c.context = e, c.painter = s, c.glyphMosaic = s.glyphMosaic, c.spriteMosaic = s.spriteMosaic, c.pixelRatio = d, c.displayLevel = u, c.requiredLevel = u;\n    const m = a.getScale(t[0]),\n          [g, y] = a.getShift(t, n * m),\n          h = r * n * m / p,\n          f = i.transforms.dvs;\n    f[0] = h, f[4] = -h, f[6] = -1 - g - o[0] * n * 2, f[7] = 1 + y + (1 - o[1]) * n * 2 - 2, c.state.size[0] = p, c.state.size[1] = p, i.stage || i.attachWithContext(e), i.triangleCount = 0, s.drawTile(c, i, l);\n  }\n\n}\n\nexport { s as VectorTileRendererHelper3D };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileRendererHelper3D.js"],"names":["e","t","i","r","s","constructor","_renderParams","context","drawPhase","state","viewpoint","targetGeometry","scale","rotation","size","stationary","pixelRatio","displayLevel","requiredLevel","globalOpacity","renderPass","styleLayer","styleLayerUID","painter","glyphMosaic","spriteMosaic","driverTestResult","profiler","renderingOptions","deltaTime","timeline","time","hasClipping","blendMode","dataUploadCounter","effects","inFadeTransition","requireFBO","dispose","render","l","a","n","o","p","d","u","adjustLevel","c","m","getScale","g","y","getShift","h","f","transforms","dvs","stage","attachWithContext","triangleCount","drawTile","VectorTileRendererHelper3D"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAM,yBAAN;AAAgC,OAAOA,CAAP,MAAa,0BAAb;AAAwC,OAAOC,CAAP,MAAa,oBAAb;AAAkC,OAAOC,CAAP,MAAa,+BAAb;AAA6C,MAAMC,CAAC,GAAC,IAAR;;AAAa,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,GAAE;AAAC,SAAKC,aAAL,GAAmB;AAACC,MAAAA,OAAO,EAAC,IAAT;AAAcC,MAAAA,SAAS,EAAC,CAAxB;AAA0BC,MAAAA,KAAK,EAAC,IAAIR,CAAJ,CAAM;AAACS,QAAAA,SAAS,EAAC,IAAIV,CAAJ,CAAM;AAACW,UAAAA,cAAc,EAAC,IAAIT,CAAJ,CAAM,CAAN,EAAQ,CAAR,CAAhB;AAA2BU,UAAAA,KAAK,EAAC,CAAjC;AAAmCC,UAAAA,QAAQ,EAAC;AAA5C,SAAN,CAAX;AAAiEC,QAAAA,IAAI,EAAC,CAAC,GAAD,EAAK,GAAL;AAAtE,OAAN,CAAhC;AAAwHC,MAAAA,UAAU,EAAC,CAAC,CAApI;AAAsIC,MAAAA,UAAU,EAAC,CAAjJ;AAAmJC,MAAAA,YAAY,EAAC,CAAC,CAAjK;AAAmKC,MAAAA,aAAa,EAAC,CAAC,CAAlL;AAAoLC,MAAAA,aAAa,EAAC,CAAlM;AAAoMC,MAAAA,UAAU,EAAC,YAA/M;AAA4NC,MAAAA,UAAU,EAAC,IAAvO;AAA4OC,MAAAA,aAAa,EAAC,CAAC,CAA3P;AAA6PC,MAAAA,OAAO,EAAC,IAArQ;AAA0QC,MAAAA,WAAW,EAAC,IAAtR;AAA2RC,MAAAA,YAAY,EAAC,IAAxS;AAA6SC,MAAAA,gBAAgB,EAAC,IAA9T;AAAmUC,MAAAA,QAAQ,EAAC,IAA5U;AAAiVC,MAAAA,gBAAgB,EAAC,IAAlW;AAAuWC,MAAAA,SAAS,EAAC,CAAC,CAAlX;AAAoXC,MAAAA,QAAQ,EAAC,IAA7X;AAAkYC,MAAAA,IAAI,EAAC,CAAvY;AAAyYC,MAAAA,WAAW,EAAC,CAAC,CAAtZ;AAAwZC,MAAAA,SAAS,EAAC,IAAla;AAAuaC,MAAAA,iBAAiB,EAAC,CAAzb;AAA2bC,MAAAA,OAAO,EAAC,IAAnc;AAAwcC,MAAAA,gBAAgB,EAAC,CAAC,CAA1d;AAA4dC,MAAAA,UAAU,EAAC,CAAC;AAAxe,KAAnB;AAA8f;;AAAAC,EAAAA,OAAO,GAAE;AAAC,SAAKhC,aAAL,GAAmB,IAAnB;AAAwB;;AAAAiC,EAAAA,MAAM,CAACvC,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAOE,CAAP,EAASoC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,UAAMC,CAAC,GAACL,CAAC,CAACM,WAAF,CAAc9C,CAAC,CAAC,CAAD,CAAf,CAAR;AAAA,UAA4B+C,CAAC,GAAC,KAAK1C,aAAnC;AAAiD0C,IAAAA,CAAC,CAACzC,OAAF,GAAUP,CAAV,EAAYgD,CAAC,CAACzB,OAAF,GAAUnB,CAAtB,EAAwB4C,CAAC,CAACxB,WAAF,GAAcpB,CAAC,CAACoB,WAAxC,EAAoDwB,CAAC,CAACvB,YAAF,GAAerB,CAAC,CAACqB,YAArE,EAAkFuB,CAAC,CAAChC,UAAF,GAAa6B,CAA/F,EAAiGG,CAAC,CAAC/B,YAAF,GAAe6B,CAAhH,EAAkHE,CAAC,CAAC9B,aAAF,GAAgB4B,CAAlI;AAAoI,UAAMG,CAAC,GAACR,CAAC,CAACS,QAAF,CAAWjD,CAAC,CAAC,CAAD,CAAZ,CAAR;AAAA,UAAyB,CAACkD,CAAD,EAAGC,CAAH,IAAMX,CAAC,CAACY,QAAF,CAAWpD,CAAX,EAAayC,CAAC,GAACO,CAAf,CAA/B;AAAA,UAAiDK,CAAC,GAACnD,CAAC,GAACuC,CAAF,GAAIO,CAAJ,GAAML,CAAzD;AAAA,UAA2DW,CAAC,GAACrD,CAAC,CAACsD,UAAF,CAAaC,GAA1E;AAA8EF,IAAAA,CAAC,CAAC,CAAD,CAAD,GAAKD,CAAL,EAAOC,CAAC,CAAC,CAAD,CAAD,GAAK,CAACD,CAAb,EAAeC,CAAC,CAAC,CAAD,CAAD,GAAK,CAAC,CAAD,GAAGJ,CAAH,GAAKR,CAAC,CAAC,CAAD,CAAD,GAAKD,CAAL,GAAO,CAAhC,EAAkCa,CAAC,CAAC,CAAD,CAAD,GAAK,IAAEH,CAAF,GAAI,CAAC,IAAET,CAAC,CAAC,CAAD,CAAJ,IAASD,CAAT,GAAW,CAAf,GAAiB,CAAxD,EAA0DM,CAAC,CAACvC,KAAF,CAAQK,IAAR,CAAa,CAAb,IAAgB8B,CAA1E,EAA4EI,CAAC,CAACvC,KAAF,CAAQK,IAAR,CAAa,CAAb,IAAgB8B,CAA5F,EAA8F1C,CAAC,CAACwD,KAAF,IAASxD,CAAC,CAACyD,iBAAF,CAAoB3D,CAApB,CAAvG,EAA8HE,CAAC,CAAC0D,aAAF,GAAgB,CAA9I,EAAgJxD,CAAC,CAACyD,QAAF,CAAWb,CAAX,EAAa9C,CAAb,EAAesC,CAAf,CAAhJ;AAAkK;;AAAh/B;;AAAi/B,SAAOpC,CAAC,IAAI0D,0BAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../Viewpoint.js\";import t from\"../../ViewState.js\";import i from\"../../../../geometry/Point.js\";const r=.125;class s{constructor(){this._renderParams={context:null,drawPhase:1,state:new t({viewpoint:new e({targetGeometry:new i(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:\"background\",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,driverTestResult:null,profiler:null,renderingOptions:null,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1}}dispose(){this._renderParams=null}render(e,t,i,s,l,a,n,o,p,d){const u=a.adjustLevel(t[0]),c=this._renderParams;c.context=e,c.painter=s,c.glyphMosaic=s.glyphMosaic,c.spriteMosaic=s.spriteMosaic,c.pixelRatio=d,c.displayLevel=u,c.requiredLevel=u;const m=a.getScale(t[0]),[g,y]=a.getShift(t,n*m),h=r*n*m/p,f=i.transforms.dvs;f[0]=h,f[4]=-h,f[6]=-1-g-o[0]*n*2,f[7]=1+y+(1-o[1])*n*2-2,c.state.size[0]=p,c.state.size[1]=p,i.stage||i.attachWithContext(e),i.triangleCount=0,s.drawTile(c,i,l)}}export{s as VectorTileRendererHelper3D};\n"]},"metadata":{},"sourceType":"module"}