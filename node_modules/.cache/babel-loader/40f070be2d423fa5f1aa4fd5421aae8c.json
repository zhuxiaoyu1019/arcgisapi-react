{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { a as r } from \"../../../chunks/vec2f64.js\";\nimport { d as n, f as t, b as i, a as e, i as c, g as u, n as o } from \"../../../chunks/vec3.js\";\nimport { c as f } from \"../../../chunks/vec3f64.js\";\nimport { signedDistance as s, normal as l } from \"../../../geometry/support/plane.js\";\n\nfunction p(r, n, t) {\n  return r[0] * n[0] + r[1] * n[1] + r[2] * n[2] + r[3] < t;\n}\n\nfunction a(r, n, t) {\n  const i = n[0],\n        e = n[1],\n        c = n[2];\n  return !(r[0][0] * i + r[0][1] * e + r[0][2] * c + r[0][3] > t) && !(r[1][0] * i + r[1][1] * e + r[1][2] * c + r[1][3] > t) && !(r[2][0] * i + r[2][1] * e + r[2][2] * c + r[2][3] > t) && !(r[3][0] * i + r[3][1] * e + r[3][2] * c + r[3][3] > t) && !(r[4][0] * i + r[4][1] * e + r[4][2] * c + r[4][3] > t) && !(r[5][0] * i + r[5][1] * e + r[5][2] * c + r[5][3] > t);\n}\n\nfunction d(r, n, t, i) {\n  return b(r, n, null, k(i, n, t, !1));\n}\n\nfunction m(r, n) {\n  for (let t = 0; t < 6; t++) {\n    if (s(r[t], n) > 0) return !1;\n  }\n\n  return !0;\n}\n\nfunction h(r, n, t, i) {\n  return b(r, n, t, k(i, n, t, !0));\n}\n\nfunction j(r, c, u, o) {\n  const f = n(u, t(r, o, c));\n  return i(r, c, e(r, u, f));\n}\n\nconst g = {\n  dir: f(),\n  len: 0,\n  clip: r()\n};\n\nfunction k(r, n, i, f) {\n  const s = g;\n  return r ? (i && f && (s.len = c(n, i)), u(s.dir, r)) : f ? (s.len = c(n, i), t(s.dir, i, n), e(s.dir, s.dir, 1 / s.len)) : (t(s.dir, i, n), o(s.dir, s.dir)), s;\n}\n\nfunction v(r, t, i) {\n  const e = n(l(r), i.dir),\n        c = -s(r, t);\n  if (c < 0 && e >= 0) return !1;\n  if (e > -1e-6 && e < 1e-6) return c > 0;\n  if ((c < 0 || e < 0) && !(c < 0 && e < 0)) return !0;\n  const u = c / e;\n  return e > 0 ? u < i.clip[1] && (i.clip[1] = u) : u > i.clip[0] && (i.clip[0] = u), i.clip[0] <= i.clip[1];\n}\n\nfunction b(r, n, t, i) {\n  i.clip[0] = 0, i.clip[1] = t ? i.len : Number.MAX_VALUE;\n\n  for (let e = 0; e < r.length; e++) if (!v(r[e], n, i)) return !1;\n\n  return !0;\n}\n\nexport { j as closestPointOnRay, h as frustumLineSegment, m as frustumPoint, d as frustumRay, a as frustumSphere, p as planeSphere };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/support/intersectionUtils.js"],"names":["a","r","d","n","f","t","b","i","e","c","g","u","o","signedDistance","s","normal","l","p","k","m","h","j","dir","len","clip","v","Number","MAX_VALUE","length","closestPointOnRay","frustumLineSegment","frustumPoint","frustumRay","frustumSphere","planeSphere"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as r}from\"../../../chunks/vec2f64.js\";import{d as n,f as t,b as i,a as e,i as c,g as u,n as o}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";import{signedDistance as s,normal as l}from\"../../../geometry/support/plane.js\";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],e=n[1],c=n[2];return!(r[0][0]*i+r[0][1]*e+r[0][2]*c+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*e+r[1][2]*c+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*e+r[2][2]*c+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*e+r[3][2]*c+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*e+r[4][2]*c+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*e+r[5][2]*c+r[5][3]>t)))))}function d(r,n,t,i){return b(r,n,null,k(i,n,t,!1))}function m(r,n){for(let t=0;t<6;t++){if(s(r[t],n)>0)return!1}return!0}function h(r,n,t,i){return b(r,n,t,k(i,n,t,!0))}function j(r,c,u,o){const f=n(u,t(r,o,c));return i(r,c,e(r,u,f))}const g={dir:f(),len:0,clip:r()};function k(r,n,i,f){const s=g;return r?(i&&f&&(s.len=c(n,i)),u(s.dir,r)):f?(s.len=c(n,i),t(s.dir,i,n),e(s.dir,s.dir,1/s.len)):(t(s.dir,i,n),o(s.dir,s.dir)),s}function v(r,t,i){const e=n(l(r),i.dir),c=-s(r,t);if(c<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return c>0;if((c<0||e<0)&&!(c<0&&e<0))return!0;const u=c/e;return e>0?u<i.clip[1]&&(i.clip[1]=u):u>i.clip[0]&&(i.clip[0]=u),i.clip[0]<=i.clip[1]}function b(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let e=0;e<r.length;e++)if(!v(r[e],n,i))return!1;return!0}export{j as closestPointOnRay,h as frustumLineSegment,m as frustumPoint,d as frustumRay,a as frustumSphere,p as planeSphere};\n"]},"metadata":{},"sourceType":"module"}