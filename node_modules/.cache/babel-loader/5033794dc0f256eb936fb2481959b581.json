{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"./TileInfo.js\";\nconst r = {\n  type: e,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: [\"tileInfo\", \"minScale\", \"maxScale\", \"minLOD\", \"maxLOD\"],\n          reader: n\n        }\n      }\n    }\n  }\n};\n\nfunction n(r, n, l, o) {\n  if (!r) return null;\n  const {\n    minScale: i,\n    maxScale: t,\n    minLOD: m,\n    maxLOD: s\n  } = n;\n  if (null != m && null != s) return o && o.ignoreMinMaxLOD ? e.fromJSON(r) : e.fromJSON({ ...r,\n    lods: r.lods.filter(({\n      level: e\n    }) => null != e && e >= m && e <= s)\n  });\n\n  if (0 !== i && 0 !== t) {\n    const n = e => Math.round(1e4 * e) / 1e4,\n          l = i ? n(i) : 1 / 0,\n          o = t ? n(t) : -1 / 0;\n\n    return e.fromJSON({ ...r,\n      lods: r.lods.filter(e => {\n        const r = n(e.scale);\n        return r <= l && r >= o;\n      })\n    });\n  }\n\n  return e.fromJSON(r);\n}\n\nexport { n as readServiceTileInfo, r as serviceTileInfoProperty };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js"],"names":["e","r","type","json","origins","service","read","source","reader","n","l","o","minScale","i","maxScale","t","minLOD","m","maxLOD","s","ignoreMinMaxLOD","fromJSON","lods","filter","level","Math","round","scale","readServiceTileInfo","serviceTileInfoProperty"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,eAAb;AAA6B,MAAMC,CAAC,GAAC;AAACC,EAAAA,IAAI,EAACF,CAAN;AAAQG,EAAAA,IAAI,EAAC;AAACC,IAAAA,OAAO,EAAC;AAACC,MAAAA,OAAO,EAAC;AAACC,QAAAA,IAAI,EAAC;AAACC,UAAAA,MAAM,EAAC,CAAC,UAAD,EAAY,UAAZ,EAAuB,UAAvB,EAAkC,QAAlC,EAA2C,QAA3C,CAAR;AAA6DC,UAAAA,MAAM,EAACC;AAApE;AAAN;AAAT;AAAT;AAAb,CAAR;;AAAwH,SAASA,CAAT,CAAWR,CAAX,EAAaQ,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmB;AAAC,MAAG,CAACV,CAAJ,EAAM,OAAO,IAAP;AAAY,QAAK;AAACW,IAAAA,QAAQ,EAACC,CAAV;AAAYC,IAAAA,QAAQ,EAACC,CAArB;AAAuBC,IAAAA,MAAM,EAACC,CAA9B;AAAgCC,IAAAA,MAAM,EAACC;AAAvC,MAA0CV,CAA/C;AAAiD,MAAG,QAAMQ,CAAN,IAAS,QAAME,CAAlB,EAAoB,OAAOR,CAAC,IAAEA,CAAC,CAACS,eAAL,GAAqBpB,CAAC,CAACqB,QAAF,CAAWpB,CAAX,CAArB,GAAmCD,CAAC,CAACqB,QAAF,CAAW,EAAC,GAAGpB,CAAJ;AAAMqB,IAAAA,IAAI,EAACrB,CAAC,CAACqB,IAAF,CAAOC,MAAP,CAAe,CAAC;AAACC,MAAAA,KAAK,EAACxB;AAAP,KAAD,KAAa,QAAMA,CAAN,IAASA,CAAC,IAAEiB,CAAZ,IAAejB,CAAC,IAAEmB,CAA9C;AAAX,GAAX,CAA1C;;AAAoH,MAAG,MAAIN,CAAJ,IAAO,MAAIE,CAAd,EAAgB;AAAC,UAAMN,CAAC,GAACT,CAAC,IAAEyB,IAAI,CAACC,KAAL,CAAW,MAAI1B,CAAf,IAAkB,GAA7B;AAAA,UAAiCU,CAAC,GAACG,CAAC,GAACJ,CAAC,CAACI,CAAD,CAAF,GAAM,IAAE,CAA5C;AAAA,UAA8CF,CAAC,GAACI,CAAC,GAACN,CAAC,CAACM,CAAD,CAAF,GAAM,CAAC,CAAD,GAAG,CAA1D;;AAA4D,WAAOf,CAAC,CAACqB,QAAF,CAAW,EAAC,GAAGpB,CAAJ;AAAMqB,MAAAA,IAAI,EAACrB,CAAC,CAACqB,IAAF,CAAOC,MAAP,CAAevB,CAAC,IAAE;AAAC,cAAMC,CAAC,GAACQ,CAAC,CAACT,CAAC,CAAC2B,KAAH,CAAT;AAAmB,eAAO1B,CAAC,IAAES,CAAH,IAAMT,CAAC,IAAEU,CAAhB;AAAkB,OAAxD;AAAX,KAAX,CAAP;AAA0F;;AAAA,SAAOX,CAAC,CAACqB,QAAF,CAAWpB,CAAX,CAAP;AAAqB;;AAAA,SAAOQ,CAAC,IAAImB,mBAAZ,EAAgC3B,CAAC,IAAI4B,uBAArC","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n"]},"metadata":{},"sourceType":"module"}