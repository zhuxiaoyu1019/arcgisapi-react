{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { createAbortController as t, isAbortError as o } from \"../../../../core/promiseUtils.js\";\n\nclass l {\n  constructor(t) {\n    this.schedule = t, this._abortController = null, this._loadStatus = 0, this._loadError = null, this._loader = null, this.logger = null;\n  }\n\n  get loadStatus() {\n    return this._loadStatus;\n  }\n\n  load(l, r) {\n    return 1 === this._loadStatus ? (l && l(), this._loader) : 2 === this._loadStatus ? (r && r(this._loadError), this._loader) : (this._loader || (this._abortController = t(), this._loader = this.doLoad(this._abortController.signal).then(() => {\n      this._abortController = null, this._loadStatus = 1;\n    }, t => {\n      throw this._loadError = t, this._abortController = null, this._loadStatus = 2, !o(t) && this.logger && t.message && this.logger.warn(t.message), t;\n    })), this._loader.then(l, r).catch(() => {}), this._loader);\n  }\n\n  abortLoad() {\n    this._abortController ? (this._abortController.abort(), this._abortController = null) : 0 === this._loadStatus && (this._loadStatus = 2), this._loader = null;\n  }\n\n}\n\nexport { l as Loadable };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/graphics/Loadable.js"],"names":["createAbortController","t","isAbortError","o","l","constructor","schedule","_abortController","_loadStatus","_loadError","_loader","logger","loadStatus","load","r","doLoad","signal","then","message","warn","catch","abortLoad","abort","Loadable"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,qBAAqB,IAAIC,CAAhC,EAAkCC,YAAY,IAAIC,CAAlD,QAAwD,kCAAxD;;AAA2F,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACJ,CAAD,EAAG;AAAC,SAAKK,QAAL,GAAcL,CAAd,EAAgB,KAAKM,gBAAL,GAAsB,IAAtC,EAA2C,KAAKC,WAAL,GAAiB,CAA5D,EAA8D,KAAKC,UAAL,GAAgB,IAA9E,EAAmF,KAAKC,OAAL,GAAa,IAAhG,EAAqG,KAAKC,MAAL,GAAY,IAAjH;AAAsH;;AAAc,MAAVC,UAAU,GAAE;AAAC,WAAO,KAAKJ,WAAZ;AAAwB;;AAAAK,EAAAA,IAAI,CAACT,CAAD,EAAGU,CAAH,EAAK;AAAC,WAAO,MAAI,KAAKN,WAAT,IAAsBJ,CAAC,IAAEA,CAAC,EAAJ,EAAO,KAAKM,OAAlC,IAA2C,MAAI,KAAKF,WAAT,IAAsBM,CAAC,IAAEA,CAAC,CAAC,KAAKL,UAAN,CAAJ,EAAsB,KAAKC,OAAjD,KAA2D,KAAKA,OAAL,KAAe,KAAKH,gBAAL,GAAsBN,CAAC,EAAvB,EAA0B,KAAKS,OAAL,GAAa,KAAKK,MAAL,CAAY,KAAKR,gBAAL,CAAsBS,MAAlC,EAA0CC,IAA1C,CAAgD,MAAI;AAAC,WAAKV,gBAAL,GAAsB,IAAtB,EAA2B,KAAKC,WAAL,GAAiB,CAA5C;AAA8C,KAAnG,EAAsGP,CAAC,IAAE;AAAC,YAAM,KAAKQ,UAAL,GAAgBR,CAAhB,EAAkB,KAAKM,gBAAL,GAAsB,IAAxC,EAA6C,KAAKC,WAAL,GAAiB,CAA9D,EAAgE,CAACL,CAAC,CAACF,CAAD,CAAF,IAAO,KAAKU,MAAZ,IAAoBV,CAAC,CAACiB,OAAtB,IAA+B,KAAKP,MAAL,CAAYQ,IAAZ,CAAiBlB,CAAC,CAACiB,OAAnB,CAA/F,EAA2HjB,CAAjI;AAAmI,KAA7O,CAAtD,GAAuS,KAAKS,OAAL,CAAaO,IAAb,CAAkBb,CAAlB,EAAoBU,CAApB,EAAuBM,KAAvB,CAA8B,MAAI,CAAE,CAApC,CAAvS,EAA8U,KAAKV,OAA9Y,CAAlD;AAAyc;;AAAAW,EAAAA,SAAS,GAAE;AAAC,SAAKd,gBAAL,IAAuB,KAAKA,gBAAL,CAAsBe,KAAtB,IAA8B,KAAKf,gBAAL,GAAsB,IAA3E,IAAiF,MAAI,KAAKC,WAAT,KAAuB,KAAKA,WAAL,GAAiB,CAAxC,CAAjF,EAA4H,KAAKE,OAAL,GAAa,IAAzI;AAA8I;;AAA5xB;;AAA6xB,SAAON,CAAC,IAAImB,QAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createAbortController as t,isAbortError as o}from\"../../../../core/promiseUtils.js\";class l{constructor(t){this.schedule=t,this._abortController=null,this._loadStatus=0,this._loadError=null,this._loader=null,this.logger=null}get loadStatus(){return this._loadStatus}load(l,r){return 1===this._loadStatus?(l&&l(),this._loader):2===this._loadStatus?(r&&r(this._loadError),this._loader):(this._loader||(this._abortController=t(),this._loader=this.doLoad(this._abortController.signal).then((()=>{this._abortController=null,this._loadStatus=1}),(t=>{throw this._loadError=t,this._abortController=null,this._loadStatus=2,!o(t)&&this.logger&&t.message&&this.logger.warn(t.message),t}))),this._loader.then(l,r).catch((()=>{})),this._loader)}abortLoad(){this._abortController?(this._abortController.abort(),this._abortController=null):0===this._loadStatus&&(this._loadStatus=2),this._loader=null}}export{l as Loadable};\n"]},"metadata":{},"sourceType":"module"}