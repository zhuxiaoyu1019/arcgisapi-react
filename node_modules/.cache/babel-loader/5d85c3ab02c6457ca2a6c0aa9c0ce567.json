{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../intl.js\";\nimport { deprecated as t } from \"../core/deprecate.js\";\nimport { byId as r } from \"../core/domUtils.js\";\nimport o from \"../core/Evented.js\";\nimport s from \"../core/Handles.js\";\nimport \"../core/has.js\";\nimport { clone as i } from \"../core/lang.js\";\nimport n from \"../core/Logger.js\";\nimport { EsriPromiseMixin as a } from \"../core/Promise.js\";\nimport { debounce as l, throwIfNotAbortError as d, eachAlways as c } from \"../core/promiseUtils.js\";\nimport { generateUUID as p } from \"../core/uuid.js\";\nimport { init as h, whenOnce as m } from \"../core/watchUtils.js\";\nimport { property as u } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as g } from \"../core/accessorSupport/decorators/cast.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { runTracked as v } from \"../core/accessorSupport/tracking.js\";\nimport { SimpleTrackingTarget as _ } from \"../core/accessorSupport/tracking/SimpleTrackingTarget.js\";\nimport { createAdvancedProjector as f } from \"../libs/maquette-advanced-projector/projector.js\";\nimport { commitAssetPath as j } from \"./support/componentsUtils.js\";\nimport { isWidgetConstructor as w, processWidgets as k, WIDGET_SYMBOL as b } from \"./support/jsxWidgetSupport.js\";\nimport { getThemeName as S, classes as C } from \"./support/widgetUtils.js\";\nimport { onLocaleChange as R } from \"../intl/locale.js\";\nimport { fetchMessageBundle as H } from \"../intl/messages.js\";\nconst E = \"esri.widgets.Widget\",\n      L = n.getLogger(E);\nlet N = 0;\nconst P = {\n  widgetIcon: \"esri-icon-checkbox-unchecked\"\n};\n\nfunction I(e, t) {\n  for (const r in t) null != e[r] && (\"object\" == typeof e[r] && \"object\" == typeof t[r] ? I(e[r], t[r]) : e[r] = t[r]);\n\n  return e;\n}\n\nconst T = f({\n  postProcessProjectionOptions(e) {\n    const t = e.eventHandlerInterceptor,\n          r = /capture$/i;\n\n    e.eventHandlerInterceptor = (e, o, s, i) => {\n      const n = t(e, o, s, i),\n            a = r.test(e);\n\n      if (!((e = e.replace(r, \"\")).toLowerCase() in s) || a) {\n        const t = e[2].toLowerCase() + e.slice(3),\n              r = e => n.call(s, e);\n\n        s.addEventListener(t, r, a);\n\n        const o = () => s.removeEventListener(t, r, a),\n              l = i.afterRemoved;\n\n        i.afterRemoved = e => {\n          null == l || l(e), o();\n        };\n      }\n\n      return n;\n    };\n  },\n\n  handleInterceptedEvent(e, t, r, o) {\n    const {\n      eventPhase: s,\n      type: i\n    } = o,\n          n = s === Event.CAPTURING_PHASE;\n    let a = `on${i}${n ? \"capture\" : \"\"}`;\n    const l = t.properties;\n    (a in l || (a = `on${i[0].toUpperCase()}${i.slice(1)}${n ? \"Capture\" : \"\"}`, a in l)) && (e.scheduleRender(), l[a].call(l.bind || r, o));\n  }\n\n});\nlet U = !1,\n    $ = class extends a(o.EventedAccessor) {\n  constructor(e, r) {\n    super(e, r), this._attached = !1, this._internalHandles = new s(), this._projector = T, this.domNode = null, this.iconClass = P.widgetIcon, this.label = this.declaredClass.split(\".\").pop(), this.visible = !0, this.key = this, this._loadLocale = l(async () => {\n      if (this._messageBundleProps && this._messageBundleProps.length) {\n        const e = await c(this._messageBundleProps.map(async ({\n          bundlePath: e,\n          propertyName: t\n        }) => {\n          let r = await H(e);\n          this.localeStrings && Object.keys(this.localeStrings) && (r = I(i(r), this.localeStrings)), this[t] = r;\n        }));\n\n        for (const t of e) t.error && L.error(\"widget-intl:locale-error\", this.declaredClass, t.error);\n      }\n\n      await this.loadLocale();\n    }), j();\n    const o = [\"light\", \"dark\"],\n          n = S() || \"light\";\n    o.includes(n) || t(L, \"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.\", {\n      version: \"4.19\",\n      warnOnce: !0,\n      see: \"https://developers.arcgis.com/javascript/latest/styling/\"\n    });\n    const a = \"esri-widget-uid-\" + p(),\n          d = this.render.bind(this);\n    let h = !1;\n    this._trackingTarget = new _(() => this.scheduleRender());\n\n    const m = () => {\n      var e;\n      if (!h || this.destroyed) return null;\n      if (!this.visible) return {\n        vnodeSelector: \"div\",\n        properties: {\n          key: a,\n          class: \"\",\n          styles: {\n            display: \"none\"\n          }\n        },\n        domNode: void 0,\n        children: void 0,\n        text: void 0\n      };\n      const t = d();\n      let {\n        properties: r\n      } = t;\n      r || (t.properties = r = {});\n      let {\n        key: o,\n        styles: s\n      } = r;\n      o || (r.key = a), s || (r.styles = s = {}), s.display || (s.display = \"\");\n      let i = 0;\n      return null == (e = t.children) || e.forEach(e => {\n        if (w(e.vnodeSelector)) return;\n        let {\n          properties: t\n        } = e;\n        t || (e.properties = t = {}), t.key || (t.key = `${this.id}--${i++}`);\n      }), k(this, t);\n    };\n\n    this.render = () => {\n      if (U) return m();\n      let e;\n      this._trackingTarget.clear(), U = !0;\n\n      try {\n        e = v(this._trackingTarget, m);\n      } finally {\n        U = !1;\n      }\n\n      return e;\n    }, this.addResolvingPromise(this._resourcesFetch = this.beforeFirstRender().then(() => {\n      h = !0, this._postInitialize();\n    }));\n  }\n\n  normalizeCtorArgs(e, t) {\n    const r = { ...e\n    };\n    return t && (r.container = t), r;\n  }\n\n  postInitialize() {}\n\n  beforeFirstRender() {\n    return this._loadLocale().catch(d);\n  }\n\n  async loadLocale() {}\n\n  destroy() {\n    this.destroyed || (this._trackingTarget.destroy(), this._trackingTarget = null, this.viewModel && (this.viewModel.destroy(), this.viewModel = null), this._detach(this.container), this._set(\"container\", null), this._internalHandles.destroy(), this._emitter.clear(), this.render = () => null, this._projector = null);\n  }\n\n  set container(e) {\n    this._get(\"container\") || this._set(\"container\", e);\n  }\n\n  castContainer(e) {\n    return r(e);\n  }\n\n  get id() {\n    return this._get(\"id\") || this.get(\"container.id\") || Date.now().toString(16) + \"-widget-\" + N++;\n  }\n\n  set id(e) {\n    e && this._set(\"id\", e);\n  }\n\n  get renderable() {\n    return this._resourcesFetch;\n  }\n\n  get test() {\n    return {\n      projector: this._projector,\n      handles: this._internalHandles\n    };\n  }\n\n  render() {\n    throw new Error(\"not implemented\");\n  }\n\n  scheduleRender() {\n    this.destroyed || this._projector.scheduleRender();\n  }\n\n  classes(...e) {\n    return C.apply(this, e);\n  }\n\n  own(e) {\n    arguments.length > 1 && (e = Array.prototype.slice.call(arguments)), this._internalHandles.add(e);\n  }\n\n  renderNow() {\n    this._projector.renderNow();\n  }\n\n  _postInitialize() {\n    var e;\n    if (this.destroyed) return;\n    this.scheduleRender(), null != (e = this._delegatedEventNames) && e.length && this._internalHandles.add(h(this, \"viewModel\", (e, t) => {\n      t && this._internalHandles.remove(\"delegated-events\"), e && this._internalHandles.add(this._delegatedEventNames.map(t => e.on(t, e => {\n        this.emit(t, e);\n      })), \"delegated-events\");\n    })), this.postInitialize();\n\n    const t = async () => {\n      await this._loadLocale().catch(d), this.scheduleRender();\n    };\n\n    this._internalHandles.add([R(t), this.watch(\"localeStrings\", t), m(this, \"container\", async e => {\n      this.destroyed || this._attach(e);\n    })]);\n  }\n\n  _attach(e) {\n    e && (this._projector.merge(e, this.render), this._attached = !0);\n  }\n\n  _detach(e) {\n    e && this._attached && (this._projector.detach(this.render), e.parentNode && e.parentNode.removeChild(e), this._attached = !1);\n  }\n\n};\n$[b] = !0, e([u({\n  value: null\n})], $.prototype, \"container\", null), e([g(\"container\")], $.prototype, \"castContainer\", null), e([u({\n  aliasOf: \"container\"\n})], $.prototype, \"domNode\", void 0), e([u()], $.prototype, \"iconClass\", void 0), e([u()], $.prototype, \"id\", null), e([u()], $.prototype, \"label\", void 0), e([u()], $.prototype, \"localeStrings\", void 0), e([u()], $.prototype, \"renderable\", null), e([u()], $.prototype, \"viewModel\", void 0), e([u()], $.prototype, \"visible\", void 0), e([u()], $.prototype, \"key\", void 0), e([u()], $.prototype, \"afterCreate\", void 0), e([u()], $.prototype, \"afterUpdate\", void 0), e([u()], $.prototype, \"afterRemoved\", void 0), $ = e([y(E)], $);\nvar x = $;\nexport default x;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/widgets/Widget.js"],"names":["_","e","deprecated","t","byId","r","o","s","clone","i","n","EsriPromiseMixin","a","debounce","l","throwIfNotAbortError","d","eachAlways","c","generateUUID","p","init","h","whenOnce","m","property","u","cast","g","subclass","y","runTracked","v","SimpleTrackingTarget","createAdvancedProjector","f","commitAssetPath","j","isWidgetConstructor","w","processWidgets","k","WIDGET_SYMBOL","b","getThemeName","S","classes","C","onLocaleChange","R","fetchMessageBundle","H","E","L","getLogger","N","P","widgetIcon","I","T","postProcessProjectionOptions","eventHandlerInterceptor","test","replace","toLowerCase","slice","call","addEventListener","removeEventListener","afterRemoved","handleInterceptedEvent","eventPhase","type","Event","CAPTURING_PHASE","properties","toUpperCase","scheduleRender","bind","U","$","EventedAccessor","constructor","_attached","_internalHandles","_projector","domNode","iconClass","label","declaredClass","split","pop","visible","key","_loadLocale","_messageBundleProps","length","map","bundlePath","propertyName","localeStrings","Object","keys","error","loadLocale","includes","version","warnOnce","see","render","_trackingTarget","destroyed","vnodeSelector","class","styles","display","children","text","forEach","id","clear","addResolvingPromise","_resourcesFetch","beforeFirstRender","then","_postInitialize","normalizeCtorArgs","container","postInitialize","catch","destroy","viewModel","_detach","_set","_emitter","_get","castContainer","get","Date","now","toString","renderable","projector","handles","Error","apply","own","arguments","Array","prototype","add","renderNow","_delegatedEventNames","remove","on","emit","watch","_attach","merge","detach","parentNode","removeChild","value","aliasOf","x"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import{deprecated as t}from\"../core/deprecate.js\";import{byId as r}from\"../core/domUtils.js\";import o from\"../core/Evented.js\";import s from\"../core/Handles.js\";import\"../core/has.js\";import{clone as i}from\"../core/lang.js\";import n from\"../core/Logger.js\";import{EsriPromiseMixin as a}from\"../core/Promise.js\";import{debounce as l,throwIfNotAbortError as d,eachAlways as c}from\"../core/promiseUtils.js\";import{generateUUID as p}from\"../core/uuid.js\";import{init as h,whenOnce as m}from\"../core/watchUtils.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import{cast as g}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{runTracked as v}from\"../core/accessorSupport/tracking.js\";import{SimpleTrackingTarget as _}from\"../core/accessorSupport/tracking/SimpleTrackingTarget.js\";import{createAdvancedProjector as f}from\"../libs/maquette-advanced-projector/projector.js\";import{commitAssetPath as j}from\"./support/componentsUtils.js\";import{isWidgetConstructor as w,processWidgets as k,WIDGET_SYMBOL as b}from\"./support/jsxWidgetSupport.js\";import{getThemeName as S,classes as C}from\"./support/widgetUtils.js\";import{onLocaleChange as R}from\"../intl/locale.js\";import{fetchMessageBundle as H}from\"../intl/messages.js\";const E=\"esri.widgets.Widget\",L=n.getLogger(E);let N=0;const P={widgetIcon:\"esri-icon-checkbox-unchecked\"};function I(e,t){for(const r in t)null!=e[r]&&(\"object\"==typeof e[r]&&\"object\"==typeof t[r]?I(e[r],t[r]):e[r]=t[r]);return e}const T=f({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(e,o,s,i)=>{const n=t(e,o,s,i),a=r.test(e);if(!((e=e.replace(r,\"\")).toLowerCase()in s)||a){const t=e[2].toLowerCase()+e.slice(3),r=e=>n.call(s,e);s.addEventListener(t,r,a);const o=()=>s.removeEventListener(t,r,a),l=i.afterRemoved;i.afterRemoved=e=>{null==l||l(e),o()}}return n}},handleInterceptedEvent(e,t,r,o){const{eventPhase:s,type:i}=o,n=s===Event.CAPTURING_PHASE;let a=`on${i}${n?\"capture\":\"\"}`;const l=t.properties;(a in l||(a=`on${i[0].toUpperCase()}${i.slice(1)}${n?\"Capture\":\"\"}`,a in l))&&(e.scheduleRender(),l[a].call(l.bind||r,o))}});let U=!1,$=class extends(a(o.EventedAccessor)){constructor(e,r){super(e,r),this._attached=!1,this._internalHandles=new s,this._projector=T,this.domNode=null,this.iconClass=P.widgetIcon,this.label=this.declaredClass.split(\".\").pop(),this.visible=!0,this.key=this,this._loadLocale=l((async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const e=await c(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{let r=await H(e);this.localeStrings&&Object.keys(this.localeStrings)&&(r=I(i(r),this.localeStrings)),this[t]=r})));for(const t of e)t.error&&L.error(\"widget-intl:locale-error\",this.declaredClass,t.error)}await this.loadLocale()})),j();const o=[\"light\",\"dark\"],n=S()||\"light\";o.includes(n)||t(L,\"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.\",{version:\"4.19\",warnOnce:!0,see:\"https://developers.arcgis.com/javascript/latest/styling/\"});const a=\"esri-widget-uid-\"+p(),d=this.render.bind(this);let h=!1;this._trackingTarget=new _((()=>this.scheduleRender()));const m=()=>{var e;if(!h||this.destroyed)return null;if(!this.visible)return{vnodeSelector:\"div\",properties:{key:a,class:\"\",styles:{display:\"none\"}},domNode:void 0,children:void 0,text:void 0};const t=d();let{properties:r}=t;r||(t.properties=r={});let{key:o,styles:s}=r;o||(r.key=a),s||(r.styles=s={}),s.display||(s.display=\"\");let i=0;return null==(e=t.children)||e.forEach((e=>{if(w(e.vnodeSelector))return;let{properties:t}=e;t||(e.properties=t={}),t.key||(t.key=`${this.id}--${i++}`)})),k(this,t)};this.render=()=>{if(U)return m();let e;this._trackingTarget.clear(),U=!0;try{e=v(this._trackingTarget,m)}finally{U=!1}return e},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then((()=>{h=!0,this._postInitialize()})))}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return this._loadLocale().catch(d)}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set(\"container\",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null)}set container(e){this._get(\"container\")||this._set(\"container\",e)}castContainer(e){return r(e)}get id(){return this._get(\"id\")||this.get(\"container.id\")||Date.now().toString(16)+\"-widget-\"+N++}set id(e){e&&this._set(\"id\",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error(\"not implemented\")}scheduleRender(){this.destroyed||this._projector.scheduleRender()}classes(...e){return C.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(h(this,\"viewModel\",((e,t)=>{t&&this._internalHandles.remove(\"delegated-events\"),e&&this._internalHandles.add(this._delegatedEventNames.map((t=>e.on(t,(e=>{this.emit(t,e)})))),\"delegated-events\")}))),this.postInitialize();const t=async()=>{await this._loadLocale().catch(d),this.scheduleRender()};this._internalHandles.add([R(t),this.watch(\"localeStrings\",t),m(this,\"container\",(async e=>{this.destroyed||this._attach(e)}))])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};$[b]=!0,e([u({value:null})],$.prototype,\"container\",null),e([g(\"container\")],$.prototype,\"castContainer\",null),e([u({aliasOf:\"container\"})],$.prototype,\"domNode\",void 0),e([u()],$.prototype,\"iconClass\",void 0),e([u()],$.prototype,\"id\",null),e([u()],$.prototype,\"label\",void 0),e([u()],$.prototype,\"localeStrings\",void 0),e([u()],$.prototype,\"renderable\",null),e([u()],$.prototype,\"viewModel\",void 0),e([u()],$.prototype,\"visible\",void 0),e([u()],$.prototype,\"key\",void 0),e([u()],$.prototype,\"afterCreate\",void 0),e([u()],$.prototype,\"afterUpdate\",void 0),e([u()],$.prototype,\"afterRemoved\",void 0),$=e([y(E)],$);var x=$;export default x;\n"]},"metadata":{},"sourceType":"module"}