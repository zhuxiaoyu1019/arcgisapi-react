{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport \"../../../webgl/BufferObject.js\";\nimport \"../../../webgl/FramebufferObject.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../webgl/enums.js\";\nimport \"../../../webgl/RenderingContext.js\";\nimport \"../../../../chunks/builtins.js\";\nimport t from \"../../../webgl/Texture.js\";\nimport \"../../../webgl/VertexArrayObject.js\";\nimport e from \"./RectangleBinPack.js\";\nimport i from \"../webgl/Rect.js\";\n\nclass s {\n  constructor(t, i, s) {\n    this.width = 0, this.height = 0, this._dirties = [], this._glyphData = [], this._currentPage = 0, this._glyphIndex = {}, this._textures = [], this._rangePromises = new Map(), this.width = t, this.height = i, this._glyphSource = s, this._binPack = new e(t - 4, i - 4), this._glyphData.push(new Uint8Array(t * i)), this._dirties.push(!0), this._textures.push(void 0);\n  }\n\n  getGlyphItems(t, s) {\n    const h = [],\n          r = this._glyphSource,\n          n = new Set(),\n          o = 1 / 256;\n\n    for (const e of s) {\n      const t = Math.floor(e * o);\n      n.add(t);\n    }\n\n    const a = [];\n    return n.forEach(e => {\n      if (e <= 256) {\n        const i = t + e;\n        if (this._rangePromises.has(i)) a.push(this._rangePromises.get(i));else {\n          const s = r.getRange(t, e).then(() => {\n            this._rangePromises.delete(i);\n          }, () => {\n            this._rangePromises.delete(i);\n          });\n          this._rangePromises.set(i, s), a.push(s);\n        }\n      }\n    }), Promise.all(a).then(() => {\n      let n = this._glyphIndex[t];\n      n || (n = {}, this._glyphIndex[t] = n);\n\n      for (const o of s) {\n        const s = n[o];\n\n        if (s) {\n          h[o] = {\n            sdf: !0,\n            rect: s.rect,\n            metrics: s.metrics,\n            page: s.page,\n            code: o\n          };\n          continue;\n        }\n\n        const a = r.getGlyph(t, o);\n        if (!a || !a.metrics) continue;\n        const l = a.metrics;\n        let c;\n        if (0 === l.width) c = new i(0, 0, 0, 0);else {\n          const t = 3,\n                i = l.width + 2 * t,\n                s = l.height + 2 * t;\n          let h = i % 4 ? 4 - i % 4 : 4,\n              r = s % 4 ? 4 - s % 4 : 4;\n          1 === h && (h = 5), 1 === r && (r = 5), c = this._binPack.allocate(i + h, s + r), c.isEmpty && (this._dirties[this._currentPage] || (this._glyphData[this._currentPage] = null), this._currentPage = this._glyphData.length, this._glyphData.push(new Uint8Array(this.width * this.height)), this._dirties.push(!0), this._textures.push(void 0), this._binPack = new e(this.width - 4, this.height - 4), c = this._binPack.allocate(i + h, s + r));\n          const n = this._glyphData[this._currentPage],\n                o = a.bitmap;\n          let g, p;\n          if (o) for (let e = 0; e < s; e++) {\n            g = i * e, p = this.width * (c.y + e + 1) + c.x;\n\n            for (let t = 0; t < i; t++) n[p + t + 1] = o[g + t];\n          }\n        }\n        n[o] = {\n          rect: c,\n          metrics: l,\n          tileIDs: null,\n          page: this._currentPage\n        }, h[o] = {\n          sdf: !0,\n          rect: c,\n          metrics: l,\n          page: this._currentPage,\n          code: o\n        }, this._dirties[this._currentPage] = !0;\n      }\n\n      return h;\n    });\n  }\n\n  removeGlyphs(t) {\n    for (const e in this._glyphIndex) {\n      const i = this._glyphIndex[e];\n      if (!i) continue;\n      let s;\n\n      for (const e in i) if (s = i[e], s.tileIDs.delete(t), 0 === s.tileIDs.size) {\n        const t = this._glyphData[s.page],\n              h = s.rect;\n        let r, n;\n\n        for (let e = 0; e < h.height; e++) for (r = this.width * (h.y + e) + h.x, n = 0; n < h.width; n++) t[r + n] = 0;\n\n        delete i[e], this._dirties[s.page] = !0;\n      }\n    }\n  }\n\n  bind(e, i, s, h = 0) {\n    this._textures[s] || (this._textures[s] = new t(e, {\n      pixelFormat: 6406,\n      dataType: 5121,\n      width: this.width,\n      height: this.height\n    }, new Uint8Array(this.width * this.height)));\n    const r = this._textures[s];\n    r.setSamplingMode(i), this._dirties[s] && r.setData(this._glyphData[s]), e.bindTexture(r, h), this._dirties[s] = !1;\n  }\n\n  dispose() {\n    this._binPack = null;\n\n    for (const t of this._textures) t && t.dispose();\n\n    this._textures.length = 0;\n  }\n\n}\n\nexport default s;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js"],"names":["t","e","i","s","constructor","width","height","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","Map","_glyphSource","_binPack","push","Uint8Array","getGlyphItems","h","r","n","Set","o","Math","floor","add","a","forEach","has","get","getRange","then","delete","set","Promise","all","sdf","rect","metrics","page","code","getGlyph","l","c","allocate","isEmpty","length","bitmap","g","p","y","x","tileIDs","removeGlyphs","size","bind","pixelFormat","dataType","setSamplingMode","setData","bindTexture","dispose"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/enums.js\";import\"../../../webgl/RenderingContext.js\";import\"../../../../chunks/builtins.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import e from\"./RectangleBinPack.js\";import i from\"../webgl/Rect.js\";class s{constructor(t,i,s){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=i,this._glyphSource=s,this._binPack=new e(t-4,i-4),this._glyphData.push(new Uint8Array(t*i)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(t,s){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const e of s){const t=Math.floor(e*o);n.add(t)}const a=[];return n.forEach((e=>{if(e<=256){const i=t+e;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=r.getRange(t,e).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),Promise.all(a).then((()=>{let n=this._glyphIndex[t];n||(n={},this._glyphIndex[t]=n);for(const o of s){const s=n[o];if(s){h[o]={sdf:!0,rect:s.rect,metrics:s.metrics,page:s.page,code:o};continue}const a=r.getGlyph(t,o);if(!a||!a.metrics)continue;const l=a.metrics;let c;if(0===l.width)c=new i(0,0,0,0);else{const t=3,i=l.width+2*t,s=l.height+2*t;let h=i%4?4-i%4:4,r=s%4?4-s%4:4;1===h&&(h=5),1===r&&(r=5),c=this._binPack.allocate(i+h,s+r),c.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new e(this.width-4,this.height-4),c=this._binPack.allocate(i+h,s+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,p;if(o)for(let e=0;e<s;e++){g=i*e,p=this.width*(c.y+e+1)+c.x;for(let t=0;t<i;t++)n[p+t+1]=o[g+t]}}n[o]={rect:c,metrics:l,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:c,metrics:l,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(e,i,s,h=0){this._textures[s]||(this._textures[s]=new t(e,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),e.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n"]},"metadata":{},"sourceType":"module"}