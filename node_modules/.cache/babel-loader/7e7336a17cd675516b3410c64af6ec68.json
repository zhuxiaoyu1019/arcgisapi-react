{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { geometryTypes as t } from \"../../../geometry.js\";\nimport r from \"../../../TimeExtent.js\";\nimport { JSONMap as i } from \"../../../core/jsonMap.js\";\nimport { JSONSupport as s } from \"../../../core/JSONSupport.js\";\nimport { clone as o } from \"../../../core/lang.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as p } from \"../../../core/accessorSupport/decorators/writer.js\";\nimport { fromJSON as l } from \"../../../geometry/support/jsonUtils.js\";\nimport c from \"../../../rest/support/Query.js\";\nvar d;\nconst m = new i({\n  esriSpatialRelIntersects: \"intersects\",\n  esriSpatialRelContains: \"contains\",\n  esriSpatialRelCrosses: \"crosses\",\n  esriSpatialRelDisjoint: \"disjoint\",\n  esriSpatialRelEnvelopeIntersects: \"envelope-intersects\",\n  esriSpatialRelIndexIntersects: \"index-intersects\",\n  esriSpatialRelOverlaps: \"overlaps\",\n  esriSpatialRelTouches: \"touches\",\n  esriSpatialRelWithin: \"within\",\n  esriSpatialRelRelation: \"relation\"\n}),\n      u = new i({\n  esriSRUnit_Meter: \"meters\",\n  esriSRUnit_Kilometer: \"kilometers\",\n  esriSRUnit_Foot: \"feet\",\n  esriSRUnit_StatuteMile: \"miles\",\n  esriSRUnit_NauticalMile: \"nautical-miles\",\n  esriSRUnit_USNauticalMile: \"us-nautical-miles\"\n});\nlet h = d = class extends s {\n  constructor(e) {\n    super(e), this.where = null, this.geometry = null, this.spatialRelationship = \"intersects\", this.hiddenIds = new Set(), this.distance = void 0, this.objectIds = null, this.units = null, this.timeExtent = null, this.enabled = !1;\n  }\n\n  writeWhere(e, t) {\n    t.where = e || \"1=1\";\n  }\n\n  enable() {\n    this._set(\"enabled\", !0);\n  }\n\n  createQuery(e = {}) {\n    const {\n      where: t,\n      geometry: r,\n      spatialRelationship: i,\n      timeExtent: s,\n      objectIds: n,\n      units: a,\n      distance: p\n    } = this;\n    return new c({\n      geometry: o(r),\n      objectIds: o(n),\n      spatialRelationship: i,\n      timeExtent: o(s),\n      where: t,\n      units: a,\n      distance: p,\n      ...e\n    });\n  }\n\n  clone() {\n    const {\n      where: e,\n      geometry: t,\n      spatialRelationship: r,\n      hiddenIds: i,\n      timeExtent: s,\n      objectIds: n,\n      units: a,\n      distance: p\n    } = this,\n          l = new Set();\n    return i.forEach(e => l.add(e)), new d({\n      geometry: o(t),\n      hiddenIds: l,\n      objectIds: o(n),\n      spatialRelationship: r,\n      timeExtent: o(s),\n      where: e,\n      units: a,\n      distance: p\n    });\n  }\n\n};\ne([n({\n  type: String\n})], h.prototype, \"where\", void 0), e([p(\"where\")], h.prototype, \"writeWhere\", null), e([n({\n  types: t,\n  json: {\n    read: l,\n    write: !0\n  }\n})], h.prototype, \"geometry\", void 0), e([n({\n  type: String,\n  json: {\n    read: {\n      source: \"spatialRel\",\n      reader: m.read\n    },\n    write: {\n      target: \"spatialRel\",\n      writer: m.write\n    }\n  }\n})], h.prototype, \"spatialRelationship\", void 0), e([n({\n  json: {\n    write: (e, t, r) => t[r] = Array.from(e),\n    read: e => new Set(e)\n  }\n})], h.prototype, \"hiddenIds\", void 0), e([n({\n  type: Number,\n  json: {\n    write: {\n      overridePolicy: e => ({\n        enabled: e > 0\n      })\n    }\n  }\n})], h.prototype, \"distance\", void 0), e([n({\n  type: [Number],\n  json: {\n    write: !0\n  }\n})], h.prototype, \"objectIds\", void 0), e([n({\n  type: String,\n  json: {\n    read: u.read,\n    write: {\n      writer: u.write,\n\n      overridePolicy(e) {\n        return {\n          enabled: e && this.distance > 0\n        };\n      }\n\n    }\n  }\n})], h.prototype, \"units\", void 0), e([n({\n  type: r,\n  json: {\n    write: !0\n  }\n})], h.prototype, \"timeExtent\", void 0), e([n({\n  readOnly: !0\n})], h.prototype, \"enabled\", void 0), h = d = e([a(\"esri.views.layers.support.FeatureFilter\")], h);\nvar y = h;\nexport default y;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/layers/support/FeatureFilter.js"],"names":["_","e","geometryTypes","t","r","JSONMap","i","JSONSupport","s","clone","o","property","n","subclass","a","writer","p","fromJSON","l","c","d","m","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","u","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","h","constructor","where","geometry","spatialRelationship","hiddenIds","Set","distance","objectIds","units","timeExtent","enabled","writeWhere","enable","_set","createQuery","forEach","add","type","String","prototype","types","json","read","write","source","reader","target","Array","from","Number","overridePolicy","readOnly","y"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export default y;\n"]},"metadata":{},"sourceType":"module"}