{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport t from \"../../../../core/Evented.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c } from \"../../../../chunks/vec4f64.js\";\nimport { projectBoundingSphere as a } from \"../../../../geometry/projection.js\";\nimport { toRect as n, create as p } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { intersects as i, create as u } from \"../../../../geometry/support/aaBoundingRect.js\";\nlet m = class extends r {\n  constructor(e) {\n    super(e), this.events = new t();\n  }\n\n  destroy() {}\n\n  forEach(e) {\n    this.forAllFeatures(r => (e(r), 1));\n  }\n\n  forEachBounds(e, r, t) {\n    const o = this.getFeatureExtent;\n\n    for (const s of e) r(o(s, t));\n  }\n\n  forEachInBounds(e, r) {\n    this.forAllFeatures(t => {\n      const o = this.getFeatureExtent(t, l);\n      return i(e, n(o, d)) && r(t), 1;\n    }, r => {\n      if (a(r.node.mbs, this.sourceSpatialReference, f, this.viewSpatialReference), f[0] >= e[0] && f[2] <= e[2] && f[1] >= e[1] && f[3] <= e[3]) return 1;\n      const t = Math.max(e[0], Math.min(f[0], e[2])),\n            o = Math.max(e[1], Math.min(f[1], e[3])),\n            s = f[0] - t,\n            c = f[1] - o;\n      return s * s + c * c <= f[3] * f[3] ? 1 : 2;\n    });\n  }\n\n};\ne([o({\n  constructOnly: !0\n})], m.prototype, \"featureAdapter\", void 0), e([o({\n  constructOnly: !0\n})], m.prototype, \"forAllFeatures\", void 0), e([o({\n  constructOnly: !0\n})], m.prototype, \"getFeatureExtent\", void 0), e([o({\n  constructOnly: !0\n})], m.prototype, \"sourceSpatialReference\", void 0), e([o({\n  constructOnly: !0\n})], m.prototype, \"viewSpatialReference\", void 0), m = e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")], m);\nconst f = c(),\n      l = p(),\n      d = u();\nvar y = m;\nexport default y;\nexport { m as I3SQueryFeatureStore };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js"],"names":["_","e","r","t","property","o","subclass","s","c","projectBoundingSphere","a","toRect","n","create","p","intersects","i","u","m","constructor","events","destroy","forEach","forAllFeatures","forEachBounds","getFeatureExtent","forEachInBounds","l","d","node","mbs","sourceSpatialReference","f","viewSpatialReference","Math","max","min","constructOnly","prototype","y","I3SQueryFeatureStore"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,iCAAlB;AAAoD,OAAOC,CAAP,MAAa,8BAAb;AAA4C,OAAOC,CAAP,MAAa,6BAAb;AAA2C,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,OAAM,yBAAN;AAAgC,OAAM,gDAAN;AAAuD,OAAM,4BAAN;AAAmC,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,SAAOC,CAAP,QAAa,+BAAb;AAA6C,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,oCAAtC;AAA2E,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,+CAAnC;AAAmF,SAAOC,UAAU,IAAIC,CAArB,EAAuBH,MAAM,IAAII,CAAjC,QAAuC,gDAAvC;AAAwF,IAAIC,CAAC,GAAC,cAAchB,CAAd,CAAe;AAACiB,EAAAA,WAAW,CAAClB,CAAD,EAAG;AAAC,UAAMA,CAAN,GAAS,KAAKmB,MAAL,GAAY,IAAIjB,CAAJ,EAArB;AAA2B;;AAAAkB,EAAAA,OAAO,GAAE,CAAE;;AAAAC,EAAAA,OAAO,CAACrB,CAAD,EAAG;AAAC,SAAKsB,cAAL,CAAqBrB,CAAC,KAAGD,CAAC,CAACC,CAAD,CAAD,EAAK,CAAR,CAAtB;AAAmC;;AAAAsB,EAAAA,aAAa,CAACvB,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAO;AAAC,UAAME,CAAC,GAAC,KAAKoB,gBAAb;;AAA8B,SAAI,MAAMlB,CAAV,IAAeN,CAAf,EAAiBC,CAAC,CAACG,CAAC,CAACE,CAAD,EAAGJ,CAAH,CAAF,CAAD;AAAU;;AAAAuB,EAAAA,eAAe,CAACzB,CAAD,EAAGC,CAAH,EAAK;AAAC,SAAKqB,cAAL,CAAqBpB,CAAC,IAAE;AAAC,YAAME,CAAC,GAAC,KAAKoB,gBAAL,CAAsBtB,CAAtB,EAAwBwB,CAAxB,CAAR;AAAmC,aAAOX,CAAC,CAACf,CAAD,EAAGW,CAAC,CAACP,CAAD,EAAGuB,CAAH,CAAJ,CAAD,IAAa1B,CAAC,CAACC,CAAD,CAAd,EAAkB,CAAzB;AAA2B,KAAvF,EAA0FD,CAAC,IAAE;AAAC,UAAGQ,CAAC,CAACR,CAAC,CAAC2B,IAAF,CAAOC,GAAR,EAAY,KAAKC,sBAAjB,EAAwCC,CAAxC,EAA0C,KAAKC,oBAA/C,CAAD,EAAsED,CAAC,CAAC,CAAD,CAAD,IAAM/B,CAAC,CAAC,CAAD,CAAP,IAAY+B,CAAC,CAAC,CAAD,CAAD,IAAM/B,CAAC,CAAC,CAAD,CAAnB,IAAwB+B,CAAC,CAAC,CAAD,CAAD,IAAM/B,CAAC,CAAC,CAAD,CAA/B,IAAoC+B,CAAC,CAAC,CAAD,CAAD,IAAM/B,CAAC,CAAC,CAAD,CAApH,EAAwH,OAAO,CAAP;AAAS,YAAME,CAAC,GAAC+B,IAAI,CAACC,GAAL,CAASlC,CAAC,CAAC,CAAD,CAAV,EAAciC,IAAI,CAACE,GAAL,CAASJ,CAAC,CAAC,CAAD,CAAV,EAAc/B,CAAC,CAAC,CAAD,CAAf,CAAd,CAAR;AAAA,YAA2CI,CAAC,GAAC6B,IAAI,CAACC,GAAL,CAASlC,CAAC,CAAC,CAAD,CAAV,EAAciC,IAAI,CAACE,GAAL,CAASJ,CAAC,CAAC,CAAD,CAAV,EAAc/B,CAAC,CAAC,CAAD,CAAf,CAAd,CAA7C;AAAA,YAAgFM,CAAC,GAACyB,CAAC,CAAC,CAAD,CAAD,GAAK7B,CAAvF;AAAA,YAAyFK,CAAC,GAACwB,CAAC,CAAC,CAAD,CAAD,GAAK3B,CAAhG;AAAkG,aAAOE,CAAC,GAACA,CAAF,GAAIC,CAAC,GAACA,CAAN,IAASwB,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAf,GAAmB,CAAnB,GAAqB,CAA5B;AAA8B,KAA/V;AAAkW;;AAAziB,CAArB;AAAgkB/B,CAAC,CAAC,CAACI,CAAC,CAAC;AAACgC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBnB,CAAC,CAACoB,SAA3B,EAAqC,gBAArC,EAAsD,KAAK,CAA3D,CAAD,EAA+DrC,CAAC,CAAC,CAACI,CAAC,CAAC;AAACgC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBnB,CAAC,CAACoB,SAA3B,EAAqC,gBAArC,EAAsD,KAAK,CAA3D,CAAhE,EAA8HrC,CAAC,CAAC,CAACI,CAAC,CAAC;AAACgC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBnB,CAAC,CAACoB,SAA3B,EAAqC,kBAArC,EAAwD,KAAK,CAA7D,CAA/H,EAA+LrC,CAAC,CAAC,CAACI,CAAC,CAAC;AAACgC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBnB,CAAC,CAACoB,SAA3B,EAAqC,wBAArC,EAA8D,KAAK,CAAnE,CAAhM,EAAsQrC,CAAC,CAAC,CAACI,CAAC,CAAC;AAACgC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBnB,CAAC,CAACoB,SAA3B,EAAqC,sBAArC,EAA4D,KAAK,CAAjE,CAAvQ,EAA2UpB,CAAC,GAACjB,CAAC,CAAC,CAACM,CAAC,CAAC,+CAAD,CAAF,CAAD,EAAsDW,CAAtD,CAA9U;AAAuY,MAAMc,CAAC,GAACxB,CAAC,EAAT;AAAA,MAAYmB,CAAC,GAACb,CAAC,EAAf;AAAA,MAAkBc,CAAC,GAACX,CAAC,EAArB;AAAwB,IAAIsB,CAAC,GAACrB,CAAN;AAAQ,eAAeqB,CAAf;AAAiB,SAAOrB,CAAC,IAAIsB,oBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{toRect as n,create as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{intersects as i,create as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}destroy(){}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return i(e,n(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=p(),d=u();var y=m;export default y;export{m as I3SQueryFeatureStore};\n"]},"metadata":{},"sourceType":"module"}