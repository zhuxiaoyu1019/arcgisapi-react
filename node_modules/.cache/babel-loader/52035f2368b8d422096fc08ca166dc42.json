{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../Graphic.js\";\nimport \"../../core/has.js\";\nimport { clone as n } from \"../../core/lang.js\";\nimport { isNone as r } from \"../../core/maybe.js\";\nimport { isFloat32Array as t, isFloat64Array as s, toArray as a } from \"../../core/typedArrayUtil.js\";\nimport { fromJSON as i } from \"../../geometry/support/jsonUtils.js\";\nimport { makeDehydratedPoint as o } from \"./dehydratedFeatures.js\";\n\nfunction m(e) {\n  return \"declaredClass\" in e;\n}\n\nfunction u(e) {\n  return \"declaredClass\" in e;\n}\n\nfunction l(e) {\n  return \"declaredClass\" in e;\n}\n\nfunction c(r, t) {\n  if (!r) return null;\n  if (l(r)) return r;\n  const s = new e({\n    layer: t,\n    sourceLayer: t\n  });\n  return s.visible = r.visible, s.symbol = n(r.symbol), s.attributes = n(r.attributes), s.geometry = f(r.geometry), s;\n}\n\nfunction f(e) {\n  return r(e) ? null : m(e) ? e : i(h(e));\n}\n\nfunction h(e) {\n  const n = e.spatialReference.toJSON();\n\n  switch (e.type) {\n    case \"point\":\n      {\n        const {\n          x: r,\n          y: t,\n          z: s,\n          m: a\n        } = e;\n        return {\n          x: r,\n          y: t,\n          z: s,\n          m: a,\n          spatialReference: n\n        };\n      }\n\n    case \"polygon\":\n      {\n        const {\n          rings: r,\n          hasZ: t,\n          hasM: s\n        } = e;\n        return {\n          rings: p(r),\n          hasZ: t,\n          hasM: s,\n          spatialReference: n\n        };\n      }\n\n    case \"polyline\":\n      {\n        const {\n          paths: r,\n          hasZ: t,\n          hasM: s\n        } = e;\n        return {\n          paths: p(r),\n          hasZ: t,\n          hasM: s,\n          spatialReference: n\n        };\n      }\n\n    case \"extent\":\n      {\n        const {\n          xmin: r,\n          xmax: t,\n          ymin: s,\n          ymax: a,\n          zmin: i,\n          zmax: o,\n          mmin: m,\n          mmax: u,\n          hasZ: l,\n          hasM: c\n        } = e;\n        return {\n          xmin: r,\n          xmax: t,\n          ymin: s,\n          ymax: a,\n          zmin: i,\n          zmax: o,\n          mmin: m,\n          mmax: u,\n          hasZ: l,\n          hasM: c,\n          spatialReference: n\n        };\n      }\n\n    case \"multipoint\":\n      {\n        const {\n          points: r,\n          hasZ: t,\n          hasM: s\n        } = e;\n        return {\n          points: M(r) ? y(r) : r,\n          hasZ: t,\n          hasM: s,\n          spatialReference: n\n        };\n      }\n\n    default:\n      return;\n  }\n}\n\nfunction p(e) {\n  return x(e) ? e.map(e => y(e)) : e;\n}\n\nfunction y(e) {\n  return e.map(e => a(e));\n}\n\nfunction x(e) {\n  for (const n of e) if (0 !== n.length) return M(n);\n\n  return !1;\n}\n\nfunction M(e) {\n  return e.length && (t(e[0]) || s(e[0]));\n}\n\nfunction Z(e, n) {\n  if (!e) return null;\n  let r;\n\n  if (u(e)) {\n    if (null == n) return e.clone();\n    if (u(n)) return n.copy(e);\n  }\n\n  return null != n ? (r = n, r.x = e.x, r.y = e.y, r.spatialReference = e.spatialReference, e.hasZ ? (r.z = e.z, r.hasZ = e.hasZ) : (r.z = null, r.hasZ = !1), e.hasM ? (r.m = e.m, r.hasM = !0) : (r.m = null, r.hasM = !1)) : (r = o(e.x, e.y, e.z, e.spatialReference), e.hasM && (r.m = e.m, r.hasM = !0)), r;\n}\n\nexport { Z as clonePoint, f as hydrateGeometry, c as hydrateGraphic, m as isHydratedGeometry, l as isHydratedGraphic, u as isHydratedPoint };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js"],"names":["e","clone","n","isNone","r","isFloat32Array","t","isFloat64Array","s","toArray","a","fromJSON","i","makeDehydratedPoint","o","m","u","l","c","layer","sourceLayer","visible","symbol","attributes","geometry","f","h","spatialReference","toJSON","type","x","y","z","rings","hasZ","hasM","p","paths","xmin","xmax","ymin","ymax","zmin","zmax","mmin","mmax","points","M","map","length","Z","copy","clonePoint","hydrateGeometry","hydrateGraphic","isHydratedGeometry","isHydratedGraphic","isHydratedPoint"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import\"../../core/has.js\";import{clone as n}from\"../../core/lang.js\";import{isNone as r}from\"../../core/maybe.js\";import{isFloat32Array as t,isFloat64Array as s,toArray as a}from\"../../core/typedArrayUtil.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import{makeDehydratedPoint as o}from\"./dehydratedFeatures.js\";function m(e){return\"declaredClass\"in e}function u(e){return\"declaredClass\"in e}function l(e){return\"declaredClass\"in e}function c(r,t){if(!r)return null;if(l(r))return r;const s=new e({layer:t,sourceLayer:t});return s.visible=r.visible,s.symbol=n(r.symbol),s.attributes=n(r.attributes),s.geometry=f(r.geometry),s}function f(e){return r(e)?null:m(e)?e:i(h(e))}function h(e){const n=e.spatialReference.toJSON();switch(e.type){case\"point\":{const{x:r,y:t,z:s,m:a}=e;return{x:r,y:t,z:s,m:a,spatialReference:n}}case\"polygon\":{const{rings:r,hasZ:t,hasM:s}=e;return{rings:p(r),hasZ:t,hasM:s,spatialReference:n}}case\"polyline\":{const{paths:r,hasZ:t,hasM:s}=e;return{paths:p(r),hasZ:t,hasM:s,spatialReference:n}}case\"extent\":{const{xmin:r,xmax:t,ymin:s,ymax:a,zmin:i,zmax:o,mmin:m,mmax:u,hasZ:l,hasM:c}=e;return{xmin:r,xmax:t,ymin:s,ymax:a,zmin:i,zmax:o,mmin:m,mmax:u,hasZ:l,hasM:c,spatialReference:n}}case\"multipoint\":{const{points:r,hasZ:t,hasM:s}=e;return{points:M(r)?y(r):r,hasZ:t,hasM:s,spatialReference:n}}default:return}}function p(e){return x(e)?e.map((e=>y(e))):e}function y(e){return e.map((e=>a(e)))}function x(e){for(const n of e)if(0!==n.length)return M(n);return!1}function M(e){return e.length&&(t(e[0])||s(e[0]))}function Z(e,n){if(!e)return null;let r;if(u(e)){if(null==n)return e.clone();if(u(n))return n.copy(e)}return null!=n?(r=n,r.x=e.x,r.y=e.y,r.spatialReference=e.spatialReference,e.hasZ?(r.z=e.z,r.hasZ=e.hasZ):(r.z=null,r.hasZ=!1),e.hasM?(r.m=e.m,r.hasM=!0):(r.m=null,r.hasM=!1)):(r=o(e.x,e.y,e.z,e.spatialReference),e.hasM&&(r.m=e.m,r.hasM=!0)),r}export{Z as clonePoint,f as hydrateGeometry,c as hydrateGraphic,m as isHydratedGeometry,l as isHydratedGraphic,u as isHydratedPoint};\n"]},"metadata":{},"sourceType":"module"}