{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { unwrapOr as t, isSome as r, destroyMaybe as a } from \"../../../core/maybe.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { defaultUnitPropertyMetadata as o } from \"../../../properties/defaultUnit.js\";\nimport { LayerView3D as n } from \"./LayerView3D.js\";\nimport { AreaMeasurementController as l } from \"./analysis/AreaMeasurement/AreaMeasurementController.js\";\nimport { AreaMeasurementLayerViewData as p } from \"./analysis/AreaMeasurement/AreaMeasurementLayerViewData.js\";\nimport { AreaMeasurementView as y } from \"./analysis/AreaMeasurement/AreaMeasurementView.js\";\nimport h from \"../../layers/LayerView.js\";\nlet u = class extends n(h) {\n  constructor(e) {\n    super(e), this.type = \"area-measurement-3d\", this.layerViewData = new p(), this._userUnit = null;\n  }\n\n  set unit(e) {\n    this._userUnit = e;\n  }\n\n  get unit() {\n    return t(this._userUnit, this._defaultUnit);\n  }\n\n  get result() {\n    if (r(this.layerViewData.measurementData)) {\n      const e = this.layerViewData.measurementData;\n      return {\n        area: e.area,\n        geodesicArea: e.geodesicArea,\n        pathLength: e.pathLength,\n        geodesicPathLength: e.geodesicPathLength,\n        perimeterLength: e.perimeterLength\n      };\n    }\n\n    return {\n      area: null,\n      geodesicArea: null,\n      pathLength: null,\n      geodesicPathLength: null,\n      perimeterLength: null\n    };\n  }\n\n  initialize() {\n    this.layerViewData.path.view = this.view, this.layerViewData.path.areaMeasurement = this.layer, this.analysisView = new y({\n      view: this.view,\n      analysis: this.layer,\n      layerView: this\n    }), this.analysisController = new l({\n      view: this.view,\n      analysis: this.layer,\n      layerViewData: this.layerViewData\n    });\n  }\n\n  destroy() {\n    this.analysisController = a(this.analysisController), this.analysisView = a(this.analysisView);\n  }\n\n  get testData() {\n    return {\n      view: this.analysisView,\n      controller: this.analysisController\n    };\n  }\n\n};\ne([s()], u.prototype, \"type\", void 0), e([s()], u.prototype, \"analysisView\", void 0), e([s()], u.prototype, \"analysisController\", void 0), e([s()], u.prototype, \"unit\", null), e([s()], u.prototype, \"layer\", void 0), e([s()], u.prototype, \"result\", null), e([s()], u.prototype, \"layerViewData\", void 0), e([s(o)], u.prototype, \"_defaultUnit\", void 0), e([s()], u.prototype, \"_userUnit\", void 0), u = e([i(\"esri.views.3d.layers.AreaMeasurementLayerView3D\")], u);\nvar m = u;\nexport default m;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/AreaMeasurementLayerView3D.js"],"names":["_","e","unwrapOr","t","isSome","r","destroyMaybe","a","property","s","subclass","i","defaultUnitPropertyMetadata","o","LayerView3D","n","AreaMeasurementController","l","AreaMeasurementLayerViewData","p","AreaMeasurementView","y","h","u","constructor","type","layerViewData","_userUnit","unit","_defaultUnit","result","measurementData","area","geodesicArea","pathLength","geodesicPathLength","perimeterLength","initialize","path","view","areaMeasurement","layer","analysisView","analysis","layerView","analysisController","destroy","testData","controller","prototype","m"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{unwrapOr as t,isSome as r,destroyMaybe as a}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as o}from\"../../../properties/defaultUnit.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{AreaMeasurementController as l}from\"./analysis/AreaMeasurement/AreaMeasurementController.js\";import{AreaMeasurementLayerViewData as p}from\"./analysis/AreaMeasurement/AreaMeasurementLayerViewData.js\";import{AreaMeasurementView as y}from\"./analysis/AreaMeasurement/AreaMeasurementView.js\";import h from\"../../layers/LayerView.js\";let u=class extends(n(h)){constructor(e){super(e),this.type=\"area-measurement-3d\",this.layerViewData=new p,this._userUnit=null}set unit(e){this._userUnit=e}get unit(){return t(this._userUnit,this._defaultUnit)}get result(){if(r(this.layerViewData.measurementData)){const e=this.layerViewData.measurementData;return{area:e.area,geodesicArea:e.geodesicArea,pathLength:e.pathLength,geodesicPathLength:e.geodesicPathLength,perimeterLength:e.perimeterLength}}return{area:null,geodesicArea:null,pathLength:null,geodesicPathLength:null,perimeterLength:null}}initialize(){this.layerViewData.path.view=this.view,this.layerViewData.path.areaMeasurement=this.layer,this.analysisView=new y({view:this.view,analysis:this.layer,layerView:this}),this.analysisController=new l({view:this.view,analysis:this.layer,layerViewData:this.layerViewData})}destroy(){this.analysisController=a(this.analysisController),this.analysisView=a(this.analysisView)}get testData(){return{view:this.analysisView,controller:this.analysisController}}};e([s()],u.prototype,\"type\",void 0),e([s()],u.prototype,\"analysisView\",void 0),e([s()],u.prototype,\"analysisController\",void 0),e([s()],u.prototype,\"unit\",null),e([s()],u.prototype,\"layer\",void 0),e([s()],u.prototype,\"result\",null),e([s()],u.prototype,\"layerViewData\",void 0),e([s(o)],u.prototype,\"_defaultUnit\",void 0),e([s()],u.prototype,\"_userUnit\",void 0),u=e([i(\"esri.views.3d.layers.AreaMeasurementLayerView3D\")],u);var m=u;export default m;\n"]},"metadata":{},"sourceType":"module"}