{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { glsl as e } from \"../../shaderModules/interfaces.js\";\n\nfunction p(e, p) {\n  e.constants.add(\"stippleAlphaColorDiscard\", \"float\", .001), e.constants.add(\"stippleAlphaHighlightDiscard\", \"float\", .5), p.stippleEnabled ? t(e, p) : l(e);\n}\n\nfunction t(p, t) {\n  p.vertex.uniforms.add(\"stipplePatternPixelSizeInv\", \"float\"), t.stippleUVMaxEnabled && p.varyings.add(\"stipplePatternUvMax\", \"float\"), p.varyings.add(\"stipplePatternUv\", \"float\"), p.fragment.uniforms.add(\"stipplePatternTexture\", \"sampler2D\"), t.stippleOffColorEnabled && p.fragment.uniforms.add(\"stippleOffColor\", \"vec4\"), p.fragment.code.add(e`\n  float getStippleAlpha() {\n    float stipplePatternUvClamped = stipplePatternUv * gl_FragCoord.w;\n    ${t.stippleUVMaxEnabled ? \"stipplePatternUvClamped = clamp(stipplePatternUvClamped, 0.0, stipplePatternUvMax);\" : \"\"}\n\n    return texture2D(stipplePatternTexture, vec2(mod(stipplePatternUvClamped, 1.0), 0.5)).a;\n  }`), t.stippleOffColorEnabled ? p.fragment.code.add(e`#define discardByStippleAlpha(stippleAlpha, threshold) {}\n#define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)`) : p.fragment.code.add(e`#define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }\n#define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)`);\n}\n\nfunction l(p) {\n  p.fragment.code.add(e`float getStippleAlpha() { return 1.0; }\n#define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}\n#define blendStipple(color, _stippleAlpha_) color`);\n}\n\nexport { p as LineStipple };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js"],"names":["glsl","e","p","constants","add","stippleEnabled","t","l","vertex","uniforms","stippleUVMaxEnabled","varyings","fragment","stippleOffColorEnabled","code","LineStipple"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAf,QAAqB,mCAArB;;AAAyD,SAASC,CAAT,CAAWD,CAAX,EAAaC,CAAb,EAAe;AAACD,EAAAA,CAAC,CAACE,SAAF,CAAYC,GAAZ,CAAgB,0BAAhB,EAA2C,OAA3C,EAAmD,IAAnD,GAAyDH,CAAC,CAACE,SAAF,CAAYC,GAAZ,CAAgB,8BAAhB,EAA+C,OAA/C,EAAuD,EAAvD,CAAzD,EAAoHF,CAAC,CAACG,cAAF,GAAiBC,CAAC,CAACL,CAAD,EAAGC,CAAH,CAAlB,GAAwBK,CAAC,CAACN,CAAD,CAA7I;AAAiJ;;AAAA,SAASK,CAAT,CAAWJ,CAAX,EAAaI,CAAb,EAAe;AAACJ,EAAAA,CAAC,CAACM,MAAF,CAASC,QAAT,CAAkBL,GAAlB,CAAsB,4BAAtB,EAAmD,OAAnD,GAA4DE,CAAC,CAACI,mBAAF,IAAuBR,CAAC,CAACS,QAAF,CAAWP,GAAX,CAAe,qBAAf,EAAqC,OAArC,CAAnF,EAAiIF,CAAC,CAACS,QAAF,CAAWP,GAAX,CAAe,kBAAf,EAAkC,OAAlC,CAAjI,EAA4KF,CAAC,CAACU,QAAF,CAAWH,QAAX,CAAoBL,GAApB,CAAwB,uBAAxB,EAAgD,WAAhD,CAA5K,EAAyOE,CAAC,CAACO,sBAAF,IAA0BX,CAAC,CAACU,QAAF,CAAWH,QAAX,CAAoBL,GAApB,CAAwB,iBAAxB,EAA0C,MAA1C,CAAnQ,EAAqTF,CAAC,CAACU,QAAF,CAAWE,IAAX,CAAgBV,GAAhB,CAAoBH,CAAE;AACrjB;AACA;AACA,MAAMK,CAAC,CAACI,mBAAF,GAAsB,qFAAtB,GAA4G,EAAG;AACrH;AACA;AACA,IAN+hB,CAArT,EAMpOJ,CAAC,CAACO,sBAAF,GAAyBX,CAAC,CAACU,QAAF,CAAWE,IAAX,CAAgBV,GAAhB,CAAoBH,CAAE;AACrD,oFAD+B,CAAzB,GACgFC,CAAC,CAACU,QAAF,CAAWE,IAAX,CAAgBV,GAAhB,CAAoBH,CAAE;AAC5G,kFADsF,CAPoJ;AAQtJ;;AAAA,SAASM,CAAT,CAAWL,CAAX,EAAa;AAACA,EAAAA,CAAC,CAACU,QAAF,CAAWE,IAAX,CAAgBV,GAAhB,CAAoBH,CAAE;AACxH;AACA,kDAFkG;AAE9C;;AAAA,SAAOC,CAAC,IAAIa,WAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function p(e,p){e.constants.add(\"stippleAlphaColorDiscard\",\"float\",.001),e.constants.add(\"stippleAlphaHighlightDiscard\",\"float\",.5),p.stippleEnabled?t(e,p):l(e)}function t(p,t){p.vertex.uniforms.add(\"stipplePatternPixelSizeInv\",\"float\"),t.stippleUVMaxEnabled&&p.varyings.add(\"stipplePatternUvMax\",\"float\"),p.varyings.add(\"stipplePatternUv\",\"float\"),p.fragment.uniforms.add(\"stipplePatternTexture\",\"sampler2D\"),t.stippleOffColorEnabled&&p.fragment.uniforms.add(\"stippleOffColor\",\"vec4\"),p.fragment.code.add(e`\n  float getStippleAlpha() {\n    float stipplePatternUvClamped = stipplePatternUv * gl_FragCoord.w;\n    ${t.stippleUVMaxEnabled?\"stipplePatternUvClamped = clamp(stipplePatternUvClamped, 0.0, stipplePatternUvMax);\":\"\"}\n\n    return texture2D(stipplePatternTexture, vec2(mod(stipplePatternUvClamped, 1.0), 0.5)).a;\n  }`),t.stippleOffColorEnabled?p.fragment.code.add(e`#define discardByStippleAlpha(stippleAlpha, threshold) {}\n#define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)`):p.fragment.code.add(e`#define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }\n#define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)`)}function l(p){p.fragment.code.add(e`float getStippleAlpha() { return 1.0; }\n#define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}\n#define blendStipple(color, _stippleAlpha_) color`)}export{p as LineStipple};\n"]},"metadata":{},"sourceType":"module"}