{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../config.js\";\nimport e from \"./Error.js\";\nimport n from \"./global.js\";\nimport r from \"./Logger.js\";\nimport { assumeNonNull as o, isSome as i, isNone as s } from \"./maybe.js\";\nconst u = r.getLogger(\"esri.core.urlUtils\"),\n      l = t.request,\n      c = \"esri/config: esriConfig.request.proxyUrl is not set.\",\n      f = /^\\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,\n      a = /^\\s*http:/i,\n      h = /^\\s*https:/i,\n      p = /^\\s*file:/i,\n      d = /:\\d+$/,\n      g = /^https?:\\/\\/[^/]+\\.arcgis.com\\/sharing(\\/|$)/i,\n      m = new RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\"),\n      y = new RegExp(\"^((([^\\\\[:]+):)?([^@]+)@)?(\\\\[([^\\\\]]+)\\\\]|([^\\\\[:]*))(:([0-9]+))?$\");\n\nclass $ {\n  constructor(t = \"\") {\n    this.uri = t, this.scheme = null, this.authority = null, this.path = null, this.query = null, this.fragment = null, this.user = null, this.password = null, this.host = null, this.port = null;\n    let e = o(this.uri.match(m));\n    this.scheme = e[2] || (e[1] ? \"\" : null), this.authority = e[4] || (e[3] ? \"\" : null), this.path = e[5], this.query = e[7] || (e[6] ? \"\" : null), this.fragment = e[9] || (e[8] ? \"\" : null), null != this.authority && (e = o(this.authority.match(y)), this.user = e[3] || null, this.password = e[4] || null, this.host = e[6] || e[7], this.port = e[9] || null);\n  }\n\n  toString() {\n    return this.uri;\n  }\n\n}\n\nconst x = new $(t.applicationUrl),\n      O = {},\n      w = (() => {\n  const t = o(x.path),\n        e = t.substring(0, t.lastIndexOf(t.split(\"/\")[t.split(\"/\").length - 1]));\n  return `${`${x.scheme}://${x.host}${null != x.port ? `:${x.port}` : \"\"}`}${e}`;\n})();\n\nfunction U(t) {\n  const e = {\n    path: null,\n    query: null\n  },\n        n = new $(t),\n        r = t.indexOf(\"?\");\n  return null === n.query ? e.path = t : (e.path = t.substring(0, r), e.query = b(n.query)), n.fragment && (e.hash = n.fragment, null === n.query && (e.path = e.path.substring(0, e.path.length - (n.fragment.length + 1)))), e;\n}\n\nfunction b(t) {\n  const e = t.split(\"&\"),\n        n = {};\n\n  for (const r of e) {\n    if (!r) continue;\n    const t = r.indexOf(\"=\");\n    let e, o;\n    t < 0 ? (e = decodeURIComponent(r), o = \"\") : (e = decodeURIComponent(r.slice(0, t)), o = decodeURIComponent(r.slice(t + 1)));\n    let i = n[e];\n    \"string\" == typeof i && (i = n[e] = [i]), Array.isArray(i) ? i.push(o) : n[e] = o;\n  }\n\n  return n;\n}\n\nfunction R(t) {\n  return t && \"object\" == typeof t && \"toJSON\" in t && \"function\" == typeof t.toJSON;\n}\n\nfunction C(t, e) {\n  return t ? e && \"function\" == typeof e ? Object.keys(t).map(n => encodeURIComponent(n) + \"=\" + encodeURIComponent(e(n, t[n]))).join(\"&\") : Object.keys(t).map(n => {\n    const r = t[n];\n    if (null == r) return \"\";\n    const o = encodeURIComponent(n) + \"=\",\n          i = e && e[n];\n    return i ? o + encodeURIComponent(i(r)) : Array.isArray(r) ? r.map(t => R(t) ? o + encodeURIComponent(JSON.stringify(t)) : o + encodeURIComponent(t)).join(\"&\") : R(r) ? o + encodeURIComponent(JSON.stringify(r)) : o + encodeURIComponent(r);\n  }).filter(t => t).join(\"&\") : \"\";\n}\n\nfunction q(t = !1) {\n  let n,\n      r = l.proxyUrl;\n\n  if (\"string\" == typeof t) {\n    n = rt(t);\n    const e = A(t);\n    e && (r = e.proxyUrl);\n  } else n = !!t;\n\n  if (!r) throw u.warn(c), new e(\"urlutils:proxy-not-set\", c);\n  n && ct() && (r = ut(r));\n  return U(r);\n}\n\nfunction j(t) {\n  const e = A(t);\n  let n, r;\n\n  if (e) {\n    const t = v(e.proxyUrl);\n    n = t.path, r = t.query ? b(t.query) : null;\n  }\n\n  if (n) {\n    const e = U(t);\n    t = n + \"?\" + e.path;\n    const o = C({ ...r,\n      ...e.query\n    });\n    o && (t = `${t}?${o}`);\n  }\n\n  return t;\n}\n\nconst L = {\n  path: \"\",\n  query: \"\"\n};\n\nfunction v(t) {\n  const e = t.indexOf(\"?\");\n  return -1 !== e ? (L.path = t.slice(0, e), L.query = t.slice(e + 1)) : (L.path = t, L.query = null), L;\n}\n\nfunction I(t) {\n  return t = (t = ft(t = dt(t = v(t).path), !0)).toLowerCase();\n}\n\nfunction S(t) {\n  const e = {\n    proxyUrl: t.proxyUrl,\n    urlPrefix: I(t.urlPrefix)\n  },\n        n = l.proxyRules,\n        r = e.urlPrefix;\n  let o = n.length;\n\n  for (let i = 0; i < n.length; i++) {\n    const t = n[i].urlPrefix;\n\n    if (0 === r.indexOf(t)) {\n      if (r.length === t.length) return -1;\n      o = i;\n      break;\n    }\n\n    0 === t.indexOf(r) && (o = i + 1);\n  }\n\n  return n.splice(o, 0, e), o;\n}\n\nfunction A(t) {\n  const e = l.proxyRules,\n        n = I(t);\n\n  for (let r = 0; r < e.length; r++) if (0 === n.indexOf(e[r].urlPrefix)) return e[r];\n}\n\nfunction P(t, e) {\n  return t = k(t), e = k(e), ft(t) === ft(e);\n}\n\nfunction k(t) {\n  const e = (t = z(t)).indexOf(\"/sharing\");\n  return e > 0 ? t.substring(0, e) : t.replace(/\\/+$/, \"\");\n}\n\nfunction B(t) {\n  const e = e => null == e || e instanceof RegExp && e.test(t) || \"string\" == typeof e && t.startsWith(e),\n        n = l.interceptors;\n\n  if (n) for (const r of n) if (Array.isArray(r.urls)) {\n    if (r.urls.some(e)) return r;\n  } else if (e(r.urls)) return r;\n  return null;\n}\n\nfunction E(t, e, n = !1) {\n  const r = Ot(t),\n        o = Ot(e);\n  return !(!n && r.scheme !== o.scheme) && null != r.host && null != o.host && r.host.toLowerCase() === o.host.toLowerCase() && r.port === o.port;\n}\n\nfunction J(t) {\n  if (\"string\" == typeof t) {\n    if (!Q(t)) return !0;\n    t = Ot(t);\n  }\n\n  if (E(t, x)) return !0;\n  const e = l.trustedServers || [];\n\n  for (let n = 0; n < e.length; n++) {\n    const r = N(e[n]);\n\n    for (let e = 0; e < r.length; e++) if (E(t, r[e])) return !0;\n  }\n\n  return !1;\n}\n\nfunction N(t) {\n  return O[t] || (nt(t) || et(t) ? O[t] = [new $(T(t))] : O[t] = [new $(`http://${t}`), new $(`https://${t}`)]), O[t];\n}\n\nfunction T(t, e = w, n) {\n  return et(t) ? n && n.preserveProtocolRelative ? t : \"http\" === x.scheme && x.authority === M(t).slice(2) ? `http:${t}` : `https:${t}` : nt(t) ? t : o(D(\"/\" === t[0] ? at(e) : e, t));\n}\n\nfunction W(t, e = w, n) {\n  if (!Q(t)) return t;\n  const r = z(t),\n        o = r.toLowerCase(),\n        i = z(e).toLowerCase().replace(/\\/+$/, \"\"),\n        s = n ? z(n).toLowerCase().replace(/\\/+$/, \"\") : null;\n  if (s && 0 !== i.indexOf(s)) return t;\n\n  const u = (t, e, n) => -1 === (n = t.indexOf(e, n)) ? t.length : n;\n\n  let l = u(o, \"/\", o.indexOf(\"//\") + 2),\n      c = -1;\n\n  for (; o.slice(0, l + 1) === i.slice(0, l) + \"/\" && (c = l + 1, l !== o.length);) l = u(o, \"/\", l + 1);\n\n  if (-1 === c) return t;\n  if (s && c < s.length) return t;\n  t = r.slice(c);\n  const f = i.slice(c - 1).replace(/[^/]+/g, \"\").length;\n  if (f > 0) for (let a = 0; a < f; a++) t = `../${t}`;else t = `./${t}`;\n  return t;\n}\n\nfunction z(t) {\n  return t = $t(t = yt(t = mt(t = T(t = t.trim()))));\n}\n\nfunction D(...t) {\n  const e = t.filter(i);\n  if (!e || !e.length) return;\n  const n = [];\n\n  if (Q(e[0])) {\n    const t = e[0],\n          r = t.indexOf(\"//\");\n    -1 !== r && (n.push(t.slice(0, r + 1)), it(e[0]) && (n[0] += \"/\"), e[0] = t.slice(r + 2));\n  } else \"/\" === e[0][0] && n.push(\"\");\n\n  const r = e.reduce((t, e) => e ? t.concat(e.split(\"/\")) : t, []);\n\n  for (let o = 0; o < r.length; o++) {\n    const t = r[o];\n    \"..\" === t && n.length > 0 && \"..\" !== n[n.length - 1] ? n.pop() : (!t && o === r.length - 1 || t && (\".\" !== t || 0 === n.length)) && n.push(t);\n  }\n\n  return n.join(\"/\");\n}\n\nfunction M(t, e = !1) {\n  if (F(t) || G(t)) return null;\n  let n = t.indexOf(\"://\");\n  if (-1 === n && et(t)) n = 2;else {\n    if (-1 === n) return null;\n    n += 3;\n  }\n  const r = t.indexOf(\"/\", n);\n  return -1 !== r && (t = t.slice(0, r)), e && (t = ft(t, !0)), t;\n}\n\nfunction Q(t) {\n  return et(t) || nt(t);\n}\n\nfunction F(t) {\n  return null != t && \"blob:\" === t.slice(0, 5);\n}\n\nfunction G(t) {\n  return \"data:\" === t.slice(0, 5);\n}\n\nfunction H(t) {\n  const e = V(t);\n  if (!e || !e.isBase64) return null;\n  const n = atob(e.data),\n        r = new Uint8Array(n.length);\n\n  for (let o = 0; o < n.length; o++) r[o] = n.charCodeAt(o);\n\n  return r.buffer;\n}\n\nconst K = /^data:(.*?)(;base64)?,(.*)$/;\n\nfunction V(t) {\n  const e = t.match(K);\n  if (!e) return null;\n  const [, n, r, o] = e;\n  return {\n    mediaType: n,\n    isBase64: !!r,\n    data: o\n  };\n}\n\nfunction X(t) {\n  return t.isBase64 ? `data:${t.mediaType};base64,${t.data}` : `data:${t.mediaType},${t.data}`;\n}\n\nfunction Y(t) {\n  const e = H(t);\n  if (!e) return null;\n  const n = V(t);\n  return new Blob([e], {\n    type: n.mediaType\n  });\n}\n\nfunction Z(t, e) {\n  _(t, e) || tt(t, e);\n}\n\nfunction _(t, e) {\n  const r = document.createElement(\"a\");\n  if (!(\"download\" in r)) return !1;\n  let o = null;\n\n  if (n.URL && n.URL.createObjectURL) {\n    const e = Y(t);\n    if (!e) return !1;\n    o = n.URL.createObjectURL(e);\n  }\n\n  r.download = e, r.href = o || t, r.style.display = \"none\", document.body.appendChild(r), r.click(), document.body.removeChild(r), o && n.URL.revokeObjectURL(o);\n}\n\nfunction tt(t, e) {\n  return !!window.navigator.msSaveOrOpenBlob && window.navigator.msSaveOrOpenBlob(Y(t), e);\n}\n\nfunction et(t) {\n  return null != t && void 0 !== t && \"/\" === t[0] && \"/\" === t[1];\n}\n\nfunction nt(t) {\n  return f.test(t);\n}\n\nfunction rt(t) {\n  return h.test(t) || \"https\" === x.scheme && et(t);\n}\n\nfunction ot(t) {\n  return a.test(t) || \"http\" === x.scheme && et(t);\n}\n\nfunction it(t) {\n  return p.test(t);\n}\n\nfunction st(t) {\n  return et(t) ? `http:${t}` : t.replace(h, \"http:\");\n}\n\nfunction ut(t) {\n  return et(t) ? `https:${t}` : t.replace(a, \"https:\");\n}\n\nfunction lt() {\n  return \"http\" === x.scheme;\n}\n\nfunction ct() {\n  return \"https\" === x.scheme;\n}\n\nfunction ft(t, e = !1) {\n  return et(t) ? t.slice(2) : (t = t.replace(f, \"\"), e && t.length > 1 && \"/\" === t[0] && \"/\" === t[1] && (t = t.slice(2)), t);\n}\n\nfunction at(t) {\n  const e = t.indexOf(\"//\"),\n        n = t.indexOf(\"/\", e + 2);\n  return -1 === n ? t : t.slice(0, n);\n}\n\nfunction ht(t) {\n  let e = 0;\n\n  if (Q(t)) {\n    const n = t.indexOf(\"//\");\n    -1 !== n && (e = n + 2);\n  }\n\n  const n = t.lastIndexOf(\"/\");\n  return n < e ? t : t.slice(0, n + 1);\n}\n\nfunction pt(t, e) {\n  if (!t) return \"\";\n  const n = U(t).path.replace(/\\/+$/, \"\"),\n        r = n.substring(n.lastIndexOf(\"/\") + 1);\n  if (null == e || !e.length) return r;\n  const o = new RegExp(`.(${e.join(\"|\")})$`, \"ig\");\n  return r.replace(o, \"\");\n}\n\nfunction dt(t) {\n  return t && \"/\" === t[t.length - 1] ? t : `${t}/`;\n}\n\nfunction gt(t) {\n  return t.replace(/\\/+$/, \"\");\n}\n\nfunction mt(t) {\n  if (/^https?:\\/\\//i.test(t)) {\n    const e = v(t);\n    t = (t = e.path.replace(/\\/{2,}/g, \"/\")).replace(\"/\", \"//\"), e.query && (t += `?${e.query}`);\n  }\n\n  return t;\n}\n\nfunction yt(t) {\n  return t.replace(/^(https?:\\/\\/)(arcgis\\.com)/i, \"$1www.$2\");\n}\n\nfunction $t(t) {\n  const e = l.httpsDomains;\n  if (!ot(t)) return t;\n  const n = t.indexOf(\"/\", 7);\n  let r;\n\n  if (r = -1 === n ? t : t.slice(0, n), r = r.toLowerCase().slice(7), d.test(r)) {\n    if (!r.endsWith(\":80\")) return t;\n    r = r.slice(0, -3), t = t.replace(\":80\", \"\");\n  }\n\n  return lt() && r === x.authority && !g.test(t) || (ct() && r === x.authority || e && e.some(t => r === t || r.endsWith(`.${t}`)) || ct() && !A(t)) && (t = ut(t)), t;\n}\n\nfunction xt(t, e, n) {\n  if (!(e && n && t && Q(t))) return t;\n  const r = t.indexOf(\"//\"),\n        o = t.indexOf(\"/\", r + 2),\n        i = t.indexOf(\":\", r + 2),\n        s = Math.min(o < 0 ? t.length : o, i < 0 ? t.length : i);\n  if (t.slice(r + 2, s).toLowerCase() !== e.toLowerCase()) return t;\n  return `${t.slice(0, r + 2)}${n}${t.slice(s)}`;\n}\n\nfunction Ot(t) {\n  return \"string\" == typeof t ? new $(T(t)) : (t.scheme || (t.scheme = x.scheme), t);\n}\n\nfunction wt(t) {\n  return Lt.test(t);\n}\n\nfunction Ut(t, e) {\n  const n = U(t),\n        r = Object.keys(n.query || {});\n  return r.length > 0 && e && e.warn(\"removeQueryParameters()\", `Url query parameters are not supported, the following parameters have been removed: ${r.join(\", \")}.`), n.path;\n}\n\nfunction bt(t, e, n) {\n  const r = U(t),\n        o = r.query || {};\n  return o[e] = String(n), `${r.path}?${C(o)}`;\n}\n\nfunction Rt(t, e) {\n  const n = U(t),\n        r = n.query || {};\n\n  for (const i in e) r[i] = e[i];\n\n  const o = C(r);\n  return o ? `${n.path}?${o}` : n.path;\n}\n\nfunction Ct(t, e) {\n  const {\n    path: n,\n    query: r\n  } = U(t);\n  if (!r) return t;\n  delete r[e];\n  const o = C(r);\n  return o ? `${n}?${o}` : n;\n}\n\nfunction qt(t) {\n  if (s(t)) return null;\n  const e = t.match(jt);\n  return e ? e[1] : null;\n}\n\nconst jt = /.*?\\.([^\\/]*)$/,\n      Lt = /(^data:image\\/svg|\\.svg$)/i;\nexport { $ as Url, j as addProxy, S as addProxyRule, bt as addQueryParameter, Rt as addQueryParameters, w as appBaseUrl, x as appUrl, xt as changeDomain, V as dataComponents, H as dataToArrayBuffer, Y as dataToBlob, Z as downloadDataAsFile, pt as getFilename, B as getInterceptor, M as getOrigin, qt as getPathExtension, A as getProxyRule, q as getProxyUrl, nt as hasProtocol, E as hasSameOrigin, P as hasSamePortal, Q as isAbsolute, ct as isAppHTTPS, F as isBlobProtocol, G as isDataProtocol, rt as isHTTPSProtocol, et as isProtocolRelative, wt as isSVG, J as isTrustedServer, D as join, T as makeAbsolute, X as makeData, W as makeRelative, z as normalize, C as objectToQuery, b as queryToObject, ht as removeFile, Ct as removeQueryParameter, Ut as removeQueryParameters, gt as removeTrailingSlash, st as toHTTP, ut as toHTTPS, O as trustedServersUrlCache, U as urlToObject };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/core/urlUtils.js"],"names":["t","e","n","r","assumeNonNull","o","isSome","i","isNone","s","u","getLogger","l","request","c","f","a","h","p","d","g","m","RegExp","y","$","constructor","uri","scheme","authority","path","query","fragment","user","password","host","port","match","toString","x","applicationUrl","O","w","substring","lastIndexOf","split","length","U","indexOf","b","hash","decodeURIComponent","slice","Array","isArray","push","R","toJSON","C","Object","keys","map","encodeURIComponent","join","JSON","stringify","filter","q","proxyUrl","rt","A","warn","ct","ut","j","v","L","I","ft","dt","toLowerCase","S","urlPrefix","proxyRules","splice","P","k","z","replace","B","test","startsWith","interceptors","urls","some","E","Ot","J","Q","trustedServers","N","nt","et","T","preserveProtocolRelative","M","D","at","W","$t","yt","mt","trim","it","reduce","concat","pop","F","G","H","V","isBase64","atob","data","Uint8Array","charCodeAt","buffer","K","mediaType","X","Y","Blob","type","Z","_","tt","document","createElement","URL","createObjectURL","download","href","style","display","body","appendChild","click","removeChild","revokeObjectURL","window","navigator","msSaveOrOpenBlob","ot","st","lt","ht","pt","gt","httpsDomains","endsWith","xt","Math","min","wt","Lt","Ut","bt","String","Rt","Ct","qt","jt","Url","addProxy","addProxyRule","addQueryParameter","addQueryParameters","appBaseUrl","appUrl","changeDomain","dataComponents","dataToArrayBuffer","dataToBlob","downloadDataAsFile","getFilename","getInterceptor","getOrigin","getPathExtension","getProxyRule","getProxyUrl","hasProtocol","hasSameOrigin","hasSamePortal","isAbsolute","isAppHTTPS","isBlobProtocol","isDataProtocol","isHTTPSProtocol","isProtocolRelative","isSVG","isTrustedServer","makeAbsolute","makeData","makeRelative","normalize","objectToQuery","queryToObject","removeFile","removeQueryParameter","removeQueryParameters","removeTrailingSlash","toHTTP","toHTTPS","trustedServersUrlCache","urlToObject"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../config.js\";import e from\"./Error.js\";import n from\"./global.js\";import r from\"./Logger.js\";import{assumeNonNull as o,isSome as i,isNone as s}from\"./maybe.js\";const u=r.getLogger(\"esri.core.urlUtils\"),l=t.request,c=\"esri/config: esriConfig.request.proxyUrl is not set.\",f=/^\\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,a=/^\\s*http:/i,h=/^\\s*https:/i,p=/^\\s*file:/i,d=/:\\d+$/,g=/^https?:\\/\\/[^/]+\\.arcgis.com\\/sharing(\\/|$)/i,m=new RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\"),y=new RegExp(\"^((([^\\\\[:]+):)?([^@]+)@)?(\\\\[([^\\\\]]+)\\\\]|([^\\\\[:]*))(:([0-9]+))?$\");class ${constructor(t=\"\"){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=o(this.uri.match(m));this.scheme=e[2]||(e[1]?\"\":null),this.authority=e[4]||(e[3]?\"\":null),this.path=e[5],this.query=e[7]||(e[6]?\"\":null),this.fragment=e[9]||(e[8]?\"\":null),null!=this.authority&&(e=o(this.authority.match(y)),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}}const x=new $(t.applicationUrl),O={},w=(()=>{const t=o(x.path),e=t.substring(0,t.lastIndexOf(t.split(\"/\")[t.split(\"/\").length-1]));return`${`${x.scheme}://${x.host}${null!=x.port?`:${x.port}`:\"\"}`}${e}`})();function U(t){const e={path:null,query:null},n=new $(t),r=t.indexOf(\"?\");return null===n.query?e.path=t:(e.path=t.substring(0,r),e.query=b(n.query)),n.fragment&&(e.hash=n.fragment,null===n.query&&(e.path=e.path.substring(0,e.path.length-(n.fragment.length+1)))),e}function b(t){const e=t.split(\"&\"),n={};for(const r of e){if(!r)continue;const t=r.indexOf(\"=\");let e,o;t<0?(e=decodeURIComponent(r),o=\"\"):(e=decodeURIComponent(r.slice(0,t)),o=decodeURIComponent(r.slice(t+1)));let i=n[e];\"string\"==typeof i&&(i=n[e]=[i]),Array.isArray(i)?i.push(o):n[e]=o}return n}function R(t){return t&&\"object\"==typeof t&&\"toJSON\"in t&&\"function\"==typeof t.toJSON}function C(t,e){return t?e&&\"function\"==typeof e?Object.keys(t).map((n=>encodeURIComponent(n)+\"=\"+encodeURIComponent(e(n,t[n])))).join(\"&\"):Object.keys(t).map((n=>{const r=t[n];if(null==r)return\"\";const o=encodeURIComponent(n)+\"=\",i=e&&e[n];return i?o+encodeURIComponent(i(r)):Array.isArray(r)?r.map((t=>R(t)?o+encodeURIComponent(JSON.stringify(t)):o+encodeURIComponent(t))).join(\"&\"):R(r)?o+encodeURIComponent(JSON.stringify(r)):o+encodeURIComponent(r)})).filter((t=>t)).join(\"&\"):\"\"}function q(t=!1){let n,r=l.proxyUrl;if(\"string\"==typeof t){n=rt(t);const e=A(t);e&&(r=e.proxyUrl)}else n=!!t;if(!r)throw u.warn(c),new e(\"urlutils:proxy-not-set\",c);n&&ct()&&(r=ut(r));return U(r)}function j(t){const e=A(t);let n,r;if(e){const t=v(e.proxyUrl);n=t.path,r=t.query?b(t.query):null}if(n){const e=U(t);t=n+\"?\"+e.path;const o=C({...r,...e.query});o&&(t=`${t}?${o}`)}return t}const L={path:\"\",query:\"\"};function v(t){const e=t.indexOf(\"?\");return-1!==e?(L.path=t.slice(0,e),L.query=t.slice(e+1)):(L.path=t,L.query=null),L}function I(t){return t=(t=ft(t=dt(t=v(t).path),!0)).toLowerCase()}function S(t){const e={proxyUrl:t.proxyUrl,urlPrefix:I(t.urlPrefix)},n=l.proxyRules,r=e.urlPrefix;let o=n.length;for(let i=0;i<n.length;i++){const t=n[i].urlPrefix;if(0===r.indexOf(t)){if(r.length===t.length)return-1;o=i;break}0===t.indexOf(r)&&(o=i+1)}return n.splice(o,0,e),o}function A(t){const e=l.proxyRules,n=I(t);for(let r=0;r<e.length;r++)if(0===n.indexOf(e[r].urlPrefix))return e[r]}function P(t,e){return t=k(t),e=k(e),ft(t)===ft(e)}function k(t){const e=(t=z(t)).indexOf(\"/sharing\");return e>0?t.substring(0,e):t.replace(/\\/+$/,\"\")}function B(t){const e=e=>null==e||e instanceof RegExp&&e.test(t)||\"string\"==typeof e&&t.startsWith(e),n=l.interceptors;if(n)for(const r of n)if(Array.isArray(r.urls)){if(r.urls.some(e))return r}else if(e(r.urls))return r;return null}function E(t,e,n=!1){const r=Ot(t),o=Ot(e);return!(!n&&r.scheme!==o.scheme)&&(null!=r.host&&null!=o.host&&(r.host.toLowerCase()===o.host.toLowerCase()&&r.port===o.port))}function J(t){if(\"string\"==typeof t){if(!Q(t))return!0;t=Ot(t)}if(E(t,x))return!0;const e=l.trustedServers||[];for(let n=0;n<e.length;n++){const r=N(e[n]);for(let e=0;e<r.length;e++)if(E(t,r[e]))return!0}return!1}function N(t){return O[t]||(nt(t)||et(t)?O[t]=[new $(T(t))]:O[t]=[new $(`http://${t}`),new $(`https://${t}`)]),O[t]}function T(t,e=w,n){return et(t)?n&&n.preserveProtocolRelative?t:\"http\"===x.scheme&&x.authority===M(t).slice(2)?`http:${t}`:`https:${t}`:nt(t)?t:o(D(\"/\"===t[0]?at(e):e,t))}function W(t,e=w,n){if(!Q(t))return t;const r=z(t),o=r.toLowerCase(),i=z(e).toLowerCase().replace(/\\/+$/,\"\"),s=n?z(n).toLowerCase().replace(/\\/+$/,\"\"):null;if(s&&0!==i.indexOf(s))return t;const u=(t,e,n)=>-1===(n=t.indexOf(e,n))?t.length:n;let l=u(o,\"/\",o.indexOf(\"//\")+2),c=-1;for(;o.slice(0,l+1)===i.slice(0,l)+\"/\"&&(c=l+1,l!==o.length);)l=u(o,\"/\",l+1);if(-1===c)return t;if(s&&c<s.length)return t;t=r.slice(c);const f=i.slice(c-1).replace(/[^/]+/g,\"\").length;if(f>0)for(let a=0;a<f;a++)t=`../${t}`;else t=`./${t}`;return t}function z(t){return t=$t(t=yt(t=mt(t=T(t=t.trim()))))}function D(...t){const e=t.filter(i);if(!e||!e.length)return;const n=[];if(Q(e[0])){const t=e[0],r=t.indexOf(\"//\");-1!==r&&(n.push(t.slice(0,r+1)),it(e[0])&&(n[0]+=\"/\"),e[0]=t.slice(r+2))}else\"/\"===e[0][0]&&n.push(\"\");const r=e.reduce(((t,e)=>e?t.concat(e.split(\"/\")):t),[]);for(let o=0;o<r.length;o++){const t=r[o];\"..\"===t&&n.length>0&&\"..\"!==n[n.length-1]?n.pop():(!t&&o===r.length-1||t&&(\".\"!==t||0===n.length))&&n.push(t)}return n.join(\"/\")}function M(t,e=!1){if(F(t)||G(t))return null;let n=t.indexOf(\"://\");if(-1===n&&et(t))n=2;else{if(-1===n)return null;n+=3}const r=t.indexOf(\"/\",n);return-1!==r&&(t=t.slice(0,r)),e&&(t=ft(t,!0)),t}function Q(t){return et(t)||nt(t)}function F(t){return null!=t&&\"blob:\"===t.slice(0,5)}function G(t){return\"data:\"===t.slice(0,5)}function H(t){const e=V(t);if(!e||!e.isBase64)return null;const n=atob(e.data),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r.buffer}const K=/^data:(.*?)(;base64)?,(.*)$/;function V(t){const e=t.match(K);if(!e)return null;const[,n,r,o]=e;return{mediaType:n,isBase64:!!r,data:o}}function X(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}function Y(t){const e=H(t);if(!e)return null;const n=V(t);return new Blob([e],{type:n.mediaType})}function Z(t,e){_(t,e)||tt(t,e)}function _(t,e){const r=document.createElement(\"a\");if(!(\"download\"in r))return!1;let o=null;if(n.URL&&n.URL.createObjectURL){const e=Y(t);if(!e)return!1;o=n.URL.createObjectURL(e)}r.download=e,r.href=o||t,r.style.display=\"none\",document.body.appendChild(r),r.click(),document.body.removeChild(r),o&&n.URL.revokeObjectURL(o)}function tt(t,e){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(Y(t),e)}function et(t){return null!=t&&void 0!==t&&\"/\"===t[0]&&\"/\"===t[1]}function nt(t){return f.test(t)}function rt(t){return h.test(t)||\"https\"===x.scheme&&et(t)}function ot(t){return a.test(t)||\"http\"===x.scheme&&et(t)}function it(t){return p.test(t)}function st(t){return et(t)?`http:${t}`:t.replace(h,\"http:\")}function ut(t){return et(t)?`https:${t}`:t.replace(a,\"https:\")}function lt(){return\"http\"===x.scheme}function ct(){return\"https\"===x.scheme}function ft(t,e=!1){return et(t)?t.slice(2):(t=t.replace(f,\"\"),e&&t.length>1&&\"/\"===t[0]&&\"/\"===t[1]&&(t=t.slice(2)),t)}function at(t){const e=t.indexOf(\"//\"),n=t.indexOf(\"/\",e+2);return-1===n?t:t.slice(0,n)}function ht(t){let e=0;if(Q(t)){const n=t.indexOf(\"//\");-1!==n&&(e=n+2)}const n=t.lastIndexOf(\"/\");return n<e?t:t.slice(0,n+1)}function pt(t,e){if(!t)return\"\";const n=U(t).path.replace(/\\/+$/,\"\"),r=n.substring(n.lastIndexOf(\"/\")+1);if(null==e||!e.length)return r;const o=new RegExp(`.(${e.join(\"|\")})$`,\"ig\");return r.replace(o,\"\")}function dt(t){return t&&\"/\"===t[t.length-1]?t:`${t}/`}function gt(t){return t.replace(/\\/+$/,\"\")}function mt(t){if(/^https?:\\/\\//i.test(t)){const e=v(t);t=(t=e.path.replace(/\\/{2,}/g,\"/\")).replace(\"/\",\"//\"),e.query&&(t+=`?${e.query}`)}return t}function yt(t){return t.replace(/^(https?:\\/\\/)(arcgis\\.com)/i,\"$1www.$2\")}function $t(t){const e=l.httpsDomains;if(!ot(t))return t;const n=t.indexOf(\"/\",7);let r;if(r=-1===n?t:t.slice(0,n),r=r.toLowerCase().slice(7),d.test(r)){if(!r.endsWith(\":80\"))return t;r=r.slice(0,-3),t=t.replace(\":80\",\"\")}return lt()&&r===x.authority&&!g.test(t)||(ct()&&r===x.authority||e&&e.some((t=>r===t||r.endsWith(`.${t}`)))||ct()&&!A(t))&&(t=ut(t)),t}function xt(t,e,n){if(!(e&&n&&t&&Q(t)))return t;const r=t.indexOf(\"//\"),o=t.indexOf(\"/\",r+2),i=t.indexOf(\":\",r+2),s=Math.min(o<0?t.length:o,i<0?t.length:i);if(t.slice(r+2,s).toLowerCase()!==e.toLowerCase())return t;return`${t.slice(0,r+2)}${n}${t.slice(s)}`}function Ot(t){return\"string\"==typeof t?new $(T(t)):(t.scheme||(t.scheme=x.scheme),t)}function wt(t){return Lt.test(t)}function Ut(t,e){const n=U(t),r=Object.keys(n.query||{});return r.length>0&&e&&e.warn(\"removeQueryParameters()\",`Url query parameters are not supported, the following parameters have been removed: ${r.join(\", \")}.`),n.path}function bt(t,e,n){const r=U(t),o=r.query||{};return o[e]=String(n),`${r.path}?${C(o)}`}function Rt(t,e){const n=U(t),r=n.query||{};for(const i in e)r[i]=e[i];const o=C(r);return o?`${n.path}?${o}`:n.path}function Ct(t,e){const{path:n,query:r}=U(t);if(!r)return t;delete r[e];const o=C(r);return o?`${n}?${o}`:n}function qt(t){if(s(t))return null;const e=t.match(jt);return e?e[1]:null}const jt=/.*?\\.([^\\/]*)$/,Lt=/(^data:image\\/svg|\\.svg$)/i;export{$ as Url,j as addProxy,S as addProxyRule,bt as addQueryParameter,Rt as addQueryParameters,w as appBaseUrl,x as appUrl,xt as changeDomain,V as dataComponents,H as dataToArrayBuffer,Y as dataToBlob,Z as downloadDataAsFile,pt as getFilename,B as getInterceptor,M as getOrigin,qt as getPathExtension,A as getProxyRule,q as getProxyUrl,nt as hasProtocol,E as hasSameOrigin,P as hasSamePortal,Q as isAbsolute,ct as isAppHTTPS,F as isBlobProtocol,G as isDataProtocol,rt as isHTTPSProtocol,et as isProtocolRelative,wt as isSVG,J as isTrustedServer,D as join,T as makeAbsolute,X as makeData,W as makeRelative,z as normalize,C as objectToQuery,b as queryToObject,ht as removeFile,Ct as removeQueryParameter,Ut as removeQueryParameters,gt as removeTrailingSlash,st as toHTTP,ut as toHTTPS,O as trustedServersUrlCache,U as urlToObject};\n"]},"metadata":{},"sourceType":"module"}