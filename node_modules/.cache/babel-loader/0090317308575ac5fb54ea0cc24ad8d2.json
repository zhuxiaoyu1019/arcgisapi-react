{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t, e, i = 32774, n = [0, 0, 0, 0]) {\n  return {\n    srcRgb: t,\n    srcAlpha: t,\n    dstRgb: e,\n    dstAlpha: e,\n    opRgb: i,\n    opAlpha: i,\n    color: {\n      r: n[0],\n      g: n[1],\n      b: n[2],\n      a: n[3]\n    }\n  };\n}\n\nfunction e(t, e, i, n, s = 32774, l = 32774, r = [0, 0, 0, 0]) {\n  return {\n    srcRgb: t,\n    srcAlpha: e,\n    dstRgb: i,\n    dstAlpha: n,\n    opRgb: s,\n    opAlpha: l,\n    color: {\n      r: r[0],\n      g: r[1],\n      b: r[2],\n      a: r[3]\n    }\n  };\n}\n\nconst i = {\n  face: 1029,\n  mode: 2305\n},\n      n = {\n  face: 1028,\n  mode: 2305\n},\n      s = t => 2 === t ? i : 1 === t ? n : null,\n      l = {\n  zNear: 0,\n  zFar: 1\n},\n      r = {\n  r: !0,\n  g: !0,\n  b: !0,\n  a: !0\n};\n\nfunction h(t) {\n  return I.intern(t);\n}\n\nfunction o(t) {\n  return S.intern(t);\n}\n\nfunction a(t) {\n  return T.intern(t);\n}\n\nfunction c(t) {\n  return O.intern(t);\n}\n\nfunction d(t) {\n  return w.intern(t);\n}\n\nfunction p(t) {\n  return D.intern(t);\n}\n\nfunction u(t) {\n  return A.intern(t);\n}\n\nfunction _(t) {\n  return k.intern(t);\n}\n\nfunction g(t) {\n  return B.intern(t);\n}\n\nclass f {\n  constructor(t, e) {\n    this.makeKey = t, this.makeRef = e, this.interns = new Map();\n  }\n\n  intern(t) {\n    if (!t) return null;\n    const e = this.makeKey(t),\n          i = this.interns;\n    return i.has(e) || i.set(e, this.makeRef(t)), i.get(e);\n  }\n\n}\n\nfunction v(t) {\n  return \"[\" + t.join(\",\") + \"]\";\n}\n\nconst I = new f(W, t => ({\n  __tag: \"Blending\",\n  ...t\n}));\n\nfunction W(t) {\n  return t ? v([t.srcRgb, t.srcAlpha, t.dstRgb, t.dstAlpha, t.opRgb, t.opAlpha, t.color.r, t.color.g, t.color.b, t.color.a]) : null;\n}\n\nconst S = new f(b, t => ({\n  __tag: \"Culling\",\n  ...t\n}));\n\nfunction b(t) {\n  return t ? v([t.face, t.mode]) : null;\n}\n\nconst T = new f(y, t => ({\n  __tag: \"PolygonOffset\",\n  ...t\n}));\n\nfunction y(t) {\n  return t ? v([t.factor, t.units]) : null;\n}\n\nconst O = new f(R, t => ({\n  __tag: \"DepthTest\",\n  ...t\n}));\n\nfunction R(t) {\n  return t ? v([t.func]) : null;\n}\n\nconst w = new f(C, t => ({\n  __tag: \"StencilTest\",\n  ...t\n}));\n\nfunction C(t) {\n  return t ? v([t.function.func, t.function.ref, t.function.mask, t.operation.fail, t.operation.zFail, t.operation.zPass]) : null;\n}\n\nconst D = new f(m, t => ({\n  __tag: \"DepthWrite\",\n  ...t\n}));\n\nfunction m(t) {\n  return t ? v([t.zNear, t.zFar]) : null;\n}\n\nconst A = new f(P, t => ({\n  __tag: \"ColorWrite\",\n  ...t\n}));\n\nfunction P(t) {\n  return t ? v([t.r, t.g, t.b, t.a]) : null;\n}\n\nconst k = new f(z, t => ({\n  __tag: \"StencilWrite\",\n  ...t\n}));\n\nfunction z(t) {\n  return t ? v([t.mask]) : null;\n}\n\nconst B = new f(F, t => ({\n  blending: h(t.blending),\n  culling: o(t.culling),\n  polygonOffset: a(t.polygonOffset),\n  depthTest: c(t.depthTest),\n  stencilTest: d(t.stencilTest),\n  depthWrite: p(t.depthWrite),\n  colorWrite: u(t.colorWrite),\n  stencilWrite: _(t.stencilWrite)\n}));\n\nfunction F(t) {\n  return t ? v([W(t.blending), b(t.culling), y(t.polygonOffset), R(t.depthTest), C(t.stencilTest), m(t.depthWrite), P(t.colorWrite), z(t.stencilWrite)]) : null;\n}\n\nclass K {\n  constructor(t) {\n    this._pipelineInvalid = !0, this._blendingInvalid = !0, this._cullingInvalid = !0, this._polygonOffsetInvalid = !0, this._depthTestInvalid = !0, this._stencilTestInvalid = !0, this._depthWriteInvalid = !0, this._colorWriteInvalid = !0, this._stencilWriteInvalid = !0, this._stateSetters = t;\n  }\n\n  setPipeline(t) {\n    (this._pipelineInvalid || t !== this._pipeline) && (this.setBlending(t.blending), this.setCulling(t.culling), this.setPolygonOffset(t.polygonOffset), this.setDepthTest(t.depthTest), this.setStencilTest(t.stencilTest), this.setDepthWrite(t.depthWrite), this.setColorWrite(t.colorWrite), this.setStencilWrite(t.stencilWrite), this._pipeline = t), this._pipelineInvalid = !1;\n  }\n\n  invalidateBlending() {\n    this._blendingInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateCulling() {\n    this._cullingInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidatePolygonOffset() {\n    this._polygonOffsetInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateDepthTest() {\n    this._depthTestInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateStencilTest() {\n    this._stencilTestInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateDepthWrite() {\n    this._depthWriteInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateColorWrite() {\n    this._colorWriteInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateStencilWrite() {\n    this._stencilTestInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  setBlending(t) {\n    this._blending = this.setSubState(t, this._blending, this._blendingInvalid, this._stateSetters.setBlending), this._blendingInvalid = !1;\n  }\n\n  setCulling(t) {\n    this._culling = this.setSubState(t, this._culling, this._cullingInvalid, this._stateSetters.setCulling), this._cullingInvalid = !1;\n  }\n\n  setPolygonOffset(t) {\n    this._polygonOffset = this.setSubState(t, this._polygonOffset, this._polygonOffsetInvalid, this._stateSetters.setPolygonOffset), this._polygonOffsetInvalid = !1;\n  }\n\n  setDepthTest(t) {\n    this._depthTest = this.setSubState(t, this._depthTest, this._depthTestInvalid, this._stateSetters.setDepthTest), this._depthTestInvalid = !1;\n  }\n\n  setStencilTest(t) {\n    this._stencilTest = this.setSubState(t, this._stencilTest, this._stencilTestInvalid, this._stateSetters.setStencilTest), this._stencilTestInvalid = !1;\n  }\n\n  setDepthWrite(t) {\n    this._depthWrite = this.setSubState(t, this._depthWrite, this._depthWriteInvalid, this._stateSetters.setDepthWrite), this._depthWriteInvalid = !1;\n  }\n\n  setColorWrite(t) {\n    this._colorWrite = this.setSubState(t, this._colorWrite, this._colorWriteInvalid, this._stateSetters.setColorWrite), this._colorWriteInvalid = !1;\n  }\n\n  setStencilWrite(t) {\n    this._stencilWrite = this.setSubState(t, this._stencilWrite, this._stencilWriteInvalid, this._stateSetters.setStencilWrite), this._stencilTestInvalid = !1;\n  }\n\n  setSubState(t, e, i, n) {\n    return (i || t !== e) && (n(t), this._pipelineInvalid = !0), t;\n  }\n\n}\n\nexport { K as StateTracker, i as backFaceCullingParams, s as cullingParams, r as defaultColorWriteParams, l as defaultDepthWriteParams, n as frontFaceCullingParams, h as makeBlending, u as makeColorWrite, o as makeCulling, c as makeDepthTest, p as makeDepthWrite, g as makePipelineState, a as makePolygonOffset, d as makeStencilTest, _ as makeStencilWrite, e as separateBlendingParams, t as simpleBlendingParams };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/webgl/renderState.js"],"names":["t","e","i","n","srcRgb","srcAlpha","dstRgb","dstAlpha","opRgb","opAlpha","color","r","g","b","a","s","l","face","mode","zNear","zFar","h","I","intern","o","S","T","c","O","d","w","p","D","u","A","_","k","B","f","constructor","makeKey","makeRef","interns","Map","has","set","get","v","join","W","__tag","y","factor","units","R","func","C","function","ref","mask","operation","fail","zFail","zPass","m","P","z","F","blending","culling","polygonOffset","depthTest","stencilTest","depthWrite","colorWrite","stencilWrite","K","_pipelineInvalid","_blendingInvalid","_cullingInvalid","_polygonOffsetInvalid","_depthTestInvalid","_stencilTestInvalid","_depthWriteInvalid","_colorWriteInvalid","_stencilWriteInvalid","_stateSetters","setPipeline","_pipeline","setBlending","setCulling","setPolygonOffset","setDepthTest","setStencilTest","setDepthWrite","setColorWrite","setStencilWrite","invalidateBlending","invalidateCulling","invalidatePolygonOffset","invalidateDepthTest","invalidateStencilTest","invalidateDepthWrite","invalidateColorWrite","invalidateStencilWrite","_blending","setSubState","_culling","_polygonOffset","_depthTest","_stencilTest","_depthWrite","_colorWrite","_stencilWrite","StateTracker","backFaceCullingParams","cullingParams","defaultColorWriteParams","defaultDepthWriteParams","frontFaceCullingParams","makeBlending","makeColorWrite","makeCulling","makeDepthTest","makeDepthWrite","makePipelineState","makePolygonOffset","makeStencilTest","makeStencilWrite","separateBlendingParams","simpleBlendingParams"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e,i=32774,n=[0,0,0,0]){return{srcRgb:t,srcAlpha:t,dstRgb:e,dstAlpha:e,opRgb:i,opAlpha:i,color:{r:n[0],g:n[1],b:n[2],a:n[3]}}}function e(t,e,i,n,s=32774,l=32774,r=[0,0,0,0]){return{srcRgb:t,srcAlpha:e,dstRgb:i,dstAlpha:n,opRgb:s,opAlpha:l,color:{r:r[0],g:r[1],b:r[2],a:r[3]}}}const i={face:1029,mode:2305},n={face:1028,mode:2305},s=t=>2===t?i:1===t?n:null,l={zNear:0,zFar:1},r={r:!0,g:!0,b:!0,a:!0};function h(t){return I.intern(t)}function o(t){return S.intern(t)}function a(t){return T.intern(t)}function c(t){return O.intern(t)}function d(t){return w.intern(t)}function p(t){return D.intern(t)}function u(t){return A.intern(t)}function _(t){return k.intern(t)}function g(t){return B.intern(t)}class f{constructor(t,e){this.makeKey=t,this.makeRef=e,this.interns=new Map}intern(t){if(!t)return null;const e=this.makeKey(t),i=this.interns;return i.has(e)||i.set(e,this.makeRef(t)),i.get(e)}}function v(t){return\"[\"+t.join(\",\")+\"]\"}const I=new f(W,(t=>({__tag:\"Blending\",...t})));function W(t){return t?v([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}const S=new f(b,(t=>({__tag:\"Culling\",...t})));function b(t){return t?v([t.face,t.mode]):null}const T=new f(y,(t=>({__tag:\"PolygonOffset\",...t})));function y(t){return t?v([t.factor,t.units]):null}const O=new f(R,(t=>({__tag:\"DepthTest\",...t})));function R(t){return t?v([t.func]):null}const w=new f(C,(t=>({__tag:\"StencilTest\",...t})));function C(t){return t?v([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}const D=new f(m,(t=>({__tag:\"DepthWrite\",...t})));function m(t){return t?v([t.zNear,t.zFar]):null}const A=new f(P,(t=>({__tag:\"ColorWrite\",...t})));function P(t){return t?v([t.r,t.g,t.b,t.a]):null}const k=new f(z,(t=>({__tag:\"StencilWrite\",...t})));function z(t){return t?v([t.mask]):null}const B=new f(F,(t=>({blending:h(t.blending),culling:o(t.culling),polygonOffset:a(t.polygonOffset),depthTest:c(t.depthTest),stencilTest:d(t.stencilTest),depthWrite:p(t.depthWrite),colorWrite:u(t.colorWrite),stencilWrite:_(t.stencilWrite)})));function F(t){return t?v([W(t.blending),b(t.culling),y(t.polygonOffset),R(t.depthTest),C(t.stencilTest),m(t.depthWrite),P(t.colorWrite),z(t.stencilWrite)]):null}class K{constructor(t){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=t}setPipeline(t){(this._pipelineInvalid||t!==this._pipeline)&&(this.setBlending(t.blending),this.setCulling(t.culling),this.setPolygonOffset(t.polygonOffset),this.setDepthTest(t.depthTest),this.setStencilTest(t.stencilTest),this.setDepthWrite(t.depthWrite),this.setColorWrite(t.colorWrite),this.setStencilWrite(t.stencilWrite),this._pipeline=t),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}setBlending(t){this._blending=this.setSubState(t,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}setCulling(t){this._culling=this.setSubState(t,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}setPolygonOffset(t){this._polygonOffset=this.setSubState(t,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}setDepthTest(t){this._depthTest=this.setSubState(t,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}setStencilTest(t){this._stencilTest=this.setSubState(t,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}setDepthWrite(t){this._depthWrite=this.setSubState(t,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}setColorWrite(t){this._colorWrite=this.setSubState(t,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}setStencilWrite(t){this._stencilWrite=this.setSubState(t,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}setSubState(t,e,i,n){return(i||t!==e)&&(n(t),this._pipelineInvalid=!0),t}}export{K as StateTracker,i as backFaceCullingParams,s as cullingParams,r as defaultColorWriteParams,l as defaultDepthWriteParams,n as frontFaceCullingParams,h as makeBlending,u as makeColorWrite,o as makeCulling,c as makeDepthTest,p as makeDepthWrite,g as makePipelineState,a as makePolygonOffset,d as makeStencilTest,_ as makeStencilWrite,e as separateBlendingParams,t as simpleBlendingParams};\n"]},"metadata":{},"sourceType":"module"}