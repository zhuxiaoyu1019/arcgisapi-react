{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { clone as n } from \"../../core/lang.js\";\nimport t from \"../SpatialReference.js\";\nimport { earth as e } from \"./Ellipsoid.js\";\nimport { equals as i, isWebMercator as r, isWGS84 as s } from \"./spatialReferenceUtils.js\";\nconst a = 57.29577951308232,\n      o = .017453292519943;\n\nfunction u(n) {\n  return n * a;\n}\n\nfunction l(n) {\n  return n * o;\n}\n\nfunction p(n) {\n  return n / e.radius;\n}\n\nfunction c(n) {\n  return Math.PI / 2 - 2 * Math.atan(Math.exp(-1 * n / e.radius));\n}\n\nfunction f(n) {\n  return null != n.wkid || null != n.wkt;\n}\n\nconst h = [0, 0];\n\nfunction m(n, t, e, i, r) {\n  const s = n,\n        a = r;\n  if (a.spatialReference = e, \"x\" in s && \"x\" in a) [a.x, a.y] = t(s.x, s.y, h, i);else if (\"xmin\" in s && \"xmin\" in a) [a.xmin, a.ymin] = t(s.xmin, s.ymin, h, i), [a.xmax, a.ymax] = t(s.xmax, s.ymax, h, i);else if (\"paths\" in s && \"paths\" in a || \"rings\" in s && \"rings\" in a) {\n    const n = \"paths\" in s ? s.paths : s.rings,\n          e = [];\n    let r;\n\n    for (let s = 0; s < n.length; s++) {\n      const a = n[s];\n      r = [], e.push(r);\n\n      for (let n = 0; n < a.length; n++) r.push(t(a[n][0], a[n][1], [0, 0], i)), a[n].length > 2 && r[n].push(a[n][2]), a[n].length > 3 && r[n].push(a[n][3]);\n    }\n\n    \"paths\" in a ? a.paths = e : a.rings = e;\n  } else if (\"points\" in s && \"points\" in a) {\n    const n = s.points,\n          e = [];\n\n    for (let r = 0; r < n.length; r++) e[r] = t(n[r][0], n[r][1], [0, 0], i), n[r].length > 2 && e[r].push(n[r][2]), n[r].length > 3 && e[r].push(n[r][3]);\n\n    a.points = e;\n  }\n  return r;\n}\n\nfunction x(n, t) {\n  const e = n && (f(n) ? n : n.spatialReference),\n        a = t && (f(t) ? t : t.spatialReference);\n  return !(n && \"type\" in n && \"mesh\" === n.type || t && \"type\" in t && \"mesh\" === t.type || !e || !a) && (!!i(a, e) || r(a) && s(e) || r(e) && s(a));\n}\n\nfunction g(e, a) {\n  const o = e && e.spatialReference,\n        u = a && (f(a) ? a : a.spatialReference);\n  return x(o, u) ? i(o, u) ? n(e) : r(u) ? m(e, M, t.WebMercator, !1, n(e)) : s(u) ? m(e, y, t.WGS84, !1, n(e)) : null : null;\n}\n\nfunction M(n, t, i = [0, 0]) {\n  t > 89.99999 ? t = 89.99999 : t < -89.99999 && (t = -89.99999);\n  const r = l(t);\n  return i[0] = l(n) * e.radius, i[1] = e.halfSemiMajorAxis * Math.log((1 + Math.sin(r)) / (1 - Math.sin(r))), i;\n}\n\nfunction y(n, t, i = [0, 0], r = !1) {\n  const s = u(n / e.radius);\n  return i[0] = r ? s : s - 360 * Math.floor((s + 180) / 360), i[1] = u(Math.PI / 2 - 2 * Math.atan(Math.exp(-1 * t / e.radius))), i;\n}\n\nfunction d(e, i = !1, r = n(e)) {\n  return m(e, M, t.WebMercator, i, r);\n}\n\nfunction R(e, i = !1, r = n(e)) {\n  return m(e, y, t.WGS84, i, r);\n}\n\nexport { x as canProject, d as geographicToWebMercator, M as lngLatToXY, g as project, R as webMercatorToGeographic, p as x2lon, y as xyToLngLat, c as y2lat };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/geometry/support/webMercatorUtils.js"],"names":["clone","n","t","earth","e","equals","i","isWebMercator","r","isWGS84","s","a","o","u","l","p","radius","c","Math","PI","atan","exp","f","wkid","wkt","h","m","spatialReference","x","y","xmin","ymin","xmax","ymax","paths","rings","length","push","points","type","g","M","WebMercator","WGS84","halfSemiMajorAxis","log","sin","floor","d","R","canProject","geographicToWebMercator","lngLatToXY","project","webMercatorToGeographic","x2lon","xyToLngLat","y2lat"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as n}from\"../../core/lang.js\";import t from\"../SpatialReference.js\";import{earth as e}from\"./Ellipsoid.js\";import{equals as i,isWebMercator as r,isWGS84 as s}from\"./spatialReferenceUtils.js\";const a=57.29577951308232,o=.017453292519943;function u(n){return n*a}function l(n){return n*o}function p(n){return n/e.radius}function c(n){return Math.PI/2-2*Math.atan(Math.exp(-1*n/e.radius))}function f(n){return null!=n.wkid||null!=n.wkt}const h=[0,0];function m(n,t,e,i,r){const s=n,a=r;if(a.spatialReference=e,\"x\"in s&&\"x\"in a)[a.x,a.y]=t(s.x,s.y,h,i);else if(\"xmin\"in s&&\"xmin\"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,h,i),[a.xmax,a.ymax]=t(s.xmax,s.ymax,h,i);else if(\"paths\"in s&&\"paths\"in a||\"rings\"in s&&\"rings\"in a){const n=\"paths\"in s?s.paths:s.rings,e=[];let r;for(let s=0;s<n.length;s++){const a=n[s];r=[],e.push(r);for(let n=0;n<a.length;n++)r.push(t(a[n][0],a[n][1],[0,0],i)),a[n].length>2&&r[n].push(a[n][2]),a[n].length>3&&r[n].push(a[n][3])}\"paths\"in a?a.paths=e:a.rings=e}else if(\"points\"in s&&\"points\"in a){const n=s.points,e=[];for(let r=0;r<n.length;r++)e[r]=t(n[r][0],n[r][1],[0,0],i),n[r].length>2&&e[r].push(n[r][2]),n[r].length>3&&e[r].push(n[r][3]);a.points=e}return r}function x(n,t){const e=n&&(f(n)?n:n.spatialReference),a=t&&(f(t)?t:t.spatialReference);return!(n&&\"type\"in n&&\"mesh\"===n.type||t&&\"type\"in t&&\"mesh\"===t.type||!e||!a)&&(!!i(a,e)||(r(a)&&s(e)||r(e)&&s(a)))}function g(e,a){const o=e&&e.spatialReference,u=a&&(f(a)?a:a.spatialReference);return x(o,u)?i(o,u)?n(e):r(u)?m(e,M,t.WebMercator,!1,n(e)):s(u)?m(e,y,t.WGS84,!1,n(e)):null:null}function M(n,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=l(t);return i[0]=l(n)*e.radius,i[1]=e.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function y(n,t,i=[0,0],r=!1){const s=u(n/e.radius);return i[0]=r?s:s-360*Math.floor((s+180)/360),i[1]=u(Math.PI/2-2*Math.atan(Math.exp(-1*t/e.radius))),i}function d(e,i=!1,r=n(e)){return m(e,M,t.WebMercator,i,r)}function R(e,i=!1,r=n(e)){return m(e,y,t.WGS84,i,r)}export{x as canProject,d as geographicToWebMercator,M as lngLatToXY,g as project,R as webMercatorToGeographic,p as x2lon,y as xyToLngLat,c as y2lat};\n"]},"metadata":{},"sourceType":"module"}