{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n, t) {\n  return n ? t ? 4 : 3 : t ? 3 : 2;\n}\n\nfunction t(t, I, o, u, l) {\n  if (!I || !I.lengths.length) return null;\n  const N = \"upperLeft\" === (null == l ? void 0 : l.originPosition) ? -1 : 1;\n  t.lengths.length && (t.lengths.length = 0), t.coords.length && (t.coords.length = 0);\n  const s = t.coords,\n        c = [],\n        f = o ? [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY] : [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY],\n        {\n    lengths: i,\n    coords: T\n  } = I,\n        h = n(o, u);\n  let g = 0;\n\n  for (const n of i) {\n    const t = e(f, T, g, n, o, u, N);\n    t && c.push(t), g += n * h;\n  }\n\n  if (c.sort((n, t) => {\n    let e = N * n[2] - N * t[2];\n    return 0 === e && o && (e = n[4] - t[4]), e;\n  }), c.length) {\n    let n = 6 * c[0][2];\n    s[0] = c[0][0] / n, s[1] = c[0][1] / n, o && (n = 6 * c[0][4], s[2] = 0 !== n ? c[0][3] / n : 0), (s[0] < f[0] || s[0] > f[1] || s[1] < f[2] || s[1] > f[3] || o && (s[2] < f[4] || s[2] > f[5])) && (s.length = 0);\n  }\n\n  if (!s.length) {\n    const n = I.lengths[0] ? r(T, 0, i[0], o, u) : null;\n    if (!n) return null;\n    s[0] = n[0], s[1] = n[1], o && n.length > 2 && (s[2] = n[2]);\n  }\n\n  return t;\n}\n\nfunction e(t, e, r, I, o, u, l = 1) {\n  const N = n(o, u);\n  let s = r,\n      c = r + N,\n      f = 0,\n      i = 0,\n      T = 0,\n      h = 0,\n      g = 0;\n\n  for (let n = 0, b = I - 1; n < b; n++, s += N, c += N) {\n    const n = e[s],\n          r = e[s + 1],\n          I = e[s + 2],\n          u = e[c],\n          l = e[c + 1],\n          N = e[c + 2];\n    let E = n * l - u * r;\n    h += E, f += (n + u) * E, i += (r + l) * E, o && (E = n * N - u * I, T += (I + N) * E, g += E), n < t[0] && (t[0] = n), n > t[1] && (t[1] = n), r < t[2] && (t[2] = r), r > t[3] && (t[3] = r), o && (I < t[4] && (t[4] = I), I > t[5] && (t[5] = I));\n  }\n\n  if (h * l > 0 && (h *= -1), g * l > 0 && (g *= -1), !h) return null;\n  const E = [f, i, .5 * h];\n  return o && (E[3] = T, E[4] = .5 * g), E;\n}\n\nfunction r(t, e, r, N, s) {\n  const c = n(N, s);\n  let f = e,\n      i = e + c,\n      T = 0,\n      h = 0,\n      g = 0,\n      E = 0;\n\n  for (let n = 0, b = r - 1; n < b; n++, f += c, i += c) {\n    const n = t[f],\n          e = t[f + 1],\n          r = t[f + 2],\n          s = t[i],\n          c = t[i + 1],\n          b = t[i + 2],\n          m = N ? o(n, e, r, s, c, b) : I(n, e, s, c);\n    if (m) if (T += m, N) {\n      const t = l(n, e, r, s, c, b);\n      h += m * t[0], g += m * t[1], E += m * t[2];\n    } else {\n      const t = u(n, e, s, c);\n      h += m * t[0], g += m * t[1];\n    }\n  }\n\n  return T > 0 ? N ? [h / T, g / T, E / T] : [h / T, g / T] : r > 0 ? N ? [t[e], t[e + 1], t[e + 2]] : [t[e], t[e + 1]] : null;\n}\n\nfunction I(n, t, e, r) {\n  const I = e - n,\n        o = r - t;\n  return Math.sqrt(I * I + o * o);\n}\n\nfunction o(n, t, e, r, I, o) {\n  const u = r - n,\n        l = I - t,\n        N = o - e;\n  return Math.sqrt(u * u + l * l + N * N);\n}\n\nfunction u(n, t, e, r) {\n  return [n + .5 * (e - n), t + .5 * (r - t)];\n}\n\nfunction l(n, t, e, r, I, o) {\n  return [n + .5 * (r - n), t + .5 * (I - t), e + .5 * (o - e)];\n}\n\nexport { t as getCentroidOptimizedGeometry, r as lineCentroid };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/layers/graphics/centroid.js"],"names":["n","t","I","o","u","l","lengths","length","N","originPosition","coords","s","c","f","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","i","T","h","g","e","push","sort","r","b","E","m","Math","sqrt","getCentroidOptimizedGeometry","lineCentroid"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(t,I,o,u,l){if(!I||!I.lengths.length)return null;const N=\"upperLeft\"===(null==l?void 0:l.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const s=t.coords,c=[],f=o?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:i,coords:T}=I,h=n(o,u);let g=0;for(const n of i){const t=e(f,T,g,n,o,u,N);t&&c.push(t),g+=n*h}if(c.sort(((n,t)=>{let e=N*n[2]-N*t[2];return 0===e&&o&&(e=n[4]-t[4]),e})),c.length){let n=6*c[0][2];s[0]=c[0][0]/n,s[1]=c[0][1]/n,o&&(n=6*c[0][4],s[2]=0!==n?c[0][3]/n:0),(s[0]<f[0]||s[0]>f[1]||s[1]<f[2]||s[1]>f[3]||o&&(s[2]<f[4]||s[2]>f[5]))&&(s.length=0)}if(!s.length){const n=I.lengths[0]?r(T,0,i[0],o,u):null;if(!n)return null;s[0]=n[0],s[1]=n[1],o&&n.length>2&&(s[2]=n[2])}return t}function e(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,b=I-1;n<b;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function r(t,e,r,N,s){const c=n(N,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,b=r-1;n<b;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],b=t[i+2],m=N?o(n,e,r,s,c,b):I(n,e,s,c);if(m)if(T+=m,N){const t=l(n,e,r,s,c,b);h+=m*t[0],g+=m*t[1],E+=m*t[2]}else{const t=u(n,e,s,c);h+=m*t[0],g+=m*t[1]}}return T>0?N?[h/T,g/T,E/T]:[h/T,g/T]:r>0?N?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function I(n,t,e,r){const I=e-n,o=r-t;return Math.sqrt(I*I+o*o)}function o(n,t,e,r,I,o){const u=r-n,l=I-t,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function u(n,t,e,r){return[n+.5*(e-n),t+.5*(r-t)]}function l(n,t,e,r,I,o){return[n+.5*(r-n),t+.5*(I-t),e+.5*(o-e)]}export{t as getCentroidOptimizedGeometry,r as lineCentroid};\n"]},"metadata":{},"sourceType":"module"}