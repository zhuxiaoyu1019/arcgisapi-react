{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../../chunks/tslib.es6.js\";\nimport { ReloadableShaderModule as o } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as r, parameter as e } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as s } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as a } from \"../lib/Program.js\";\nimport { H as n } from \"../../../../chunks/HighlightComposition.glsl.js\";\nimport { makePipelineState as l, separateBlendingParams as h, defaultColorWriteParams as c } from \"../../../webgl/renderState.js\";\nconst m = 8.6,\n      p = .4;\n\nclass g extends t {\n  initializeProgram(i) {\n    const o = g.shader.get().build(this.configuration);\n    return new a(i.rctx, o, s);\n  }\n\n  bindApplyPass(i) {\n    this.program.setUniform4fv(\"color\", i.color), this.program.setUniform4fv(\"haloColor\", i.haloColor), this.program.setUniform1f(\"outlineSize\", m), this.program.setUniform1f(\"blurSize\", p), this.program.setUniform4f(\"opacities\", i.haloOpacity, i.haloOpacityOccluded, i.fillOpacity, i.fillOpacityOccluded);\n  }\n\n  initializePipeline() {\n    return 1 === this.configuration.highlightStage ? l({\n      blending: h(770, 1, 771, 771),\n      colorWrite: c\n    }) : l({\n      colorWrite: c\n    });\n  }\n\n  get primitiveType() {\n    return this.configuration.gridOptimization ? 4 : 5;\n  }\n\n}\n\ng.shader = new o(n, () => import(\"./HighlightComposition.glsl.js\"));\n\nclass d extends r {\n  constructor() {\n    super(...arguments), this.highlightStage = 0, this.gridOptimization = !1;\n  }\n\n}\n\ni([e({\n  count: 3\n})], d.prototype, \"highlightStage\", void 0), i([e()], d.prototype, \"gridOptimization\", void 0);\nexport { g as HighlightCompositionTechnique, d as HighlightCompositionTechniqueConfiguration };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightTechnique.js"],"names":["_","i","ReloadableShaderModule","o","ShaderTechnique","t","ShaderTechniqueConfiguration","r","parameter","e","Default3D","s","Program","a","H","n","makePipelineState","l","separateBlendingParams","h","defaultColorWriteParams","c","m","p","g","initializeProgram","shader","get","build","configuration","rctx","bindApplyPass","program","setUniform4fv","color","haloColor","setUniform1f","setUniform4f","haloOpacity","haloOpacityOccluded","fillOpacity","fillOpacityOccluded","initializePipeline","highlightStage","blending","colorWrite","primitiveType","gridOptimization","d","constructor","arguments","count","prototype","HighlightCompositionTechnique","HighlightCompositionTechniqueConfiguration"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as r,parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../lib/Program.js\";import{H as n}from\"../../../../chunks/HighlightComposition.glsl.js\";import{makePipelineState as l,separateBlendingParams as h,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";const m=8.6,p=.4;class g extends t{initializeProgram(i){const o=g.shader.get().build(this.configuration);return new a(i.rctx,o,s)}bindApplyPass(i){this.program.setUniform4fv(\"color\",i.color),this.program.setUniform4fv(\"haloColor\",i.haloColor),this.program.setUniform1f(\"outlineSize\",m),this.program.setUniform1f(\"blurSize\",p),this.program.setUniform4f(\"opacities\",i.haloOpacity,i.haloOpacityOccluded,i.fillOpacity,i.fillOpacityOccluded)}initializePipeline(){return 1===this.configuration.highlightStage?l({blending:h(770,1,771,771),colorWrite:c}):l({colorWrite:c})}get primitiveType(){return this.configuration.gridOptimization?4:5}}g.shader=new o(n,(()=>import(\"./HighlightComposition.glsl.js\")));class d extends r{constructor(){super(...arguments),this.highlightStage=0,this.gridOptimization=!1}}i([e({count:3})],d.prototype,\"highlightStage\",void 0),i([e()],d.prototype,\"gridOptimization\",void 0);export{g as HighlightCompositionTechnique,d as HighlightCompositionTechniqueConfiguration};\n"]},"metadata":{},"sourceType":"module"}