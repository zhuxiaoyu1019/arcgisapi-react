{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { setDeepValue as r } from \"../../../object.js\";\nimport { isCollection as t } from \"./type.js\";\n\nfunction n(r, n) {\n  var i;\n  if (!n.write || n.write.writer || !1 === n.write.enabled && !n.write.overridePolicy) return;\n  const o = null != (i = null == r ? void 0 : r.ndimArray) ? i : 0;\n  r && (1 === o || \"type\" in r && t(r.type)) ? n.write.writer = u : n.write.writer = o > 1 ? l(o) : e;\n}\n\nfunction e(t, n, e, o) {\n  r(e, i(t, o), n);\n}\n\nfunction i(r, t) {\n  return r && \"function\" == typeof r.write ? r.write({}, t) : r && \"function\" == typeof r.toJSON ? r.toJSON() : \"number\" == typeof r ? o(r) : r;\n}\n\nfunction o(r) {\n  return r === -1 / 0 ? -Number.MAX_VALUE : r === 1 / 0 ? Number.MAX_VALUE : isNaN(r) ? null : r;\n}\n\nfunction u(t, n, e, o) {\n  let u;\n  null === t ? u = null : t && \"function\" == typeof t.map ? (u = t.map(r => i(r, o)), \"function\" == typeof u.toArray && (u = u.toArray())) : u = [i(t, o)], r(e, u, n);\n}\n\nfunction f(r, t, n) {\n  return 0 !== n && Array.isArray(r) ? r.map(r => f(r, t, n - 1)) : i(r, t);\n}\n\nfunction l(t) {\n  return function (n, e, i, o) {\n    let u;\n    if (null === n) u = null;else {\n      u = f(n, o, t);\n      let r = t,\n          e = u;\n\n      for (; r > 0 && Array.isArray(e);) r--, e = e[0];\n\n      if (void 0 !== e) for (let t = 0; t < r; t++) u = [u];\n    }\n    r(i, u, e);\n  };\n}\n\nexport { n as create, o as numberToJSON };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js"],"names":["setDeepValue","r","isCollection","t","n","i","write","writer","enabled","overridePolicy","o","ndimArray","type","u","l","e","toJSON","Number","MAX_VALUE","isNaN","map","toArray","f","Array","isArray","create","numberToJSON"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{setDeepValue as r}from\"../../../object.js\";import{isCollection as t}from\"./type.js\";function n(r,n){var i;if(!n.write||n.write.writer||!1===n.write.enabled&&!n.write.overridePolicy)return;const o=null!=(i=null==r?void 0:r.ndimArray)?i:0;r&&(1===o||\"type\"in r&&t(r.type))?n.write.writer=u:n.write.writer=o>1?l(o):e}function e(t,n,e,o){r(e,i(t,o),n)}function i(r,t){return r&&\"function\"==typeof r.write?r.write({},t):r&&\"function\"==typeof r.toJSON?r.toJSON():\"number\"==typeof r?o(r):r}function o(r){return r===-1/0?-Number.MAX_VALUE:r===1/0?Number.MAX_VALUE:isNaN(r)?null:r}function u(t,n,e,o){let u;null===t?u=null:t&&\"function\"==typeof t.map?(u=t.map((r=>i(r,o))),\"function\"==typeof u.toArray&&(u=u.toArray())):u=[i(t,o)],r(e,u,n)}function f(r,t,n){return 0!==n&&Array.isArray(r)?r.map((r=>f(r,t,n-1))):i(r,t)}function l(t){return function(n,e,i,o){let u;if(null===n)u=null;else{u=f(n,o,t);let r=t,e=u;for(;r>0&&Array.isArray(e);)r--,e=e[0];if(void 0!==e)for(let t=0;t<r;t++)u=[u]}r(i,u,e)}}export{n as create,o as numberToJSON};\n"]},"metadata":{},"sourceType":"module"}