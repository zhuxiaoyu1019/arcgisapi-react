{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Accessor.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport \"../../libs/maquette/projection.js\";\nimport { h as r } from \"../../libs/maquette/h.js\";\nimport \"../../libs/maquette/projector.js\";\nconst s = {\n  bottom: \"esri-text-overlay-item-anchor-bottom\",\n  \"bottom-right\": \"esri-text-overlay-item-anchor-bottom-right\",\n  \"bottom-left\": \"esri-text-overlay-item-anchor-bottom-left\",\n  top: \"esri-text-overlay-item-anchor-top\",\n  \"top-right\": \"esri-text-overlay-item-anchor-top-right\",\n  \"top-left\": \"esri-text-overlay-item-anchor-top-left\",\n  center: \"esri-text-overlay-item-anchor-center\",\n  right: \"esri-text-overlay-item-anchor-right\",\n  left: \"esri-text-overlay-item-anchor-left\"\n};\nlet l = class extends e {\n  constructor(t) {\n    super(t), this.x = 0, this.y = 0, this.text = \"-\", this.fontSize = 14, this.anchor = \"center\", this.visible = !0, this.backgroundColor = \"rgba(0, 0, 0, 0.6)\", this.textColor = \"white\", this.textShadowColor = [0, 0, 0], this.textShadowSize = 1;\n  }\n\n  get position() {\n    return [this.x, this.y];\n  }\n\n  set position(t) {\n    this._set(\"x\", t[0]), this._set(\"y\", t[1]);\n  }\n\n  get padding() {\n    return .5 * this.fontSize;\n  }\n\n  render() {\n    return r(\"div\", {\n      classes: this._cssClasses(),\n      styles: {\n        left: Math.floor(this.x) + \"px\",\n        top: Math.floor(this.y) + \"px\",\n        visibility: this.visible ? \"visible\" : \"hidden\",\n        fontSize: this.fontSize + \"px\",\n        backgroundColor: this.backgroundColor,\n        color: this.textColor,\n        padding: this.padding + \"px\",\n        borderRadius: this.padding + \"px\",\n        textShadow: `0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`\n      }\n    }, [this.text]);\n  }\n\n  renderCanvas(t) {\n    if (!this.visible) return;\n    const e = t.font.replace(/^(.*?)px/, \"\");\n    t.font = `${this.fontSize}px ${e}`;\n    const o = this.padding,\n          i = this.padding,\n          r = t.measureText(this.text).width,\n          s = this.fontSize,\n          l = h[this.anchor];\n    t.textAlign = \"center\", t.textBaseline = \"middle\";\n    const n = r + 2 * o,\n          a = s + 2 * o,\n          x = this.x + l.x * n,\n          c = this.y + l.y * a;\n    this.roundedRect(t, x, c, n, a, i), t.fillStyle = this.backgroundColor, t.fill();\n    const p = this.x + (l.x + .5) * n,\n          d = this.y + (l.y + .5) * a;\n    this._renderTextShadow(t, this.text, p, d), t.fillStyle = this.textColor, t.fillText(this.text, p, d);\n  }\n\n  _renderTextShadow(t, e, o, i) {\n    t.lineJoin = \"miter\", t.fillStyle = `rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1 / n.length})`;\n    const r = this.textShadowSize;\n\n    for (const [s, l] of n) t.fillText(e, o + r * s, i + r * l);\n  }\n\n  roundedRect(t, e, o, i, r, s) {\n    t.beginPath(), t.moveTo(e, o + s), t.arcTo(e, o, e + s, o, s), t.lineTo(e + i - s, o), t.arcTo(e + i, o, e + i, o + s, s), t.lineTo(e + i, o + r - s), t.arcTo(e + i, o + r, e + i - s, o + r, s), t.lineTo(e + s, o + r), t.arcTo(e, o + r, e, o + r - s, s), t.closePath();\n  }\n\n  _cssClasses() {\n    const t = {\n      \"esri-text-overlay-item\": !0\n    };\n\n    for (const e in s) t[s[e]] = this.anchor === e;\n\n    return t;\n  }\n\n};\nt([o()], l.prototype, \"x\", void 0), t([o()], l.prototype, \"y\", void 0), t([o()], l.prototype, \"position\", null), t([o()], l.prototype, \"text\", void 0), t([o()], l.prototype, \"fontSize\", void 0), t([o()], l.prototype, \"anchor\", void 0), t([o()], l.prototype, \"visible\", void 0), t([o()], l.prototype, \"padding\", null), l = t([i(\"esri.views.overlay.TextOverlayItem\")], l);\nconst h = {\n  bottom: {\n    x: -.5,\n    y: -1,\n    textAlign: \"center\",\n    textBaseline: \"bottom\"\n  },\n  \"bottom-left\": {\n    x: 0,\n    y: -1,\n    textAlign: \"left\",\n    textBaseline: \"bottom\"\n  },\n  \"bottom-right\": {\n    x: -1,\n    y: -1,\n    textAlign: \"right\",\n    textBaseline: \"bottom\"\n  },\n  center: {\n    x: -.5,\n    y: -.5,\n    textAlign: \"center\",\n    textBaseline: \"middle\"\n  },\n  left: {\n    x: 0,\n    y: -.5,\n    textAlign: \"left\",\n    textBaseline: \"middle\"\n  },\n  right: {\n    x: -1,\n    y: -.5,\n    textAlign: \"right\",\n    textBaseline: \"middle\"\n  },\n  top: {\n    x: -.5,\n    y: 0,\n    textAlign: \"center\",\n    textBaseline: \"top\"\n  },\n  \"top-left\": {\n    x: 0,\n    y: 0,\n    textAlign: \"left\",\n    textBaseline: \"top\"\n  },\n  \"top-right\": {\n    x: -1,\n    y: 0,\n    textAlign: \"right\",\n    textBaseline: \"top\"\n  }\n},\n      n = [];\n{\n  const t = 16;\n\n  for (let e = 0; e < 360; e += 360 / t) n.push([Math.cos(Math.PI * e / 180), Math.sin(Math.PI * e / 180)]);\n}\nvar a = l;\nexport default a;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/overlay/TextOverlayItem.js"],"names":["_","t","e","property","o","subclass","i","h","r","s","bottom","top","center","right","left","l","constructor","x","y","text","fontSize","anchor","visible","backgroundColor","textColor","textShadowColor","textShadowSize","position","_set","padding","render","classes","_cssClasses","styles","Math","floor","visibility","color","borderRadius","textShadow","renderCanvas","font","replace","measureText","width","textAlign","textBaseline","n","a","c","roundedRect","fillStyle","fill","p","d","_renderTextShadow","fillText","lineJoin","length","beginPath","moveTo","arcTo","lineTo","closePath","prototype","push","cos","PI","sin"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends e{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,c=this.y+l.y*a;this.roundedRect(t,x,c,n,a,i),t.fillStyle=this.backgroundColor,t.fill();const p=this.x+(l.x+.5)*n,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,p,d),t.fillStyle=this.textColor,t.fillText(this.text,p,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/n.length})`;const r=this.textShadowSize;for(const[s,l]of n)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([o()],l.prototype,\"x\",void 0),t([o()],l.prototype,\"y\",void 0),t([o()],l.prototype,\"position\",null),t([o()],l.prototype,\"text\",void 0),t([o()],l.prototype,\"fontSize\",void 0),t([o()],l.prototype,\"anchor\",void 0),t([o()],l.prototype,\"visible\",void 0),t([o()],l.prototype,\"padding\",null),l=t([i(\"esri.views.overlay.TextOverlayItem\")],l);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},n=[];{const t=16;for(let e=0;e<360;e+=360/t)n.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export default a;\n"]},"metadata":{},"sourceType":"module"}