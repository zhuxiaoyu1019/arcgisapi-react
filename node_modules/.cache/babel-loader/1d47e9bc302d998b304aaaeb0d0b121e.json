{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Error.js\";\nimport { JSONSupport as e } from \"../core/JSONSupport.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport { ensureType as s } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport i from \"./PortalQueryParams.js\";\nlet l = class extends e {\n  constructor(t) {\n    super(t), this.access = null, this.created = null, this.description = null, this.id = null, this.isInvitationOnly = !1, this.modified = null, this.owner = null, this.portal = null, this.snippet = null, this.sortField = null, this.sortOrder = null, this.tags = null, this.title = null;\n  }\n\n  get thumbnailUrl() {\n    const t = this.url,\n          r = this.thumbnail;\n    return t && r ? this.portal._normalizeUrl(`${t}/info/${r}?f=json`) : null;\n  }\n\n  get url() {\n    const t = this.get(\"portal.restUrl\");\n    return t ? t + \"/community/groups/\" + this.id : null;\n  }\n\n  fetchCategorySchema(t) {\n    return this.portal._request(this.url + \"/categorySchema\", t).then(r => {\n      const e = r.categorySchema || [];\n      return e.some(t => \"contentCategorySetsGroupQuery.LivingAtlas\" === t.source) ? this._fetchCategorySchemaSet(\"LivingAtlas\", t) : e;\n    });\n  }\n\n  fetchMembers(t) {\n    return this.portal._request(this.url + \"/users\", t);\n  }\n\n  getThumbnailUrl(t) {\n    let r = this.thumbnailUrl;\n    return r && t && (r += `&w=${t}`), r;\n  }\n\n  toJSON() {\n    throw new r(\"internal:not-yet-implemented\", \"PortalGroup.toJSON is not yet implemented\");\n  }\n\n  queryItems(t, r) {\n    let e = s(i, t);\n    return parseFloat(this.portal.currentVersion) > 5 ? (e = e || new i(), this.portal._queryPortal(`/content/groups/${this.id}/search`, e, \"PortalItem\", r)) : (e = e ? e.clone() : new i(), e.query = \"group:\" + this.id + (e.query ? \" \" + e.query : \"\"), this.portal.queryItems(e, r));\n  }\n\n  _fetchCategorySchemaSet(t, e) {\n    return this.portal._fetchSelf(this.portal.authMode, !0, e).then(t => {\n      const o = t.contentCategorySetsGroupQuery;\n\n      if (o) {\n        const t = new i();\n        return t.disableExtraQuery = !0, t.num = 1, t.query = o, this.portal.queryGroups(t, e);\n      }\n\n      throw new r(\"portal-group:fetchCategorySchema\", \"contentCategorySetsGroupQuery value not found\");\n    }).then(o => {\n      if (o.total) {\n        const r = o.results[0],\n              s = new i();\n        return s.num = 1, s.query = `typekeywords:\"${t}\"`, r.queryItems(s, e);\n      }\n\n      throw new r(\"portal-group:fetchCategorySchema\", \"contentCategorySetsGroupQuery group not found\");\n    }).then(t => {\n      if (t.total) {\n        return t.results[0].fetchData(\"json\", e).then(t => {\n          const r = t && t.categorySchema;\n          return r && r.length ? r : [];\n        });\n      }\n\n      return [];\n    });\n  }\n\n};\nt([o()], l.prototype, \"access\", void 0), t([o({\n  type: Date\n})], l.prototype, \"created\", void 0), t([o()], l.prototype, \"description\", void 0), t([o()], l.prototype, \"id\", void 0), t([o()], l.prototype, \"isInvitationOnly\", void 0), t([o({\n  type: Date\n})], l.prototype, \"modified\", void 0), t([o()], l.prototype, \"owner\", void 0), t([o()], l.prototype, \"portal\", void 0), t([o()], l.prototype, \"snippet\", void 0), t([o()], l.prototype, \"sortField\", void 0), t([o()], l.prototype, \"sortOrder\", void 0), t([o()], l.prototype, \"tags\", void 0), t([o()], l.prototype, \"thumbnail\", void 0), t([o({\n  readOnly: !0\n})], l.prototype, \"thumbnailUrl\", null), t([o()], l.prototype, \"title\", void 0), t([o({\n  readOnly: !0\n})], l.prototype, \"url\", null), l = t([n(\"esri.portal.PortalGroup\")], l);\nvar p = l;\nexport default p;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/portal/PortalGroup.js"],"names":["_","t","r","JSONSupport","e","property","o","ensureType","s","subclass","n","i","l","constructor","access","created","description","id","isInvitationOnly","modified","owner","portal","snippet","sortField","sortOrder","tags","title","thumbnailUrl","url","thumbnail","_normalizeUrl","get","fetchCategorySchema","_request","then","categorySchema","some","source","_fetchCategorySchemaSet","fetchMembers","getThumbnailUrl","toJSON","queryItems","parseFloat","currentVersion","_queryPortal","clone","query","_fetchSelf","authMode","contentCategorySetsGroupQuery","disableExtraQuery","num","queryGroups","total","results","fetchData","length","prototype","type","Date","readOnly","p"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Error.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{ensureType as s}from\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"./PortalQueryParams.js\";let l=class extends e{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,r=this.thumbnail;return t&&r?this.portal._normalizeUrl(`${t}/info/${r}?f=json`):null}get url(){const t=this.get(\"portal.restUrl\");return t?t+\"/community/groups/\"+this.id:null}fetchCategorySchema(t){return this.portal._request(this.url+\"/categorySchema\",t).then((r=>{const e=r.categorySchema||[];return e.some((t=>\"contentCategorySetsGroupQuery.LivingAtlas\"===t.source))?this._fetchCategorySchemaSet(\"LivingAtlas\",t):e}))}fetchMembers(t){return this.portal._request(this.url+\"/users\",t)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}toJSON(){throw new r(\"internal:not-yet-implemented\",\"PortalGroup.toJSON is not yet implemented\")}queryItems(t,r){let e=s(i,t);return parseFloat(this.portal.currentVersion)>5?(e=e||new i,this.portal._queryPortal(`/content/groups/${this.id}/search`,e,\"PortalItem\",r)):(e=e?e.clone():new i,e.query=\"group:\"+this.id+(e.query?\" \"+e.query:\"\"),this.portal.queryItems(e,r))}_fetchCategorySchemaSet(t,e){return this.portal._fetchSelf(this.portal.authMode,!0,e).then((t=>{const o=t.contentCategorySetsGroupQuery;if(o){const t=new i;return t.disableExtraQuery=!0,t.num=1,t.query=o,this.portal.queryGroups(t,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery value not found\")})).then((o=>{if(o.total){const r=o.results[0],s=new i;return s.num=1,s.query=`typekeywords:\"${t}\"`,r.queryItems(s,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery group not found\")})).then((t=>{if(t.total){return t.results[0].fetchData(\"json\",e).then((t=>{const r=t&&t.categorySchema;return r&&r.length?r:[]}))}return[]}))}};t([o()],l.prototype,\"access\",void 0),t([o({type:Date})],l.prototype,\"created\",void 0),t([o()],l.prototype,\"description\",void 0),t([o()],l.prototype,\"id\",void 0),t([o()],l.prototype,\"isInvitationOnly\",void 0),t([o({type:Date})],l.prototype,\"modified\",void 0),t([o()],l.prototype,\"owner\",void 0),t([o()],l.prototype,\"portal\",void 0),t([o()],l.prototype,\"snippet\",void 0),t([o()],l.prototype,\"sortField\",void 0),t([o()],l.prototype,\"sortOrder\",void 0),t([o()],l.prototype,\"tags\",void 0),t([o()],l.prototype,\"thumbnail\",void 0),t([o({readOnly:!0})],l.prototype,\"thumbnailUrl\",null),t([o()],l.prototype,\"title\",void 0),t([o({readOnly:!0})],l.prototype,\"url\",null),l=t([n(\"esri.portal.PortalGroup\")],l);var p=l;export default p;\n"]},"metadata":{},"sourceType":"module"}