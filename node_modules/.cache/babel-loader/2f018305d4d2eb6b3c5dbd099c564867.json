{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass s {\n  constructor(s) {\n    this._notify = s, this._accessed = [], this._handles = [], this._invalidCount = 0;\n  }\n\n  destroy() {\n    this._accessed.length = 0, this.clear();\n  }\n\n  onInvalidated() {\n    this._invalidCount++;\n  }\n\n  onCommitted() {\n    const s = this._invalidCount;\n    if (1 === s) return this._invalidCount = 0, void this._notify();\n    this._invalidCount = s > 0 ? s - 1 : 0;\n  }\n\n  onObservableAccessed(s) {\n    this._accessed.includes(s) || this._accessed.push(s);\n  }\n\n  onTrackingEnd() {\n    const s = this._handles,\n          t = this._accessed;\n\n    for (let e = 0; e < t.length; ++e) s.push(t[e].observe(this));\n\n    t.length = 0;\n  }\n\n  clear() {\n    const s = this._handles;\n\n    for (let t = 0; t < s.length; ++t) s[t].remove();\n\n    s.length = 0;\n  }\n\n}\n\nexport { s as SimpleTrackingTarget };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js"],"names":["s","constructor","_notify","_accessed","_handles","_invalidCount","destroy","length","clear","onInvalidated","onCommitted","onObservableAccessed","includes","push","onTrackingEnd","t","e","observe","remove","SimpleTrackingTarget"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACD,CAAD,EAAG;AAAC,SAAKE,OAAL,GAAaF,CAAb,EAAe,KAAKG,SAAL,GAAe,EAA9B,EAAiC,KAAKC,QAAL,GAAc,EAA/C,EAAkD,KAAKC,aAAL,GAAmB,CAArE;AAAuE;;AAAAC,EAAAA,OAAO,GAAE;AAAC,SAAKH,SAAL,CAAeI,MAAf,GAAsB,CAAtB,EAAwB,KAAKC,KAAL,EAAxB;AAAqC;;AAAAC,EAAAA,aAAa,GAAE;AAAC,SAAKJ,aAAL;AAAqB;;AAAAK,EAAAA,WAAW,GAAE;AAAC,UAAMV,CAAC,GAAC,KAAKK,aAAb;AAA2B,QAAG,MAAIL,CAAP,EAAS,OAAO,KAAKK,aAAL,GAAmB,CAAnB,EAAqB,KAAK,KAAKH,OAAL,EAAjC;AAAgD,SAAKG,aAAL,GAAmBL,CAAC,GAAC,CAAF,GAAIA,CAAC,GAAC,CAAN,GAAQ,CAA3B;AAA6B;;AAAAW,EAAAA,oBAAoB,CAACX,CAAD,EAAG;AAAC,SAAKG,SAAL,CAAeS,QAAf,CAAwBZ,CAAxB,KAA4B,KAAKG,SAAL,CAAeU,IAAf,CAAoBb,CAApB,CAA5B;AAAmD;;AAAAc,EAAAA,aAAa,GAAE;AAAC,UAAMd,CAAC,GAAC,KAAKI,QAAb;AAAA,UAAsBW,CAAC,GAAC,KAAKZ,SAA7B;;AAAuC,SAAI,IAAIa,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAC,CAACR,MAAhB,EAAuB,EAAES,CAAzB,EAA2BhB,CAAC,CAACa,IAAF,CAAOE,CAAC,CAACC,CAAD,CAAD,CAAKC,OAAL,CAAa,IAAb,CAAP;;AAA2BF,IAAAA,CAAC,CAACR,MAAF,GAAS,CAAT;AAAW;;AAAAC,EAAAA,KAAK,GAAE;AAAC,UAAMR,CAAC,GAAC,KAAKI,QAAb;;AAAsB,SAAI,IAAIW,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACf,CAAC,CAACO,MAAhB,EAAuB,EAAEQ,CAAzB,EAA2Bf,CAAC,CAACe,CAAD,CAAD,CAAKG,MAAL;;AAAclB,IAAAA,CAAC,CAACO,MAAF,GAAS,CAAT;AAAW;;AAA/jB;;AAAgkB,SAAOP,CAAC,IAAImB,oBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass s{constructor(s){this._notify=s,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const s=this._invalidCount;if(1===s)return this._invalidCount=0,void this._notify();this._invalidCount=s>0?s-1:0}onObservableAccessed(s){this._accessed.includes(s)||this._accessed.push(s)}onTrackingEnd(){const s=this._handles,t=this._accessed;for(let e=0;e<t.length;++e)s.push(t[e].observe(this));t.length=0}clear(){const s=this._handles;for(let t=0;t<s.length;++t)s[t].remove();s.length=0}}export{s as SimpleTrackingTarget};\n"]},"metadata":{},"sourceType":"module"}