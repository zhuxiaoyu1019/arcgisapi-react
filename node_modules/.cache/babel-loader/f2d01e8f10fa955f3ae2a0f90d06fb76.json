{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { JSONSupport as o } from \"../../core/JSONSupport.js\";\nimport { isSome as t } from \"../../core/maybe.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { s as i, c as a, t as n, a as l, m as c, f as p, g as m } from \"../../chunks/mat4.js\";\nimport { c as h, I as u } from \"../../chunks/mat4f64.js\";\nimport { m as g, k as f } from \"../../chunks/vec3.js\";\nimport { c as j, f as y, a as v } from \"../../chunks/vec3f64.js\";\nimport x from \"../Point.js\";\nimport { computeLinearTransformation as b, projectBuffer as d } from \"../projection.js\";\nimport { getSphericalPCPFForEllipsoid as M, getReferenceEllipsoid as N } from \"../projectionEllipsoid.js\";\nimport { create as w, axis as k, angleRad as I } from \"./axisAngleDegrees.js\";\nimport { BufferViewVec3f64 as S } from \"./buffer/BufferView.js\";\nimport { t as A } from \"../../chunks/vec32.js\";\nimport { c as T } from \"../../chunks/vec33.js\";\nvar L;\nlet B = L = class extends o {\n  constructor(r) {\n    super(r), this.origin = j(), this.translation = j(), this.rotation = w(), this.scale = y(1, 1, 1), this.geographic = !0;\n  }\n\n  get localMatrix() {\n    const r = h();\n    return i(r, r, this.scale), a(r, r, I(this.rotation), k(this.rotation)), n(r, r, this.translation), r;\n  }\n\n  get localMatrixInverse() {\n    return l(h(), this.localMatrix);\n  }\n\n  applyLocal(r, o) {\n    return g(o, r, this.localMatrix);\n  }\n\n  applyLocalInverse(r, o) {\n    return g(o, r, this.localMatrixInverse);\n  }\n\n  project(r, o) {\n    const t = new Float64Array(r.length),\n          s = S.fromTypedArray(t),\n          e = S.fromTypedArray(r);\n\n    if (this.geographic) {\n      const r = M(N(o)),\n            i = h();\n      return b(o, this.origin, i, r), c(i, i, this.localMatrix), A(s, e, i), d(t, r, 0, t, o, 0, t.length / 3), t;\n    }\n\n    const {\n      localMatrix: i,\n      origin: a\n    } = this;\n    p(i, u) ? T(s, e) : A(s, e, i);\n\n    for (let n = 0; n < t.length; n += 3) t[n + 0] += a[0], t[n + 1] += a[1], t[n + 2] += a[2];\n\n    return t;\n  }\n\n  getOriginPoint(r) {\n    const [o, t, s] = this.origin;\n    return new x({\n      x: o,\n      y: t,\n      z: s,\n      spatialReference: r\n    });\n  }\n\n  equals(r) {\n    return t(r) && this.geographic === r.geographic && f(this.origin, r.origin) && m(this.localMatrix, r.localMatrix);\n  }\n\n  clone() {\n    const r = {\n      origin: v(this.origin),\n      translation: v(this.translation),\n      rotation: w(this.rotation),\n      scale: v(this.scale),\n      geographic: this.geographic\n    };\n    return new L(r);\n  }\n\n};\nr([s({\n  type: [Number],\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], B.prototype, \"origin\", void 0), r([s({\n  type: [Number],\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], B.prototype, \"translation\", void 0), r([s({\n  type: [Number],\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], B.prototype, \"rotation\", void 0), r([s({\n  type: [Number],\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], B.prototype, \"scale\", void 0), r([s({\n  type: Boolean,\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], B.prototype, \"geographic\", void 0), r([s()], B.prototype, \"localMatrix\", null), r([s()], B.prototype, \"localMatrixInverse\", null), B = L = r([e(\"esri.geometry.support.MeshTransform\")], B);\nvar O = B;\nexport default O;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/geometry/support/MeshTransform.js"],"names":["_","r","JSONSupport","o","isSome","t","property","s","subclass","e","i","c","a","n","l","m","f","p","g","h","I","u","k","j","y","v","x","computeLinearTransformation","b","projectBuffer","d","getSphericalPCPFForEllipsoid","M","getReferenceEllipsoid","N","create","w","axis","angleRad","BufferViewVec3f64","S","A","T","L","B","constructor","origin","translation","rotation","scale","geographic","localMatrix","localMatrixInverse","applyLocal","applyLocalInverse","project","Float64Array","length","fromTypedArray","getOriginPoint","z","spatialReference","equals","clone","type","Number","nonNullable","json","write","prototype","Boolean","O"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,2BAAlB;AAA8C,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,2BAA5B;AAAwD,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,qBAAvB;AAA6C,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,mDAAzB;AAA6E,OAAM,mBAAN;AAA0B,OAAM,0CAAN;AAAiD,OAAM,sBAAN;AAA6B,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,mDAAzB;AAA6E,SAAOF,CAAC,IAAIG,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBP,CAAC,IAAIQ,CAA1B,EAA4BD,CAAC,IAAIE,CAAjC,EAAmCC,CAAC,IAAIJ,CAAxC,EAA0CK,CAAC,IAAIC,CAA/C,EAAiDC,CAAC,IAAIH,CAAtD,QAA4D,sBAA5D;AAAmF,SAAOJ,CAAC,IAAIQ,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,QAAyB,yBAAzB;AAAmD,SAAON,CAAC,IAAIG,CAAZ,EAAcI,CAAC,IAAIN,CAAnB,QAAyB,sBAAzB;AAAgD,SAAOL,CAAC,IAAIY,CAAZ,EAAcP,CAAC,IAAIQ,CAAnB,EAAqBZ,CAAC,IAAIa,CAA1B,QAAgC,yBAAhC;AAA0D,OAAOC,CAAP,MAAa,aAAb;AAA2B,SAAOC,2BAA2B,IAAIC,CAAtC,EAAwCC,aAAa,IAAIC,CAAzD,QAA+D,kBAA/D;AAAkF,SAAOC,4BAA4B,IAAIC,CAAvC,EAAyCC,qBAAqB,IAAIC,CAAlE,QAAwE,2BAAxE;AAAoG,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,IAAI,IAAIf,CAA3B,EAA6BgB,QAAQ,IAAIlB,CAAzC,QAA+C,uBAA/C;AAAuE,SAAOmB,iBAAiB,IAAIC,CAA5B,QAAkC,wBAAlC;AAA2D,SAAOnC,CAAC,IAAIoC,CAAZ,QAAkB,uBAAlB;AAA0C,SAAO9B,CAAC,IAAI+B,CAAZ,QAAkB,uBAAlB;AAA0C,IAAIC,CAAJ;AAAM,IAAIC,CAAC,GAACD,CAAC,GAAC,cAAcxC,CAAd,CAAe;AAAC0C,EAAAA,WAAW,CAAC5C,CAAD,EAAG;AAAC,UAAMA,CAAN,GAAS,KAAK6C,MAAL,GAAYvB,CAAC,EAAtB,EAAyB,KAAKwB,WAAL,GAAiBxB,CAAC,EAA3C,EAA8C,KAAKyB,QAAL,GAAcZ,CAAC,EAA7D,EAAgE,KAAKa,KAAL,GAAWzB,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAA5E,EAAoF,KAAK0B,UAAL,GAAgB,CAAC,CAArG;AAAuG;;AAAe,MAAXC,WAAW,GAAE;AAAC,UAAMlD,CAAC,GAACkB,CAAC,EAAT;AAAY,WAAOT,CAAC,CAACT,CAAD,EAAGA,CAAH,EAAK,KAAKgD,KAAV,CAAD,EAAkBrC,CAAC,CAACX,CAAD,EAAGA,CAAH,EAAKmB,CAAC,CAAC,KAAK4B,QAAN,CAAN,EAAsB1B,CAAC,CAAC,KAAK0B,QAAN,CAAvB,CAAnB,EAA2DnC,CAAC,CAACZ,CAAD,EAAGA,CAAH,EAAK,KAAK8C,WAAV,CAA5D,EAAmF9C,CAA1F;AAA4F;;AAAsB,MAAlBmD,kBAAkB,GAAE;AAAC,WAAOtC,CAAC,CAACK,CAAC,EAAF,EAAK,KAAKgC,WAAV,CAAR;AAA+B;;AAAAE,EAAAA,UAAU,CAACpD,CAAD,EAAGE,CAAH,EAAK;AAAC,WAAOe,CAAC,CAACf,CAAD,EAAGF,CAAH,EAAK,KAAKkD,WAAV,CAAR;AAA+B;;AAAAG,EAAAA,iBAAiB,CAACrD,CAAD,EAAGE,CAAH,EAAK;AAAC,WAAOe,CAAC,CAACf,CAAD,EAAGF,CAAH,EAAK,KAAKmD,kBAAV,CAAR;AAAsC;;AAAAG,EAAAA,OAAO,CAACtD,CAAD,EAAGE,CAAH,EAAK;AAAC,UAAME,CAAC,GAAC,IAAImD,YAAJ,CAAiBvD,CAAC,CAACwD,MAAnB,CAAR;AAAA,UAAmClD,CAAC,GAACiC,CAAC,CAACkB,cAAF,CAAiBrD,CAAjB,CAArC;AAAA,UAAyDI,CAAC,GAAC+B,CAAC,CAACkB,cAAF,CAAiBzD,CAAjB,CAA3D;;AAA+E,QAAG,KAAKiD,UAAR,EAAmB;AAAC,YAAMjD,CAAC,GAAC+B,CAAC,CAACE,CAAC,CAAC/B,CAAD,CAAF,CAAT;AAAA,YAAgBO,CAAC,GAACS,CAAC,EAAnB;AAAsB,aAAOS,CAAC,CAACzB,CAAD,EAAG,KAAK2C,MAAR,EAAepC,CAAf,EAAiBT,CAAjB,CAAD,EAAqBU,CAAC,CAACD,CAAD,EAAGA,CAAH,EAAK,KAAKyC,WAAV,CAAtB,EAA6CV,CAAC,CAAClC,CAAD,EAAGE,CAAH,EAAKC,CAAL,CAA9C,EAAsDoB,CAAC,CAACzB,CAAD,EAAGJ,CAAH,EAAK,CAAL,EAAOI,CAAP,EAASF,CAAT,EAAW,CAAX,EAAaE,CAAC,CAACoD,MAAF,GAAS,CAAtB,CAAvD,EAAgFpD,CAAvF;AAAyF;;AAAA,UAAK;AAAC8C,MAAAA,WAAW,EAACzC,CAAb;AAAeoC,MAAAA,MAAM,EAAClC;AAAtB,QAAyB,IAA9B;AAAmCK,IAAAA,CAAC,CAACP,CAAD,EAAGW,CAAH,CAAD,GAAOqB,CAAC,CAACnC,CAAD,EAAGE,CAAH,CAAR,GAAcgC,CAAC,CAAClC,CAAD,EAAGE,CAAH,EAAKC,CAAL,CAAf;;AAAuB,SAAI,IAAIG,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACR,CAAC,CAACoD,MAAhB,EAAuB5C,CAAC,IAAE,CAA1B,EAA4BR,CAAC,CAACQ,CAAC,GAAC,CAAH,CAAD,IAAQD,CAAC,CAAC,CAAD,CAAT,EAAaP,CAAC,CAACQ,CAAC,GAAC,CAAH,CAAD,IAAQD,CAAC,CAAC,CAAD,CAAtB,EAA0BP,CAAC,CAACQ,CAAC,GAAC,CAAH,CAAD,IAAQD,CAAC,CAAC,CAAD,CAAnC;;AAAuC,WAAOP,CAAP;AAAS;;AAAAsD,EAAAA,cAAc,CAAC1D,CAAD,EAAG;AAAC,UAAK,CAACE,CAAD,EAAGE,CAAH,EAAKE,CAAL,IAAQ,KAAKuC,MAAlB;AAAyB,WAAO,IAAIpB,CAAJ,CAAM;AAACA,MAAAA,CAAC,EAACvB,CAAH;AAAKqB,MAAAA,CAAC,EAACnB,CAAP;AAASuD,MAAAA,CAAC,EAACrD,CAAX;AAAasD,MAAAA,gBAAgB,EAAC5D;AAA9B,KAAN,CAAP;AAA+C;;AAAA6D,EAAAA,MAAM,CAAC7D,CAAD,EAAG;AAAC,WAAOI,CAAC,CAACJ,CAAD,CAAD,IAAM,KAAKiD,UAAL,KAAkBjD,CAAC,CAACiD,UAA1B,IAAsClC,CAAC,CAAC,KAAK8B,MAAN,EAAa7C,CAAC,CAAC6C,MAAf,CAAvC,IAA+D/B,CAAC,CAAC,KAAKoC,WAAN,EAAkBlD,CAAC,CAACkD,WAApB,CAAvE;AAAwG;;AAAAY,EAAAA,KAAK,GAAE;AAAC,UAAM9D,CAAC,GAAC;AAAC6C,MAAAA,MAAM,EAACrB,CAAC,CAAC,KAAKqB,MAAN,CAAT;AAAuBC,MAAAA,WAAW,EAACtB,CAAC,CAAC,KAAKsB,WAAN,CAApC;AAAuDC,MAAAA,QAAQ,EAACZ,CAAC,CAAC,KAAKY,QAAN,CAAjE;AAAiFC,MAAAA,KAAK,EAACxB,CAAC,CAAC,KAAKwB,KAAN,CAAxF;AAAqGC,MAAAA,UAAU,EAAC,KAAKA;AAArH,KAAR;AAAyI,WAAO,IAAIP,CAAJ,CAAM1C,CAAN,CAAP;AAAgB;;AAAvmC,CAAvB;AAAgoCA,CAAC,CAAC,CAACM,CAAC,CAAC;AAACyD,EAAAA,IAAI,EAAC,CAACC,MAAD,CAAN;AAAeC,EAAAA,WAAW,EAAC,CAAC,CAA5B;AAA8BC,EAAAA,IAAI,EAAC;AAACC,IAAAA,KAAK,EAAC,CAAC;AAAR;AAAnC,CAAD,CAAF,CAAD,EAAqDxB,CAAC,CAACyB,SAAvD,EAAiE,QAAjE,EAA0E,KAAK,CAA/E,CAAD,EAAmFpE,CAAC,CAAC,CAACM,CAAC,CAAC;AAACyD,EAAAA,IAAI,EAAC,CAACC,MAAD,CAAN;AAAeC,EAAAA,WAAW,EAAC,CAAC,CAA5B;AAA8BC,EAAAA,IAAI,EAAC;AAACC,IAAAA,KAAK,EAAC,CAAC;AAAR;AAAnC,CAAD,CAAF,CAAD,EAAqDxB,CAAC,CAACyB,SAAvD,EAAiE,aAAjE,EAA+E,KAAK,CAApF,CAApF,EAA2KpE,CAAC,CAAC,CAACM,CAAC,CAAC;AAACyD,EAAAA,IAAI,EAAC,CAACC,MAAD,CAAN;AAAeC,EAAAA,WAAW,EAAC,CAAC,CAA5B;AAA8BC,EAAAA,IAAI,EAAC;AAACC,IAAAA,KAAK,EAAC,CAAC;AAAR;AAAnC,CAAD,CAAF,CAAD,EAAqDxB,CAAC,CAACyB,SAAvD,EAAiE,UAAjE,EAA4E,KAAK,CAAjF,CAA5K,EAAgQpE,CAAC,CAAC,CAACM,CAAC,CAAC;AAACyD,EAAAA,IAAI,EAAC,CAACC,MAAD,CAAN;AAAeC,EAAAA,WAAW,EAAC,CAAC,CAA5B;AAA8BC,EAAAA,IAAI,EAAC;AAACC,IAAAA,KAAK,EAAC,CAAC;AAAR;AAAnC,CAAD,CAAF,CAAD,EAAqDxB,CAAC,CAACyB,SAAvD,EAAiE,OAAjE,EAAyE,KAAK,CAA9E,CAAjQ,EAAkVpE,CAAC,CAAC,CAACM,CAAC,CAAC;AAACyD,EAAAA,IAAI,EAACM,OAAN;AAAcJ,EAAAA,WAAW,EAAC,CAAC,CAA3B;AAA6BC,EAAAA,IAAI,EAAC;AAACC,IAAAA,KAAK,EAAC,CAAC;AAAR;AAAlC,CAAD,CAAF,CAAD,EAAoDxB,CAAC,CAACyB,SAAtD,EAAgE,YAAhE,EAA6E,KAAK,CAAlF,CAAnV,EAAwapE,CAAC,CAAC,CAACM,CAAC,EAAF,CAAD,EAAOqC,CAAC,CAACyB,SAAT,EAAmB,aAAnB,EAAiC,IAAjC,CAAza,EAAgdpE,CAAC,CAAC,CAACM,CAAC,EAAF,CAAD,EAAOqC,CAAC,CAACyB,SAAT,EAAmB,oBAAnB,EAAwC,IAAxC,CAAjd,EAA+fzB,CAAC,GAACD,CAAC,GAAC1C,CAAC,CAAC,CAACQ,CAAC,CAAC,qCAAD,CAAF,CAAD,EAA4CmC,CAA5C,CAApgB;AAAmjB,IAAI2B,CAAC,GAAC3B,CAAN;AAAQ,eAAe2B,CAAf","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{s as i,c as a,t as n,a as l,m as c,f as p,g as m}from\"../../chunks/mat4.js\";import{c as h,I as u}from\"../../chunks/mat4f64.js\";import{m as g,k as f}from\"../../chunks/vec3.js\";import{c as j,f as y,a as v}from\"../../chunks/vec3f64.js\";import x from\"../Point.js\";import{computeLinearTransformation as b,projectBuffer as d}from\"../projection.js\";import{getSphericalPCPFForEllipsoid as M,getReferenceEllipsoid as N}from\"../projectionEllipsoid.js\";import{create as w,axis as k,angleRad as I}from\"./axisAngleDegrees.js\";import{BufferViewVec3f64 as S}from\"./buffer/BufferView.js\";import{t as A}from\"../../chunks/vec32.js\";import{c as T}from\"../../chunks/vec33.js\";var L;let B=L=class extends o{constructor(r){super(r),this.origin=j(),this.translation=j(),this.rotation=w(),this.scale=y(1,1,1),this.geographic=!0}get localMatrix(){const r=h();return i(r,r,this.scale),a(r,r,I(this.rotation),k(this.rotation)),n(r,r,this.translation),r}get localMatrixInverse(){return l(h(),this.localMatrix)}applyLocal(r,o){return g(o,r,this.localMatrix)}applyLocalInverse(r,o){return g(o,r,this.localMatrixInverse)}project(r,o){const t=new Float64Array(r.length),s=S.fromTypedArray(t),e=S.fromTypedArray(r);if(this.geographic){const r=M(N(o)),i=h();return b(o,this.origin,i,r),c(i,i,this.localMatrix),A(s,e,i),d(t,r,0,t,o,0,t.length/3),t}const{localMatrix:i,origin:a}=this;p(i,u)?T(s,e):A(s,e,i);for(let n=0;n<t.length;n+=3)t[n+0]+=a[0],t[n+1]+=a[1],t[n+2]+=a[2];return t}getOriginPoint(r){const[o,t,s]=this.origin;return new x({x:o,y:t,z:s,spatialReference:r})}equals(r){return t(r)&&this.geographic===r.geographic&&f(this.origin,r.origin)&&m(this.localMatrix,r.localMatrix)}clone(){const r={origin:v(this.origin),translation:v(this.translation),rotation:w(this.rotation),scale:v(this.scale),geographic:this.geographic};return new L(r)}};r([s({type:[Number],nonNullable:!0,json:{write:!0}})],B.prototype,\"origin\",void 0),r([s({type:[Number],nonNullable:!0,json:{write:!0}})],B.prototype,\"translation\",void 0),r([s({type:[Number],nonNullable:!0,json:{write:!0}})],B.prototype,\"rotation\",void 0),r([s({type:[Number],nonNullable:!0,json:{write:!0}})],B.prototype,\"scale\",void 0),r([s({type:Boolean,nonNullable:!0,json:{write:!0}})],B.prototype,\"geographic\",void 0),r([s()],B.prototype,\"localMatrix\",null),r([s()],B.prototype,\"localMatrixInverse\",null),B=L=r([e(\"esri.geometry.support.MeshTransform\")],B);var O=B;export default O;\n"]},"metadata":{},"sourceType":"module"}