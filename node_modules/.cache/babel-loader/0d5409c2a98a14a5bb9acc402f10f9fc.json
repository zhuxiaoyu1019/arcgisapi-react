{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { init as t } from \"../../core/watchUtils.js\";\nimport { aliasOf as s } from \"../../core/accessorSupport/decorators/aliasOf.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Logger.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"../Widget.js\";\nimport l from \"./FeatureFields/FeatureFieldsViewModel.js\";\nimport a from \"./support/FeatureElementInfo.js\";\nimport { autoLink as d } from \"../support/uriUtils.js\";\nimport \"../support/widgetUtils.js\";\nimport { messageBundle as n } from \"../support/decorators/messageBundle.js\";\nimport { tsx as p } from \"../support/jsxFactory.js\";\nconst f = {\n  base: \"esri-feature-fields\",\n  fieldHeader: \"esri-feature-fields__field-header\",\n  fieldData: \"esri-feature-fields__field-data\",\n  fieldDataDate: \"esri-feature-fields__field-data--date\",\n  esriTable: \"esri-widget__table\"\n};\nlet u = class extends o {\n  constructor(e, t) {\n    super(e, t), this._featureElementInfo = null, this.attributes = null, this.description = null, this.expressionInfos = null, this.fieldInfos = null, this.title = null, this.viewModel = new l(), this.messages = null, this.messagesURIUtils = null;\n  }\n\n  initialize() {\n    this._featureElementInfo = new a(), t(this, [\"viewModel.description\", \"viewModel.title\"], () => this._setupFeatureElementInfo());\n  }\n\n  destroy() {\n    this._featureElementInfo.destroy();\n  }\n\n  renderFieldInfo(e, t) {\n    const {\n      attributes: s\n    } = this.viewModel,\n          r = e.fieldName,\n          i = e.label || r,\n          o = s ? null == s[r] ? \"\" : s[r] : \"\",\n          l = !(!e.format || !e.format.dateFormat),\n          a = \"number\" == typeof o && !l ? this._forceLTR(o) : d(this.messagesURIUtils, o),\n          n = {\n      [f.fieldDataDate]: l\n    };\n    return p(\"tr\", {\n      key: `fields-element-info-row-${r}-${t}`\n    }, p(\"th\", {\n      key: `fields-element-info-row-header-${r}-${t}`,\n      class: f.fieldHeader,\n      innerHTML: i\n    }), p(\"td\", {\n      key: `fields-element-info-row-data-${r}-${t}`,\n      class: this.classes(f.fieldData, n),\n      innerHTML: a\n    }));\n  }\n\n  renderFields() {\n    const {\n      formattedFieldInfos: e\n    } = this.viewModel;\n    return e.length ? p(\"table\", {\n      class: f.esriTable,\n      summary: this.messages.fieldsSummary\n    }, p(\"tbody\", null, e.map((e, t) => this.renderFieldInfo(e, t)))) : null;\n  }\n\n  render() {\n    var e;\n    return p(\"div\", {\n      class: f.base\n    }, null == (e = this._featureElementInfo) ? void 0 : e.render(), this.renderFields());\n  }\n\n  _setupFeatureElementInfo() {\n    const {\n      description: e,\n      title: t\n    } = this;\n\n    this._featureElementInfo.set({\n      description: e,\n      title: t\n    });\n  }\n\n  _forceLTR(e) {\n    return `&lrm;${e}`;\n  }\n\n};\ne([s(\"viewModel.attributes\")], u.prototype, \"attributes\", void 0), e([s(\"viewModel.description\")], u.prototype, \"description\", void 0), e([s(\"viewModel.expressionInfos\")], u.prototype, \"expressionInfos\", void 0), e([s(\"viewModel.fieldInfos\")], u.prototype, \"fieldInfos\", void 0), e([s(\"viewModel.title\")], u.prototype, \"title\", void 0), e([r({\n  type: l\n})], u.prototype, \"viewModel\", void 0), e([r(), n(\"esri/widgets/Feature/t9n/Feature\")], u.prototype, \"messages\", void 0), e([r(), n(\"esri/widgets/support/t9n/uriUtils\")], u.prototype, \"messagesURIUtils\", void 0), u = e([i(\"esri.widgets.Feature.FeatureFields\")], u);\nvar m = u;\nexport default m;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/widgets/Feature/FeatureFields.js"],"names":["_","e","init","t","aliasOf","s","property","r","subclass","i","o","l","a","autoLink","d","messageBundle","n","tsx","p","f","base","fieldHeader","fieldData","fieldDataDate","esriTable","u","constructor","_featureElementInfo","attributes","description","expressionInfos","fieldInfos","title","viewModel","messages","messagesURIUtils","initialize","_setupFeatureElementInfo","destroy","renderFieldInfo","fieldName","label","format","dateFormat","_forceLTR","key","class","innerHTML","classes","renderFields","formattedFieldInfos","length","summary","fieldsSummary","map","render","set","prototype","type","m"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{init as t}from\"../../core/watchUtils.js\";import{aliasOf as s}from\"../../core/accessorSupport/decorators/aliasOf.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Widget.js\";import l from\"./FeatureFields/FeatureFieldsViewModel.js\";import a from\"./support/FeatureElementInfo.js\";import{autoLink as d}from\"../support/uriUtils.js\";import\"../support/widgetUtils.js\";import{messageBundle as n}from\"../support/decorators/messageBundle.js\";import{tsx as p}from\"../support/jsxFactory.js\";const f={base:\"esri-feature-fields\",fieldHeader:\"esri-feature-fields__field-header\",fieldData:\"esri-feature-fields__field-data\",fieldDataDate:\"esri-feature-fields__field-data--date\",esriTable:\"esri-widget__table\"};let u=class extends o{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new l,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new a,t(this,[\"viewModel.description\",\"viewModel.title\"],(()=>this._setupFeatureElementInfo()))}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:s}=this.viewModel,r=e.fieldName,i=e.label||r,o=s?null==s[r]?\"\":s[r]:\"\",l=!(!e.format||!e.format.dateFormat),a=\"number\"==typeof o&&!l?this._forceLTR(o):d(this.messagesURIUtils,o),n={[f.fieldDataDate]:l};return p(\"tr\",{key:`fields-element-info-row-${r}-${t}`},p(\"th\",{key:`fields-element-info-row-header-${r}-${t}`,class:f.fieldHeader,innerHTML:i}),p(\"td\",{key:`fields-element-info-row-data-${r}-${t}`,class:this.classes(f.fieldData,n),innerHTML:a}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e.length?p(\"table\",{class:f.esriTable,summary:this.messages.fieldsSummary},p(\"tbody\",null,e.map(((e,t)=>this.renderFieldInfo(e,t))))):null}render(){var e;return p(\"div\",{class:f.base},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};e([s(\"viewModel.attributes\")],u.prototype,\"attributes\",void 0),e([s(\"viewModel.description\")],u.prototype,\"description\",void 0),e([s(\"viewModel.expressionInfos\")],u.prototype,\"expressionInfos\",void 0),e([s(\"viewModel.fieldInfos\")],u.prototype,\"fieldInfos\",void 0),e([s(\"viewModel.title\")],u.prototype,\"title\",void 0),e([r({type:l})],u.prototype,\"viewModel\",void 0),e([r(),n(\"esri/widgets/Feature/t9n/Feature\")],u.prototype,\"messages\",void 0),e([r(),n(\"esri/widgets/support/t9n/uriUtils\")],u.prototype,\"messagesURIUtils\",void 0),u=e([i(\"esri.widgets.Feature.FeatureFields\")],u);var m=u;export default m;\n"]},"metadata":{},"sourceType":"module"}