{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { ObjectStack as t } from \"../../core/ObjectStack.js\";\nimport { m as r, a as n } from \"../../chunks/mat4.js\";\nimport { s as o } from \"../../chunks/vec3.js\";\nimport { c as e } from \"../../chunks/vec3f64.js\";\nimport { t as f } from \"../../chunks/vec4.js\";\nimport { f as c } from \"../../chunks/vec4f64.js\";\nimport { fromRay as u, fromLineSegmentAndDirection as s, create as i } from \"./clipRay.js\";\nimport { create as m, copy as a, fromPoints as p, isSphereFullyInside as j, clipInfinite as l, signedDistance as k, isAABBFullyInside as h, clip as g } from \"./plane.js\";\nimport { sm4d as v, sv4d as b } from \"./vectorStacks.js\";\n\nfunction y(t) {\n  return t ? [m(t[0]), m(t[1]), m(t[2]), m(t[3]), m(t[4]), m(t[5])] : [m(), m(), m(), m(), m(), m()];\n}\n\nfunction S() {\n  return [e(), e(), e(), e(), e(), e(), e(), e()];\n}\n\nfunction w(t, r = y()) {\n  for (let n = 0; n < 6; n++) a(t[n], r[n]);\n}\n\nfunction x(t, e, c, u = G) {\n  const s = r(v.get(), e, t);\n  n(s, s);\n\n  for (let r = 0; r < 8; ++r) {\n    const t = f(b.get(), E[r], s);\n    o(u[r], t[0] / t[3], t[1] / t[3], t[2] / t[3]);\n  }\n\n  O(c, u);\n}\n\nfunction O(t, r) {\n  p(r[4], r[0], r[3], t[0]), p(r[1], r[5], r[6], t[1]), p(r[4], r[5], r[1], t[2]), p(r[3], r[2], r[6], t[3]), p(r[0], r[1], r[2], t[4]), p(r[5], r[4], r[7], t[5]);\n}\n\nfunction R(t, r) {\n  for (let n = 0; n < 6; n++) if (j(t[n], r)) return !1;\n\n  return !0;\n}\n\nfunction d(t, r) {\n  return C(t, u(r, F.get()));\n}\n\nfunction q(t, r) {\n  for (let n = 0; n < 6; n++) {\n    const o = t[n];\n    if (!l(o, r)) return !1;\n  }\n\n  return !0;\n}\n\nfunction z(t, r, n) {\n  return C(t, s(r, n, F.get()));\n}\n\nfunction A(t, r) {\n  for (let n = 0; n < 6; n++) {\n    if (k(t[n], r) > 0) return !1;\n  }\n\n  return !0;\n}\n\nfunction B(t, r) {\n  for (let n = 0; n < 6; n++) if (h(t[n], r)) return !1;\n\n  return !0;\n}\n\nfunction C(t, r) {\n  for (let n = 0; n < 6; n++) if (!g(t[n], r)) return !1;\n\n  return !0;\n}\n\nconst D = {\n  bottom: [5, 1, 0, 4],\n  near: [0, 1, 2, 3],\n  far: [5, 4, 7, 6],\n  right: [1, 5, 6, 2],\n  left: [4, 0, 3, 7],\n  top: [7, 3, 2, 6]\n},\n      E = [c(-1, -1, -1, 1), c(1, -1, -1, 1), c(1, 1, -1, 1), c(-1, 1, -1, 1), c(-1, -1, 1, 1), c(1, -1, 1, 1), c(1, 1, 1, 1), c(-1, 1, 1, 1)],\n      F = new t(i),\n      G = S();\nexport { O as computePlanes, w as copy, y as create, S as createPoints, x as fromMatrix, q as intersectClipRay, B as intersectsAABB, z as intersectsLineSegment, A as intersectsPoint, d as intersectsRay, R as intersectsSphere, D as planePointIndices };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/geometry/support/frustum.js"],"names":["ObjectStack","t","m","r","a","n","s","o","c","e","f","fromRay","u","fromLineSegmentAndDirection","create","i","copy","fromPoints","p","isSphereFullyInside","j","clipInfinite","l","signedDistance","k","isAABBFullyInside","h","clip","g","sm4d","v","sv4d","b","y","S","w","x","G","get","E","O","R","d","C","F","q","z","A","B","D","bottom","near","far","right","left","top","computePlanes","createPoints","fromMatrix","intersectClipRay","intersectsAABB","intersectsLineSegment","intersectsPoint","intersectsRay","intersectsSphere","planePointIndices"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{m as r,a as n}from\"../../chunks/mat4.js\";import{s as o}from\"../../chunks/vec3.js\";import{c as e}from\"../../chunks/vec3f64.js\";import{t as f}from\"../../chunks/vec4.js\";import{f as c}from\"../../chunks/vec4f64.js\";import{fromRay as u,fromLineSegmentAndDirection as s,create as i}from\"./clipRay.js\";import{create as m,copy as a,fromPoints as p,isSphereFullyInside as j,clipInfinite as l,signedDistance as k,isAABBFullyInside as h,clip as g}from\"./plane.js\";import{sm4d as v,sv4d as b}from\"./vectorStacks.js\";function y(t){return t?[m(t[0]),m(t[1]),m(t[2]),m(t[3]),m(t[4]),m(t[5])]:[m(),m(),m(),m(),m(),m()]}function S(){return[e(),e(),e(),e(),e(),e(),e(),e()]}function w(t,r=y()){for(let n=0;n<6;n++)a(t[n],r[n])}function x(t,e,c,u=G){const s=r(v.get(),e,t);n(s,s);for(let r=0;r<8;++r){const t=f(b.get(),E[r],s);o(u[r],t[0]/t[3],t[1]/t[3],t[2]/t[3])}O(c,u)}function O(t,r){p(r[4],r[0],r[3],t[0]),p(r[1],r[5],r[6],t[1]),p(r[4],r[5],r[1],t[2]),p(r[3],r[2],r[6],t[3]),p(r[0],r[1],r[2],t[4]),p(r[5],r[4],r[7],t[5])}function R(t,r){for(let n=0;n<6;n++)if(j(t[n],r))return!1;return!0}function d(t,r){return C(t,u(r,F.get()))}function q(t,r){for(let n=0;n<6;n++){const o=t[n];if(!l(o,r))return!1}return!0}function z(t,r,n){return C(t,s(r,n,F.get()))}function A(t,r){for(let n=0;n<6;n++){if(k(t[n],r)>0)return!1}return!0}function B(t,r){for(let n=0;n<6;n++)if(h(t[n],r))return!1;return!0}function C(t,r){for(let n=0;n<6;n++)if(!g(t[n],r))return!1;return!0}const D={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,3,2,6]},E=[c(-1,-1,-1,1),c(1,-1,-1,1),c(1,1,-1,1),c(-1,1,-1,1),c(-1,-1,1,1),c(1,-1,1,1),c(1,1,1,1),c(-1,1,1,1)],F=new t(i),G=S();export{O as computePlanes,w as copy,y as create,S as createPoints,x as fromMatrix,q as intersectClipRay,B as intersectsAABB,z as intersectsLineSegment,A as intersectsPoint,d as intersectsRay,R as intersectsSphere,D as planePointIndices};\n"]},"metadata":{},"sourceType":"module"}