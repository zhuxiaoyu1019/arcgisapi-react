{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Evented.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../../webscene/Lighting.js\";\nvar s;\nlet a = s = class extends t.EventedMixin(i) {\n  constructor(e) {\n    super(e), this.positionTimezoneInfo = {\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      autoUpdated: !0\n    }, this.cameraTrackingEnabled = !0, this.ambientOcclusionEnabled = !1, this.waterReflectionEnabled = !1;\n    const t = new Date().getFullYear(),\n          o = new Date(\"March 15, \" + t + \" 12:00:00 UTC\");\n    this._set(\"defaultDate\", o), this._set(\"date\", o);\n  }\n\n  static fromWebsceneLighting(e) {\n    return new s({ ...e.cloneConstructProperties()\n    });\n  }\n\n  get defaultDate() {\n    return new Date(this._get(\"defaultDate\").getTime());\n  }\n\n  set defaultDate(e) {\n    const t = this._get(\"date\") === this._get(\"defaultDate\");\n\n    e = new Date(e.getTime()), this._set(\"defaultDate\", e), t && this._set(\"date\", e);\n  }\n\n  set date(e) {\n    null != e && (this.positionTimezoneInfo.autoUpdated = !1, this._set(\"date\", new Date(e.getTime())));\n  }\n\n  autoUpdate(e, t) {\n    const o = r(this.positionTimezoneInfo);\n    this.positionTimezoneInfo.hours = t.hours, this.positionTimezoneInfo.minutes = t.minutes, this.positionTimezoneInfo.seconds = t.seconds;\n    let n = null;\n    null != e && (this.positionTimezoneInfo.autoUpdated = !0, n = this.date && this.date.getTime(), this._set(\"date\", new Date(e.getTime())));\n    const i = r(this.positionTimezoneInfo);\n    if (o !== i && (d.target = this, d.timezoneOffset = i, this.emit(\"timezone-will-change\", d)), null != e) return n !== e.getTime();\n  }\n\n  clone() {\n    const e = this._get(\"date\") === this._get(\"defaultDate\"),\n          t = new s({ ...this.cloneConstructProperties(),\n      defaultDate: this.defaultDate,\n      cameraTrackingEnabled: this.cameraTrackingEnabled,\n      ambientOcclusionEnabled: this.ambientOcclusionEnabled,\n      waterReflectionEnabled: this.waterReflectionEnabled\n    });\n\n    return e && t._set(\"date\", t._get(\"defaultDate\")), t.positionTimezoneInfo.autoUpdated = this.positionTimezoneInfo.autoUpdated, t.positionTimezoneInfo.hours = this.positionTimezoneInfo.hours, t.positionTimezoneInfo.minutes = this.positionTimezoneInfo.minutes, t.positionTimezoneInfo.seconds = this.positionTimezoneInfo.seconds, t;\n  }\n\n  cloneWithWebsceneLighting(e) {\n    const t = this.clone();\n    return null != e.date && (t.date = e.date), t.directShadowsEnabled = e.directShadowsEnabled, t.displayUTCOffset = e.displayUTCOffset, t;\n  }\n\n};\n\nfunction r({\n  hours: e,\n  minutes: t,\n  seconds: o\n}) {\n  return Math.round(e + t / 60 + o / 3600);\n}\n\ne([o({\n  type: Boolean\n})], a.prototype, \"cameraTrackingEnabled\", void 0), e([o({\n  type: Boolean\n})], a.prototype, \"ambientOcclusionEnabled\", void 0), e([o({\n  type: Boolean\n})], a.prototype, \"waterReflectionEnabled\", void 0), e([o({\n  type: Date\n})], a.prototype, \"defaultDate\", null), e([o({\n  type: Date\n})], a.prototype, \"date\", null), a = s = e([n(\"esri.views.3d.environment.SceneViewLighting\")], a);\nconst d = {\n  target: null,\n  timezoneOffset: 0\n};\nvar c = a;\nexport default c;\nexport { a as SceneViewLighting, r as calculateTimezoneOffset };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/environment/SceneViewLighting.js"],"names":["_","e","t","property","o","subclass","n","i","s","a","EventedMixin","constructor","positionTimezoneInfo","hours","minutes","seconds","autoUpdated","cameraTrackingEnabled","ambientOcclusionEnabled","waterReflectionEnabled","Date","getFullYear","_set","fromWebsceneLighting","cloneConstructProperties","defaultDate","_get","getTime","date","autoUpdate","r","d","target","timezoneOffset","emit","clone","cloneWithWebsceneLighting","directShadowsEnabled","displayUTCOffset","Math","round","type","Boolean","prototype","c","SceneViewLighting","calculateTimezoneOffset"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../webscene/Lighting.js\";var s;let a=s=class extends(t.EventedMixin(i)){constructor(e){super(e),this.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0},this.cameraTrackingEnabled=!0,this.ambientOcclusionEnabled=!1,this.waterReflectionEnabled=!1;const t=(new Date).getFullYear(),o=new Date(\"March 15, \"+t+\" 12:00:00 UTC\");this._set(\"defaultDate\",o),this._set(\"date\",o)}static fromWebsceneLighting(e){return new s({...e.cloneConstructProperties()})}get defaultDate(){return new Date(this._get(\"defaultDate\").getTime())}set defaultDate(e){const t=this._get(\"date\")===this._get(\"defaultDate\");e=new Date(e.getTime()),this._set(\"defaultDate\",e),t&&this._set(\"date\",e)}set date(e){null!=e&&(this.positionTimezoneInfo.autoUpdated=!1,this._set(\"date\",new Date(e.getTime())))}autoUpdate(e,t){const o=r(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=t.hours,this.positionTimezoneInfo.minutes=t.minutes,this.positionTimezoneInfo.seconds=t.seconds;let n=null;null!=e&&(this.positionTimezoneInfo.autoUpdated=!0,n=this.date&&this.date.getTime(),this._set(\"date\",new Date(e.getTime())));const i=r(this.positionTimezoneInfo);if(o!==i&&(d.target=this,d.timezoneOffset=i,this.emit(\"timezone-will-change\",d)),null!=e)return n!==e.getTime()}clone(){const e=this._get(\"date\")===this._get(\"defaultDate\"),t=new s({...this.cloneConstructProperties(),defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled,ambientOcclusionEnabled:this.ambientOcclusionEnabled,waterReflectionEnabled:this.waterReflectionEnabled});return e&&t._set(\"date\",t._get(\"defaultDate\")),t.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated,t.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours,t.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes,t.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds,t}cloneWithWebsceneLighting(e){const t=this.clone();return null!=e.date&&(t.date=e.date),t.directShadowsEnabled=e.directShadowsEnabled,t.displayUTCOffset=e.displayUTCOffset,t}};function r({hours:e,minutes:t,seconds:o}){return Math.round(e+t/60+o/3600)}e([o({type:Boolean})],a.prototype,\"cameraTrackingEnabled\",void 0),e([o({type:Boolean})],a.prototype,\"ambientOcclusionEnabled\",void 0),e([o({type:Boolean})],a.prototype,\"waterReflectionEnabled\",void 0),e([o({type:Date})],a.prototype,\"defaultDate\",null),e([o({type:Date})],a.prototype,\"date\",null),a=s=e([n(\"esri.views.3d.environment.SceneViewLighting\")],a);const d={target:null,timezoneOffset:0};var c=a;export default c;export{a as SceneViewLighting,r as calculateTimezoneOffset};\n"]},"metadata":{},"sourceType":"module"}