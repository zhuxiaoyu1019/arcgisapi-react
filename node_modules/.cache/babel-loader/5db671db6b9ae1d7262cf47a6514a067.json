{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { glsl as e } from \"../../../core/shaderModules/interfaces.js\";\nimport { EdgeUtil as n } from \"./EdgeUtil.glsl.js\";\n\nfunction t(t, s) {\n  const i = t.vertex;\n\n  switch (t.include(n, s), t.attributes.add(\"sideness\", \"vec2\"), 2 === s.mode ? i.code.add(e`struct UnpackedAttributes {\nvec2 sideness;\nvec2 sidenessNorm;\nfloat lineWidthPixels;\nfloat extensionLengthPixels;\nfloat type;\n};`) : i.code.add(e`struct UnpackedAttributes {\nvec2 sideness;\nvec2 sidenessNorm;\nfloat lineWidthPixels;\nfloat extensionLengthPixels;\n};`), s.mode) {\n    case 2:\n      i.code.add(e`UnpackedAttributes unpackAttributes(ComponentData component) {\nvec2 sidenessNorm = sideness;\nvec2 sideness = sidenessNorm * 2.0 - 1.0;\nfloat fType = component.type;\nfloat extensionLengthPixels = component.extensionLength;\nfloat lineWidth = component.lineWidth;\nif (fType <= 0.0) {\nextensionLengthPixels *= variantExtension * 2.0 - 1.0;\n}\nreturn UnpackedAttributes(sideness, sidenessNorm, lineWidth, extensionLengthPixels, fType);\n}`);\n      break;\n\n    case 1:\n      i.code.add(e`UnpackedAttributes unpackAttributes(ComponentData component) {\nvec2 sidenessNorm = sideness;\nvec2 sideness = sidenessNorm * 2.0 - 1.0;\nfloat extensionLengthPixels = component.extensionLength;\nextensionLengthPixels *= variantExtension * 2.0 - 1.0;\nfloat lineWidth = component.lineWidth;\nreturn UnpackedAttributes(sideness, sidenessNorm, lineWidth, extensionLengthPixels);\n}`);\n      break;\n\n    case 0:\n      i.code.add(e`UnpackedAttributes unpackAttributes(ComponentData component) {\nvec2 sidenessNorm = sideness;\nvec2 sideness = sidenessNorm * 2.0 - 1.0;\nfloat extensionLengthPixels = component.extensionLength;\nfloat lineWidth = component.lineWidth;\nreturn UnpackedAttributes(sideness, sidenessNorm, lineWidth, extensionLengthPixels);\n}`);\n  }\n}\n\nexport { t as UnpackAttributes };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/sources/edgeRenderer/UnpackAttributes.glsl.js"],"names":["glsl","e","EdgeUtil","n","t","s","i","vertex","include","attributes","add","mode","code","UnpackAttributes"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAf,QAAqB,2CAArB;AAAiE,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,oBAAzB;;AAA8C,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAMC,CAAC,GAACF,CAAC,CAACG,MAAV;;AAAiB,UAAOH,CAAC,CAACI,OAAF,CAAUL,CAAV,EAAYE,CAAZ,GAAeD,CAAC,CAACK,UAAF,CAAaC,GAAb,CAAiB,UAAjB,EAA4B,MAA5B,CAAf,EAAmD,MAAIL,CAAC,CAACM,IAAN,GAAWL,CAAC,CAACM,IAAF,CAAOF,GAAP,CAAWT,CAAE;AAClO;AACA;AACA;AACA;AACA;AACA,GANqN,CAAX,GAMrMK,CAAC,CAACM,IAAF,CAAOF,GAAP,CAAWT,CAAE;AAClB;AACA;AACA;AACA;AACA,GALK,CANkJ,EAWlJI,CAAC,CAACM,IAXyI;AAWnI,SAAK,CAAL;AAAOL,MAAAA,CAAC,CAACM,IAAF,CAAOF,GAAP,CAAWT,CAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAVoB;AAUhB;;AAAM,SAAK,CAAL;AAAOK,MAAAA,CAAC,CAACM,IAAF,CAAOF,GAAP,CAAWT,CAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,EAPiB;AAOb;;AAAM,SAAK,CAAL;AAAOK,MAAAA,CAAC,CAACM,IAAF,CAAOF,GAAP,CAAWT,CAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,EANiB;AA5B+H;AAkC3I;;AAAA,SAAOG,CAAC,IAAIS,gBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../../core/shaderModules/interfaces.js\";import{EdgeUtil as n}from\"./EdgeUtil.glsl.js\";function t(t,s){const i=t.vertex;switch(t.include(n,s),t.attributes.add(\"sideness\",\"vec2\"),2===s.mode?i.code.add(e`struct UnpackedAttributes {\nvec2 sideness;\nvec2 sidenessNorm;\nfloat lineWidthPixels;\nfloat extensionLengthPixels;\nfloat type;\n};`):i.code.add(e`struct UnpackedAttributes {\nvec2 sideness;\nvec2 sidenessNorm;\nfloat lineWidthPixels;\nfloat extensionLengthPixels;\n};`),s.mode){case 2:i.code.add(e`UnpackedAttributes unpackAttributes(ComponentData component) {\nvec2 sidenessNorm = sideness;\nvec2 sideness = sidenessNorm * 2.0 - 1.0;\nfloat fType = component.type;\nfloat extensionLengthPixels = component.extensionLength;\nfloat lineWidth = component.lineWidth;\nif (fType <= 0.0) {\nextensionLengthPixels *= variantExtension * 2.0 - 1.0;\n}\nreturn UnpackedAttributes(sideness, sidenessNorm, lineWidth, extensionLengthPixels, fType);\n}`);break;case 1:i.code.add(e`UnpackedAttributes unpackAttributes(ComponentData component) {\nvec2 sidenessNorm = sideness;\nvec2 sideness = sidenessNorm * 2.0 - 1.0;\nfloat extensionLengthPixels = component.extensionLength;\nextensionLengthPixels *= variantExtension * 2.0 - 1.0;\nfloat lineWidth = component.lineWidth;\nreturn UnpackedAttributes(sideness, sidenessNorm, lineWidth, extensionLengthPixels);\n}`);break;case 0:i.code.add(e`UnpackedAttributes unpackAttributes(ComponentData component) {\nvec2 sidenessNorm = sideness;\nvec2 sideness = sidenessNorm * 2.0 - 1.0;\nfloat extensionLengthPixels = component.extensionLength;\nfloat lineWidth = component.lineWidth;\nreturn UnpackedAttributes(sideness, sidenessNorm, lineWidth, extensionLengthPixels);\n}`)}}export{t as UnpackAttributes};\n"]},"metadata":{},"sourceType":"module"}