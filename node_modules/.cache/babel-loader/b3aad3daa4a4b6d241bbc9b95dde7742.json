{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { clone as t } from \"../../core/lang.js\";\nimport { isPolygon as i, isPolyline as h, isMultipoint as n, isExtent as s } from \"../../geometry/support/jsonUtils.js\";\nimport { Placement as e } from \"./CIMPlacements.js\";\n\nfunction o(i) {\n  const h = t(i);\n  return c(h), h;\n}\n\nfunction a(t) {\n  if (t) {\n    for (let i = t.length - 1; i > 0; --i) t[i][0] -= t[i - 1][0], t[i][1] -= t[i - 1][1];\n  }\n}\n\nfunction r(t) {\n  if (t) for (const i of t) a(i);\n}\n\nfunction l(t) {\n  if (t) {\n    const i = t.length;\n\n    for (let h = 1; h < i; ++h) t[h][0] += t[h - 1][0], t[h][1] += t[h - 1][1];\n  }\n}\n\nfunction u(t) {\n  if (t) for (const i of t) l(i);\n}\n\nfunction c(t) {\n  t && (i(t) ? u(t.rings) : h(t) ? u(t.paths) : n(t) && l(t.points));\n}\n\nfunction p(t) {\n  t && (i(t) ? r(t.rings) : h(t) ? r(t.paths) : n(t) && a(t.points));\n}\n\nfunction m(t) {\n  if (t) for (const i of t) f(i);\n}\n\nfunction f(t) {\n  t && t.reverse();\n}\n\nfunction P(t, i, h) {\n  return [t[0] + (i[0] - t[0]) * h, t[1] + (i[1] - t[1]) * h];\n}\n\nfunction x(t) {\n  return !(!t || 0 === t.length) && t[0][0] === t[t.length - 1][0] && t[0][1] === t[t.length - 1][1];\n}\n\nfunction g(t) {\n  return t[4];\n}\n\nfunction d(t, i) {\n  t[4] = i;\n}\n\nclass C {\n  constructor(t, n, o, a) {\n    this.acceptPolygon = n, this.acceptPolyline = o, this.geomUnitsPerPoint = a, this.pathCount = -1, this.pathIndex = -1, this.iteratePath = !1, t && (i(t) ? n && (this.multiPath = t.rings, this.isClosed = !0) : h(t) ? o && (this.multiPath = t.paths, this.isClosed = !1) : s(t) && n && (this.multiPath = I(t).rings, this.isClosed = !0), this.multiPath && (this.pathCount = this.multiPath.length)), this.internalPlacement = new e();\n  }\n\n  next() {\n    if (!this.multiPath) return null;\n\n    for (; this.iteratePath || this.pathIndex < this.pathCount - 1;) {\n      this.iteratePath || this.pathIndex++;\n      const t = this.processPath(this.multiPath[this.pathIndex]);\n      if (t) return t;\n    }\n\n    return this.pathCount = -1, this.pathIndex = -1, this.multiPath = null, null;\n  }\n\n}\n\nclass y {\n  constructor(t, i, h, n) {\n    this.inputGeometries = t, this.acceptPolygon = i, this.acceptPolyline = h, this.geomUnitsPerPoint = n, this.pathCount = -1, this.pathIndex = -1, this.iteratePath = !1;\n  }\n\n  next() {\n    for (;;) {\n      if (!this.multiPath) {\n        let t = this.inputGeometries.next();\n\n        for (; t;) {\n          if (i(t) ? this.acceptPolygon && (this.multiPath = t.rings, this.isClosed = !0) : h(t) ? this.acceptPolyline && (this.multiPath = t.paths, this.isClosed = !1) : s(t) && this.acceptPolygon && (this.multiPath = I(t).rings, this.isClosed = !0), this.multiPath) {\n            this.pathCount = this.multiPath.length, this.pathIndex = -1;\n            break;\n          }\n\n          t = this.inputGeometries.next();\n        }\n\n        if (!this.multiPath) return null;\n      }\n\n      for (; this.iteratePath || this.pathIndex < this.pathCount - 1;) {\n        this.iteratePath || this.pathIndex++;\n        const t = this.processPath(this.multiPath[this.pathIndex]);\n        if (t) return t;\n      }\n\n      this.pathCount = -1, this.pathIndex = -1, this.multiPath = null;\n    }\n  }\n\n}\n\nfunction I(t) {\n  return {\n    rings: [[[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]]]\n  };\n}\n\nexport { y as PathGeometryCursor, C as PathTransformationCursor, o as cloneAndDecodeGeometry, c as deltaDecodeGeometry, p as deltaEncodeGeometry, P as getCoord2D, g as getId, x as isClosedPath, m as reverseMultipath, f as reversePath, d as setId };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/symbols/cim/CIMCursor.js"],"names":["clone","t","isPolygon","i","isPolyline","h","isMultipoint","n","isExtent","s","Placement","e","o","c","a","length","r","l","u","rings","paths","points","p","m","f","reverse","P","x","g","d","C","constructor","acceptPolygon","acceptPolyline","geomUnitsPerPoint","pathCount","pathIndex","iteratePath","multiPath","isClosed","I","internalPlacement","next","processPath","y","inputGeometries","xmin","ymin","ymax","xmax","PathGeometryCursor","PathTransformationCursor","cloneAndDecodeGeometry","deltaDecodeGeometry","deltaEncodeGeometry","getCoord2D","getId","isClosedPath","reverseMultipath","reversePath","setId"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../core/lang.js\";import{isPolygon as i,isPolyline as h,isMultipoint as n,isExtent as s}from\"../../geometry/support/jsonUtils.js\";import{Placement as e}from\"./CIMPlacements.js\";function o(i){const h=t(i);return c(h),h}function a(t){if(t){for(let i=t.length-1;i>0;--i)t[i][0]-=t[i-1][0],t[i][1]-=t[i-1][1]}}function r(t){if(t)for(const i of t)a(i)}function l(t){if(t){const i=t.length;for(let h=1;h<i;++h)t[h][0]+=t[h-1][0],t[h][1]+=t[h-1][1]}}function u(t){if(t)for(const i of t)l(i)}function c(t){t&&(i(t)?u(t.rings):h(t)?u(t.paths):n(t)&&l(t.points))}function p(t){t&&(i(t)?r(t.rings):h(t)?r(t.paths):n(t)&&a(t.points))}function m(t){if(t)for(const i of t)f(i)}function f(t){t&&t.reverse()}function P(t,i,h){return[t[0]+(i[0]-t[0])*h,t[1]+(i[1]-t[1])*h]}function x(t){return!(!t||0===t.length)&&(t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1])}function g(t){return t[4]}function d(t,i){t[4]=i}class C{constructor(t,n,o,a){this.acceptPolygon=n,this.acceptPolyline=o,this.geomUnitsPerPoint=a,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1,t&&(i(t)?n&&(this.multiPath=t.rings,this.isClosed=!0):h(t)?o&&(this.multiPath=t.paths,this.isClosed=!1):s(t)&&n&&(this.multiPath=I(t).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length)),this.internalPlacement=new e}next(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;const t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}return this.pathCount=-1,this.pathIndex=-1,this.multiPath=null,null}}class y{constructor(t,i,h,n){this.inputGeometries=t,this.acceptPolygon=i,this.acceptPolyline=h,this.geomUnitsPerPoint=n,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1}next(){for(;;){if(!this.multiPath){let t=this.inputGeometries.next();for(;t;){if(i(t)?this.acceptPolygon&&(this.multiPath=t.rings,this.isClosed=!0):h(t)?this.acceptPolyline&&(this.multiPath=t.paths,this.isClosed=!1):s(t)&&this.acceptPolygon&&(this.multiPath=I(t).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length,this.pathIndex=-1;break}t=this.inputGeometries.next()}if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;const t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}this.pathCount=-1,this.pathIndex=-1,this.multiPath=null}}}function I(t){return{rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}}export{y as PathGeometryCursor,C as PathTransformationCursor,o as cloneAndDecodeGeometry,c as deltaDecodeGeometry,p as deltaEncodeGeometry,P as getCoord2D,g as getId,x as isClosedPath,m as reverseMultipath,f as reversePath,d as setId};\n"]},"metadata":{},"sourceType":"module"}