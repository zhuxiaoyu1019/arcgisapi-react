{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport e from \"../core/Collection.js\";\nimport { referenceSetter as r } from \"../core/collectionUtils.js\";\nimport s from \"../core/Logger.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nconst n = \"esri.support.TablesMixin\",\n      a = s.getLogger(n);\n\nfunction l(t) {\n  return t && \"group\" === t.type;\n}\n\nfunction p(t, e, r) {\n  if (t) for (let s = 0, o = t.length; s < o; s++) {\n    const o = t.getItemAt(s);\n    if (o[e] === r) return o;\n\n    if (l(o)) {\n      const t = p(o.tables, e, r);\n      if (t) return t;\n    }\n  }\n}\n\nconst c = s => {\n  let l = class extends s {\n    constructor(...t) {\n      super(...t), this.tables = new e(), this.tables.on(\"after-add\", t => {\n        const e = t.item;\n        e.parent && e.parent !== this && \"tables\" in e.parent && e.parent.tables.remove(e), e.parent = this, \"feature\" !== e.type && a.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`);\n      }), this.tables.on(\"after-remove\", t => {\n        t.item.parent = null;\n      });\n    }\n\n    destroy() {\n      const t = this.tables.removeAll();\n\n      for (const e of t) e.destroy();\n\n      this.tables.destroy();\n    }\n\n    set tables(t) {\n      this._set(\"tables\", r(t, this._get(\"tables\")));\n    }\n\n    findTableById(t) {\n      return p(this.tables, \"id\", t);\n    }\n\n    findTableByUid(t) {\n      return p(this.tables, \"uid\", t);\n    }\n\n  };\n  return t([o()], l.prototype, \"tables\", null), l = t([i(n)], l), l;\n};\n\nexport { c as TablesMixin };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/support/TablesMixin.js"],"names":["_","t","e","referenceSetter","r","s","property","o","subclass","i","n","a","getLogger","l","type","p","length","getItemAt","tables","c","constructor","on","item","parent","remove","error","title","id","destroy","removeAll","_set","_get","findTableById","findTableByUid","prototype","TablesMixin"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";const n=\"esri.support.TablesMixin\",a=s.getLogger(n);function l(t){return t&&\"group\"===t.type}function p(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.getItemAt(s);if(o[e]===r)return o;if(l(o)){const t=p(o.tables,e,r);if(t)return t}}}const c=s=>{let l=class extends s{constructor(...t){super(...t),this.tables=new e,this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&a.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return p(this.tables,\"id\",t)}findTableByUid(t){return p(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(n)],l),l};export{c as TablesMixin};\n"]},"metadata":{},"sourceType":"module"}