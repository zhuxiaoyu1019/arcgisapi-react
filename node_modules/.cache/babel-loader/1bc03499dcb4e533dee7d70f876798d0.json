{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../PopupTemplate.js\";\nimport \"../renderers/ClassBreaksRenderer.js\";\nimport \"../renderers/DictionaryRenderer.js\";\nimport \"../renderers/DotDensityRenderer.js\";\nimport \"../renderers/HeatmapRenderer.js\";\nimport \"../renderers/Renderer.js\";\nimport r from \"../renderers/SimpleRenderer.js\";\nimport i from \"../renderers/UniqueValueRenderer.js\";\nimport { read as o, write as s } from \"../renderers/support/jsonUtils.js\";\nimport { rendererTypes as n, webSceneRendererTypes as a } from \"../renderers/support/types.js\";\nimport p from \"../request.js\";\nimport { symbolTypes as l, symbolTypesRenderer as u } from \"../symbols.js\";\nimport d from \"../core/Collection.js\";\nimport y from \"../core/Error.js\";\nimport c from \"../core/Handles.js\";\nimport h from \"../core/has.js\";\nimport { JSONMap as m } from \"../core/jsonMap.js\";\nimport f from \"../core/Logger.js\";\nimport { destroyMaybe as b, isSome as g } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as v } from \"../core/MultiOriginJSONSupport.js\";\nimport { setDeepValue as w } from \"../core/object.js\";\nimport { throwIfAbortError as F, whenOrAbort as I } from \"../core/promiseUtils.js\";\nimport { urlToObject as S, join as j } from \"../core/urlUtils.js\";\nimport { property as E } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as T } from \"../core/accessorSupport/decorators/cast.js\";\nimport { reader as x } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as D } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as C } from \"../core/accessorSupport/decorators/writer.js\";\nimport { createTypeReader as R } from \"../core/accessorSupport/extensions/serializableProperty/reader.js\";\nimport M from \"../form/FormTemplate.js\";\nimport O from \"../geometry/Extent.js\";\nimport L from \"../geometry/HeightModelInfo.js\";\nimport P from \"../geometry/SpatialReference.js\";\nimport _ from \"./Layer.js\";\nimport A from \"./graphics/sources/MemorySource.js\";\nimport { APIKeyMixin as q } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as Q } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as U } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as V } from \"./mixins/CustomParametersMixin.js\";\nimport { OperationalLayer as G } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as B } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as z } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as W } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as k } from \"./mixins/TemporalLayer.js\";\nimport { titleFromUrlAndName as N, parse as Z, cleanTitle as J, sanitizeUrlWithLayerId as $, writeUrlWithLayerId as H } from \"./support/arcgisLayerUrl.js\";\nimport { elevationInfo as K, id as X, labelsVisible as Y, opacityDrawingInfo as ee, legendEnabled as te, minScale as re, maxScale as ie, popupEnabled as oe, screenSizePerspectiveEnabled as se, url as ne } from \"./support/commonProperties.js\";\nimport { FeatureIndex as ae } from \"./support/FeatureIndex.js\";\nimport pe from \"./support/FeatureReduction.js\";\nimport le from \"./support/FeatureReductionCluster.js\";\nimport ue from \"./support/FeatureReductionSelection.js\";\nimport { read as de, writeTarget as ye, webSceneFeatureReductionTypes as ce } from \"./support/featureReductionUtils.js\";\nimport he from \"./support/FeatureTemplate.js\";\nimport me from \"./support/FeatureType.js\";\nimport { defineFieldProperties as fe } from \"./support/fieldProperties.js\";\nimport { fixRendererFields as be, fixTimeInfoFields as ge } from \"./support/fieldUtils.js\";\nimport ve from \"./support/GeometryFieldsInfo.js\";\nimport we from \"./support/LabelClass.js\";\nimport { reader as Fe } from \"./support/labelingInfo.js\";\nimport Ie from \"./support/LayerFloorInfo.js\";\nimport Se from \"./support/Relationship.js\";\nimport je from \"./support/TimeInfo.js\";\nimport { DataLayerSource as Ee } from \"./support/source/DataLayerSource.js\";\nimport { loadStyleRenderer as Te } from \"../renderers/support/styleUtils.js\";\nimport xe from \"../rest/support/AttachmentQuery.js\";\nimport De from \"../rest/support/FeatureSet.js\";\nimport Ce from \"../rest/support/Query.js\";\nimport Re from \"../rest/support/RelationshipQuery.js\";\nimport Me from \"../rest/support/TopFeaturesQuery.js\";\nimport { createPopupTemplate as Oe } from \"../support/popupUtils.js\";\nconst Le = new m({\n  esriGeometryPoint: \"point\",\n  esriGeometryMultipoint: \"multipoint\",\n  esriGeometryPolyline: \"polyline\",\n  esriGeometryPolygon: \"polygon\",\n  esriGeometryMultiPatch: \"multipatch\"\n}),\n      Pe = {\n  name: \"supportsName\",\n  size: \"supportsSize\",\n  contentType: \"supportsContentType\",\n  keywords: \"supportsKeywords\",\n  exifInfo: \"supportsExifInfo\"\n},\n      _e = \"FeatureLayer\",\n      Ae = f.getLogger(\"esri.layers.FeatureLayer\");\n\nfunction qe(e) {\n  return e && e instanceof d;\n}\n\nfunction Qe(e, t, r) {\n  return !!(e && e.hasOwnProperty(t) ? e[t] : r);\n}\n\nfunction Ue(e, t, r) {\n  return e && e.hasOwnProperty(t) ? e[t] : r;\n}\n\nconst Ve = fe();\n\nfunction Ge(e, t, r) {\n  const i = !(null == r || !r.writeLayerSchema);\n  return {\n    enabled: i,\n    ignoreOrigin: i\n  };\n}\n\nlet Be = class extends U(k(W(z(Q(G(B(v(V(q(_)))))))))) {\n  constructor(...e) {\n    super(...e), this._handles = new c(), this.capabilities = null, this.charts = null, this.copyright = null, this.displayField = null, this.definitionExpression = null, this.dynamicDataSource = null, this.editFieldsInfo = null, this.editingInfo = null, this.elevationInfo = null, this.featureReduction = null, this.fields = null, this.fieldsIndex = null, this.floorInfo = null, this.formTemplate = null, this.fullExtent = null, this.gdbVersion = null, this.geometryFieldsInfo = null, this.geometryType = null, this.hasM = void 0, this.hasZ = void 0, this.heightModelInfo = null, this.historicMoment = null, this.infoFor3D = null, this.isTable = !1, this.labelsVisible = !0, this.labelingInfo = null, this.layerId = void 0, this.legendEnabled = !0, this.minScale = 0, this.maxScale = 0, this.globalIdField = null, this.objectIdField = null, this.outFields = null, this.path = null, this.popupEnabled = !0, this.popupTemplate = null, this.relationships = null, this.sourceJSON = null, this.returnM = void 0, this.returnZ = void 0, this.screenSizePerspectiveEnabled = !0, this.serviceDefinitionExpression = null, this.spatialReference = P.WGS84, this.subtypeCode = null, this.templates = null, this.timeInfo = null, this.title = null, this.sublayerTitleMode = \"item-title\", this.trackIdField = null, this.type = \"feature\", this.typeIdField = null, this.types = null, this.indexes = new (d.ofType(ae))(), this.userIsAdmin = !1, this.version = void 0, this.visible = !0;\n  }\n\n  destroy() {\n    var e;\n    null == (e = this.source) || e.destroy(), this._handles = b(this._handles);\n  }\n\n  normalizeCtorArgs(e, t) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...t\n    } : e;\n  }\n\n  load(e) {\n    const t = g(e) ? e.signal : null;\n    if (this.portalItem && this.portalItem.loaded && this.source) return void this.addResolvingPromise(this.createGraphicsSource(t).then(e => this._initLayerProperties(e)));\n    const r = this.loadFromPortal({\n      supportedTypes: [\"Feature Service\", \"Feature Collection\"]\n    }, e).catch(F).then(async () => {\n      if (this.url && null == this.layerId && /FeatureServer|MapServer\\/*$/i.test(this.url)) {\n        const e = await this._fetchFirstLayerId(t);\n        null != e && (this.layerId = e);\n      }\n\n      if (!this.url && !this._hasMemorySource()) throw new y(\"feature-layer:missing-url-or-source\", \"Feature layer must be created with either a url or a source\");\n      return this._initLayerProperties(await this.createGraphicsSource(t));\n    }).then(() => this.finishLoadEditablePortalLayer(e));\n    return this.addResolvingPromise(r), Promise.resolve(this);\n  }\n\n  readCapabilities(e, t) {\n    return t = t.layerDefinition || t, {\n      attachment: this._readAttachmentCapabilities(t.attachmentProperties),\n      data: this._readDataCapabilities(t),\n      metadata: this._readMetadataCapabilities(t),\n      operations: this._readOperationsCapabilities(t.capabilities || e, t),\n      query: this._readQueryCapabilities(t),\n      queryRelated: this._readQueryRelatedCapabilities(t),\n      editing: this._readEditingCapabilities(t)\n    };\n  }\n\n  get createQueryVersion() {\n    return this.commitProperty(\"definitionExpression\"), this.commitProperty(\"dynamicDataSource\"), this.commitProperty(\"timeExtent\"), this.commitProperty(\"timeOffset\"), this.commitProperty(\"geometryType\"), this.commitProperty(\"gdbVersion\"), this.commitProperty(\"historicMoment\"), this.commitProperty(\"returnZ\"), this.commitProperty(\"capabilities\"), this.commitProperty(\"returnM\"), (this._get(\"createQueryVersion\") || 0) + 1;\n  }\n\n  get editingEnabled() {\n    return this._isOverridden(\"editingEnabled\") ? this._get(\"editingEnabled\") : this._hasMemorySource() || this.userHasEditingPrivileges;\n  }\n\n  set editingEnabled(e) {\n    null != e ? this._override(\"editingEnabled\", e) : this._clearOverride(\"editingEnabled\");\n  }\n\n  readEditingEnabled(e, t) {\n    return this._readEditingEnabled(t, !1);\n  }\n\n  readEditingEnabledFromWebMap(e, t, r) {\n    return this._readEditingEnabled(t, !0, r);\n  }\n\n  writeEditingEnabled(e, t) {\n    this._writeEditingEnabled(e, t, !1);\n  }\n\n  writeEditingEnabledToWebMap(e, t, r, i) {\n    this._writeEditingEnabled(e, t, !0, i);\n  }\n\n  readEditingInfo(e, t) {\n    const {\n      editingInfo: r\n    } = t;\n    return r ? {\n      lastEditDate: null != r.lastEditDate ? new Date(r.lastEditDate) : null\n    } : null;\n  }\n\n  readFeatureReduction(e, t) {\n    return de(e, t);\n  }\n\n  writeWebSceneFeatureReduction(e, t, r, i) {\n    ye(e, t, \"layerDefinition.featureReduction\", i);\n  }\n\n  readIsTable(e, t) {\n    return \"Table\" === (t = t && t.layerDefinition || t).type || !t.geometryType;\n  }\n\n  writeIsTable(e, t, r, i) {\n    null != i && i.writeLayerSchema && w(r, e ? \"Table\" : \"Feature Layer\", t);\n  }\n\n  readMinScale(e, t) {\n    return t.effectiveMinScale || e || 0;\n  }\n\n  readMaxScale(e, t) {\n    return t.effectiveMaxScale || e || 0;\n  }\n\n  readGlobalIdFieldFromService(e, t) {\n    if ((t = t.layerDefinition || t).globalIdField) return t.globalIdField;\n    if (t.fields) for (const r of t.fields) if (\"esriFieldTypeGlobalID\" === r.type) return r.name;\n  }\n\n  readObjectIdFieldFromService(e, t) {\n    if ((t = t.layerDefinition || t).objectIdField) return t.objectIdField;\n    if (t.fields) for (const r of t.fields) if (\"esriFieldTypeOID\" === r.type) return r.name;\n  }\n\n  get parsedUrl() {\n    const e = this.url ? S(this.url) : null;\n    return null != e && (null != this.dynamicDataSource ? e.path = j(e.path, \"dynamicLayer\") : null != this.layerId && (e.path = j(e.path, this.layerId.toString()))), e;\n  }\n\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n\n  set renderer(e) {\n    be(e, this.fieldsIndex), this._set(\"renderer\", e);\n  }\n\n  readRenderer(e, t, s) {\n    const n = (t = t.layerDefinition || t).drawingInfo && t.drawingInfo.renderer || void 0;\n\n    if (n) {\n      const e = o(n, t, s) || void 0;\n      return e || Ae.error(\"Failed to create renderer\", {\n        rendererDefinition: t.drawingInfo.renderer,\n        layer: this,\n        context: s\n      }), e;\n    }\n\n    if (t.defaultSymbol) return t.types && t.types.length ? new i({\n      defaultSymbol: ze(t.defaultSymbol, t, s),\n      field: t.typeIdField,\n      uniqueValueInfos: t.types.map(e => ({\n        id: e.id,\n        symbol: ze(e.symbol, e, s)\n      }))\n    }) : new r({\n      symbol: ze(t.defaultSymbol, t, s)\n    });\n  }\n\n  set source(e) {\n    const t = this._get(\"source\");\n\n    t !== e && (qe(t) && this._resetMemorySource(t), qe(e) && this._initMemorySource(e), this._set(\"source\", e));\n  }\n\n  castSource(e) {\n    return e ? Array.isArray(e) || e instanceof d ? new A({\n      layer: this,\n      items: e\n    }) : e : null;\n  }\n\n  readSource(e, t) {\n    const r = De.fromJSON(t.featureSet);\n    return new A({\n      layer: this,\n      items: r && r.features || []\n    });\n  }\n\n  readServiceDefinitionExpression(e, t) {\n    return t.definitionQuery || t.definitionExpression;\n  }\n\n  readTemplates(e, t) {\n    const r = t.editFieldsInfo,\n          i = r && r.creatorField,\n          o = r && r.editorField;\n    return e = e && e.map(e => he.fromJSON(e)), this._fixTemplates(e, i), this._fixTemplates(e, o), e;\n  }\n\n  readTitle(e, t) {\n    const r = t.layerDefinition && t.layerDefinition.name || t.name,\n          i = t.title || t.layerDefinition && t.layerDefinition.title;\n\n    if (r) {\n      const e = this.portalItem && this.portalItem.title;\n      if (\"item-title\" === this.sublayerTitleMode) return this.url ? N(this.url, r) : r;\n      let t = r;\n\n      if (!t && this.url) {\n        const e = Z(this.url);\n        g(e) && (t = e.title);\n      }\n\n      if (!t) return;\n      return \"item-title-and-service-name\" === this.sublayerTitleMode && e && e !== t && (t = e + \" - \" + t), J(t);\n    }\n\n    if (\"item-title\" === this.sublayerTitleMode && i) return i;\n  }\n\n  readTitleFromWebMap(e, t) {\n    return t.title || t.layerDefinition && t.layerDefinition.name;\n  }\n\n  readTypeIdField(e, t) {\n    let r = (t = t.layerDefinition || t).typeIdField;\n\n    if (r && t.fields) {\n      r = r.toLowerCase();\n      const e = t.fields.find(e => e.name.toLowerCase() === r);\n      e && (r = e.name);\n    }\n\n    return r;\n  }\n\n  readTypes(e, t) {\n    e = (t = t.layerDefinition || t).types;\n    const r = t.editFieldsInfo,\n          i = r && r.creatorField,\n          o = r && r.editorField;\n    return e && e.map(e => (e = me.fromJSON(e), this._fixTemplates(e.templates, i), this._fixTemplates(e.templates, o), e));\n  }\n\n  set url(e) {\n    const t = $({\n      layer: this,\n      url: e,\n      nonStandardUrlAllowed: !0,\n      logger: Ae\n    });\n    this._set(\"url\", t.url), null != t.layerId && this._set(\"layerId\", t.layerId);\n  }\n\n  writeUrl(e, t, r, i) {\n    H(this, e, null, t, i);\n  }\n\n  readVersion(e, t) {\n    return t.currentVersion ? t.currentVersion : t.hasOwnProperty(\"capabilities\") || t.hasOwnProperty(\"drawingInfo\") || t.hasOwnProperty(\"hasAttachments\") || t.hasOwnProperty(\"htmlPopupType\") || t.hasOwnProperty(\"relationships\") || t.hasOwnProperty(\"timeInfo\") || t.hasOwnProperty(\"typeIdField\") || t.hasOwnProperty(\"types\") ? 10 : 9.3;\n  }\n\n  readVisible(e, t) {\n    return t.layerDefinition && null != t.layerDefinition.defaultVisibility ? !!t.layerDefinition.defaultVisibility : null != t.visibility ? !!t.visibility : void 0;\n  }\n\n  addAttachment(e, t) {\n    return this.load().then(() => this._checkAttachmentSupport(e)).then(() => {\n      if (!(\"addAttachment\" in this.source)) throw new y(_e, \"Layer source does not support addAttachment capability\");\n      return this.source.addAttachment(e, t);\n    });\n  }\n\n  updateAttachment(e, t, r) {\n    return this.load().then(() => this._checkAttachmentSupport(e)).then(() => {\n      if (!(\"updateAttachment\" in this.source)) throw new y(_e, \"Layer source does not support updateAttachment capability\");\n      return this.source.updateAttachment(e, t, r);\n    });\n  }\n\n  async applyEdits(e, t) {\n    const r = await import(\"./graphics/editingSupport.js\");\n    return await this.load(), r.applyEdits(this, this.source, e, t);\n  }\n\n  on(e, t) {\n    return super.on(e, t);\n  }\n\n  createPopupTemplate(e) {\n    return Oe(this, e);\n  }\n\n  async createGraphicsSource(e) {\n    if (this._hasMemorySource()) return this.source.load({\n      signal: e\n    });\n    const {\n      default: t\n    } = await I(import(\"./graphics/sources/FeatureLayerSource.js\"), e);\n    return new t({\n      layer: this\n    }).load({\n      signal: e\n    });\n  }\n\n  createQuery() {\n    const e = new Ce(),\n          t = this.get(\"capabilities.data\");\n    e.dynamicDataSource = this.dynamicDataSource, e.gdbVersion = this.gdbVersion, e.historicMoment = this.historicMoment, e.returnGeometry = !0, t && (t.supportsZ && null != this.returnZ && (e.returnZ = this.returnZ), t.supportsM && null != this.returnM && (e.returnM = this.returnM)), e.outFields = [\"*\"], e.where = this.definitionExpression || \"1=1\";\n    const {\n      timeOffset: r,\n      timeExtent: i\n    } = this;\n    return e.timeExtent = null != r && null != i ? i.offset(-r.value, r.unit) : i || null, e.multipatchOption = \"multipatch\" === this.geometryType ? \"xyFootprint\" : null, e;\n  }\n\n  deleteAttachments(e, t) {\n    return this.load().then(() => this._checkAttachmentSupport(e)).then(() => {\n      if (!(\"deleteAttachments\" in this.source)) throw new y(_e, \"Layer source does not support deleteAttachments capability\");\n      return this.source.deleteAttachments(e, t);\n    });\n  }\n\n  fetchRecomputedExtents(e) {\n    return this.load({\n      signal: null == e ? void 0 : e.signal\n    }).then(() => {\n      if (this.source.fetchRecomputedExtents) return this.source.fetchRecomputedExtents(e);\n      throw new y(_e, \"Layer source does not support fetchUpdates capability\");\n    });\n  }\n\n  getFeatureType(e) {\n    const {\n      typeIdField: t,\n      types: r\n    } = this;\n    if (!t || !e) return null;\n    const i = e.attributes ? e.attributes[t] : void 0;\n    if (null == i) return null;\n    let o = null;\n    return r.some(e => {\n      const {\n        id: t\n      } = e;\n      return null != t && (t.toString() === i.toString() && (o = e), !!o);\n    }), o;\n  }\n\n  getFieldDomain(e, t) {\n    const r = t && t.feature,\n          i = this.getFeatureType(r);\n\n    if (i) {\n      const t = i.domains && i.domains[e];\n      if (t && \"inherited\" !== t.type) return t;\n    }\n\n    return this._getLayerDomain(e);\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  queryAttachments(e, t) {\n    return e = xe.from(e), this.load().then(() => {\n      if (!this.get(\"capabilities.data.supportsAttachment\")) throw new y(_e, \"this layer doesn't support attachments\");\n      const {\n        attachmentTypes: t,\n        objectIds: r,\n        globalIds: i,\n        num: o,\n        size: s,\n        start: n,\n        where: a\n      } = e;\n\n      if (!this.get(\"capabilities.operations.supportsQueryAttachments\")) {\n        const p = r && r.length > 1,\n              l = t && t.length,\n              u = i && i.length,\n              d = s && s.length;\n        if (p || l || u || d || o || n || a) throw new y(_e, \"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported\", e);\n      }\n\n      if (!(r && r.length || a)) throw new y(_e, \"'objectIds' or 'where' are required to perform attachment query\", e);\n      if (!(\"queryAttachments\" in this.source)) throw new y(_e, \"Layer source does not support queryAttachments capability\", e);\n      return this.source.queryAttachments(e);\n    });\n  }\n\n  queryFeatures(e, t) {\n    return this.load().then(() => this.source.queryFeatures(Ce.from(e) || this.createQuery(), t)).then(e => {\n      if (null != e && e.features) for (const t of e.features) t.layer = t.sourceLayer = this;\n      return e;\n    });\n  }\n\n  queryObjectIds(e, t) {\n    return this.load().then(() => {\n      if (this.source.queryObjectIds) return this.source.queryObjectIds(Ce.from(e) || this.createQuery(), t);\n      throw new y(_e, \"Layer source does not support queryObjectIds capability\");\n    });\n  }\n\n  queryFeatureCount(e, t) {\n    return this.load().then(() => {\n      if (this.source.queryFeatureCount) return this.source.queryFeatureCount(Ce.from(e) || this.createQuery(), t);\n      throw new y(_e, \"Layer source does not support queryFeatureCount capability\");\n    });\n  }\n\n  queryExtent(e, t) {\n    return this.load().then(() => {\n      if (this.source.queryExtent) return this.source.queryExtent(Ce.from(e) || this.createQuery(), t);\n      throw new y(_e, \"Layer source does not support queryExtent capability\");\n    });\n  }\n\n  queryRelatedFeatures(e, t) {\n    return this.load().then(() => {\n      if (\"queryRelatedFeatures\" in this.source) return this.source.queryRelatedFeatures(Re.from(e), t);\n      throw new y(_e, \"Layer source does not support queryRelatedFeatures capability\");\n    });\n  }\n\n  queryRelatedFeaturesCount(e, t) {\n    return this.load().then(() => {\n      if (\"queryRelatedFeaturesCount\" in this.source) return this.source.queryRelatedFeaturesCount(Re.from(e), t);\n      throw new y(_e, \"Layer source does not support queryRelatedFeaturesCount capability\");\n    });\n  }\n\n  queryTopFeatures(e, t) {\n    return this.load().then(() => {\n      if (\"queryTopFeatures\" in this.source && this.get(\"capabilities.query.supportsTopFeaturesQuery\")) return this.source.queryTopFeatures(Me.from(e), t).then(e => {\n        if (null != e && e.features) for (const t of e.features) t.layer = t.sourceLayer = this;\n        return e;\n      });\n      throw new y(_e, \"Layer source does not support queryTopFeatures capability\");\n    });\n  }\n\n  queryTopObjectIds(e, t) {\n    return this.load().then(() => {\n      if (\"queryTopObjectIds\" in this.source && this.get(\"capabilities.query.supportsTopFeaturesQuery\")) return this.source.queryTopObjectIds(Me.from(e), t);\n      throw new y(_e, \"Layer source does not support queryTopObjectIds capability\");\n    });\n  }\n\n  queryTopFeaturesExtent(e, t) {\n    return this.load().then(() => {\n      if (\"queryTopExtents\" in this.source && this.get(\"capabilities.query.supportsTopFeaturesQuery\")) return this.source.queryTopExtents(Me.from(e), t);\n      throw new y(_e, \"Layer source does not support queryTopExtents capability\");\n    });\n  }\n\n  queryTopFeatureCount(e, t) {\n    return this.load().then(() => {\n      if (\"queryTopCount\" in this.source && this.get(\"capabilities.query.supportsTopFeaturesQuery\")) return this.source.queryTopCount(Me.from(e), t);\n      throw new y(_e, \"Layer source does not support queryFeatureCount capability\");\n    });\n  }\n\n  read(e, t) {\n    const r = e.featureCollection;\n\n    if (r) {\n      const e = r.layers;\n      e && 1 === e.length && (super.read(e[0], t), null != r.showLegend && super.read({\n        showLegend: r.showLegend\n      }, t));\n    }\n\n    super.read(e, t), t && \"service\" === t.origin && this.revert([\"objectIdField\", \"fields\", \"timeInfo\", \"spatialReference\"], \"service\");\n  }\n\n  write(e, t) {\n    var r, i;\n    const o = (t = { ...t,\n      writeLayerSchema: null != (r = null == (i = t) ? void 0 : i.writeLayerSchema) ? r : this._hasMemorySource()\n    }).origin,\n          s = t.layerContainerType,\n          n = t.messages;\n\n    if (this.isTable) {\n      if (\"web-scene\" === o || \"web-map\" === o && \"tables\" !== s) return n && n.push(new y(\"layer:unsupported\", `Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`, {\n        layer: this\n      })), null;\n      if (this._hasMemorySource()) return n && n.push(new y(\"layer:unsupported\", `Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`, {\n        layer: this\n      })), null;\n    } else if (this.loaded && \"web-map\" === o && \"tables\" === s) return n && n.push(new y(\"layer:unsupported\", `Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`, {\n      layer: this\n    })), null;\n\n    return super.write(e, t);\n  }\n\n  _readEditingEnabled(e, t, r) {\n    var i;\n    let o = null == (i = e.layerDefinition) ? void 0 : i.capabilities;\n    return o ? this._hasEditingCapability(o) : (o = e.capabilities, t && \"web-map\" === (null == r ? void 0 : r.origin) && !this._hasMemorySource() && o ? this._hasEditingCapability(o) : void 0);\n  }\n\n  _hasEditingCapability(e) {\n    return e.toLowerCase().split(\",\").map(e => e.trim()).includes(\"editing\");\n  }\n\n  _writeEditingEnabled(e, t, r, i) {\n    if (!e) {\n      var o, s;\n      const e = null != (o = this.capabilities) && null != (s = o.operations) && s.supportsSync ? \"Query,Sync\" : \"Query\";\n      w(\"layerDefinition.capabilities\", e, t), !r || null != i && i.writeLayerSchema || (t.capabilities = e);\n    }\n  }\n\n  _checkAttachmentSupport(e) {\n    const {\n      attributes: t\n    } = e,\n          {\n      objectIdField: r\n    } = this;\n    return this.get(\"capabilities.data.supportsAttachment\") ? e ? t ? t[r] ? void 0 : Promise.reject(new y(_e, `feature is missing the identifying attribute ${r}`)) : Promise.reject(new y(_e, \"'attributes' are required on a feature to query attachments\")) : Promise.reject(new y(_e, \"A feature is required to add/delete/update attachments\")) : Promise.reject(new y(_e, \"this layer doesn't support attachments\"));\n  }\n\n  _getLayerDomain(e) {\n    const t = this.fieldsIndex.get(e);\n    return t ? t.domain : null;\n  }\n\n  _fetchFirstLayerId(e) {\n    return p(this.url, {\n      query: {\n        f: \"json\",\n        ...this.customParameters,\n        token: this.apiKey\n      },\n      responseType: \"json\",\n      signal: e\n    }).then(e => {\n      const t = e.data;\n      if (t) return Array.isArray(t.layers) && t.layers.length > 0 ? t.layers[0].id : Array.isArray(t.tables) && t.tables.length > 0 ? t.tables[0].id : void 0;\n    });\n  }\n\n  async _initLayerProperties(e) {\n    return this._set(\"source\", e), e.sourceJSON && (this.sourceJSON = e.sourceJSON, this.read(e.sourceJSON, {\n      origin: \"service\",\n      url: this.parsedUrl\n    })), this._verifySource(), this._verifyFields(), be(this.renderer, this.fieldsIndex), ge(this.timeInfo, this.fieldsIndex), Te(this, {\n      origin: \"service\"\n    });\n  }\n\n  _verifyFields() {\n    const e = this.parsedUrl && this.parsedUrl.path || \"undefined\";\n    this.objectIdField || console.log(\"FeatureLayer: 'objectIdField' property is not defined (url: \" + e + \")\"), this.isTable || this._hasMemorySource() || -1 !== e.search(/\\/FeatureServer\\//i) || this.fields && this.fields.some(function (e) {\n      return \"geometry\" === e.type;\n    }) || console.log(\"FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: \" + e + \")\");\n  }\n\n  _fixTemplates(e, t) {\n    e && e.forEach(e => {\n      const r = e.prototype && e.prototype.attributes;\n      r && t && delete r[t];\n    });\n  }\n\n  _verifySource() {\n    if (this._hasMemorySource()) {\n      if (this.url) throw new y(\"feature-layer:mixed-source-and-url\", \"FeatureLayer cannot be created with both an in-memory source and a url\");\n    } else if (!this.url) throw new y(\"feature-layer:source-or-url-required\", \"FeatureLayer requires either a url, a valid portal item or a source\");\n  }\n\n  _initMemorySource(e) {\n    e.forEach(e => {\n      e.layer = this, e.sourceLayer = this;\n    }), this._handles.add([e.on(\"after-add\", e => {\n      e.item.layer = this, e.item.sourceLayer = this;\n    }), e.on(\"after-remove\", e => {\n      e.item.layer = null, e.item.sourceLayer = null;\n    })], \"fl-source\");\n  }\n\n  _resetMemorySource(e) {\n    e.forEach(e => {\n      e.layer = null, e.sourceLayer = null;\n    }), this._handles.remove(\"fl-source\");\n  }\n\n  _hasMemorySource() {\n    return !(this.url || !this.source);\n  }\n\n  _readAttachmentCapabilities(e) {\n    const t = {\n      supportsName: !1,\n      supportsSize: !1,\n      supportsContentType: !1,\n      supportsKeywords: !1,\n      supportsExifInfo: !1\n    };\n    return e && Array.isArray(e) && e.forEach(e => {\n      const r = Pe[e.name];\n      r && (t[r] = !!e.isEnabled);\n    }), t;\n  }\n\n  _readDataCapabilities(e) {\n    return {\n      isVersioned: Qe(e, \"isDataVersioned\", !1),\n      supportsAttachment: Qe(e, \"hasAttachments\", !1),\n      supportsM: Qe(e, \"hasM\", !1),\n      supportsZ: Qe(e, \"hasZ\", !1)\n    };\n  }\n\n  _readMetadataCapabilities(e) {\n    return {\n      supportsAdvancedFieldProperties: Qe(e, \"supportsFieldDescriptionProperty\", !1)\n    };\n  }\n\n  _readOperationsCapabilities(e, t) {\n    const r = e ? e.toLowerCase().split(\",\").map(e => e.trim()) : [],\n          i = -1 !== r.indexOf(\"editing\");\n    let o = i && -1 !== r.indexOf(\"create\"),\n        s = i && -1 !== r.indexOf(\"delete\"),\n        n = i && -1 !== r.indexOf(\"update\");\n    const a = -1 !== r.indexOf(\"changetracking\");\n    return i && !(o || s || n) && (o = s = n = !0), {\n      supportsCalculate: Qe(t, \"supportsCalculate\", !1),\n      supportsTruncate: Qe(t, \"supportsTruncate\", !1),\n      supportsValidateSql: Qe(t, \"supportsValidateSql\", !1),\n      supportsAdd: o,\n      supportsDelete: s,\n      supportsEditing: i,\n      supportsChangeTracking: a,\n      supportsQuery: -1 !== r.indexOf(\"query\"),\n      supportsQueryAttachments: Qe(t.advancedQueryCapabilities, \"supportsQueryAttachments\", !1),\n      supportsResizeAttachments: Qe(t, \"supportsAttachmentsResizing\", !1),\n      supportsSync: -1 !== r.indexOf(\"sync\"),\n      supportsUpdate: n,\n      supportsExceedsLimitStatistics: Qe(t, \"supportsExceedsLimitStatistics\", !1)\n    };\n  }\n\n  _readQueryCapabilities(e) {\n    var t;\n    const r = e.advancedQueryCapabilities,\n          i = e.ownershipBasedAccessControlForFeatures,\n          o = e.archivingInfo,\n          s = null == (t = this.url) ? void 0 : t.includes(\"MapServer\"),\n          n = !h(\"mapserver-pbf-enabled\") && s && this.version < 10.81,\n          a = (e.supportedQueryFormats || \"\").split(\",\").reduce((e, t) => {\n      const r = t.toLowerCase().trim();\n      return r && e.add(r), e;\n    }, new Set());\n    return {\n      supportsStatistics: Qe(r, \"supportsStatistics\", e.supportsStatistics),\n      supportsPercentileStatistics: Qe(r, \"supportsPercentileStatistics\", !1),\n      supportsCentroid: Qe(r, \"supportsReturningGeometryCentroid\", !1),\n      supportsDistance: Qe(r, \"supportsQueryWithDistance\", !1),\n      supportsDistinct: Qe(r, \"supportsDistinct\", e.supportsAdvancedQueries),\n      supportsExtent: Qe(r, \"supportsReturningQueryExtent\", !1),\n      supportsGeometryProperties: Qe(r, \"supportsReturningGeometryProperties\", !1),\n      supportsHavingClause: Qe(r, \"supportsHavingClause\", !1),\n      supportsOrderBy: Qe(r, \"supportsOrderBy\", e.supportsAdvancedQueries),\n      supportsPagination: Qe(r, \"supportsPagination\", !1),\n      supportsQuantization: Qe(e, \"supportsCoordinatesQuantization\", !1),\n      supportsQuantizationEditMode: Qe(e, \"supportsQuantizationEditMode\", !1),\n      supportsQueryGeometry: Qe(e, \"supportsReturningQueryGeometry\", !1),\n      supportsResultType: Qe(r, \"supportsQueryWithResultType\", !1),\n      supportsMaxRecordCountFactor: Qe(r, \"supportsMaxRecordCountFactor\", !1),\n      supportsSqlExpression: Qe(r, \"supportsSqlExpression\", !1),\n      supportsStandardizedQueriesOnly: Qe(e, \"useStandardizedQueries\", !1),\n      supportsTopFeaturesQuery: Qe(r, \"supportsTopFeaturesQuery\", !1),\n      supportsQueryByOthers: Qe(i, \"allowOthersToQuery\", !0),\n      supportsHistoricMoment: Qe(o, \"supportsQueryWithHistoricMoment\", !1),\n      supportsFormatPBF: !n && a.has(\"pbf\"),\n      supportsDisjointSpatialRelationship: Qe(r, \"supportsDisjointSpatialRel\", !1),\n      supportsCacheHint: Qe(r, \"supportsQueryWithCacheHint\", !1),\n      maxRecordCountFactor: Ue(e, \"maxRecordCountFactor\", void 0),\n      maxRecordCount: Ue(e, \"maxRecordCount\", void 0),\n      standardMaxRecordCount: Ue(e, \"standardMaxRecordCount\", void 0),\n      tileMaxRecordCount: Ue(e, \"tileMaxRecordCount\", void 0)\n    };\n  }\n\n  _readQueryRelatedCapabilities(e) {\n    const t = e.advancedQueryCapabilities,\n          r = Qe(t, \"supportsAdvancedQueryRelated\", !1);\n    return {\n      supportsPagination: Qe(t, \"supportsQueryRelatedPagination\", !1),\n      supportsCount: r,\n      supportsOrderBy: r\n    };\n  }\n\n  _readEditingCapabilities(e) {\n    const t = e.ownershipBasedAccessControlForFeatures;\n    return {\n      supportsGeometryUpdate: Qe(e, \"allowGeometryUpdates\", !0),\n      supportsGlobalId: Qe(e, \"supportsApplyEditsWithGlobalIds\", !1),\n      supportsReturnServiceEditsInSourceSpatialReference: Qe(e, \"supportsReturnServiceEditsInSourceSR\", !1),\n      supportsRollbackOnFailure: Qe(e, \"supportsRollbackOnFailureParameter\", !1),\n      supportsUpdateWithoutM: Qe(e, \"allowUpdateWithoutMValues\", !1),\n      supportsUploadWithItemId: Qe(e, \"supportsAttachmentsByUploadId\", !1),\n      supportsDeleteByAnonymous: Qe(t, \"allowAnonymousToDelete\", !0),\n      supportsDeleteByOthers: Qe(t, \"allowOthersToDelete\", !0),\n      supportsUpdateByAnonymous: Qe(t, \"allowAnonymousToUpdate\", !0),\n      supportsUpdateByOthers: Qe(t, \"allowOthersToUpdate\", !0)\n    };\n  }\n\n};\ne([E({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], Be.prototype, \"capabilities\", void 0), e([x(\"service\", \"capabilities\", [\"advancedQueryCapabilities\", \"allowGeometryUpdates\", \"allowUpdateWithoutMValues\", \"archivingInfo\", \"capabilities\", \"hasAttachments\", \"hasM\", \"hasZ\", \"maxRecordCount\", \"maxRecordCountFactor\", \"ownershipBasedAccessControlForFeatures\", \"standardMaxRecordCount\", \"supportedQueryFormats\", \"supportsAdvancedQueries\", \"supportsApplyEditsWithGlobalIds\", \"supportsAttachmentsByUploadId\", \"supportsAttachmentsResizing\", \"supportsCalculate\", \"supportsCoordinatesQuantization\", \"supportsExceedsLimitStatistics\", \"supportsFieldDescriptionProperty\", \"supportsQuantizationEditMode\", \"supportsRollbackOnFailureParameter\", \"supportsStatistics\", \"supportsTruncate\", \"supportsValidateSql\", \"tileMaxRecordCount\", \"useStandardizedQueries\"])], Be.prototype, \"readCapabilities\", null), e([E({\n  json: {\n    origins: {\n      \"portal-item\": {\n        write: !0\n      },\n      \"web-map\": {\n        write: !0\n      }\n    }\n  }\n})], Be.prototype, \"charts\", void 0), e([E({\n  readOnly: !0\n})], Be.prototype, \"createQueryVersion\", null), e([E({\n  type: String,\n  json: {\n    read: {\n      source: \"layerDefinition.copyrightText\"\n    },\n    origins: {\n      service: {\n        read: {\n          source: \"copyrightText\"\n        }\n      }\n    }\n  }\n})], Be.prototype, \"copyright\", void 0), e([E({\n  type: String,\n  json: {\n    read: {\n      source: \"layerDefinition.displayField\"\n    },\n    origins: {\n      service: {\n        read: {\n          source: \"displayField\"\n        }\n      }\n    }\n  }\n})], Be.prototype, \"displayField\", void 0), e([E({\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    },\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      enabled: !0,\n      allowNull: !0\n    }\n  }\n})], Be.prototype, \"definitionExpression\", void 0), e([E({\n  types: l,\n  readOnly: !0\n})], Be.prototype, \"defaultSymbol\", void 0), e([E({\n  type: Ee\n})], Be.prototype, \"dynamicDataSource\", void 0), e([E({\n  readOnly: !0\n})], Be.prototype, \"editFieldsInfo\", void 0), e([E({\n  type: Boolean\n})], Be.prototype, \"editingEnabled\", null), e([x([\"portal-item\", \"web-scene\"], \"editingEnabled\", [\"layerDefinition.capabilities\"])], Be.prototype, \"readEditingEnabled\", null), e([x(\"web-map\", \"editingEnabled\", [\"capabilities\", \"layerDefinition.capabilities\"])], Be.prototype, \"readEditingEnabledFromWebMap\", null), e([C([\"portal-item\", \"web-scene\"], \"editingEnabled\", {\n  \"layerDefinition.capabilities\": {\n    type: String\n  }\n})], Be.prototype, \"writeEditingEnabled\", null), e([C(\"web-map\", \"editingEnabled\", {\n  capabilities: {\n    type: String\n  },\n  \"layerDefinition.capabilities\": {\n    type: String\n  }\n})], Be.prototype, \"writeEditingEnabledToWebMap\", null), e([E({\n  readOnly: !0\n})], Be.prototype, \"editingInfo\", void 0), e([x(\"editingInfo\")], Be.prototype, \"readEditingInfo\", null), e([E(K)], Be.prototype, \"elevationInfo\", void 0), e([E({\n  types: {\n    key: \"type\",\n    base: pe,\n    typeMap: {\n      selection: ue,\n      cluster: le\n    }\n  },\n  json: {\n    write: {\n      target: \"layerDefinition.featureReduction\"\n    }\n  }\n})], Be.prototype, \"featureReduction\", void 0), e([x(\"featureReduction\", [\"layerDefinition.featureReduction\"])], Be.prototype, \"readFeatureReduction\", null), e([C(\"web-scene\", \"featureReduction\", {\n  \"layerDefinition.featureReduction\": {\n    types: ce\n  }\n})], Be.prototype, \"writeWebSceneFeatureReduction\", null), e([E({ ...Ve.fields,\n  json: {\n    read: {\n      source: \"layerDefinition.fields\"\n    },\n    origins: {\n      service: {\n        read: !0\n      },\n      \"web-map\": {\n        write: {\n          target: \"layerDefinition.fields\",\n          overridePolicy: Ge\n        }\n      }\n    }\n  }\n})], Be.prototype, \"fields\", void 0), e([E(Ve.fieldsIndex)], Be.prototype, \"fieldsIndex\", void 0), e([E({\n  type: Ie,\n  json: {\n    read: {\n      source: \"layerDefinition.floorInfo\"\n    },\n    write: {\n      target: \"layerDefinition.floorInfo\"\n    }\n  }\n})], Be.prototype, \"floorInfo\", void 0), e([E({\n  type: M,\n  json: {\n    name: \"formInfo\",\n    write: !0,\n    origins: {\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], Be.prototype, \"formTemplate\", void 0), e([E({\n  type: O,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"extent\"\n        }\n      }\n    },\n    read: {\n      source: \"layerDefinition.extent\"\n    }\n  }\n})], Be.prototype, \"fullExtent\", void 0), e([E()], Be.prototype, \"gdbVersion\", void 0), e([E({\n  readOnly: !0,\n  type: ve,\n  json: {\n    read: {\n      source: \"geometryProperties\"\n    }\n  }\n})], Be.prototype, \"geometryFieldsInfo\", void 0), e([E({\n  type: [\"point\", \"polygon\", \"polyline\", \"multipoint\", \"multipatch\", \"mesh\"],\n  json: {\n    origins: {\n      service: {\n        read: Le.read\n      },\n      \"web-map\": {\n        write: {\n          target: \"layerDefinition.geometryType\",\n          overridePolicy: Ge,\n\n          writer(e, t, r) {\n            const i = e ? Le.toJSON(e) : null;\n            i && w(r, i, t);\n          }\n\n        }\n      }\n    },\n    read: {\n      source: \"layerDefinition.geometryType\",\n      reader: Le.read\n    }\n  }\n})], Be.prototype, \"geometryType\", void 0), e([E({\n  type: Boolean,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    },\n    read: {\n      source: \"layerDefinition.hasM\"\n    }\n  }\n})], Be.prototype, \"hasM\", void 0), e([E({\n  type: Boolean,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    },\n    read: {\n      source: \"layerDefinition.hasZ\"\n    }\n  }\n})], Be.prototype, \"hasZ\", void 0), e([E({\n  readOnly: !0,\n  type: L\n})], Be.prototype, \"heightModelInfo\", void 0), e([E({\n  type: Date\n})], Be.prototype, \"historicMoment\", void 0), e([E(X)], Be.prototype, \"id\", void 0), e([E({\n  readOnly: !0,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    },\n    read: !1\n  }\n})], Be.prototype, \"infoFor3D\", void 0), e([E({\n  readOnly: !0,\n  json: {\n    origins: {\n      \"web-map\": {\n        write: {\n          target: \"layerDefinition.type\"\n        }\n      }\n    }\n  }\n})], Be.prototype, \"isTable\", void 0), e([x(\"service\", \"isTable\", [\"type\", \"geometryType\"]), x(\"isTable\", [\"layerDefinition.type\", \"layerDefinition.geometryType\"])], Be.prototype, \"readIsTable\", null), e([C(\"web-map\", \"isTable\")], Be.prototype, \"writeIsTable\", null), e([E(Y)], Be.prototype, \"labelsVisible\", void 0), e([E({\n  type: [we],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"drawingInfo.labelingInfo\",\n          reader: Fe\n        },\n        write: {\n          target: \"drawingInfo.labelingInfo\",\n          enabled: !1\n        }\n      }\n    },\n    read: {\n      source: \"layerDefinition.drawingInfo.labelingInfo\",\n      reader: Fe\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.labelingInfo\"\n    }\n  }\n})], Be.prototype, \"labelingInfo\", void 0), e([E(ee)], Be.prototype, \"opacity\", void 0), e([E({\n  type: Number,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"id\"\n        }\n      }\n    },\n    read: !1\n  }\n})], Be.prototype, \"layerId\", void 0), e([E(te)], Be.prototype, \"legendEnabled\", void 0), e([E({\n  type: [\"show\", \"hide\"]\n})], Be.prototype, \"listMode\", void 0), e([E(re)], Be.prototype, \"minScale\", void 0), e([x(\"service\", \"minScale\", [\"minScale\", \"effectiveMinScale\"])], Be.prototype, \"readMinScale\", null), e([E(ie)], Be.prototype, \"maxScale\", void 0), e([x(\"service\", \"maxScale\", [\"maxScale\", \"effectiveMaxScale\"])], Be.prototype, \"readMaxScale\", null), e([E({\n  type: String\n})], Be.prototype, \"globalIdField\", void 0), e([x(\"globalIdField\", [\"layerDefinition.globalIdField\", \"layerDefinition.fields\"]), x(\"service\", \"globalIdField\", [\"globalIdField\", \"fields\"])], Be.prototype, \"readGlobalIdFieldFromService\", null), e([E({\n  type: String,\n  json: {\n    origins: {\n      \"web-map\": {\n        write: {\n          target: \"layerDefinition.objectIdField\",\n          overridePolicy: Ge\n        }\n      }\n    }\n  }\n})], Be.prototype, \"objectIdField\", void 0), e([x(\"objectIdField\", [\"layerDefinition.objectIdField\", \"layerDefinition.fields\"]), x(\"service\", \"objectIdField\", [\"objectIdField\", \"fields\"])], Be.prototype, \"readObjectIdFieldFromService\", null), e([E({\n  value: \"ArcGISFeatureLayer\",\n  type: [\"ArcGISFeatureLayer\"]\n})], Be.prototype, \"operationalLayerType\", void 0), e([E(Ve.outFields)], Be.prototype, \"outFields\", void 0), e([E({\n  readOnly: !0\n})], Be.prototype, \"parsedUrl\", null), e([E({\n  type: String,\n  json: {\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    },\n    read: !1\n  }\n})], Be.prototype, \"path\", void 0), e([E(oe)], Be.prototype, \"popupEnabled\", void 0), e([E({\n  type: t,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\"\n    }\n  }\n})], Be.prototype, \"popupTemplate\", void 0), e([E({\n  readOnly: !0\n})], Be.prototype, \"defaultPopupTemplate\", null), e([E({\n  type: [Se],\n  readOnly: !0\n})], Be.prototype, \"relationships\", void 0), e([E({\n  types: n,\n  json: {\n    origins: {\n      service: {\n        write: {\n          target: \"drawingInfo.renderer\",\n          enabled: !1\n        }\n      },\n      \"web-scene\": {\n        types: a,\n        write: {\n          target: \"layerDefinition.drawingInfo.renderer\",\n          writer: s\n        }\n      }\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.renderer\",\n      overridePolicy: (e, t, r) => ({\n        ignoreOrigin: null == r ? void 0 : r.writeLayerSchema\n      }),\n      writer: s\n    }\n  }\n})], Be.prototype, \"renderer\", null), e([x(\"service\", \"renderer\", [\"drawingInfo.renderer\", \"defaultSymbol\"]), x(\"renderer\", [\"layerDefinition.drawingInfo.renderer\", \"layerDefinition.defaultSymbol\"])], Be.prototype, \"readRenderer\", null), e([E()], Be.prototype, \"sourceJSON\", void 0), e([E({\n  type: Boolean\n})], Be.prototype, \"returnM\", void 0), e([E({\n  type: Boolean\n})], Be.prototype, \"returnZ\", void 0), e([E(se)], Be.prototype, \"screenSizePerspectiveEnabled\", void 0), e([E()], Be.prototype, \"source\", null), e([T(\"source\")], Be.prototype, \"castSource\", null), e([x(\"portal-item\", \"source\", [\"featureSet\"]), x(\"web-map\", \"source\", [\"featureSet\"])], Be.prototype, \"readSource\", null), e([E({\n  readOnly: !0\n})], Be.prototype, \"serviceDefinitionExpression\", void 0), e([x(\"service\", \"serviceDefinitionExpression\", [\"definitionQuery\", \"definitionExpression\"])], Be.prototype, \"readServiceDefinitionExpression\", null), e([E({\n  type: P,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"extent.spatialReference\"\n        }\n      }\n    },\n    read: {\n      source: \"layerDefinition.extent.spatialReference\"\n    }\n  }\n})], Be.prototype, \"spatialReference\", void 0), e([E({\n  type: Number\n})], Be.prototype, \"subtypeCode\", void 0), e([E({\n  type: [he]\n})], Be.prototype, \"templates\", void 0), e([x(\"templates\", [\"editFieldsInfo\", \"creatorField\", \"editorField\", \"templates\"])], Be.prototype, \"readTemplates\", null), e([E({\n  type: je\n})], Be.prototype, \"timeInfo\", void 0), e([E()], Be.prototype, \"title\", void 0), e([x(\"service\", \"title\", [\"name\"]), x(\"portal-item\", \"title\", [\"layerDefinition.title\", \"layerDefinition.name\", \"title\"])], Be.prototype, \"readTitle\", null), e([x(\"web-map\", \"title\", [\"layerDefinition.name\", \"title\"])], Be.prototype, \"readTitleFromWebMap\", null), e([E({\n  type: String\n})], Be.prototype, \"sublayerTitleMode\", void 0), e([E({\n  type: String,\n  json: {\n    read: {\n      source: \"timeInfo.trackIdField\"\n    }\n  }\n})], Be.prototype, \"trackIdField\", void 0), e([E({\n  json: {\n    read: !1\n  }\n})], Be.prototype, \"type\", void 0), e([E({\n  type: String\n})], Be.prototype, \"typeIdField\", void 0), e([x(\"service\", \"typeIdField\"), x(\"typeIdField\", [\"layerDefinition.typeIdField\"])], Be.prototype, \"readTypeIdField\", null), e([E({\n  type: [me]\n})], Be.prototype, \"types\", void 0), e([x(\"service\", \"types\", [\"types\"]), x(\"types\", [\"layerDefinition.types\"])], Be.prototype, \"readTypes\", null), e([E({\n  readOnly: !0,\n  json: {\n    write: !1\n  }\n})], Be.prototype, \"serverGens\", void 0), e([E({\n  type: d.ofType(ae),\n  readOnly: !0\n})], Be.prototype, \"indexes\", void 0), e([E(ne)], Be.prototype, \"url\", null), e([C(\"url\")], Be.prototype, \"writeUrl\", null), e([E({\n  readOnly: !0\n})], Be.prototype, \"userIsAdmin\", void 0), e([E({\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    },\n    read: !1\n  }\n})], Be.prototype, \"version\", void 0), e([x(\"service\", \"version\", [\"currentVersion\", \"capabilities\", \"drawingInfo\", \"hasAttachments\", \"htmlPopupType\", \"relationships\", \"timeInfo\", \"typeIdField\", \"types\"])], Be.prototype, \"readVersion\", null), e([E({\n  type: Boolean,\n  json: {\n    origins: {\n      \"portal-item\": {\n        write: {\n          target: \"layerDefinition.defaultVisibility\"\n        }\n      }\n    }\n  }\n})], Be.prototype, \"visible\", void 0), e([x(\"portal-item\", \"visible\", [\"visibility\", \"layerDefinition.defaultVisibility\"])], Be.prototype, \"readVisible\", null), Be = e([D(\"esri.layers.FeatureLayer\")], Be);\nconst ze = R({\n  types: u\n});\nvar We = Be;\nexport default We;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/layers/FeatureLayer.js"],"names":["_","e","t","r","i","read","o","write","s","rendererTypes","n","webSceneRendererTypes","a","p","symbolTypes","l","symbolTypesRenderer","u","d","y","c","h","JSONMap","m","f","destroyMaybe","b","isSome","g","MultiOriginJSONMixin","v","setDeepValue","w","throwIfAbortError","F","whenOrAbort","I","urlToObject","S","join","j","property","E","cast","T","reader","x","subclass","D","writer","C","createTypeReader","R","M","O","L","P","A","APIKeyMixin","q","ArcGISService","Q","BlendLayer","U","CustomParametersMixin","V","OperationalLayer","G","PortalLayer","B","RefreshableLayer","z","ScaleRangeLayer","W","TemporalLayer","k","titleFromUrlAndName","N","parse","Z","cleanTitle","J","sanitizeUrlWithLayerId","$","writeUrlWithLayerId","H","elevationInfo","K","id","X","labelsVisible","Y","opacityDrawingInfo","ee","legendEnabled","te","minScale","re","maxScale","ie","popupEnabled","oe","screenSizePerspectiveEnabled","se","url","ne","FeatureIndex","ae","pe","le","ue","de","writeTarget","ye","webSceneFeatureReductionTypes","ce","he","me","defineFieldProperties","fe","fixRendererFields","be","fixTimeInfoFields","ge","ve","we","Fe","Ie","Se","je","DataLayerSource","Ee","loadStyleRenderer","Te","xe","De","Ce","Re","Me","createPopupTemplate","Oe","Le","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","Pe","name","size","contentType","keywords","exifInfo","_e","Ae","getLogger","qe","Qe","hasOwnProperty","Ue","Ve","Ge","writeLayerSchema","enabled","ignoreOrigin","Be","constructor","_handles","capabilities","charts","copyright","displayField","definitionExpression","dynamicDataSource","editFieldsInfo","editingInfo","featureReduction","fields","fieldsIndex","floorInfo","formTemplate","fullExtent","gdbVersion","geometryFieldsInfo","geometryType","hasM","hasZ","heightModelInfo","historicMoment","infoFor3D","isTable","labelingInfo","layerId","globalIdField","objectIdField","outFields","path","popupTemplate","relationships","sourceJSON","returnM","returnZ","serviceDefinitionExpression","spatialReference","WGS84","subtypeCode","templates","timeInfo","title","sublayerTitleMode","trackIdField","type","typeIdField","types","indexes","ofType","userIsAdmin","version","visible","destroy","source","normalizeCtorArgs","load","signal","portalItem","loaded","addResolvingPromise","createGraphicsSource","then","_initLayerProperties","loadFromPortal","supportedTypes","catch","test","_fetchFirstLayerId","_hasMemorySource","finishLoadEditablePortalLayer","Promise","resolve","readCapabilities","layerDefinition","attachment","_readAttachmentCapabilities","attachmentProperties","data","_readDataCapabilities","metadata","_readMetadataCapabilities","operations","_readOperationsCapabilities","query","_readQueryCapabilities","queryRelated","_readQueryRelatedCapabilities","editing","_readEditingCapabilities","createQueryVersion","commitProperty","_get","editingEnabled","_isOverridden","userHasEditingPrivileges","_override","_clearOverride","readEditingEnabled","_readEditingEnabled","readEditingEnabledFromWebMap","writeEditingEnabled","_writeEditingEnabled","writeEditingEnabledToWebMap","readEditingInfo","lastEditDate","Date","readFeatureReduction","writeWebSceneFeatureReduction","readIsTable","writeIsTable","readMinScale","effectiveMinScale","readMaxScale","effectiveMaxScale","readGlobalIdFieldFromService","readObjectIdFieldFromService","parsedUrl","toString","defaultPopupTemplate","renderer","_set","readRenderer","drawingInfo","error","rendererDefinition","layer","context","defaultSymbol","length","ze","field","uniqueValueInfos","map","symbol","_resetMemorySource","_initMemorySource","castSource","Array","isArray","items","readSource","fromJSON","featureSet","features","readServiceDefinitionExpression","definitionQuery","readTemplates","creatorField","editorField","_fixTemplates","readTitle","readTitleFromWebMap","readTypeIdField","toLowerCase","find","readTypes","nonStandardUrlAllowed","logger","writeUrl","readVersion","currentVersion","readVisible","defaultVisibility","visibility","addAttachment","_checkAttachmentSupport","updateAttachment","applyEdits","on","default","createQuery","get","returnGeometry","supportsZ","supportsM","where","timeOffset","timeExtent","offset","value","unit","multipatchOption","deleteAttachments","fetchRecomputedExtents","getFeatureType","attributes","some","getFieldDomain","feature","domains","_getLayerDomain","getField","queryAttachments","from","attachmentTypes","objectIds","globalIds","num","start","queryFeatures","sourceLayer","queryObjectIds","queryFeatureCount","queryExtent","queryRelatedFeatures","queryRelatedFeaturesCount","queryTopFeatures","queryTopObjectIds","queryTopFeaturesExtent","queryTopExtents","queryTopFeatureCount","queryTopCount","featureCollection","layers","showLegend","origin","revert","layerContainerType","messages","push","declaredClass","_hasEditingCapability","split","trim","includes","supportsSync","reject","domain","customParameters","token","apiKey","responseType","tables","_verifySource","_verifyFields","console","log","search","forEach","prototype","add","item","remove","supportsName","supportsSize","supportsContentType","supportsKeywords","supportsExifInfo","isEnabled","isVersioned","supportsAttachment","supportsAdvancedFieldProperties","indexOf","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAttachments","advancedQueryCapabilities","supportsResizeAttachments","supportsUpdate","supportsExceedsLimitStatistics","ownershipBasedAccessControlForFeatures","archivingInfo","supportedQueryFormats","reduce","Set","supportsStatistics","supportsPercentileStatistics","supportsCentroid","supportsDistance","supportsDistinct","supportsAdvancedQueries","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsMaxRecordCountFactor","supportsSqlExpression","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","has","supportsDisjointSpatialRelationship","supportsCacheHint","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","supportsCount","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","readOnly","json","origins","String","service","allowNull","Boolean","key","base","typeMap","selection","cluster","target","overridePolicy","toJSON","Number","We"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/Renderer.js\";import r from\"../renderers/SimpleRenderer.js\";import i from\"../renderers/UniqueValueRenderer.js\";import{read as o,write as s}from\"../renderers/support/jsonUtils.js\";import{rendererTypes as n,webSceneRendererTypes as a}from\"../renderers/support/types.js\";import p from\"../request.js\";import{symbolTypes as l,symbolTypesRenderer as u}from\"../symbols.js\";import d from\"../core/Collection.js\";import y from\"../core/Error.js\";import c from\"../core/Handles.js\";import h from\"../core/has.js\";import{JSONMap as m}from\"../core/jsonMap.js\";import f from\"../core/Logger.js\";import{destroyMaybe as b,isSome as g}from\"../core/maybe.js\";import{MultiOriginJSONMixin as v}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as w}from\"../core/object.js\";import{throwIfAbortError as F,whenOrAbort as I}from\"../core/promiseUtils.js\";import{urlToObject as S,join as j}from\"../core/urlUtils.js\";import{property as E}from\"../core/accessorSupport/decorators/property.js\";import{cast as T}from\"../core/accessorSupport/decorators/cast.js\";import{reader as x}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as D}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as C}from\"../core/accessorSupport/decorators/writer.js\";import{createTypeReader as R}from\"../core/accessorSupport/extensions/serializableProperty/reader.js\";import M from\"../form/FormTemplate.js\";import O from\"../geometry/Extent.js\";import L from\"../geometry/HeightModelInfo.js\";import P from\"../geometry/SpatialReference.js\";import _ from\"./Layer.js\";import A from\"./graphics/sources/MemorySource.js\";import{APIKeyMixin as q}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as Q}from\"./mixins/ArcGISService.js\";import{BlendLayer as U}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as V}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as G}from\"./mixins/OperationalLayer.js\";import{PortalLayer as B}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as z}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as W}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as k}from\"./mixins/TemporalLayer.js\";import{titleFromUrlAndName as N,parse as Z,cleanTitle as J,sanitizeUrlWithLayerId as $,writeUrlWithLayerId as H}from\"./support/arcgisLayerUrl.js\";import{elevationInfo as K,id as X,labelsVisible as Y,opacityDrawingInfo as ee,legendEnabled as te,minScale as re,maxScale as ie,popupEnabled as oe,screenSizePerspectiveEnabled as se,url as ne}from\"./support/commonProperties.js\";import{FeatureIndex as ae}from\"./support/FeatureIndex.js\";import pe from\"./support/FeatureReduction.js\";import le from\"./support/FeatureReductionCluster.js\";import ue from\"./support/FeatureReductionSelection.js\";import{read as de,writeTarget as ye,webSceneFeatureReductionTypes as ce}from\"./support/featureReductionUtils.js\";import he from\"./support/FeatureTemplate.js\";import me from\"./support/FeatureType.js\";import{defineFieldProperties as fe}from\"./support/fieldProperties.js\";import{fixRendererFields as be,fixTimeInfoFields as ge}from\"./support/fieldUtils.js\";import ve from\"./support/GeometryFieldsInfo.js\";import we from\"./support/LabelClass.js\";import{reader as Fe}from\"./support/labelingInfo.js\";import Ie from\"./support/LayerFloorInfo.js\";import Se from\"./support/Relationship.js\";import je from\"./support/TimeInfo.js\";import{DataLayerSource as Ee}from\"./support/source/DataLayerSource.js\";import{loadStyleRenderer as Te}from\"../renderers/support/styleUtils.js\";import xe from\"../rest/support/AttachmentQuery.js\";import De from\"../rest/support/FeatureSet.js\";import Ce from\"../rest/support/Query.js\";import Re from\"../rest/support/RelationshipQuery.js\";import Me from\"../rest/support/TopFeaturesQuery.js\";import{createPopupTemplate as Oe}from\"../support/popupUtils.js\";const Le=new m({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),Pe={name:\"supportsName\",size:\"supportsSize\",contentType:\"supportsContentType\",keywords:\"supportsKeywords\",exifInfo:\"supportsExifInfo\"},_e=\"FeatureLayer\",Ae=f.getLogger(\"esri.layers.FeatureLayer\");function qe(e){return e&&e instanceof d}function Qe(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function Ue(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}const Ve=fe();function Ge(e,t,r){const i=!(null==r||!r.writeLayerSchema);return{enabled:i,ignoreOrigin:i}}let Be=class extends(U(k(W(z(Q(G(B(v(V(q(_))))))))))){constructor(...e){super(...e),this._handles=new c,this.capabilities=null,this.charts=null,this.copyright=null,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=P.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode=\"item-title\",this.trackIdField=null,this.type=\"feature\",this.typeIdField=null,this.types=null,this.indexes=new(d.ofType(ae)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;null==(e=this.source)||e.destroy(),this._handles=b(this._handles)}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){const t=g(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then((e=>this._initLayerProperties(e))));const r=this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\"]},e).catch(F).then((async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\\/*$/i.test(this.url)){const e=await this._fetchFirstLayerId(t);null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new y(\"feature-layer:missing-url-or-source\",\"Feature layer must be created with either a url or a source\");return this._initLayerProperties(await this.createGraphicsSource(t))})).then((()=>this.finishLoadEditablePortalLayer(e)));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"dynamicDataSource\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"gdbVersion\"),this.commitProperty(\"historicMoment\"),this.commitProperty(\"returnZ\"),this.commitProperty(\"capabilities\"),this.commitProperty(\"returnM\"),(this._get(\"createQueryVersion\")||0)+1}get editingEnabled(){return this._isOverridden(\"editingEnabled\")?this._get(\"editingEnabled\"):this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(e){null!=e?this._override(\"editingEnabled\",e):this._clearOverride(\"editingEnabled\")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,i){this._writeEditingEnabled(e,t,!0,i)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:null!=r.lastEditDate?new Date(r.lastEditDate):null}:null}readFeatureReduction(e,t){return de(e,t)}writeWebSceneFeatureReduction(e,t,r,i){ye(e,t,\"layerDefinition.featureReduction\",i)}readIsTable(e,t){return\"Table\"===(t=t&&t.layerDefinition||t).type||!t.geometryType}writeIsTable(e,t,r,i){null!=i&&i.writeLayerSchema&&w(r,e?\"Table\":\"Feature Layer\",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields)for(const r of t.fields)if(\"esriFieldTypeGlobalID\"===r.type)return r.name}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields)for(const r of t.fields)if(\"esriFieldTypeOID\"===r.type)return r.name}get parsedUrl(){const e=this.url?S(this.url):null;return null!=e&&(null!=this.dynamicDataSource?e.path=j(e.path,\"dynamicLayer\"):null!=this.layerId&&(e.path=j(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){be(e,this.fieldsIndex),this._set(\"renderer\",e)}readRenderer(e,t,s){const n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){const e=o(n,t,s)||void 0;return e||Ae.error(\"Failed to create renderer\",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:s}),e}if(t.defaultSymbol)return t.types&&t.types.length?new i({defaultSymbol:ze(t.defaultSymbol,t,s),field:t.typeIdField,uniqueValueInfos:t.types.map((e=>({id:e.id,symbol:ze(e.symbol,e,s)})))}):new r({symbol:ze(t.defaultSymbol,t,s)})}set source(e){const t=this._get(\"source\");t!==e&&(qe(t)&&this._resetMemorySource(t),qe(e)&&this._initMemorySource(e),this._set(\"source\",e))}castSource(e){return e?Array.isArray(e)||e instanceof d?new A({layer:this,items:e}):e:null}readSource(e,t){const r=De.fromJSON(t.featureSet);return new A({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,i=r&&r.creatorField,o=r&&r.editorField;return e=e&&e.map((e=>he.fromJSON(e))),this._fixTemplates(e,i),this._fixTemplates(e,o),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,i=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const e=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?N(this.url,r):r;let t=r;if(!t&&this.url){const e=Z(this.url);g(e)&&(t=e.title)}if(!t)return;return\"item-title-and-service-name\"===this.sublayerTitleMode&&e&&e!==t&&(t=e+\" - \"+t),J(t)}if(\"item-title\"===this.sublayerTitleMode&&i)return i}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===r));e&&(r=e.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,i=r&&r.creatorField,o=r&&r.editorField;return e&&e.map((e=>(e=me.fromJSON(e),this._fixTemplates(e.templates,i),this._fixTemplates(e.templates,o),e)))}set url(e){const t=$({layer:this,url:e,nonStandardUrlAllowed:!0,logger:Ae});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,i){H(this,e,null,t,i)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty(\"capabilities\")||t.hasOwnProperty(\"drawingInfo\")||t.hasOwnProperty(\"hasAttachments\")||t.hasOwnProperty(\"htmlPopupType\")||t.hasOwnProperty(\"relationships\")||t.hasOwnProperty(\"timeInfo\")||t.hasOwnProperty(\"typeIdField\")||t.hasOwnProperty(\"types\")?10:9.3}readVisible(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}addAttachment(e,t){return this.load().then((()=>this._checkAttachmentSupport(e))).then((()=>{if(!(\"addAttachment\"in this.source))throw new y(_e,\"Layer source does not support addAttachment capability\");return this.source.addAttachment(e,t)}))}updateAttachment(e,t,r){return this.load().then((()=>this._checkAttachmentSupport(e))).then((()=>{if(!(\"updateAttachment\"in this.source))throw new y(_e,\"Layer source does not support updateAttachment capability\");return this.source.updateAttachment(e,t,r)}))}async applyEdits(e,t){const r=await import(\"./graphics/editingSupport.js\");return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return Oe(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await I(import(\"./graphics/sources/FeatureLayerSource.js\"),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new Ce,t=this.get(\"capabilities.data\");e.dynamicDataSource=this.dynamicDataSource,e.gdbVersion=this.gdbVersion,e.historicMoment=this.historicMoment,e.returnGeometry=!0,t&&(t.supportsZ&&null!=this.returnZ&&(e.returnZ=this.returnZ),t.supportsM&&null!=this.returnM&&(e.returnM=this.returnM)),e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\";const{timeOffset:r,timeExtent:i}=this;return e.timeExtent=null!=r&&null!=i?i.offset(-r.value,r.unit):i||null,e.multipatchOption=\"multipatch\"===this.geometryType?\"xyFootprint\":null,e}deleteAttachments(e,t){return this.load().then((()=>this._checkAttachmentSupport(e))).then((()=>{if(!(\"deleteAttachments\"in this.source))throw new y(_e,\"Layer source does not support deleteAttachments capability\");return this.source.deleteAttachments(e,t)}))}fetchRecomputedExtents(e){return this.load({signal:null==e?void 0:e.signal}).then((()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new y(_e,\"Layer source does not support fetchUpdates capability\")}))}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const i=e.attributes?e.attributes[t]:void 0;if(null==i)return null;let o=null;return r.some((e=>{const{id:t}=e;return null!=t&&(t.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,t){const r=t&&t.feature,i=this.getFeatureType(r);if(i){const t=i.domains&&i.domains[e];if(t&&\"inherited\"!==t.type)return t}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=xe.from(e),this.load().then((()=>{if(!this.get(\"capabilities.data.supportsAttachment\"))throw new y(_e,\"this layer doesn't support attachments\");const{attachmentTypes:t,objectIds:r,globalIds:i,num:o,size:s,start:n,where:a}=e;if(!this.get(\"capabilities.operations.supportsQueryAttachments\")){const p=r&&r.length>1,l=t&&t.length,u=i&&i.length,d=s&&s.length;if(p||l||u||d||o||n||a)throw new y(_e,\"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported\",e)}if(!(r&&r.length||a))throw new y(_e,\"'objectIds' or 'where' are required to perform attachment query\",e);if(!(\"queryAttachments\"in this.source))throw new y(_e,\"Layer source does not support queryAttachments capability\",e);return this.source.queryAttachments(e)}))}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(Ce.from(e)||this.createQuery(),t))).then((e=>{if(null!=e&&e.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Ce.from(e)||this.createQuery(),t);throw new y(_e,\"Layer source does not support queryObjectIds capability\")}))}queryFeatureCount(e,t){return this.load().then((()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Ce.from(e)||this.createQuery(),t);throw new y(_e,\"Layer source does not support queryFeatureCount capability\")}))}queryExtent(e,t){return this.load().then((()=>{if(this.source.queryExtent)return this.source.queryExtent(Ce.from(e)||this.createQuery(),t);throw new y(_e,\"Layer source does not support queryExtent capability\")}))}queryRelatedFeatures(e,t){return this.load().then((()=>{if(\"queryRelatedFeatures\"in this.source)return this.source.queryRelatedFeatures(Re.from(e),t);throw new y(_e,\"Layer source does not support queryRelatedFeatures capability\")}))}queryRelatedFeaturesCount(e,t){return this.load().then((()=>{if(\"queryRelatedFeaturesCount\"in this.source)return this.source.queryRelatedFeaturesCount(Re.from(e),t);throw new y(_e,\"Layer source does not support queryRelatedFeaturesCount capability\")}))}queryTopFeatures(e,t){return this.load().then((()=>{if(\"queryTopFeatures\"in this.source&&this.get(\"capabilities.query.supportsTopFeaturesQuery\"))return this.source.queryTopFeatures(Me.from(e),t).then((e=>{if(null!=e&&e.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}));throw new y(_e,\"Layer source does not support queryTopFeatures capability\")}))}queryTopObjectIds(e,t){return this.load().then((()=>{if(\"queryTopObjectIds\"in this.source&&this.get(\"capabilities.query.supportsTopFeaturesQuery\"))return this.source.queryTopObjectIds(Me.from(e),t);throw new y(_e,\"Layer source does not support queryTopObjectIds capability\")}))}queryTopFeaturesExtent(e,t){return this.load().then((()=>{if(\"queryTopExtents\"in this.source&&this.get(\"capabilities.query.supportsTopFeaturesQuery\"))return this.source.queryTopExtents(Me.from(e),t);throw new y(_e,\"Layer source does not support queryTopExtents capability\")}))}queryTopFeatureCount(e,t){return this.load().then((()=>{if(\"queryTopCount\"in this.source&&this.get(\"capabilities.query.supportsTopFeaturesQuery\"))return this.source.queryTopCount(Me.from(e),t);throw new y(_e,\"Layer source does not support queryFeatureCount capability\")}))}read(e,t){const r=e.featureCollection;if(r){const e=r.layers;e&&1===e.length&&(super.read(e[0],t),null!=r.showLegend&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&\"service\"===t.origin&&this.revert([\"objectIdField\",\"fields\",\"timeInfo\",\"spatialReference\"],\"service\")}write(e,t){var r,i;const o=(t={...t,writeLayerSchema:null!=(r=null==(i=t)?void 0:i.writeLayerSchema)?r:this._hasMemorySource()}).origin,s=t.layerContainerType,n=t.messages;if(this.isTable){if(\"web-scene\"===o||\"web-map\"===o&&\"tables\"!==s)return n&&n.push(new y(\"layer:unsupported\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return n&&n.push(new y(\"layer:unsupported\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&\"web-map\"===o&&\"tables\"===s)return n&&n.push(new y(\"layer:unsupported\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(e,t)}_readEditingEnabled(e,t,r){var i;let o=null==(i=e.layerDefinition)?void 0:i.capabilities;return o?this._hasEditingCapability(o):(o=e.capabilities,t&&\"web-map\"===(null==r?void 0:r.origin)&&!this._hasMemorySource()&&o?this._hasEditingCapability(o):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(\",\").map((e=>e.trim())).includes(\"editing\")}_writeEditingEnabled(e,t,r,i){if(!e){var o,s;const e=null!=(o=this.capabilities)&&null!=(s=o.operations)&&s.supportsSync?\"Query,Sync\":\"Query\";w(\"layerDefinition.capabilities\",e,t),!r||null!=i&&i.writeLayerSchema||(t.capabilities=e)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get(\"capabilities.data.supportsAttachment\")?e?t?t[r]?void 0:Promise.reject(new y(_e,`feature is missing the identifying attribute ${r}`)):Promise.reject(new y(_e,\"'attributes' are required on a feature to query attachments\")):Promise.reject(new y(_e,\"A feature is required to add/delete/update attachments\")):Promise.reject(new y(_e,\"this layer doesn't support attachments\"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return p(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then((e=>{const t=e.data;if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}))}async _initLayerProperties(e){return this._set(\"source\",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:\"service\",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),be(this.renderer,this.fieldsIndex),ge(this.timeInfo,this.fieldsIndex),Te(this,{origin:\"service\"})}_verifyFields(){const e=this.parsedUrl&&this.parsedUrl.path||\"undefined\";this.objectIdField||console.log(\"FeatureLayer: 'objectIdField' property is not defined (url: \"+e+\")\"),this.isTable||this._hasMemorySource()||-1!==e.search(/\\/FeatureServer\\//i)||this.fields&&this.fields.some((function(e){return\"geometry\"===e.type}))||console.log(\"FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: \"+e+\")\")}_fixTemplates(e,t){e&&e.forEach((e=>{const r=e.prototype&&e.prototype.attributes;r&&t&&delete r[t]}))}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new y(\"feature-layer:mixed-source-and-url\",\"FeatureLayer cannot be created with both an in-memory source and a url\")}else if(!this.url)throw new y(\"feature-layer:source-or-url-required\",\"FeatureLayer requires either a url, a valid portal item or a source\")}_initMemorySource(e){e.forEach((e=>{e.layer=this,e.sourceLayer=this})),this._handles.add([e.on(\"after-add\",(e=>{e.item.layer=this,e.item.sourceLayer=this})),e.on(\"after-remove\",(e=>{e.item.layer=null,e.item.sourceLayer=null}))],\"fl-source\")}_resetMemorySource(e){e.forEach((e=>{e.layer=null,e.sourceLayer=null})),this._handles.remove(\"fl-source\")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(e){const t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach((e=>{const r=Pe[e.name];r&&(t[r]=!!e.isEnabled)})),t}_readDataCapabilities(e){return{isVersioned:Qe(e,\"isDataVersioned\",!1),supportsAttachment:Qe(e,\"hasAttachments\",!1),supportsM:Qe(e,\"hasM\",!1),supportsZ:Qe(e,\"hasZ\",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:Qe(e,\"supportsFieldDescriptionProperty\",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(\",\").map((e=>e.trim())):[],i=-1!==r.indexOf(\"editing\");let o=i&&-1!==r.indexOf(\"create\"),s=i&&-1!==r.indexOf(\"delete\"),n=i&&-1!==r.indexOf(\"update\");const a=-1!==r.indexOf(\"changetracking\");return i&&!(o||s||n)&&(o=s=n=!0),{supportsCalculate:Qe(t,\"supportsCalculate\",!1),supportsTruncate:Qe(t,\"supportsTruncate\",!1),supportsValidateSql:Qe(t,\"supportsValidateSql\",!1),supportsAdd:o,supportsDelete:s,supportsEditing:i,supportsChangeTracking:a,supportsQuery:-1!==r.indexOf(\"query\"),supportsQueryAttachments:Qe(t.advancedQueryCapabilities,\"supportsQueryAttachments\",!1),supportsResizeAttachments:Qe(t,\"supportsAttachmentsResizing\",!1),supportsSync:-1!==r.indexOf(\"sync\"),supportsUpdate:n,supportsExceedsLimitStatistics:Qe(t,\"supportsExceedsLimitStatistics\",!1)}}_readQueryCapabilities(e){var t;const r=e.advancedQueryCapabilities,i=e.ownershipBasedAccessControlForFeatures,o=e.archivingInfo,s=null==(t=this.url)?void 0:t.includes(\"MapServer\"),n=!h(\"mapserver-pbf-enabled\")&&s&&this.version<10.81,a=(e.supportedQueryFormats||\"\").split(\",\").reduce(((e,t)=>{const r=t.toLowerCase().trim();return r&&e.add(r),e}),new Set);return{supportsStatistics:Qe(r,\"supportsStatistics\",e.supportsStatistics),supportsPercentileStatistics:Qe(r,\"supportsPercentileStatistics\",!1),supportsCentroid:Qe(r,\"supportsReturningGeometryCentroid\",!1),supportsDistance:Qe(r,\"supportsQueryWithDistance\",!1),supportsDistinct:Qe(r,\"supportsDistinct\",e.supportsAdvancedQueries),supportsExtent:Qe(r,\"supportsReturningQueryExtent\",!1),supportsGeometryProperties:Qe(r,\"supportsReturningGeometryProperties\",!1),supportsHavingClause:Qe(r,\"supportsHavingClause\",!1),supportsOrderBy:Qe(r,\"supportsOrderBy\",e.supportsAdvancedQueries),supportsPagination:Qe(r,\"supportsPagination\",!1),supportsQuantization:Qe(e,\"supportsCoordinatesQuantization\",!1),supportsQuantizationEditMode:Qe(e,\"supportsQuantizationEditMode\",!1),supportsQueryGeometry:Qe(e,\"supportsReturningQueryGeometry\",!1),supportsResultType:Qe(r,\"supportsQueryWithResultType\",!1),supportsMaxRecordCountFactor:Qe(r,\"supportsMaxRecordCountFactor\",!1),supportsSqlExpression:Qe(r,\"supportsSqlExpression\",!1),supportsStandardizedQueriesOnly:Qe(e,\"useStandardizedQueries\",!1),supportsTopFeaturesQuery:Qe(r,\"supportsTopFeaturesQuery\",!1),supportsQueryByOthers:Qe(i,\"allowOthersToQuery\",!0),supportsHistoricMoment:Qe(o,\"supportsQueryWithHistoricMoment\",!1),supportsFormatPBF:!n&&a.has(\"pbf\"),supportsDisjointSpatialRelationship:Qe(r,\"supportsDisjointSpatialRel\",!1),supportsCacheHint:Qe(r,\"supportsQueryWithCacheHint\",!1),maxRecordCountFactor:Ue(e,\"maxRecordCountFactor\",void 0),maxRecordCount:Ue(e,\"maxRecordCount\",void 0),standardMaxRecordCount:Ue(e,\"standardMaxRecordCount\",void 0),tileMaxRecordCount:Ue(e,\"tileMaxRecordCount\",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=Qe(t,\"supportsAdvancedQueryRelated\",!1);return{supportsPagination:Qe(t,\"supportsQueryRelatedPagination\",!1),supportsCount:r,supportsOrderBy:r}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Qe(e,\"allowGeometryUpdates\",!0),supportsGlobalId:Qe(e,\"supportsApplyEditsWithGlobalIds\",!1),supportsReturnServiceEditsInSourceSpatialReference:Qe(e,\"supportsReturnServiceEditsInSourceSR\",!1),supportsRollbackOnFailure:Qe(e,\"supportsRollbackOnFailureParameter\",!1),supportsUpdateWithoutM:Qe(e,\"allowUpdateWithoutMValues\",!1),supportsUploadWithItemId:Qe(e,\"supportsAttachmentsByUploadId\",!1),supportsDeleteByAnonymous:Qe(t,\"allowAnonymousToDelete\",!0),supportsDeleteByOthers:Qe(t,\"allowOthersToDelete\",!0),supportsUpdateByAnonymous:Qe(t,\"allowAnonymousToUpdate\",!0),supportsUpdateByOthers:Qe(t,\"allowOthersToUpdate\",!0)}}};e([E({readOnly:!0,json:{read:!1}})],Be.prototype,\"capabilities\",void 0),e([x(\"service\",\"capabilities\",[\"advancedQueryCapabilities\",\"allowGeometryUpdates\",\"allowUpdateWithoutMValues\",\"archivingInfo\",\"capabilities\",\"hasAttachments\",\"hasM\",\"hasZ\",\"maxRecordCount\",\"maxRecordCountFactor\",\"ownershipBasedAccessControlForFeatures\",\"standardMaxRecordCount\",\"supportedQueryFormats\",\"supportsAdvancedQueries\",\"supportsApplyEditsWithGlobalIds\",\"supportsAttachmentsByUploadId\",\"supportsAttachmentsResizing\",\"supportsCalculate\",\"supportsCoordinatesQuantization\",\"supportsExceedsLimitStatistics\",\"supportsFieldDescriptionProperty\",\"supportsQuantizationEditMode\",\"supportsRollbackOnFailureParameter\",\"supportsStatistics\",\"supportsTruncate\",\"supportsValidateSql\",\"tileMaxRecordCount\",\"useStandardizedQueries\"])],Be.prototype,\"readCapabilities\",null),e([E({json:{origins:{\"portal-item\":{write:!0},\"web-map\":{write:!0}}}})],Be.prototype,\"charts\",void 0),e([E({readOnly:!0})],Be.prototype,\"createQueryVersion\",null),e([E({type:String,json:{read:{source:\"layerDefinition.copyrightText\"},origins:{service:{read:{source:\"copyrightText\"}}}}})],Be.prototype,\"copyright\",void 0),e([E({type:String,json:{read:{source:\"layerDefinition.displayField\"},origins:{service:{read:{source:\"displayField\"}}}}})],Be.prototype,\"displayField\",void 0),e([E({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],Be.prototype,\"definitionExpression\",void 0),e([E({types:l,readOnly:!0})],Be.prototype,\"defaultSymbol\",void 0),e([E({type:Ee})],Be.prototype,\"dynamicDataSource\",void 0),e([E({readOnly:!0})],Be.prototype,\"editFieldsInfo\",void 0),e([E({type:Boolean})],Be.prototype,\"editingEnabled\",null),e([x([\"portal-item\",\"web-scene\"],\"editingEnabled\",[\"layerDefinition.capabilities\"])],Be.prototype,\"readEditingEnabled\",null),e([x(\"web-map\",\"editingEnabled\",[\"capabilities\",\"layerDefinition.capabilities\"])],Be.prototype,\"readEditingEnabledFromWebMap\",null),e([C([\"portal-item\",\"web-scene\"],\"editingEnabled\",{\"layerDefinition.capabilities\":{type:String}})],Be.prototype,\"writeEditingEnabled\",null),e([C(\"web-map\",\"editingEnabled\",{capabilities:{type:String},\"layerDefinition.capabilities\":{type:String}})],Be.prototype,\"writeEditingEnabledToWebMap\",null),e([E({readOnly:!0})],Be.prototype,\"editingInfo\",void 0),e([x(\"editingInfo\")],Be.prototype,\"readEditingInfo\",null),e([E(K)],Be.prototype,\"elevationInfo\",void 0),e([E({types:{key:\"type\",base:pe,typeMap:{selection:ue,cluster:le}},json:{write:{target:\"layerDefinition.featureReduction\"}}})],Be.prototype,\"featureReduction\",void 0),e([x(\"featureReduction\",[\"layerDefinition.featureReduction\"])],Be.prototype,\"readFeatureReduction\",null),e([C(\"web-scene\",\"featureReduction\",{\"layerDefinition.featureReduction\":{types:ce}})],Be.prototype,\"writeWebSceneFeatureReduction\",null),e([E({...Ve.fields,json:{read:{source:\"layerDefinition.fields\"},origins:{service:{read:!0},\"web-map\":{write:{target:\"layerDefinition.fields\",overridePolicy:Ge}}}}})],Be.prototype,\"fields\",void 0),e([E(Ve.fieldsIndex)],Be.prototype,\"fieldsIndex\",void 0),e([E({type:Ie,json:{read:{source:\"layerDefinition.floorInfo\"},write:{target:\"layerDefinition.floorInfo\"}}})],Be.prototype,\"floorInfo\",void 0),e([E({type:M,json:{name:\"formInfo\",write:!0,origins:{\"web-scene\":{read:!1,write:!1}}}})],Be.prototype,\"formTemplate\",void 0),e([E({type:O,json:{origins:{service:{read:{source:\"extent\"}}},read:{source:\"layerDefinition.extent\"}}})],Be.prototype,\"fullExtent\",void 0),e([E()],Be.prototype,\"gdbVersion\",void 0),e([E({readOnly:!0,type:ve,json:{read:{source:\"geometryProperties\"}}})],Be.prototype,\"geometryFieldsInfo\",void 0),e([E({type:[\"point\",\"polygon\",\"polyline\",\"multipoint\",\"multipatch\",\"mesh\"],json:{origins:{service:{read:Le.read},\"web-map\":{write:{target:\"layerDefinition.geometryType\",overridePolicy:Ge,writer(e,t,r){const i=e?Le.toJSON(e):null;i&&w(r,i,t)}}}},read:{source:\"layerDefinition.geometryType\",reader:Le.read}}})],Be.prototype,\"geometryType\",void 0),e([E({type:Boolean,json:{origins:{service:{read:!0}},read:{source:\"layerDefinition.hasM\"}}})],Be.prototype,\"hasM\",void 0),e([E({type:Boolean,json:{origins:{service:{read:!0}},read:{source:\"layerDefinition.hasZ\"}}})],Be.prototype,\"hasZ\",void 0),e([E({readOnly:!0,type:L})],Be.prototype,\"heightModelInfo\",void 0),e([E({type:Date})],Be.prototype,\"historicMoment\",void 0),e([E(X)],Be.prototype,\"id\",void 0),e([E({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Be.prototype,\"infoFor3D\",void 0),e([E({readOnly:!0,json:{origins:{\"web-map\":{write:{target:\"layerDefinition.type\"}}}}})],Be.prototype,\"isTable\",void 0),e([x(\"service\",\"isTable\",[\"type\",\"geometryType\"]),x(\"isTable\",[\"layerDefinition.type\",\"layerDefinition.geometryType\"])],Be.prototype,\"readIsTable\",null),e([C(\"web-map\",\"isTable\")],Be.prototype,\"writeIsTable\",null),e([E(Y)],Be.prototype,\"labelsVisible\",void 0),e([E({type:[we],json:{origins:{service:{read:{source:\"drawingInfo.labelingInfo\",reader:Fe},write:{target:\"drawingInfo.labelingInfo\",enabled:!1}}},read:{source:\"layerDefinition.drawingInfo.labelingInfo\",reader:Fe},write:{target:\"layerDefinition.drawingInfo.labelingInfo\"}}})],Be.prototype,\"labelingInfo\",void 0),e([E(ee)],Be.prototype,\"opacity\",void 0),e([E({type:Number,json:{origins:{service:{read:{source:\"id\"}}},read:!1}})],Be.prototype,\"layerId\",void 0),e([E(te)],Be.prototype,\"legendEnabled\",void 0),e([E({type:[\"show\",\"hide\"]})],Be.prototype,\"listMode\",void 0),e([E(re)],Be.prototype,\"minScale\",void 0),e([x(\"service\",\"minScale\",[\"minScale\",\"effectiveMinScale\"])],Be.prototype,\"readMinScale\",null),e([E(ie)],Be.prototype,\"maxScale\",void 0),e([x(\"service\",\"maxScale\",[\"maxScale\",\"effectiveMaxScale\"])],Be.prototype,\"readMaxScale\",null),e([E({type:String})],Be.prototype,\"globalIdField\",void 0),e([x(\"globalIdField\",[\"layerDefinition.globalIdField\",\"layerDefinition.fields\"]),x(\"service\",\"globalIdField\",[\"globalIdField\",\"fields\"])],Be.prototype,\"readGlobalIdFieldFromService\",null),e([E({type:String,json:{origins:{\"web-map\":{write:{target:\"layerDefinition.objectIdField\",overridePolicy:Ge}}}}})],Be.prototype,\"objectIdField\",void 0),e([x(\"objectIdField\",[\"layerDefinition.objectIdField\",\"layerDefinition.fields\"]),x(\"service\",\"objectIdField\",[\"objectIdField\",\"fields\"])],Be.prototype,\"readObjectIdFieldFromService\",null),e([E({value:\"ArcGISFeatureLayer\",type:[\"ArcGISFeatureLayer\"]})],Be.prototype,\"operationalLayerType\",void 0),e([E(Ve.outFields)],Be.prototype,\"outFields\",void 0),e([E({readOnly:!0})],Be.prototype,\"parsedUrl\",null),e([E({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],Be.prototype,\"path\",void 0),e([E(oe)],Be.prototype,\"popupEnabled\",void 0),e([E({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],Be.prototype,\"popupTemplate\",void 0),e([E({readOnly:!0})],Be.prototype,\"defaultPopupTemplate\",null),e([E({type:[Se],readOnly:!0})],Be.prototype,\"relationships\",void 0),e([E({types:n,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}},\"web-scene\":{types:a,write:{target:\"layerDefinition.drawingInfo.renderer\",writer:s}}},write:{target:\"layerDefinition.drawingInfo.renderer\",overridePolicy:(e,t,r)=>({ignoreOrigin:null==r?void 0:r.writeLayerSchema}),writer:s}}})],Be.prototype,\"renderer\",null),e([x(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),x(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],Be.prototype,\"readRenderer\",null),e([E()],Be.prototype,\"sourceJSON\",void 0),e([E({type:Boolean})],Be.prototype,\"returnM\",void 0),e([E({type:Boolean})],Be.prototype,\"returnZ\",void 0),e([E(se)],Be.prototype,\"screenSizePerspectiveEnabled\",void 0),e([E()],Be.prototype,\"source\",null),e([T(\"source\")],Be.prototype,\"castSource\",null),e([x(\"portal-item\",\"source\",[\"featureSet\"]),x(\"web-map\",\"source\",[\"featureSet\"])],Be.prototype,\"readSource\",null),e([E({readOnly:!0})],Be.prototype,\"serviceDefinitionExpression\",void 0),e([x(\"service\",\"serviceDefinitionExpression\",[\"definitionQuery\",\"definitionExpression\"])],Be.prototype,\"readServiceDefinitionExpression\",null),e([E({type:P,json:{origins:{service:{read:{source:\"extent.spatialReference\"}}},read:{source:\"layerDefinition.extent.spatialReference\"}}})],Be.prototype,\"spatialReference\",void 0),e([E({type:Number})],Be.prototype,\"subtypeCode\",void 0),e([E({type:[he]})],Be.prototype,\"templates\",void 0),e([x(\"templates\",[\"editFieldsInfo\",\"creatorField\",\"editorField\",\"templates\"])],Be.prototype,\"readTemplates\",null),e([E({type:je})],Be.prototype,\"timeInfo\",void 0),e([E()],Be.prototype,\"title\",void 0),e([x(\"service\",\"title\",[\"name\"]),x(\"portal-item\",\"title\",[\"layerDefinition.title\",\"layerDefinition.name\",\"title\"])],Be.prototype,\"readTitle\",null),e([x(\"web-map\",\"title\",[\"layerDefinition.name\",\"title\"])],Be.prototype,\"readTitleFromWebMap\",null),e([E({type:String})],Be.prototype,\"sublayerTitleMode\",void 0),e([E({type:String,json:{read:{source:\"timeInfo.trackIdField\"}}})],Be.prototype,\"trackIdField\",void 0),e([E({json:{read:!1}})],Be.prototype,\"type\",void 0),e([E({type:String})],Be.prototype,\"typeIdField\",void 0),e([x(\"service\",\"typeIdField\"),x(\"typeIdField\",[\"layerDefinition.typeIdField\"])],Be.prototype,\"readTypeIdField\",null),e([E({type:[me]})],Be.prototype,\"types\",void 0),e([x(\"service\",\"types\",[\"types\"]),x(\"types\",[\"layerDefinition.types\"])],Be.prototype,\"readTypes\",null),e([E({readOnly:!0,json:{write:!1}})],Be.prototype,\"serverGens\",void 0),e([E({type:d.ofType(ae),readOnly:!0})],Be.prototype,\"indexes\",void 0),e([E(ne)],Be.prototype,\"url\",null),e([C(\"url\")],Be.prototype,\"writeUrl\",null),e([E({readOnly:!0})],Be.prototype,\"userIsAdmin\",void 0),e([E({json:{origins:{service:{read:!0}},read:!1}})],Be.prototype,\"version\",void 0),e([x(\"service\",\"version\",[\"currentVersion\",\"capabilities\",\"drawingInfo\",\"hasAttachments\",\"htmlPopupType\",\"relationships\",\"timeInfo\",\"typeIdField\",\"types\"])],Be.prototype,\"readVersion\",null),e([E({type:Boolean,json:{origins:{\"portal-item\":{write:{target:\"layerDefinition.defaultVisibility\"}}}}})],Be.prototype,\"visible\",void 0),e([x(\"portal-item\",\"visible\",[\"visibility\",\"layerDefinition.defaultVisibility\"])],Be.prototype,\"readVisible\",null),Be=e([D(\"esri.layers.FeatureLayer\")],Be);const ze=R({types:u});var We=Be;export default We;\n"]},"metadata":{},"sourceType":"module"}