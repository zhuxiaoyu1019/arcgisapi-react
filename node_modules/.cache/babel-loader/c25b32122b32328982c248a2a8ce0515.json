{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { WGLGeometryType as e } from \"../../views/2d/engine/webgl/enums.js\";\nimport { createMaterialKey as t } from \"../../views/2d/engine/webgl/materialKey/MaterialKey.js\";\nconst a = {\n  marker: e.MARKER,\n  fill: e.FILL,\n  line: e.LINE,\n  text: e.TEXT\n};\n\nclass r {\n  constructor(e, r, i, l) {\n    const n = {\n      minScale: null == r ? void 0 : r.minScale,\n      maxScale: null == r ? void 0 : r.maxScale\n    },\n          c = s(n);\n    this.layers = e, this.data = r, this.hash = this._createHash() + c, this.rendererKey = i;\n\n    for (const s of e) {\n      const e = a[s.type];\n      s.materialKey = t(e, this.rendererKey, !1, !1), s.maxVVSize = l, s.scaleInfo = n, s.templateHash += c;\n    }\n  }\n\n  get type() {\n    return \"expanded-cim\";\n  }\n\n  _createHash() {\n    let e = \"\";\n\n    for (const t of this.layers) e += t.templateHash;\n\n    return e;\n  }\n\n}\n\nfunction s(e) {\n  return e.minScale || e.maxScale ? e.minScale + \"-\" + e.maxScale : \"\";\n}\n\nexport { r as ExpandedCIM };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/symbols/cim/ExpandedCIM.js"],"names":["WGLGeometryType","e","createMaterialKey","t","a","marker","MARKER","fill","FILL","line","LINE","text","TEXT","r","constructor","i","l","n","minScale","maxScale","c","s","layers","data","hash","_createHash","rendererKey","type","materialKey","maxVVSize","scaleInfo","templateHash","ExpandedCIM"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,eAAe,IAAIC,CAA1B,QAAgC,sCAAhC;AAAuE,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,wDAAlC;AAA2F,MAAMC,CAAC,GAAC;AAACC,EAAAA,MAAM,EAACJ,CAAC,CAACK,MAAV;AAAiBC,EAAAA,IAAI,EAACN,CAAC,CAACO,IAAxB;AAA6BC,EAAAA,IAAI,EAACR,CAAC,CAACS,IAApC;AAAyCC,EAAAA,IAAI,EAACV,CAAC,CAACW;AAAhD,CAAR;;AAA8D,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACb,CAAD,EAAGY,CAAH,EAAKE,CAAL,EAAOC,CAAP,EAAS;AAAC,UAAMC,CAAC,GAAC;AAACC,MAAAA,QAAQ,EAAC,QAAML,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACK,QAA3B;AAAoCC,MAAAA,QAAQ,EAAC,QAAMN,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACM;AAA9D,KAAR;AAAA,UAAgFC,CAAC,GAACC,CAAC,CAACJ,CAAD,CAAnF;AAAuF,SAAKK,MAAL,GAAYrB,CAAZ,EAAc,KAAKsB,IAAL,GAAUV,CAAxB,EAA0B,KAAKW,IAAL,GAAU,KAAKC,WAAL,KAAmBL,CAAvD,EAAyD,KAAKM,WAAL,GAAiBX,CAA1E;;AAA4E,SAAI,MAAMM,CAAV,IAAepB,CAAf,EAAiB;AAAC,YAAMA,CAAC,GAACG,CAAC,CAACiB,CAAC,CAACM,IAAH,CAAT;AAAkBN,MAAAA,CAAC,CAACO,WAAF,GAAczB,CAAC,CAACF,CAAD,EAAG,KAAKyB,WAAR,EAAoB,CAAC,CAArB,EAAuB,CAAC,CAAxB,CAAf,EAA0CL,CAAC,CAACQ,SAAF,GAAYb,CAAtD,EAAwDK,CAAC,CAACS,SAAF,GAAYb,CAApE,EAAsEI,CAAC,CAACU,YAAF,IAAgBX,CAAtF;AAAwF;AAAC;;AAAQ,MAAJO,IAAI,GAAE;AAAC,WAAM,cAAN;AAAqB;;AAAAF,EAAAA,WAAW,GAAE;AAAC,QAAIxB,CAAC,GAAC,EAAN;;AAAS,SAAI,MAAME,CAAV,IAAe,KAAKmB,MAApB,EAA2BrB,CAAC,IAAEE,CAAC,CAAC4B,YAAL;;AAAkB,WAAO9B,CAAP;AAAS;;AAAna;;AAAoa,SAASoB,CAAT,CAAWpB,CAAX,EAAa;AAAC,SAAOA,CAAC,CAACiB,QAAF,IAAYjB,CAAC,CAACkB,QAAd,GAAuBlB,CAAC,CAACiB,QAAF,GAAW,GAAX,GAAejB,CAAC,CAACkB,QAAxC,GAAiD,EAAxD;AAA2D;;AAAA,SAAON,CAAC,IAAImB,WAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{WGLGeometryType as e}from\"../../views/2d/engine/webgl/enums.js\";import{createMaterialKey as t}from\"../../views/2d/engine/webgl/materialKey/MaterialKey.js\";const a={marker:e.MARKER,fill:e.FILL,line:e.LINE,text:e.TEXT};class r{constructor(e,r,i,l){const n={minScale:null==r?void 0:r.minScale,maxScale:null==r?void 0:r.maxScale},c=s(n);this.layers=e,this.data=r,this.hash=this._createHash()+c,this.rendererKey=i;for(const s of e){const e=a[s.type];s.materialKey=t(e,this.rendererKey,!1,!1),s.maxVVSize=l,s.scaleInfo=n,s.templateHash+=c}}get type(){return\"expanded-cim\"}_createHash(){let e=\"\";for(const t of this.layers)e+=t.templateHash;return e}}function s(e){return e.minScale||e.maxScale?e.minScale+\"-\"+e.maxScale:\"\"}export{r as ExpandedCIM};\n"]},"metadata":{},"sourceType":"module"}