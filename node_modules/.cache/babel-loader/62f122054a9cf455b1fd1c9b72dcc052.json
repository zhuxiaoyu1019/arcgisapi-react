{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport i from \"../../../../core/PooledArray.js\";\nimport { e as t, h as s } from \"../../../../chunks/vec3.js\";\nimport { c as e, f as n, a as r } from \"../../../../chunks/vec3f64.js\";\nimport { assert as h } from \"./Util.js\";\n\nclass a {\n  constructor(i, s, a, c) {\n    this.primitiveIndices = i, this._numIndexPerPrimitive = s, this.indices = a, this.position = c, this.center = e(), h(i.length >= 1), h(a.length % this._numIndexPerPrimitive == 0), h(a.length >= i.length * this._numIndexPerPrimitive), h(3 === c.size || 4 === c.size);\n    const {\n      data: o,\n      size: M\n    } = c,\n          d = i.length;\n    let l = M * a[this._numIndexPerPrimitive * i[0]];\n    b.clear(), b.push(l), this.bbMin = n(o[l], o[l + 1], o[l + 2]), this.bbMax = r(this.bbMin);\n\n    for (let t = 0; t < d; ++t) {\n      const s = this._numIndexPerPrimitive * i[t];\n\n      for (let i = 0; i < this._numIndexPerPrimitive; ++i) {\n        l = M * a[s + i], b.push(l);\n        let t = o[l];\n        this.bbMin[0] = Math.min(t, this.bbMin[0]), this.bbMax[0] = Math.max(t, this.bbMax[0]), t = o[l + 1], this.bbMin[1] = Math.min(t, this.bbMin[1]), this.bbMax[1] = Math.max(t, this.bbMax[1]), t = o[l + 2], this.bbMin[2] = Math.min(t, this.bbMin[2]), this.bbMax[2] = Math.max(t, this.bbMax[2]);\n      }\n    }\n\n    t(this.center, this.bbMin, this.bbMax, .5), this.radius = .5 * Math.max(Math.max(this.bbMax[0] - this.bbMin[0], this.bbMax[1] - this.bbMin[1]), this.bbMax[2] - this.bbMin[2]);\n    let m = this.radius * this.radius;\n\n    for (let t = 0; t < b.length; ++t) {\n      l = b.getItemAt(t);\n      const i = o[l] - this.center[0],\n            s = o[l + 1] - this.center[1],\n            e = o[l + 2] - this.center[2],\n            n = i * i + s * s + e * e;\n      if (n <= m) continue;\n      const r = Math.sqrt(n),\n            h = .5 * (r - this.radius);\n      this.radius = this.radius + h, m = this.radius * this.radius;\n      const a = h / r;\n      this.center[0] += i * a, this.center[1] += s * a, this.center[2] += e * a;\n    }\n\n    b.clear();\n  }\n\n  getCenter() {\n    return this.center;\n  }\n\n  getBSRadius() {\n    return this.radius;\n  }\n\n  getBBMin() {\n    return this.bbMin;\n  }\n\n  getBBMax() {\n    return this.bbMax;\n  }\n\n  getChildren() {\n    if (this._children) return this._children;\n\n    if (s(this.bbMin, this.bbMax) > 1) {\n      const i = t(e(), this.bbMin, this.bbMax, .5),\n            s = this.primitiveIndices.length,\n            n = new Uint8Array(s),\n            r = new Array(8);\n\n      for (let t = 0; t < 8; ++t) r[t] = 0;\n\n      const {\n        data: h,\n        size: b\n      } = this.position;\n\n      for (let t = 0; t < s; ++t) {\n        let s = 0;\n        const e = this._numIndexPerPrimitive * this.primitiveIndices[t];\n        let a = b * this.indices[e],\n            c = h[a],\n            o = h[a + 1],\n            M = h[a + 2];\n\n        for (let i = 1; i < this._numIndexPerPrimitive; ++i) {\n          a = b * this.indices[e + i];\n          const t = h[a],\n                s = h[a + 1],\n                n = h[a + 2];\n          t < c && (c = t), s < o && (o = s), n < M && (M = n);\n        }\n\n        c < i[0] && (s |= 1), o < i[1] && (s |= 2), M < i[2] && (s |= 4), n[t] = s, ++r[s];\n      }\n\n      let c = 0;\n\n      for (let t = 0; t < 8; ++t) r[t] > 0 && ++c;\n\n      if (c < 2) return;\n      const o = new Array(8);\n\n      for (let t = 0; t < 8; ++t) o[t] = r[t] > 0 ? new Uint32Array(r[t]) : void 0;\n\n      for (let t = 0; t < 8; ++t) r[t] = 0;\n\n      for (let t = 0; t < s; ++t) {\n        const i = n[t];\n        o[i][r[i]++] = this.primitiveIndices[t];\n      }\n\n      this._children = new Array(8);\n\n      for (let t = 0; t < 8; ++t) void 0 !== o[t] && (this._children[t] = new a(o[t], this._numIndexPerPrimitive, this.indices, this.position));\n    }\n\n    return this._children;\n  }\n\n  static prune() {\n    b.prune();\n  }\n\n}\n\nconst b = new i({\n  deallocator: null\n});\nexport { a as BoundingInfo };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js"],"names":["i","e","t","h","s","c","f","n","a","r","assert","constructor","primitiveIndices","_numIndexPerPrimitive","indices","position","center","length","size","data","o","M","d","l","b","clear","push","bbMin","bbMax","Math","min","max","radius","m","getItemAt","sqrt","getCenter","getBSRadius","getBBMin","getBBMax","getChildren","_children","Uint8Array","Array","Uint32Array","prune","deallocator","BoundingInfo"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/PooledArray.js\";import{e as t,h as s}from\"../../../../chunks/vec3.js\";import{c as e,f as n,a as r}from\"../../../../chunks/vec3f64.js\";import{assert as h}from\"./Util.js\";class a{constructor(i,s,a,c){this.primitiveIndices=i,this._numIndexPerPrimitive=s,this.indices=a,this.position=c,this.center=e(),h(i.length>=1),h(a.length%this._numIndexPerPrimitive==0),h(a.length>=i.length*this._numIndexPerPrimitive),h(3===c.size||4===c.size);const{data:o,size:M}=c,d=i.length;let l=M*a[this._numIndexPerPrimitive*i[0]];b.clear(),b.push(l),this.bbMin=n(o[l],o[l+1],o[l+2]),this.bbMax=r(this.bbMin);for(let t=0;t<d;++t){const s=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){l=M*a[s+i],b.push(l);let t=o[l];this.bbMin[0]=Math.min(t,this.bbMin[0]),this.bbMax[0]=Math.max(t,this.bbMax[0]),t=o[l+1],this.bbMin[1]=Math.min(t,this.bbMin[1]),this.bbMax[1]=Math.max(t,this.bbMax[1]),t=o[l+2],this.bbMin[2]=Math.min(t,this.bbMin[2]),this.bbMax[2]=Math.max(t,this.bbMax[2])}}t(this.center,this.bbMin,this.bbMax,.5),this.radius=.5*Math.max(Math.max(this.bbMax[0]-this.bbMin[0],this.bbMax[1]-this.bbMin[1]),this.bbMax[2]-this.bbMin[2]);let m=this.radius*this.radius;for(let t=0;t<b.length;++t){l=b.getItemAt(t);const i=o[l]-this.center[0],s=o[l+1]-this.center[1],e=o[l+2]-this.center[2],n=i*i+s*s+e*e;if(n<=m)continue;const r=Math.sqrt(n),h=.5*(r-this.radius);this.radius=this.radius+h,m=this.radius*this.radius;const a=h/r;this.center[0]+=i*a,this.center[1]+=s*a,this.center[2]+=e*a}b.clear()}getCenter(){return this.center}getBSRadius(){return this.radius}getBBMin(){return this.bbMin}getBBMax(){return this.bbMax}getChildren(){if(this._children)return this._children;if(s(this.bbMin,this.bbMax)>1){const i=t(e(),this.bbMin,this.bbMax,.5),s=this.primitiveIndices.length,n=new Uint8Array(s),r=new Array(8);for(let t=0;t<8;++t)r[t]=0;const{data:h,size:b}=this.position;for(let t=0;t<s;++t){let s=0;const e=this._numIndexPerPrimitive*this.primitiveIndices[t];let a=b*this.indices[e],c=h[a],o=h[a+1],M=h[a+2];for(let i=1;i<this._numIndexPerPrimitive;++i){a=b*this.indices[e+i];const t=h[a],s=h[a+1],n=h[a+2];t<c&&(c=t),s<o&&(o=s),n<M&&(M=n)}c<i[0]&&(s|=1),o<i[1]&&(s|=2),M<i[2]&&(s|=4),n[t]=s,++r[s]}let c=0;for(let t=0;t<8;++t)r[t]>0&&++c;if(c<2)return;const o=new Array(8);for(let t=0;t<8;++t)o[t]=r[t]>0?new Uint32Array(r[t]):void 0;for(let t=0;t<8;++t)r[t]=0;for(let t=0;t<s;++t){const i=n[t];o[i][r[i]++]=this.primitiveIndices[t]}this._children=new Array(8);for(let t=0;t<8;++t)void 0!==o[t]&&(this._children[t]=new a(o[t],this._numIndexPerPrimitive,this.indices,this.position))}return this._children}static prune(){b.prune()}}const b=new i({deallocator:null});export{a as BoundingInfo};\n"]},"metadata":{},"sourceType":"module"}