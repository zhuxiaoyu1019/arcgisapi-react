{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { runTracked as n } from \"./tracking.js\";\nimport { SimpleTrackingTarget as t } from \"./tracking/SimpleTrackingTarget.js\";\nlet e = !1;\nconst r = [];\n\nfunction u(r, u, l = {\n  runImmediately: !1\n}) {\n  let o = new t(a),\n      i = null,\n      c = !1;\n\n  function a() {\n    if (!o || c) return;\n    if (e) return void f(a);\n    const t = i;\n    o.clear(), e = !0, c = !0, i = n(o, r), c = !1, e = !1, u(i, t), m();\n  }\n\n  function d() {\n    o && (o.destroy(), o = null, i = null);\n  }\n\n  return c = !0, i = n(o, r), c = !1, l.runImmediately && u(i, i), {\n    remove: d\n  };\n}\n\nfunction l(n, t) {\n  return u(n, t, {\n    runImmediately: !0\n  });\n}\n\nfunction o(n, t) {\n  return u(() => n(), n => {\n    n && t();\n  }, {\n    runImmediately: !0\n  });\n}\n\nfunction i(e, r) {\n  let u = new t(o),\n      l = null;\n\n  function o() {\n    r(l, c);\n  }\n\n  function i() {\n    u && (u.destroy(), u = null), l = null;\n  }\n\n  function c() {\n    return u ? (u.clear(), l = n(u, e), l) : null;\n  }\n\n  return c(), {\n    remove: i\n  };\n}\n\nfunction c(r) {\n  let u = new t(o),\n      l = !1;\n\n  function o() {\n    u && !l && (e ? f(o) : (u.clear(), e = !0, l = !0, n(u, r), l = !1, e = !1, m()));\n  }\n\n  function i() {\n    u && (u.destroy(), u = null);\n  }\n\n  return l = !0, n(u, r), l = !1, {\n    remove: i\n  };\n}\n\nfunction f(n) {\n  r.includes(n) || r.unshift(n);\n}\n\nfunction m() {\n  for (; r.length;) r.pop()();\n}\n\nexport { c as autorun, u as reaction, i as reactionAsync, l as reactionInit, o as when };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js"],"names":["runTracked","n","SimpleTrackingTarget","t","e","r","u","l","runImmediately","o","a","i","c","f","clear","m","d","destroy","remove","includes","unshift","length","pop","autorun","reaction","reactionAsync","reactionInit","when"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{runTracked as n}from\"./tracking.js\";import{SimpleTrackingTarget as t}from\"./tracking/SimpleTrackingTarget.js\";let e=!1;const r=[];function u(r,u,l={runImmediately:!1}){let o=new t(a),i=null,c=!1;function a(){if(!o||c)return;if(e)return void f(a);const t=i;o.clear(),e=!0,c=!0,i=n(o,r),c=!1,e=!1,u(i,t),m()}function d(){o&&(o.destroy(),o=null,i=null)}return c=!0,i=n(o,r),c=!1,l.runImmediately&&u(i,i),{remove:d}}function l(n,t){return u(n,t,{runImmediately:!0})}function o(n,t){return u((()=>n()),(n=>{n&&t()}),{runImmediately:!0})}function i(e,r){let u=new t(o),l=null;function o(){r(l,c)}function i(){u&&(u.destroy(),u=null),l=null}function c(){return u?(u.clear(),l=n(u,e),l):null}return c(),{remove:i}}function c(r){let u=new t(o),l=!1;function o(){u&&!l&&(e?f(o):(u.clear(),e=!0,l=!0,n(u,r),l=!1,e=!1,m()))}function i(){u&&(u.destroy(),u=null)}return l=!0,n(u,r),l=!1,{remove:i}}function f(n){r.includes(n)||r.unshift(n)}function m(){for(;r.length;)r.pop()()}export{c as autorun,u as reaction,i as reactionAsync,l as reactionInit,o as when};\n"]},"metadata":{},"sourceType":"module"}