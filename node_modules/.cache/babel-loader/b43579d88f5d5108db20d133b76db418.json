{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { isSome as t, unwrap as i } from \"../../../../core/maybe.js\";\nimport { bindSliceUniformsWithOrigin as r } from \"../core/shaderLibrary/Slice.glsl.js\";\nimport { bindOutputHighlight as s } from \"../core/shaderLibrary/output/OutputHighlight.glsl.js\";\nimport { bindProjectionMatrix as o, bindView as p } from \"../core/shaderLibrary/util/View.glsl.js\";\nimport { ReloadableShaderModule as l } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as n } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as a, parameter as u } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as h } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as d } from \"../lib/Program.js\";\nimport { depthCompareLess as c, stencilWriteMaskOn as m, stencilToolMaskBaseParams as f, stencilBaseAllZerosParams as g } from \"../lib/StencilUtils.js\";\nimport { N as b } from \"../../../../chunks/NativeLine.glsl.js\";\nimport { separateBlendingParams as x, makePipelineState as P, defaultColorWriteParams as E, defaultDepthWriteParams as T } from \"../../../webgl/renderState.js\";\n\nclass v extends n {\n  constructor(e, t, i) {\n    super(e, t, i), this.stipplePattern = null, this.stippleTextureBind = null, this.stippleTextureRepository = e.stippleTextureRepository;\n  }\n\n  initializeProgram(e) {\n    const t = v.shader.get(),\n          i = this.configuration,\n          r = t.build({\n      output: i.output,\n      attributeColor: i.vertexColors,\n      slicePlaneEnabled: i.slicePlaneEnabled,\n      sliceHighlightDisabled: !1,\n      sliceEnabledForVertexPrograms: !1,\n      stippleEnabled: i.stippleEnabled,\n      stippleOffColorEnabled: i.stippleOffColorEnabled,\n      stippleUVMaxEnabled: !1,\n      stippleIntegerRepeatsEnabled: i.stippleIntegerRepeatsEnabled\n    });\n    return new d(e.rctx, r, h);\n  }\n\n  dispose() {\n    super.dispose(), this.stippleTextureRepository.release(this.stipplePattern), this.stipplePattern = null, this.stippleTextureBind = null;\n  }\n\n  bindPass(e, r) {\n    if (o(this.program, r.camera.projectionMatrix), this.stipplePattern !== e.stipplePattern) {\n      const t = e.stipplePattern;\n      this.stippleTextureBind = this.stippleTextureRepository.swap(this.stipplePattern, t), this.stipplePattern = t;\n    }\n\n    if (this.configuration.stippleEnabled) {\n      const e = t(this.stippleTextureBind) ? this.stippleTextureBind(this.program) * r.camera.pixelRatio : 1;\n      this.program.setUniform1i(\"stipplePatternTexture\", 0), this.program.setUniform1f(\"stipplePatternPixelSizeInv\", 1 / e), this.program.setUniform2f(\"ndcToPixel\", r.camera.fullViewport[2] / 2, r.camera.fullViewport[3] / 2);\n    }\n\n    if (this.program.setUniform4fv(\"constantColor\", e.color), this.program.setUniform1f(\"alphaCoverage\", Math.min(1, e.width * r.camera.pixelRatio)), this.configuration.stippleOffColorEnabled) {\n      const t = i(e.stippleOffColor);\n      this.program.setUniform4f(\"stippleOffColor\", t[0], t[1], t[2], t.length > 3 ? t[3] : 1);\n    }\n\n    4 === this.configuration.output && s(this.program, r);\n  }\n\n  bindDraw(e) {\n    p(this.program, e), r(this.program, this.configuration, e), this.program.rebindTextures();\n  }\n\n  initializePipeline() {\n    const e = this.configuration,\n          t = x(770, 1, 771, 771),\n          i = (t, i = null, r = null) => P({\n      blending: i,\n      depthTest: c,\n      depthWrite: r,\n      colorWrite: E,\n      stencilWrite: e.sceneHasOcludees ? m : null,\n      stencilTest: e.sceneHasOcludees ? t ? f : g : null\n    });\n\n    return 0 === e.output ? (this._occludeePipelineState = i(!0, e.transparent || e.stippleEnabled ? t : null, T), i(!1, e.transparent || e.stippleEnabled ? t : null, T)) : i(!1);\n  }\n\n  get primitiveType() {\n    return 1;\n  }\n\n  getPipelineState(e) {\n    return e ? this._occludeePipelineState : this.pipeline;\n  }\n\n}\n\nv.shader = new l(b, () => import(\"./NativeLine.glsl.js\"));\n\nclass y extends a {\n  constructor() {\n    super(...arguments), this.output = 0, this.slicePlaneEnabled = !1, this.vertexColors = !1, this.transparent = !1, this.stippleEnabled = !1, this.stippleOffColorEnabled = !1, this.stippleIntegerRepeatsEnabled = !1, this.sceneHasOcludees = !1;\n  }\n\n}\n\ne([u({\n  count: 8\n})], y.prototype, \"output\", void 0), e([u()], y.prototype, \"slicePlaneEnabled\", void 0), e([u()], y.prototype, \"vertexColors\", void 0), e([u()], y.prototype, \"transparent\", void 0), e([u()], y.prototype, \"stippleEnabled\", void 0), e([u()], y.prototype, \"stippleOffColorEnabled\", void 0), e([u()], y.prototype, \"stippleIntegerRepeatsEnabled\", void 0), e([u()], y.prototype, \"sceneHasOcludees\", void 0);\nexport { v as NativeLineTechnique, y as NativeLineTechniqueConfiguration };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js"],"names":["_","e","isSome","t","unwrap","i","bindSliceUniformsWithOrigin","r","bindOutputHighlight","s","bindProjectionMatrix","o","bindView","p","ReloadableShaderModule","l","ShaderTechnique","n","ShaderTechniqueConfiguration","a","parameter","u","Default3D","h","Program","d","depthCompareLess","c","stencilWriteMaskOn","m","stencilToolMaskBaseParams","f","stencilBaseAllZerosParams","g","N","b","separateBlendingParams","x","makePipelineState","P","defaultColorWriteParams","E","defaultDepthWriteParams","T","v","constructor","stipplePattern","stippleTextureBind","stippleTextureRepository","initializeProgram","shader","get","configuration","build","output","attributeColor","vertexColors","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","stippleEnabled","stippleOffColorEnabled","stippleUVMaxEnabled","stippleIntegerRepeatsEnabled","rctx","dispose","release","bindPass","program","camera","projectionMatrix","swap","pixelRatio","setUniform1i","setUniform1f","setUniform2f","fullViewport","setUniform4fv","color","Math","min","width","stippleOffColor","setUniform4f","length","bindDraw","rebindTextures","initializePipeline","blending","depthTest","depthWrite","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","_occludeePipelineState","transparent","primitiveType","getPipelineState","pipeline","y","arguments","count","prototype","NativeLineTechnique","NativeLineTechniqueConfiguration"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t,unwrap as i}from\"../../../../core/maybe.js\";import{bindSliceUniformsWithOrigin as r}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindOutputHighlight as s}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindProjectionMatrix as o,bindView as p}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as n}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as a,parameter as u}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as h}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as d}from\"../lib/Program.js\";import{depthCompareLess as c,stencilWriteMaskOn as m,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as g}from\"../lib/StencilUtils.js\";import{N as b}from\"../../../../chunks/NativeLine.glsl.js\";import{separateBlendingParams as x,makePipelineState as P,defaultColorWriteParams as E,defaultDepthWriteParams as T}from\"../../../webgl/renderState.js\";class v extends n{constructor(e,t,i){super(e,t,i),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}initializeProgram(e){const t=v.shader.get(),i=this.configuration,r=t.build({output:i.output,attributeColor:i.vertexColors,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,stippleEnabled:i.stippleEnabled,stippleOffColorEnabled:i.stippleOffColorEnabled,stippleUVMaxEnabled:!1,stippleIntegerRepeatsEnabled:i.stippleIntegerRepeatsEnabled});return new d(e.rctx,r,h)}dispose(){super.dispose(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(e,r){if(o(this.program,r.camera.projectionMatrix),this.stipplePattern!==e.stipplePattern){const t=e.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,t),this.stipplePattern=t}if(this.configuration.stippleEnabled){const e=t(this.stippleTextureBind)?this.stippleTextureBind(this.program)*r.camera.pixelRatio:1;this.program.setUniform1i(\"stipplePatternTexture\",0),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/e),this.program.setUniform2f(\"ndcToPixel\",r.camera.fullViewport[2]/2,r.camera.fullViewport[3]/2)}if(this.program.setUniform4fv(\"constantColor\",e.color),this.program.setUniform1f(\"alphaCoverage\",Math.min(1,e.width*r.camera.pixelRatio)),this.configuration.stippleOffColorEnabled){const t=i(e.stippleOffColor);this.program.setUniform4f(\"stippleOffColor\",t[0],t[1],t[2],t.length>3?t[3]:1)}4===this.configuration.output&&s(this.program,r)}bindDraw(e){p(this.program,e),r(this.program,this.configuration,e),this.program.rebindTextures()}initializePipeline(){const e=this.configuration,t=x(770,1,771,771),i=(t,i=null,r=null)=>P({blending:i,depthTest:c,depthWrite:r,colorWrite:E,stencilWrite:e.sceneHasOcludees?m:null,stencilTest:e.sceneHasOcludees?t?f:g:null});return 0===e.output?(this._occludeePipelineState=i(!0,e.transparent||e.stippleEnabled?t:null,T),i(!1,e.transparent||e.stippleEnabled?t:null,T)):i(!1)}get primitiveType(){return 1}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}v.shader=new l(b,(()=>import(\"./NativeLine.glsl.js\")));class y extends a{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.vertexColors=!1,this.transparent=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stippleIntegerRepeatsEnabled=!1,this.sceneHasOcludees=!1}}e([u({count:8})],y.prototype,\"output\",void 0),e([u()],y.prototype,\"slicePlaneEnabled\",void 0),e([u()],y.prototype,\"vertexColors\",void 0),e([u()],y.prototype,\"transparent\",void 0),e([u()],y.prototype,\"stippleEnabled\",void 0),e([u()],y.prototype,\"stippleOffColorEnabled\",void 0),e([u()],y.prototype,\"stippleIntegerRepeatsEnabled\",void 0),e([u()],y.prototype,\"sceneHasOcludees\",void 0);export{v as NativeLineTechnique,y as NativeLineTechniqueConfiguration};\n"]},"metadata":{},"sourceType":"module"}