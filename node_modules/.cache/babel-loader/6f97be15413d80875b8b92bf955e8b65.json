{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { a as t, e as o } from \"../../../../../chunks/mat4.js\";\nimport { b as r } from \"../../../../../chunks/mat4f64.js\";\n\nclass s {\n  constructor(s, i, n, f, m, a) {\n    this.from = s, this.to = i, this.isVisible = n, this.hasHighlights = f, this.hasOccludees = m, this.transformation = a, null != a && (this.transformationNormal = r(a), t(this.transformationNormal, this.transformationNormal), o(this.transformationNormal, this.transformationNormal));\n  }\n\n}\n\nfunction i(t) {\n  return t.sort((t, o) => t.from === o.from ? t.to > o.to ? 1 : t.to < o.to ? -1 : 0 : t.from > o.from ? 1 : t.from < o.from ? -1 : 0);\n}\n\nfunction n(t, o) {\n  return t.first + t.count >= o.from;\n}\n\nfunction f(t, o) {\n  const r = t => ({\n    first: t.from,\n    count: t.to - t.from\n  });\n\n  if (0 === t.length) return void t.push(r(o));\n  const s = t[t.length - 1];\n\n  if (n(s, o)) {\n    const t = o.from - s.first + o.to - o.from;\n    s.count = t;\n  } else t.push(r(o));\n}\n\nexport { s as Instance, f as addOrMerge, i as sortInstancesAccordingToRange };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js"],"names":["a","t","e","o","b","r","s","constructor","i","n","f","m","from","to","isVisible","hasHighlights","hasOccludees","transformation","transformationNormal","sort","first","count","length","push","Instance","addOrMerge","sortInstancesAccordingToRange"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,QAAyB,+BAAzB;AAAyD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,kCAAlB;;AAAqD,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACD,CAAD,EAAGE,CAAH,EAAKC,CAAL,EAAOC,CAAP,EAASC,CAAT,EAAWX,CAAX,EAAa;AAAC,SAAKY,IAAL,GAAUN,CAAV,EAAY,KAAKO,EAAL,GAAQL,CAApB,EAAsB,KAAKM,SAAL,GAAeL,CAArC,EAAuC,KAAKM,aAAL,GAAmBL,CAA1D,EAA4D,KAAKM,YAAL,GAAkBL,CAA9E,EAAgF,KAAKM,cAAL,GAAoBjB,CAApG,EAAsG,QAAMA,CAAN,KAAU,KAAKkB,oBAAL,GAA0Bb,CAAC,CAACL,CAAD,CAA3B,EAA+BC,CAAC,CAAC,KAAKiB,oBAAN,EAA2B,KAAKA,oBAAhC,CAAhC,EAAsFf,CAAC,CAAC,KAAKe,oBAAN,EAA2B,KAAKA,oBAAhC,CAAjG,CAAtG;AAA8P;;AAAxR;;AAAyR,SAASV,CAAT,CAAWP,CAAX,EAAa;AAAC,SAAOA,CAAC,CAACkB,IAAF,CAAQ,CAAClB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAACW,IAAF,KAAST,CAAC,CAACS,IAAX,GAAgBX,CAAC,CAACY,EAAF,GAAKV,CAAC,CAACU,EAAP,GAAU,CAAV,GAAYZ,CAAC,CAACY,EAAF,GAAKV,CAAC,CAACU,EAAP,GAAU,CAAC,CAAX,GAAa,CAAzC,GAA2CZ,CAAC,CAACW,IAAF,GAAOT,CAAC,CAACS,IAAT,GAAc,CAAd,GAAgBX,CAAC,CAACW,IAAF,GAAOT,CAAC,CAACS,IAAT,GAAc,CAAC,CAAf,GAAiB,CAA3F,CAAP;AAAsG;;AAAA,SAASH,CAAT,CAAWR,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOF,CAAC,CAACmB,KAAF,GAAQnB,CAAC,CAACoB,KAAV,IAAiBlB,CAAC,CAACS,IAA1B;AAA+B;;AAAA,SAASF,CAAT,CAAWT,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAME,CAAC,GAACJ,CAAC,KAAG;AAACmB,IAAAA,KAAK,EAACnB,CAAC,CAACW,IAAT;AAAcS,IAAAA,KAAK,EAACpB,CAAC,CAACY,EAAF,GAAKZ,CAAC,CAACW;AAA3B,GAAH,CAAT;;AAA8C,MAAG,MAAIX,CAAC,CAACqB,MAAT,EAAgB,OAAO,KAAKrB,CAAC,CAACsB,IAAF,CAAOlB,CAAC,CAACF,CAAD,CAAR,CAAZ;AAAyB,QAAMG,CAAC,GAACL,CAAC,CAACA,CAAC,CAACqB,MAAF,GAAS,CAAV,CAAT;;AAAsB,MAAGb,CAAC,CAACH,CAAD,EAAGH,CAAH,CAAJ,EAAU;AAAC,UAAMF,CAAC,GAACE,CAAC,CAACS,IAAF,GAAON,CAAC,CAACc,KAAT,GAAejB,CAAC,CAACU,EAAjB,GAAoBV,CAAC,CAACS,IAA9B;AAAmCN,IAAAA,CAAC,CAACe,KAAF,GAAQpB,CAAR;AAAU,GAAxD,MAA6DA,CAAC,CAACsB,IAAF,CAAOlB,CAAC,CAACF,CAAD,CAAR;AAAa;;AAAA,SAAOG,CAAC,IAAIkB,QAAZ,EAAqBd,CAAC,IAAIe,UAA1B,EAAqCjB,CAAC,IAAIkB,6BAA1C","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as t,e as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,f,m,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=f,this.hasOccludees=m,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){return t.first+t.count>=o.from}function f(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n(s,o)){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o))}export{s as Instance,f as addOrMerge,i as sortInstancesAccordingToRange};\n"]},"metadata":{},"sourceType":"module"}