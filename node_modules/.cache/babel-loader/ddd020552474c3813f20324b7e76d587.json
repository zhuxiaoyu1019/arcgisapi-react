{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { isSome as s } from \"../../../../core/maybe.js\";\nimport { createAbortError as i } from \"../../../../core/promiseUtils.js\";\nimport \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"../../../ViewAnimation.js\";\nimport { CameraController as n, State as r } from \"./CameraController.js\";\nlet a = class extends n {\n  get canStop() {\n    return !0;\n  }\n\n  set asyncResult(t) {\n    this._asyncResult && (this._asyncResult.reject(i()), this._asyncResult = null), this.state === r.Finished || this.state === r.Stopped ? this.state === r.Finished ? t.resolve() : t.reject(i()) : this._asyncResult = t;\n  }\n\n  get asyncResult() {\n    return this._asyncResult;\n  }\n\n  onControllerStart() {\n    this.state = r.Running, s(this.viewAnimation) && this.viewAnimation.when(() => this.updateStateFromViewAnimation(), () => this.updateStateFromViewAnimation());\n  }\n\n  updateStateFromViewAnimation() {\n    !s(this.viewAnimation) || this.state !== r.Ready && this.state !== r.Running || (this.viewAnimation.state === o.State.FINISHED ? this.finish() : this.viewAnimation.state === o.State.STOPPED && (this.state = r.Stopped));\n  }\n\n  onControllerEnd() {\n    s(this.viewAnimation) && !this.viewAnimation.done && (this.state === r.Finished ? this.viewAnimation.finish() : this.state === r.Stopped && this.viewAnimation.stop()), this._asyncResult && (this.state === r.Finished ? this._asyncResult.resolve() : this._asyncResult.reject(i()));\n  }\n\n  finish() {\n    this.finishController();\n  }\n\n};\na = t([e(\"esri.views.3d.state.controllers.AnimationController\")], a);\nexport { a as AnimationController };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/state/controllers/AnimationController.js"],"names":["_","t","isSome","s","createAbortError","i","subclass","e","o","CameraController","n","State","r","a","canStop","asyncResult","_asyncResult","reject","state","Finished","Stopped","resolve","onControllerStart","Running","viewAnimation","when","updateStateFromViewAnimation","Ready","FINISHED","finish","STOPPED","onControllerEnd","done","stop","finishController","AnimationController"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,iCAAlB;AAAoD,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,kCAAjC;AAAoE,OAAM,yDAAN;AAAgE,OAAM,yBAAN;AAAgC,OAAM,gDAAN;AAAuD,OAAM,4BAAN;AAAmC,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,OAAOC,CAAP,MAAa,2BAAb;AAAyC,SAAOC,gBAAgB,IAAIC,CAA3B,EAA6BC,KAAK,IAAIC,CAAtC,QAA4C,uBAA5C;AAAoE,IAAIC,CAAC,GAAC,cAAcH,CAAd,CAAe;AAAY,MAAPI,OAAO,GAAE;AAAC,WAAM,CAAC,CAAP;AAAS;;AAAe,MAAXC,WAAW,CAACd,CAAD,EAAG;AAAC,SAAKe,YAAL,KAAoB,KAAKA,YAAL,CAAkBC,MAAlB,CAAyBZ,CAAC,EAA1B,GAA8B,KAAKW,YAAL,GAAkB,IAApE,GAA0E,KAAKE,KAAL,KAAaN,CAAC,CAACO,QAAf,IAAyB,KAAKD,KAAL,KAAaN,CAAC,CAACQ,OAAxC,GAAgD,KAAKF,KAAL,KAAaN,CAAC,CAACO,QAAf,GAAwBlB,CAAC,CAACoB,OAAF,EAAxB,GAAoCpB,CAAC,CAACgB,MAAF,CAASZ,CAAC,EAAV,CAApF,GAAkG,KAAKW,YAAL,GAAkBf,CAA9L;AAAgM;;AAAe,MAAXc,WAAW,GAAE;AAAC,WAAO,KAAKC,YAAZ;AAAyB;;AAAAM,EAAAA,iBAAiB,GAAE;AAAC,SAAKJ,KAAL,GAAWN,CAAC,CAACW,OAAb,EAAqBpB,CAAC,CAAC,KAAKqB,aAAN,CAAD,IAAuB,KAAKA,aAAL,CAAmBC,IAAnB,CAAyB,MAAI,KAAKC,4BAAL,EAA7B,EAAmE,MAAI,KAAKA,4BAAL,EAAvE,CAA5C;AAAyJ;;AAAAA,EAAAA,4BAA4B,GAAE;AAAC,KAACvB,CAAC,CAAC,KAAKqB,aAAN,CAAF,IAAwB,KAAKN,KAAL,KAAaN,CAAC,CAACe,KAAf,IAAsB,KAAKT,KAAL,KAAaN,CAAC,CAACW,OAA7D,KAAuE,KAAKC,aAAL,CAAmBN,KAAnB,KAA2BV,CAAC,CAACG,KAAF,CAAQiB,QAAnC,GAA4C,KAAKC,MAAL,EAA5C,GAA0D,KAAKL,aAAL,CAAmBN,KAAnB,KAA2BV,CAAC,CAACG,KAAF,CAAQmB,OAAnC,KAA6C,KAAKZ,KAAL,GAAWN,CAAC,CAACQ,OAA1D,CAAjI;AAAqM;;AAAAW,EAAAA,eAAe,GAAE;AAAC5B,IAAAA,CAAC,CAAC,KAAKqB,aAAN,CAAD,IAAuB,CAAC,KAAKA,aAAL,CAAmBQ,IAA3C,KAAkD,KAAKd,KAAL,KAAaN,CAAC,CAACO,QAAf,GAAwB,KAAKK,aAAL,CAAmBK,MAAnB,EAAxB,GAAoD,KAAKX,KAAL,KAAaN,CAAC,CAACQ,OAAf,IAAwB,KAAKI,aAAL,CAAmBS,IAAnB,EAA9H,GAAyJ,KAAKjB,YAAL,KAAoB,KAAKE,KAAL,KAAaN,CAAC,CAACO,QAAf,GAAwB,KAAKH,YAAL,CAAkBK,OAAlB,EAAxB,GAAoD,KAAKL,YAAL,CAAkBC,MAAlB,CAAyBZ,CAAC,EAA1B,CAAxE,CAAzJ;AAAgQ;;AAAAwB,EAAAA,MAAM,GAAE;AAAC,SAAKK,gBAAL;AAAwB;;AAA19B,CAArB;AAAi/BrB,CAAC,GAACZ,CAAC,CAAC,CAACM,CAAC,CAAC,qDAAD,CAAF,CAAD,EAA4DM,CAA5D,CAAH;AAAkE,SAAOA,CAAC,IAAIsB,mBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{createAbortError as i}from\"../../../../core/promiseUtils.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../ViewAnimation.js\";import{CameraController as n,State as r}from\"./CameraController.js\";let a=class extends n{get canStop(){return!0}set asyncResult(t){this._asyncResult&&(this._asyncResult.reject(i()),this._asyncResult=null),this.state===r.Finished||this.state===r.Stopped?this.state===r.Finished?t.resolve():t.reject(i()):this._asyncResult=t}get asyncResult(){return this._asyncResult}onControllerStart(){this.state=r.Running,s(this.viewAnimation)&&this.viewAnimation.when((()=>this.updateStateFromViewAnimation()),(()=>this.updateStateFromViewAnimation()))}updateStateFromViewAnimation(){!s(this.viewAnimation)||this.state!==r.Ready&&this.state!==r.Running||(this.viewAnimation.state===o.State.FINISHED?this.finish():this.viewAnimation.state===o.State.STOPPED&&(this.state=r.Stopped))}onControllerEnd(){s(this.viewAnimation)&&!this.viewAnimation.done&&(this.state===r.Finished?this.viewAnimation.finish():this.state===r.Stopped&&this.viewAnimation.stop()),this._asyncResult&&(this.state===r.Finished?this._asyncResult.resolve():this._asyncResult.reject(i()))}finish(){this.finishController()}};a=t([e(\"esri.views.3d.state.controllers.AnimationController\")],a);export{a as AnimationController};\n"]},"metadata":{},"sourceType":"module"}