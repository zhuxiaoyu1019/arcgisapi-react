{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../intl.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport i from \"../../../../../core/Handles.js\";\nimport { nextHighestPowerOfTen as s, sign as n, deg2rad as r } from \"../../../../../core/mathUtils.js\";\nimport { isSome as a, isNone as o, destroyMaybe as l } from \"../../../../../core/maybe.js\";\nimport { formatDecimal as h, formatDMS as c, formatImperialLength as d, formatImperialVerticalLength as u, formatMetricLength as m, formatMetricVerticalLength as g } from \"../../../../../core/quantityFormatUtils.js\";\nimport { createRenderScreenPointArray3 as p, createRenderScreenPointArray as _ } from \"../../../../../core/screenUtils.js\";\nimport { preferredImperialLengthUnit as v, convertUnit as b } from \"../../../../../core/unitUtils.js\";\nimport { whenOnce as L } from \"../../../../../core/watchUtils.js\";\nimport { property as w } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../../core/Logger.js\";\nimport { subclass as y } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { autorun as S } from \"../../../../../core/accessorSupport/trackingUtils.js\";\nimport { h as f } from \"../../../../../chunks/vec2.js\";\nimport { a as z, b as V } from \"../../../../../chunks/vec3.js\";\nimport { c as E } from \"../../../../../chunks/vec3f64.js\";\nimport { f as j } from \"../../../../../chunks/vec4f32.js\";\nimport { getReferenceEllipsoid as P } from \"../../../../../geometry/projectionEllipsoid.js\";\nimport { LabelVisualElement as D, mirrorPosition as A } from \"../../../interactive/visualElements/LabelVisualElement.js\";\nimport { LineVisualElement as M } from \"../../../interactive/visualElements/LineVisualElement.js\";\nimport { MeasurementArrowVisualElement as O } from \"../../../interactive/visualElements/MeasurementArrowVisualElement.js\";\nimport { RightAngleQuadVisualElement as C } from \"../../../interactive/visualElements/RightAngleQuadVisualElement.js\";\nimport { GeodesicSegment as x, EuclideanSegment as G } from \"../../../interactive/visualElements/support/Segment.js\";\nimport { screenSpaceTangent as H } from \"../support/viewUtils.js\";\nimport { createStipplePatternSimple as k } from \"../../../webgl-engine/materials/lineStippleUtils.js\";\nimport { onLocaleChange as R } from \"../../../../../intl/locale.js\";\nimport { fetchMessageBundle as T } from \"../../../../../intl/messages.js\";\nlet U = class extends t {\n  constructor(e) {\n    super(e), this._params = { ...Q\n    }, this._handles = new i(), this._segmentVisualElement = null, this._triangleVisualElement = null, this._rightAngleQuad = null, this._projectedGeodesicLine = null, this._geodesicStartHint = null, this._geodesicEndHint = null, this._segmentLabel = null, this._verticalLabel = null, this._horizontalLabel = null, this._startPosition = E(), this._endPosition = E(), this._cornerPosition = E(), this._startPositionAtSeaLevel = E(), this._endPositionAtSeaLevel = E(), this._state = 0, this._segmentLabelDisplayedMeasurement = 1, this._triangleOrientationOverride = null, this.messages = null, this.viewMode = 0, this.visualizedMeasurement = 0, this.actualVisualizedMeasurement = 1, this.visualElementOrientation = 0, this.triangleCollapseRatioThreshold = .03;\n  }\n\n  get _geodesicDistanceExceeded() {\n    var e;\n    const t = this.layerView.result;\n    return a(t) && (null == (e = t.horizontalDistance) ? void 0 : e.value) > this.layer.geodesicDistanceThreshold;\n  }\n\n  get ready() {\n    return 1 === this._state;\n  }\n\n  get visible() {\n    return this.layerView.visible && !this.layerView.suspended;\n  }\n\n  get allowVisualElementsOrientationChange() {\n    return o(this._triangleOrientationOverride);\n  }\n\n  set allowVisualElementsOrientationChange(e) {\n    o(this._triangleOrientationOverride) !== e && (o(this._triangleOrientationOverride) ? this._triangleOrientationOverride = this._getActualVisualElementsOrientation() : this._triangleOrientationOverride = null);\n  }\n\n  get labels() {\n    return 2 === this.actualVisualizedMeasurement ? {\n      direct: this._horizontalLabel,\n      horizontal: this._segmentLabel,\n      vertical: this._verticalLabel\n    } : {\n      direct: this._segmentLabel,\n      horizontal: this._horizontalLabel,\n      vertical: this._verticalLabel\n    };\n  }\n\n  get testData() {\n    return {\n      labels: this.labels,\n      stripeLength: this._segmentVisualElement.stripeLength\n    };\n  }\n\n  initialize() {\n    this._handles.add(L(this.view, \"ready\", () => this._initialize(), !0));\n  }\n\n  _initialize() {\n    switch (this._state) {\n      case 1:\n        throw new Error(\"invalid state\");\n\n      case 2:\n        return;\n    }\n\n    const e = this._params,\n          t = {\n      attached: !0,\n      view: this.view\n    };\n    this._segmentVisualElement = new O({ ...t,\n      geometry: null,\n      renderOccluded: 4\n    }), this._triangleVisualElement = new M({ ...t,\n      width: e.triangleLineWidth,\n      color: e.triangleColor,\n      renderOccluded: 4\n    }), this._rightAngleQuad = new C({ ...t,\n      color: W,\n      renderOccluded: 4\n    });\n    const i = { ...t,\n      polygonOffset: !0,\n      stippleIntegerRepeats: !1,\n      renderOccluded: 4\n    };\n    this._projectedGeodesicLine = new M({ ...i,\n      width: e.geodesicProjectionLineWidth,\n      color: e.geodesicProjectionLineColor,\n      stipplePattern: k(e.guideStippleLengthPixels)\n    }), this._geodesicStartHint = new M({ ...i,\n      width: e.guideLineWidth,\n      color: e.geodesicProjectionLineColor,\n      stipplePattern: k(e.guideStippleLengthPixels)\n    }), this._geodesicEndHint = new M({ ...i,\n      width: e.guideLineWidth,\n      color: e.geodesicProjectionLineColor,\n      stipplePattern: k(e.guideStippleLengthPixels)\n    }), this._segmentLabel = new D({ ...t,\n      fontSize: e.direcLabelFontSize\n    }), this._verticalLabel = new D({ ...t,\n      fontSize: e.verticalLabelFontSize\n    }), this._horizontalLabel = new D({ ...t,\n      fontSize: e.horizontalLabelFontSize\n    }), this._handles.add([S(() => this._updateGeometryAndViewMode()), S(() => this._updateVisualElementVisibility()), S(() => this._updateLabelText()), S(() => this._updateLabelVisibility()), S(() => this._updateSegmentStripeLength()), R(async () => this._updateMessageBundle())]), this._state = 1, this._updateMessageBundle();\n  }\n\n  destroy() {\n    2 !== this._state && (this._handles = l(this._handles), this._segmentVisualElement = l(this._segmentVisualElement), this._triangleVisualElement = l(this._triangleVisualElement), this._rightAngleQuad = l(this._rightAngleQuad), this._projectedGeodesicLine = l(this._projectedGeodesicLine), this._geodesicStartHint = l(this._geodesicStartHint), this._geodesicEndHint = l(this._geodesicEndHint), this._segmentLabel = l(this._segmentLabel), this._verticalLabel = l(this._verticalLabel), this._horizontalLabel = l(this._horizontalLabel), this.set(\"view\", null), this._state = 2);\n  }\n\n  async whenReady() {\n    await L(this, \"ready\");\n  }\n\n  async whenMessages() {\n    await this.whenReady(), await L(this, \"messages\");\n  }\n\n  _updateVisualElementVisibility() {\n    if (this._segmentVisualElement.visible = !1, this._triangleVisualElement.visible = !1, this._rightAngleQuad.visible = !1, this._projectedGeodesicLine.visible = !1, this._geodesicStartHint.visible = !1, this._geodesicEndHint.visible = !1, this.visible) switch (this.viewMode) {\n      case 0:\n        break;\n\n      case 1:\n        this._segmentVisualElement.visible = !0;\n        break;\n\n      case 2:\n        this._segmentVisualElement.visible = !0, this._triangleVisualElement.visible = !0, this._rightAngleQuad.visible = !0;\n        break;\n\n      case 3:\n        this._segmentVisualElement.visible = !0, this._projectedGeodesicLine.visible = !0, this._geodesicStartHint.visible = !0, this._geodesicEndHint.visible = !0;\n    }\n  }\n\n  _updateGeometryAndViewMode() {\n    const e = this.view.renderCoordsHelper,\n          {\n      startPoint: t,\n      endPoint: i\n    } = this.layer;\n\n    if (o(t) || o(i) || t.equals(i)) {\n      this.viewMode = 0;\n      const e = this.visualizedMeasurement,\n            t = 0 === e;\n      return void (this.actualVisualizedMeasurement = t ? 1 : e);\n    }\n\n    e.toRenderCoords(t, this._startPosition), e.toRenderCoords(i, this._endPosition);\n\n    const s = this._getActualVisualElementsOrientation(),\n          n = this._updateActualVisualizedMeasurement();\n\n    this.viewMode = this._computeViewMode(n);\n    let r = this._startPosition,\n        a = this._endPosition;\n    const l = 1 === s ? 1 : -1,\n          h = l * (e.getAltitude(a) - e.getAltitude(r));\n    h < 0 && (r = this._endPosition, a = this._startPosition);\n    const c = 2 === n ? new x(this._startPosition, this._endPosition, e.spatialReference) : new G(this._startPosition, this._endPosition);\n\n    switch (this._segmentVisualElement.geometry = c, this._updateSegmentStripeLength(), this._segmentLabelDisplayedMeasurement = n, this.viewMode) {\n      case 1:\n        this._updateSegment(c, s);\n\n        break;\n\n      case 2:\n        this._updateSegmentAndTriangle(c, s, r, a, l, h);\n\n        break;\n\n      case 3:\n        this._updateSegmentAndProjection(s);\n\n    }\n  }\n\n  _updateSegment(e, t) {\n    this._segmentLabel.anchor = 1 === t ? \"top\" : \"bottom\", this._segmentLabel.geometry = {\n      type: \"segment\",\n      segment: e,\n      sampleLocation: \"center\"\n    };\n  }\n\n  _updateSegmentAndTriangle(e, t, i, s, n, r) {\n    const a = this.view,\n          o = a.renderCoordsHelper,\n          l = a.state.camera,\n          h = this._cornerPosition;\n    o.worldUpAtPosition(i, h), z(h, h, n * Math.abs(r)), V(h, h, i), this._triangleVisualElement.geometry = [[[i[0], i[1], i[2]], [h[0], h[1], h[2]], [s[0], s[1], s[2]]]], this._rightAngleQuad.geometry = {\n      previous: i,\n      center: h,\n      next: s\n    };\n    const c = new G(i, h),\n          d = new G(h, s),\n          u = F(i, s, h, t, l);\n    this._segmentLabel.anchor = u.segment, this._segmentLabel.geometry = {\n      type: \"segment\",\n      segment: e,\n      sampleLocation: \"center\"\n    }, this._verticalLabel.geometry = {\n      type: \"segment\",\n      segment: c,\n      sampleLocation: \"center\"\n    }, this._verticalLabel.anchor = u.vertical, this._horizontalLabel.geometry = {\n      type: \"segment\",\n      segment: d,\n      sampleLocation: \"center\"\n    }, this._horizontalLabel.anchor = u.horizontal;\n  }\n\n  _updateSegmentAndProjection(e) {\n    const t = this.view.renderCoordsHelper;\n    t.setAltitude(this._startPositionAtSeaLevel, 0, this._startPosition), t.setAltitude(this._endPositionAtSeaLevel, 0, this._endPosition);\n    const i = new x(this._startPositionAtSeaLevel, this._endPositionAtSeaLevel, t.spatialReference);\n    this._projectedGeodesicLine.setGeometryFromSegment(i), this._geodesicStartHint.setGeometryFromSegment(new G(this._startPositionAtSeaLevel, this._startPosition)), this._geodesicEndHint.setGeometryFromSegment(new G(this._endPositionAtSeaLevel, this._endPosition)), this._segmentLabel.geometry = {\n      type: \"segment\",\n      segment: i,\n      sampleLocation: \"center\"\n    }, this._segmentLabel.anchor = 1 === e ? \"top\" : \"bottom\";\n  }\n\n  _updateLabelText() {\n    if (1 !== this._state) return;\n    const e = this._segmentLabel,\n          t = this._horizontalLabel,\n          i = this._verticalLabel,\n          s = this.messages,\n          n = this.layerView.result;\n    if (o(n) || o(s)) return e.text = null, t.text = null, void (i.text = null);\n\n    const r = this._getLabelsText(s, n),\n          a = 1 === this._segmentLabelDisplayedMeasurement;\n\n    e.text = a ? r.euclideanDistance : r.geodesicDistance, t.text = r.horizontalDistance, i.text = r.verticalDistance, this.notifyChange(\"labels\");\n  }\n\n  _updateLabelVisibility() {\n    if (1 !== this._state) return;\n    const e = this._segmentLabel,\n          t = this._horizontalLabel,\n          i = this._verticalLabel;\n    if (e.visible = !1, t.visible = !1, i.visible = !1, this.visible) switch (this.viewMode) {\n      case 1:\n        e.visible = !0;\n        break;\n\n      case 2:\n        e.visible = !0, t.visible = !0, i.visible = !0;\n        break;\n\n      case 3:\n        e.visible = !0;\n    }\n  }\n\n  _getLabelsText(e, {\n    directDistance: t,\n    horizontalDistance: i,\n    verticalDistance: s,\n    geodesicDistance: n,\n    geodesicAngle: r\n  }) {\n    const a = this.layerView.unit,\n          o = e => ({\n      euclideanDistance: \"\",\n      geodesicDistance: \"\",\n      horizontalDistance: \"\",\n      verticalDistance: \"\",\n      ...e\n    });\n\n    switch (a) {\n      case \"metric\":\n        return o({\n          euclideanDistance: t && m(e, t),\n          geodesicDistance: n && m(e, n),\n          horizontalDistance: i && m(e, i),\n          verticalDistance: s && g(e, s)\n        });\n\n      case \"imperial\":\n        return o({\n          euclideanDistance: t && d(e, t),\n          geodesicDistance: n && d(e, n),\n          horizontalDistance: i && d(e, i),\n          verticalDistance: s && u(e, s)\n        });\n\n      case \"degrees\":\n        {\n          const t = r && h(e, r, \"degrees\");\n          return o({\n            euclideanDistance: t,\n            geodesicDistance: t,\n            horizontalDistance: t\n          });\n        }\n\n      case \"degrees-minutes-seconds\":\n        return o({\n          horizontalDistance: r && c(r)\n        });\n\n      default:\n        return o({\n          euclideanDistance: t && h(e, t, a),\n          geodesicDistance: n && h(e, n, a),\n          horizontalDistance: i && h(e, i, a),\n          verticalDistance: s && h(e, s, a)\n        });\n    }\n  }\n\n  _updateSegmentStripeLength() {\n    const e = this._measurementArrowStripeLength,\n          t = this._segmentVisualElement;\n    a(e) ? (t.stripeLength = e, t.stripesEnabled = !0) : t.stripesEnabled = !1;\n  }\n\n  _computeViewMode(e) {\n    if (2 === e) {\n      if (!this._geodesicDistanceExceeded) return 1;\n      if (this._requiresGeodesicGuideAt(this._startPosition) || this._requiresGeodesicGuideAt(this._endPosition)) return 3;\n    }\n\n    const t = this.layerView.result;\n    if (o(t)) return 1;\n    const {\n      verticalDistance: i,\n      horizontalDistance: s\n    } = t,\n          n = i.value,\n          r = s.value;\n    return Math.min(n / r, r / n) < this.triangleCollapseRatioThreshold ? 1 : 2;\n  }\n\n  _getActualVisualElementsOrientation() {\n    if (a(this._triangleOrientationOverride)) return this._triangleOrientationOverride;\n    const e = this.visualElementOrientation;\n    return 0 === e ? this.view.state.camera.aboveGround ? 1 : 2 : e;\n  }\n\n  _updateActualVisualizedMeasurement() {\n    if (0 === this.visualizedMeasurement) {\n      this.actualVisualizedMeasurement = 1;\n      const e = this.layerView.unit;\n      \"degrees\" !== e && \"degrees-minutes-seconds\" !== e || (this.actualVisualizedMeasurement = 2), this._geodesicDistanceExceeded && (this.actualVisualizedMeasurement = 2);\n    } else this.actualVisualizedMeasurement = this.visualizedMeasurement;\n\n    return this.actualVisualizedMeasurement;\n  }\n\n  _requiresGeodesicGuideAt(e) {\n    const t = this.view;\n    if (!t.state) return !1;\n    const i = t.state.camera,\n          s = t.renderCoordsHelper,\n          n = i.computeScreenPixelSizeAt(e);\n    return s.getAltitude(e) / n >= 10;\n  }\n\n  get _measurementArrowStripeLength() {\n    const e = this.view,\n          {\n      result: t,\n      unit: i\n    } = this.layerView;\n    let n = null;\n\n    if (a(t)) {\n      const e = t.directDistance;\n\n      switch (i) {\n        case \"metric\":\n          n = e && e.toUnit(\"meters\");\n          break;\n\n        case \"imperial\":\n          n = e && e.toUnit(v(e.value, e.unit));\n          break;\n\n        case \"degrees\":\n        case \"degrees-minutes-seconds\":\n          {\n            const e = t.geodesicAngle;\n            n = e && e.toUnit(\"degrees\");\n            break;\n          }\n\n        default:\n          n = e && e.toUnit(i);\n      }\n    }\n\n    if (n) {\n      let t = 1;\n      return t = s(n.value / 30), t *= \"degrees\" === n.unit ? P(e.spatialReference).metersPerDegree : b(1, n.unit, \"meters\"), t;\n    }\n\n    return null;\n  }\n\n  _updateMessageBundle() {\n    T(\"esri/core/t9n/Units\").then(e => {\n      this.messages = e, this.view && this._updateLabelText();\n    });\n  }\n\n};\n\nfunction F(e, t, i, s, r) {\n  const a = B,\n        o = I;\n  r.projectToRenderScreen(i, a), r.projectToRenderScreen(t, o);\n  const l = {\n    segment: \"bottom\",\n    horizontal: \"top\",\n    vertical: a[0] < o[0] ? \"left\" : \"right\"\n  };\n  {\n    const s = J,\n          a = K;\n\n    if (H(e, i, s, r), H(e, t, a, r), f(s, a) >= q) {\n      const e = n(s[1]) === n(a[1]);\n      l.segment = e ? A(l.vertical) : l.vertical;\n    } else {\n      const e = N;\n      H(i, t, e, r), f(e, a) >= q && (l.segment = n(e[0]) === n(a[0]) ? A(l.horizontal) : l.horizontal);\n    }\n  }\n\n  if (2 === s) {\n    const e = e => \"top\" === e ? \"bottom\" : \"top\";\n\n    l.segment = e(l.segment), l.horizontal = e(l.horizontal), l.vertical = e(l.vertical);\n  }\n\n  return l;\n}\n\ne([w()], U.prototype, \"_state\", void 0), e([w()], U.prototype, \"_segmentLabelDisplayedMeasurement\", void 0), e([w()], U.prototype, \"_triangleOrientationOverride\", void 0), e([w()], U.prototype, \"_geodesicDistanceExceeded\", null), e([w()], U.prototype, \"messages\", void 0), e([w()], U.prototype, \"view\", void 0), e([w()], U.prototype, \"layer\", void 0), e([w()], U.prototype, \"layerView\", void 0), e([w({\n  readOnly: !0\n})], U.prototype, \"ready\", null), e([w({\n  readOnly: !0\n})], U.prototype, \"visible\", null), e([w()], U.prototype, \"viewMode\", void 0), e([w()], U.prototype, \"visualizedMeasurement\", void 0), e([w()], U.prototype, \"actualVisualizedMeasurement\", void 0), e([w()], U.prototype, \"visualElementOrientation\", void 0), e([w()], U.prototype, \"triangleCollapseRatioThreshold\", void 0), e([w()], U.prototype, \"allowVisualElementsOrientationChange\", null), e([w()], U.prototype, \"labels\", null), e([w()], U.prototype, \"testData\", null), e([w()], U.prototype, \"_measurementArrowStripeLength\", null), U = e([y(\"esri.views.3d.layers.DirectLineMeasurement.DirectLineMeasurementView\")], U);\n\nconst W = j(1, .5, 0, .75),\n      Q = {\n  laserLineGlowColor: [1, .5, 0],\n  laserLineGlowWidth: 8,\n  laserLineGlowFalloff: 8,\n  laserLineInnerColor: [1, 1, 1],\n  laserLineInnerWidth: .75,\n  laserLineGlobalAlpha: .75,\n  laserLineEnabled: !0,\n  handleColor: [1, .5, 0],\n  handleOpacity: .5,\n  handleRadius: 5,\n  triangleColor: W,\n  triangleLineWidth: 3,\n  triangleCornerSize: 32,\n  triangleSubdivisions: 128,\n  arrowWidth: 16,\n  arrowOutlineColor: [1, .5, 0, 1],\n  arrowOutlineWidth: .2,\n  arrowStripeEvenColor: [1, 1, 1, 1],\n  arrowStripeOddColor: [1, .5, 0, 1],\n  arrowStripeLength: 16,\n  arrowSubdivisions: 128,\n  geodesicProjectionLineWidth: 2,\n  geodesicProjectionLineColor: W,\n  guideLineWidth: 2,\n  guideLineColor: W,\n  guideStippleLengthPixels: 6,\n  labelDistance: 25,\n  direcLabelFontSize: 16,\n  horizontalLabelFontSize: 12,\n  verticalLabelFontSize: 12\n},\n      q = Math.cos(r(12)),\n      B = p(),\n      I = p(),\n      J = _(),\n      K = _(),\n      N = _();\n\nexport { U as DirectLineMeasurementView };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/layers/analysis/DirectLineMeasurement/DirectLineMeasurementView.js"],"names":["_","e","t","i","nextHighestPowerOfTen","s","sign","n","deg2rad","r","isSome","a","isNone","o","destroyMaybe","l","formatDecimal","h","formatDMS","c","formatImperialLength","d","formatImperialVerticalLength","u","formatMetricLength","m","formatMetricVerticalLength","g","createRenderScreenPointArray3","p","createRenderScreenPointArray","preferredImperialLengthUnit","v","convertUnit","b","whenOnce","L","property","w","subclass","y","autorun","S","f","z","V","E","j","getReferenceEllipsoid","P","LabelVisualElement","D","mirrorPosition","A","LineVisualElement","M","MeasurementArrowVisualElement","O","RightAngleQuadVisualElement","C","GeodesicSegment","x","EuclideanSegment","G","screenSpaceTangent","H","createStipplePatternSimple","k","onLocaleChange","R","fetchMessageBundle","T","U","constructor","_params","Q","_handles","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_segmentLabel","_verticalLabel","_horizontalLabel","_startPosition","_endPosition","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","_state","_segmentLabelDisplayedMeasurement","_triangleOrientationOverride","messages","viewMode","visualizedMeasurement","actualVisualizedMeasurement","visualElementOrientation","triangleCollapseRatioThreshold","_geodesicDistanceExceeded","layerView","result","horizontalDistance","value","layer","geodesicDistanceThreshold","ready","visible","suspended","allowVisualElementsOrientationChange","_getActualVisualElementsOrientation","labels","direct","horizontal","vertical","testData","stripeLength","initialize","add","view","_initialize","Error","attached","geometry","renderOccluded","width","triangleLineWidth","color","triangleColor","W","polygonOffset","stippleIntegerRepeats","geodesicProjectionLineWidth","geodesicProjectionLineColor","stipplePattern","guideStippleLengthPixels","guideLineWidth","fontSize","direcLabelFontSize","verticalLabelFontSize","horizontalLabelFontSize","_updateGeometryAndViewMode","_updateVisualElementVisibility","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","_updateMessageBundle","destroy","set","whenReady","whenMessages","renderCoordsHelper","startPoint","endPoint","equals","toRenderCoords","_updateActualVisualizedMeasurement","_computeViewMode","getAltitude","spatialReference","_updateSegment","_updateSegmentAndTriangle","_updateSegmentAndProjection","anchor","type","segment","sampleLocation","state","camera","worldUpAtPosition","Math","abs","previous","center","next","F","setAltitude","setGeometryFromSegment","text","_getLabelsText","euclideanDistance","geodesicDistance","verticalDistance","notifyChange","directDistance","geodesicAngle","unit","_measurementArrowStripeLength","stripesEnabled","_requiresGeodesicGuideAt","min","aboveGround","computeScreenPixelSizeAt","toUnit","metersPerDegree","then","B","I","projectToRenderScreen","J","K","q","N","prototype","readOnly","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","triangleCornerSize","triangleSubdivisions","arrowWidth","arrowOutlineColor","arrowOutlineWidth","arrowStripeEvenColor","arrowStripeOddColor","arrowStripeLength","arrowSubdivisions","guideLineColor","labelDistance","cos","DirectLineMeasurementView"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../intl.js\";import t from\"../../../../../core/Accessor.js\";import i from\"../../../../../core/Handles.js\";import{nextHighestPowerOfTen as s,sign as n,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{isSome as a,isNone as o,destroyMaybe as l}from\"../../../../../core/maybe.js\";import{formatDecimal as h,formatDMS as c,formatImperialLength as d,formatImperialVerticalLength as u,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../../core/quantityFormatUtils.js\";import{createRenderScreenPointArray3 as p,createRenderScreenPointArray as _}from\"../../../../../core/screenUtils.js\";import{preferredImperialLengthUnit as v,convertUnit as b}from\"../../../../../core/unitUtils.js\";import{whenOnce as L}from\"../../../../../core/watchUtils.js\";import{property as w}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as y}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{autorun as S}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{h as f}from\"../../../../../chunks/vec2.js\";import{a as z,b as V}from\"../../../../../chunks/vec3.js\";import{c as E}from\"../../../../../chunks/vec3f64.js\";import{f as j}from\"../../../../../chunks/vec4f32.js\";import{getReferenceEllipsoid as P}from\"../../../../../geometry/projectionEllipsoid.js\";import{LabelVisualElement as D,mirrorPosition as A}from\"../../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as M}from\"../../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as O}from\"../../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as C}from\"../../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as x,EuclideanSegment as G}from\"../../../interactive/visualElements/support/Segment.js\";import{screenSpaceTangent as H}from\"../support/viewUtils.js\";import{createStipplePatternSimple as k}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as R}from\"../../../../../intl/locale.js\";import{fetchMessageBundle as T}from\"../../../../../intl/messages.js\";let U=class extends t{constructor(e){super(e),this._params={...Q},this._handles=new i,this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=E(),this._endPosition=E(),this._cornerPosition=E(),this._startPositionAtSeaLevel=E(),this._endPositionAtSeaLevel=E(),this._state=0,this._segmentLabelDisplayedMeasurement=1,this._triangleOrientationOverride=null,this.messages=null,this.viewMode=0,this.visualizedMeasurement=0,this.actualVisualizedMeasurement=1,this.visualElementOrientation=0,this.triangleCollapseRatioThreshold=.03}get _geodesicDistanceExceeded(){var e;const t=this.layerView.result;return a(t)&&(null==(e=t.horizontalDistance)?void 0:e.value)>this.layer.geodesicDistanceThreshold}get ready(){return 1===this._state}get visible(){return this.layerView.visible&&!this.layerView.suspended}get allowVisualElementsOrientationChange(){return o(this._triangleOrientationOverride)}set allowVisualElementsOrientationChange(e){o(this._triangleOrientationOverride)!==e&&(o(this._triangleOrientationOverride)?this._triangleOrientationOverride=this._getActualVisualElementsOrientation():this._triangleOrientationOverride=null)}get labels(){return 2===this.actualVisualizedMeasurement?{direct:this._horizontalLabel,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}get testData(){return{labels:this.labels,stripeLength:this._segmentVisualElement.stripeLength}}initialize(){this._handles.add(L(this.view,\"ready\",(()=>this._initialize()),!0))}_initialize(){switch(this._state){case 1:throw new Error(\"invalid state\");case 2:return}const e=this._params,t={attached:!0,view:this.view};this._segmentVisualElement=new O({...t,geometry:null,renderOccluded:4}),this._triangleVisualElement=new M({...t,width:e.triangleLineWidth,color:e.triangleColor,renderOccluded:4}),this._rightAngleQuad=new C({...t,color:W,renderOccluded:4});const i={...t,polygonOffset:!0,stippleIntegerRepeats:!1,renderOccluded:4};this._projectedGeodesicLine=new M({...i,width:e.geodesicProjectionLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:k(e.guideStippleLengthPixels)}),this._geodesicStartHint=new M({...i,width:e.guideLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:k(e.guideStippleLengthPixels)}),this._geodesicEndHint=new M({...i,width:e.guideLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:k(e.guideStippleLengthPixels)}),this._segmentLabel=new D({...t,fontSize:e.direcLabelFontSize}),this._verticalLabel=new D({...t,fontSize:e.verticalLabelFontSize}),this._horizontalLabel=new D({...t,fontSize:e.horizontalLabelFontSize}),this._handles.add([S((()=>this._updateGeometryAndViewMode())),S((()=>this._updateVisualElementVisibility())),S((()=>this._updateLabelText())),S((()=>this._updateLabelVisibility())),S((()=>this._updateSegmentStripeLength())),R((async()=>this._updateMessageBundle()))]),this._state=1,this._updateMessageBundle()}destroy(){2!==this._state&&(this._handles=l(this._handles),this._segmentVisualElement=l(this._segmentVisualElement),this._triangleVisualElement=l(this._triangleVisualElement),this._rightAngleQuad=l(this._rightAngleQuad),this._projectedGeodesicLine=l(this._projectedGeodesicLine),this._geodesicStartHint=l(this._geodesicStartHint),this._geodesicEndHint=l(this._geodesicEndHint),this._segmentLabel=l(this._segmentLabel),this._verticalLabel=l(this._verticalLabel),this._horizontalLabel=l(this._horizontalLabel),this.set(\"view\",null),this._state=2)}async whenReady(){await L(this,\"ready\")}async whenMessages(){await this.whenReady(),await L(this,\"messages\")}_updateVisualElementVisibility(){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,this.visible)switch(this.viewMode){case 0:break;case 1:this._segmentVisualElement.visible=!0;break;case 2:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case 3:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode(){const e=this.view.renderCoordsHelper,{startPoint:t,endPoint:i}=this.layer;if(o(t)||o(i)||t.equals(i)){this.viewMode=0;const e=this.visualizedMeasurement,t=0===e;return void(this.actualVisualizedMeasurement=t?1:e)}e.toRenderCoords(t,this._startPosition),e.toRenderCoords(i,this._endPosition);const s=this._getActualVisualElementsOrientation(),n=this._updateActualVisualizedMeasurement();this.viewMode=this._computeViewMode(n);let r=this._startPosition,a=this._endPosition;const l=1===s?1:-1,h=l*(e.getAltitude(a)-e.getAltitude(r));h<0&&(r=this._endPosition,a=this._startPosition);const c=2===n?new x(this._startPosition,this._endPosition,e.spatialReference):new G(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=c,this._updateSegmentStripeLength(),this._segmentLabelDisplayedMeasurement=n,this.viewMode){case 1:this._updateSegment(c,s);break;case 2:this._updateSegmentAndTriangle(c,s,r,a,l,h);break;case 3:this._updateSegmentAndProjection(s)}}_updateSegment(e,t){this._segmentLabel.anchor=1===t?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle(e,t,i,s,n,r){const a=this.view,o=a.renderCoordsHelper,l=a.state.camera,h=this._cornerPosition;o.worldUpAtPosition(i,h),z(h,h,n*Math.abs(r)),V(h,h,i),this._triangleVisualElement.geometry=[[[i[0],i[1],i[2]],[h[0],h[1],h[2]],[s[0],s[1],s[2]]]],this._rightAngleQuad.geometry={previous:i,center:h,next:s};const c=new G(i,h),d=new G(h,s),u=F(i,s,h,t,l);this._segmentLabel.anchor=u.segment,this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=u.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=u.horizontal}_updateSegmentAndProjection(e){const t=this.view.renderCoordsHelper;t.setAltitude(this._startPositionAtSeaLevel,0,this._startPosition),t.setAltitude(this._endPositionAtSeaLevel,0,this._endPosition);const i=new x(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,t.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(i),this._geodesicStartHint.setGeometryFromSegment(new G(this._startPositionAtSeaLevel,this._startPosition)),this._geodesicEndHint.setGeometryFromSegment(new G(this._endPositionAtSeaLevel,this._endPosition)),this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._segmentLabel.anchor=1===e?\"top\":\"bottom\"}_updateLabelText(){if(1!==this._state)return;const e=this._segmentLabel,t=this._horizontalLabel,i=this._verticalLabel,s=this.messages,n=this.layerView.result;if(o(n)||o(s))return e.text=null,t.text=null,void(i.text=null);const r=this._getLabelsText(s,n),a=1===this._segmentLabelDisplayedMeasurement;e.text=a?r.euclideanDistance:r.geodesicDistance,t.text=r.horizontalDistance,i.text=r.verticalDistance,this.notifyChange(\"labels\")}_updateLabelVisibility(){if(1!==this._state)return;const e=this._segmentLabel,t=this._horizontalLabel,i=this._verticalLabel;if(e.visible=!1,t.visible=!1,i.visible=!1,this.visible)switch(this.viewMode){case 1:e.visible=!0;break;case 2:e.visible=!0,t.visible=!0,i.visible=!0;break;case 3:e.visible=!0}}_getLabelsText(e,{directDistance:t,horizontalDistance:i,verticalDistance:s,geodesicDistance:n,geodesicAngle:r}){const a=this.layerView.unit,o=e=>({euclideanDistance:\"\",geodesicDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(a){case\"metric\":return o({euclideanDistance:t&&m(e,t),geodesicDistance:n&&m(e,n),horizontalDistance:i&&m(e,i),verticalDistance:s&&g(e,s)});case\"imperial\":return o({euclideanDistance:t&&d(e,t),geodesicDistance:n&&d(e,n),horizontalDistance:i&&d(e,i),verticalDistance:s&&u(e,s)});case\"degrees\":{const t=r&&h(e,r,\"degrees\");return o({euclideanDistance:t,geodesicDistance:t,horizontalDistance:t})}case\"degrees-minutes-seconds\":return o({horizontalDistance:r&&c(r)});default:return o({euclideanDistance:t&&h(e,t,a),geodesicDistance:n&&h(e,n,a),horizontalDistance:i&&h(e,i,a),verticalDistance:s&&h(e,s,a)})}}_updateSegmentStripeLength(){const e=this._measurementArrowStripeLength,t=this._segmentVisualElement;a(e)?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}_computeViewMode(e){if(2===e){if(!this._geodesicDistanceExceeded)return 1;if(this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition))return 3}const t=this.layerView.result;if(o(t))return 1;const{verticalDistance:i,horizontalDistance:s}=t,n=i.value,r=s.value;return Math.min(n/r,r/n)<this.triangleCollapseRatioThreshold?1:2}_getActualVisualElementsOrientation(){if(a(this._triangleOrientationOverride))return this._triangleOrientationOverride;const e=this.visualElementOrientation;return 0===e?this.view.state.camera.aboveGround?1:2:e}_updateActualVisualizedMeasurement(){if(0===this.visualizedMeasurement){this.actualVisualizedMeasurement=1;const e=this.layerView.unit;\"degrees\"!==e&&\"degrees-minutes-seconds\"!==e||(this.actualVisualizedMeasurement=2),this._geodesicDistanceExceeded&&(this.actualVisualizedMeasurement=2)}else this.actualVisualizedMeasurement=this.visualizedMeasurement;return this.actualVisualizedMeasurement}_requiresGeodesicGuideAt(e){const t=this.view;if(!t.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper,n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const e=this.view,{result:t,unit:i}=this.layerView;let n=null;if(a(t)){const e=t.directDistance;switch(i){case\"metric\":n=e&&e.toUnit(\"meters\");break;case\"imperial\":n=e&&e.toUnit(v(e.value,e.unit));break;case\"degrees\":case\"degrees-minutes-seconds\":{const e=t.geodesicAngle;n=e&&e.toUnit(\"degrees\");break}default:n=e&&e.toUnit(i)}}if(n){let t=1;return t=s(n.value/30),t*=\"degrees\"===n.unit?P(e.spatialReference).metersPerDegree:b(1,n.unit,\"meters\"),t}return null}_updateMessageBundle(){T(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._updateLabelText()}))}};function F(e,t,i,s,r){const a=B,o=I;r.projectToRenderScreen(i,a),r.projectToRenderScreen(t,o);const l={segment:\"bottom\",horizontal:\"top\",vertical:a[0]<o[0]?\"left\":\"right\"};{const s=J,a=K;if(H(e,i,s,r),H(e,t,a,r),f(s,a)>=q){const e=n(s[1])===n(a[1]);l.segment=e?A(l.vertical):l.vertical}else{const e=N;H(i,t,e,r),f(e,a)>=q&&(l.segment=n(e[0])===n(a[0])?A(l.horizontal):l.horizontal)}}if(2===s){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([w()],U.prototype,\"_state\",void 0),e([w()],U.prototype,\"_segmentLabelDisplayedMeasurement\",void 0),e([w()],U.prototype,\"_triangleOrientationOverride\",void 0),e([w()],U.prototype,\"_geodesicDistanceExceeded\",null),e([w()],U.prototype,\"messages\",void 0),e([w()],U.prototype,\"view\",void 0),e([w()],U.prototype,\"layer\",void 0),e([w()],U.prototype,\"layerView\",void 0),e([w({readOnly:!0})],U.prototype,\"ready\",null),e([w({readOnly:!0})],U.prototype,\"visible\",null),e([w()],U.prototype,\"viewMode\",void 0),e([w()],U.prototype,\"visualizedMeasurement\",void 0),e([w()],U.prototype,\"actualVisualizedMeasurement\",void 0),e([w()],U.prototype,\"visualElementOrientation\",void 0),e([w()],U.prototype,\"triangleCollapseRatioThreshold\",void 0),e([w()],U.prototype,\"allowVisualElementsOrientationChange\",null),e([w()],U.prototype,\"labels\",null),e([w()],U.prototype,\"testData\",null),e([w()],U.prototype,\"_measurementArrowStripeLength\",null),U=e([y(\"esri.views.3d.layers.DirectLineMeasurement.DirectLineMeasurementView\")],U);const W=j(1,.5,0,.75),Q={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:W,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:W,guideLineWidth:2,guideLineColor:W,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12},q=Math.cos(r(12)),B=p(),I=p(),J=_(),K=_(),N=_();export{U as DirectLineMeasurementView};\n"]},"metadata":{},"sourceType":"module"}