{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as t } from \"../../../../../core/maybe.js\";\nimport { m as r, d as s, a as n, e as i } from \"../../../../../chunks/mat4.js\";\nimport { c as a } from \"../../../../../chunks/mat4f64.js\";\nimport { encodeDoubleArray as o } from \"../../lib/doublePrecisionUtils.js\";\nimport { setMatrixTranslation3 as c } from \"../../lib/Util.js\";\n\nfunction u(t, r) {\n  return e(t) && (t = []), t.push(r), t;\n}\n\nfunction l(t, r) {\n  if (e(t)) return t;\n  const s = t.filter(e => e !== r);\n  return 0 === s.length ? null : s;\n}\n\nfunction f(e) {\n  return !!t(e) && !e.visible;\n}\n\nfunction m(e, t) {\n  const r = new Map();\n  return r.set(0, t.acquire(e, 0)), r.set(1, t.acquire(e, 7)), r.set(4, t.acquire(e, 3)), r.set(3, t.acquire(e, 2)), r.set(2, t.acquire(e, 1)), r.set(5, t.acquire(e, 4)), r.set(7, t.acquire(e, 3)), r.set(6, t.acquire(e, 3)), r;\n}\n\nfunction p(e, t) {\n  t.release(e, 0), t.release(e, 7), t.release(e, 3), t.release(e, 2), t.release(e, 1), t.release(e, 4);\n}\n\nfunction q(e, a, o) {\n  const u = e.origin.vec3;\n  c(h, -u[0], -u[1], -u[2]), t(e.transformation) ? r(a, h, e.transformation) : s(a, h), o && (n(o, a), i(o, o));\n}\n\nfunction b(e, t, r, s, n) {\n  g[0] = e.get(t, 0), g[1] = e.get(t, 1), g[2] = e.get(t, 2), o(g, j, 3), r.set(n, 0, j[0]), s.set(n, 0, j[1]), r.set(n, 1, j[2]), s.set(n, 1, j[3]), r.set(n, 2, j[4]), s.set(n, 2, j[5]);\n}\n\nconst g = new Float64Array(3),\n      j = new Float32Array(6),\n      h = a();\nexport { m as acquireMaterials, u as addObject3DStateID, q as calculateTransformRelativeToOrigin, b as encodeDoubleVec3, f as isInstanceHidden, p as releaseMaterials, l as removeObject3DStateID };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js"],"names":["isNone","e","isSome","t","m","r","d","s","a","n","i","c","encodeDoubleArray","o","setMatrixTranslation3","u","push","l","filter","length","f","visible","Map","set","acquire","p","release","q","origin","vec3","h","transformation","b","g","get","j","Float64Array","Float32Array","acquireMaterials","addObject3DStateID","calculateTransformRelativeToOrigin","encodeDoubleVec3","isInstanceHidden","releaseMaterials","removeObject3DStateID"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as r,d as s,a as n,e as i}from\"../../../../../chunks/mat4.js\";import{c as a}from\"../../../../../chunks/mat4f64.js\";import{encodeDoubleArray as o}from\"../../lib/doublePrecisionUtils.js\";import{setMatrixTranslation3 as c}from\"../../lib/Util.js\";function u(t,r){return e(t)&&(t=[]),t.push(r),t}function l(t,r){if(e(t))return t;const s=t.filter((e=>e!==r));return 0===s.length?null:s}function f(e){return!!t(e)&&!e.visible}function m(e,t){const r=new Map;return r.set(0,t.acquire(e,0)),r.set(1,t.acquire(e,7)),r.set(4,t.acquire(e,3)),r.set(3,t.acquire(e,2)),r.set(2,t.acquire(e,1)),r.set(5,t.acquire(e,4)),r.set(7,t.acquire(e,3)),r.set(6,t.acquire(e,3)),r}function p(e,t){t.release(e,0),t.release(e,7),t.release(e,3),t.release(e,2),t.release(e,1),t.release(e,4)}function q(e,a,o){const u=e.origin.vec3;c(h,-u[0],-u[1],-u[2]),t(e.transformation)?r(a,h,e.transformation):s(a,h),o&&(n(o,a),i(o,o))}function b(e,t,r,s,n){g[0]=e.get(t,0),g[1]=e.get(t,1),g[2]=e.get(t,2),o(g,j,3),r.set(n,0,j[0]),s.set(n,0,j[1]),r.set(n,1,j[2]),s.set(n,1,j[3]),r.set(n,2,j[4]),s.set(n,2,j[5])}const g=new Float64Array(3),j=new Float32Array(6),h=a();export{m as acquireMaterials,u as addObject3DStateID,q as calculateTransformRelativeToOrigin,b as encodeDoubleVec3,f as isInstanceHidden,p as releaseMaterials,l as removeObject3DStateID};\n"]},"metadata":{},"sourceType":"module"}