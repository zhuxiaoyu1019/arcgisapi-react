{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { acosClamped as t, clamp as n } from \"../../../core/mathUtils.js\";\nimport { s as i, d as o, n as s, c as r, l as a, a as c, b as h, e, f as u } from \"../../../chunks/vec3.js\";\nimport { c as f } from \"../../../chunks/vec3f64.js\";\n\nfunction m(t, n) {\n  return t > n ? Math.cos(n) : Math.cos(t);\n}\n\nfunction M(t, n, i) {\n  return 2 * Math.atan(i * Math.tan(.5 * t) / n);\n}\n\nfunction l(t, n, i) {\n  return 2 * Math.atan(n * Math.tan(.5 * t) / i);\n}\n\nfunction d(t) {\n  const n = t[0] * t[0] + t[4] * t[4] + t[8] * t[8],\n        i = t[1] * t[1] + t[5] * t[5] + t[9] * t[9],\n        o = t[2] * t[2] + t[6] * t[6] + t[10] * t[10];\n  return Math.sqrt(Math.max(n, i, o));\n}\n\nfunction z(t, n) {\n  const o = Math.sqrt(n[0] * n[0] + n[4] * n[4] + n[8] * n[8]),\n        s = Math.sqrt(n[1] * n[1] + n[5] * n[5] + n[9] * n[9]),\n        r = Math.sqrt(n[2] * n[2] + n[6] * n[6] + n[10] * n[10]);\n  return i(t, o, s, r), t;\n}\n\nfunction b(t, n, r) {\n  r = r || t;\n  const a = o(t, n);\n  i(r, t[0] - a * n[0], t[1] - a * n[1], t[2] - a * n[2]), s(r, r);\n}\n\nfunction g(t, n, o) {\n  Math.abs(t[0]) > Math.abs(t[1]) ? i(n, 0, 1, 0) : i(n, 1, 0, 0), r(o, t, n), s(n, n), r(n, o, t), s(o, o);\n}\n\nfunction p(t, n) {\n  return (t % n + n) % n;\n}\n\nfunction x(t, n, i, o, s, r) {\n  const a = t + (n - t) * s;\n  return a + (i + (o - i) * s - a) * r;\n}\n\nfunction q(t, n, i, s = f()) {\n  const r = a(t),\n        u = a(n),\n        m = o(t, n) / (r * u);\n\n  if (m < .9999999999999999) {\n    const o = Math.acos(m),\n          a = ((1 - i) * r + i * u) / Math.sin(o),\n          e = a / r * Math.sin((1 - i) * o),\n          f = a / u * Math.sin(i * o);\n    return c(A, t, e), c(B, n, f), h(s, A, B);\n  }\n\n  return e(s, t, n, i);\n}\n\nfunction j(t, n, i, r = f(), m = f()) {\n  const M = a(t),\n        l = a(n),\n        d = o(t, n) / (M * l);\n\n  if (d < .9999999999999999) {\n    const o = Math.acos(d),\n          s = Math.sin(o),\n          a = Math.sin(i * o),\n          e = Math.sin((1 - i) * o),\n          u = (1 - i) * M + i * l;\n    {\n      const i = u / s,\n            o = i / l * a;\n      c(A, t, i / M * e), c(B, n, o), h(r, A, B);\n    }\n    {\n      const r = 1 / M * (-Math.cos((1 - i) * o) * o * u + e * (-M + l));\n      c(A, t, r);\n      const f = 1 / l * (Math.cos(i * o) * o * u + a * (-M + l));\n      c(B, n, f), h(m, A, B), c(m, m, 1 / s);\n    }\n    return m;\n  }\n\n  return e(r, t, n, i), u(m, n, t), s(m, m), m;\n}\n\nfunction w(n, i, a) {\n  n = s(A, n), i = s(B, i);\n  const c = t(o(n, i));\n\n  if (a) {\n    const t = r(y, n, i);\n    if (o(t, a) < 0) return -c;\n  }\n\n  return c;\n}\n\nfunction I(t) {\n  const n = t.length;\n  return function (i) {\n    if (i <= t[0][0]) return t[0][1];\n    if (i >= t[n - 1][0]) return t[n - 1][1];\n    let o = 1;\n\n    for (; i > t[o][0];) o++;\n\n    const s = t[o - 1][0],\n          r = t[o][0],\n          a = (r - i) / (r - s);\n    return a * t[o - 1][1] + (1 - a) * t[o][1];\n  };\n}\n\nclass P {\n  constructor(t, n) {\n    this.min = t, this.max = n, this.range = n - t;\n  }\n\n  ndiff(t, n = 0) {\n    return Math.ceil((t - n) / this.range) * this.range + n;\n  }\n\n  _normalize(t, n, i, o = 0, s = !1) {\n    return (i -= o) < t ? i += this.ndiff(t - i) : i > n && (i -= this.ndiff(i - n)), s && i === n && (i = t), i + o;\n  }\n\n  normalize(t, n = 0, i = !1) {\n    return this._normalize(this.min, this.max, t, n, i);\n  }\n\n  clamp(t, i = 0) {\n    return n(t - i, this.min, this.max) + i;\n  }\n\n  monotonic(t, n, i) {\n    return t < n ? n : n + this.ndiff(t - n, i);\n  }\n\n  minimalMonotonic(t, n, i) {\n    return this._normalize(t, t + this.range, n, i);\n  }\n\n  center(t, n, i) {\n    return n = this.monotonic(t, n, i), this.normalize((t + n) / 2, i);\n  }\n\n  diff(t, n, i) {\n    return this.monotonic(t, n, i) - t;\n  }\n\n  shortestSignedDiff(t, n) {\n    t = this.normalize(t);\n    const i = (n = this.normalize(n)) - t,\n          o = n < t ? this.minimalMonotonic(t, n) - t : n - this.minimalMonotonic(n, t);\n    return Math.abs(i) < Math.abs(o) ? i : o;\n  }\n\n  contains(t, n, i) {\n    return n = this.minimalMonotonic(t, n), (i = this.minimalMonotonic(t, i)) > t && i < n;\n  }\n\n}\n\nfunction _(t, n, i, a) {\n  u(k, n, t), u(v, i, t), r(a, k, v), s(a, a), a[3] = -o(t, a);\n}\n\nconst k = f(),\n      v = f();\n\nfunction D(t) {\n  for (const n in t) {\n    const i = t[n];\n    i instanceof Function && (t[n] = i.bind(t));\n  }\n\n  return t;\n}\n\nconst F = D(new P(0, 2 * Math.PI)),\n      S = D(new P(-Math.PI, Math.PI)),\n      U = D(new P(0, 360)),\n      y = f(),\n      A = f(),\n      B = f();\nexport { P as Cyclical, w as angle, x as bilerp, m as cosCapped, F as cyclical2PI, U as cyclicalDeg, S as cyclicalPI, M as fovx2fovy, l as fovy2fovx, b as makeOrthonormal, I as makePiecewiseLinearFunction, d as maxScale, p as moduloPositive, _ as planeFromPoints, z as scaleFromMatrix, q as slerp, j as slerpTangent, g as tangentFrame };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/support/mathUtils.js"],"names":["acosClamped","t","clamp","n","s","i","d","o","c","r","l","a","b","h","e","f","u","m","Math","cos","M","atan","tan","sqrt","max","z","g","abs","p","x","q","acos","sin","A","B","j","w","y","I","length","P","constructor","min","range","ndiff","ceil","_normalize","normalize","monotonic","minimalMonotonic","center","diff","shortestSignedDiff","contains","_","k","v","D","Function","bind","F","PI","S","U","Cyclical","angle","bilerp","cosCapped","cyclical2PI","cyclicalDeg","cyclicalPI","fovx2fovy","fovy2fovx","makeOrthonormal","makePiecewiseLinearFunction","maxScale","moduloPositive","planeFromPoints","scaleFromMatrix","slerp","slerpTangent","tangentFrame"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{acosClamped as t,clamp as n}from\"../../../core/mathUtils.js\";import{s as i,d as o,n as s,c as r,l as a,a as c,b as h,e,f as u}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";function m(t,n){return t>n?Math.cos(n):Math.cos(t)}function M(t,n,i){return 2*Math.atan(i*Math.tan(.5*t)/n)}function l(t,n,i){return 2*Math.atan(n*Math.tan(.5*t)/i)}function d(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],i=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],o=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,i,o))}function z(t,n){const o=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),s=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),r=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return i(t,o,s,r),t}function b(t,n,r){r=r||t;const a=o(t,n);i(r,t[0]-a*n[0],t[1]-a*n[1],t[2]-a*n[2]),s(r,r)}function g(t,n,o){Math.abs(t[0])>Math.abs(t[1])?i(n,0,1,0):i(n,1,0,0),r(o,t,n),s(n,n),r(n,o,t),s(o,o)}function p(t,n){return(t%n+n)%n}function x(t,n,i,o,s,r){const a=t+(n-t)*s;return a+(i+(o-i)*s-a)*r}function q(t,n,i,s=f()){const r=a(t),u=a(n),m=o(t,n)/(r*u);if(m<.9999999999999999){const o=Math.acos(m),a=((1-i)*r+i*u)/Math.sin(o),e=a/r*Math.sin((1-i)*o),f=a/u*Math.sin(i*o);return c(A,t,e),c(B,n,f),h(s,A,B)}return e(s,t,n,i)}function j(t,n,i,r=f(),m=f()){const M=a(t),l=a(n),d=o(t,n)/(M*l);if(d<.9999999999999999){const o=Math.acos(d),s=Math.sin(o),a=Math.sin(i*o),e=Math.sin((1-i)*o),u=(1-i)*M+i*l;{const i=u/s,o=i/l*a;c(A,t,i/M*e),c(B,n,o),h(r,A,B)}{const r=1/M*(-Math.cos((1-i)*o)*o*u+e*(-M+l));c(A,t,r);const f=1/l*(Math.cos(i*o)*o*u+a*(-M+l));c(B,n,f),h(m,A,B),c(m,m,1/s)}return m}return e(r,t,n,i),u(m,n,t),s(m,m),m}function w(n,i,a){n=s(A,n),i=s(B,i);const c=t(o(n,i));if(a){const t=r(y,n,i);if(o(t,a)<0)return-c}return c}function I(t){const n=t.length;return function(i){if(i<=t[0][0])return t[0][1];if(i>=t[n-1][0])return t[n-1][1];let o=1;for(;i>t[o][0];)o++;const s=t[o-1][0],r=t[o][0],a=(r-i)/(r-s);return a*t[o-1][1]+(1-a)*t[o][1]}}class P{constructor(t,n){this.min=t,this.max=n,this.range=n-t}ndiff(t,n=0){return Math.ceil((t-n)/this.range)*this.range+n}_normalize(t,n,i,o=0,s=!1){return(i-=o)<t?i+=this.ndiff(t-i):i>n&&(i-=this.ndiff(i-n)),s&&i===n&&(i=t),i+o}normalize(t,n=0,i=!1){return this._normalize(this.min,this.max,t,n,i)}clamp(t,i=0){return n(t-i,this.min,this.max)+i}monotonic(t,n,i){return t<n?n:n+this.ndiff(t-n,i)}minimalMonotonic(t,n,i){return this._normalize(t,t+this.range,n,i)}center(t,n,i){return n=this.monotonic(t,n,i),this.normalize((t+n)/2,i)}diff(t,n,i){return this.monotonic(t,n,i)-t}shortestSignedDiff(t,n){t=this.normalize(t);const i=(n=this.normalize(n))-t,o=n<t?this.minimalMonotonic(t,n)-t:n-this.minimalMonotonic(n,t);return Math.abs(i)<Math.abs(o)?i:o}contains(t,n,i){return n=this.minimalMonotonic(t,n),(i=this.minimalMonotonic(t,i))>t&&i<n}}function _(t,n,i,a){u(k,n,t),u(v,i,t),r(a,k,v),s(a,a),a[3]=-o(t,a)}const k=f(),v=f();function D(t){for(const n in t){const i=t[n];i instanceof Function&&(t[n]=i.bind(t))}return t}const F=D(new P(0,2*Math.PI)),S=D(new P(-Math.PI,Math.PI)),U=D(new P(0,360)),y=f(),A=f(),B=f();export{P as Cyclical,w as angle,x as bilerp,m as cosCapped,F as cyclical2PI,U as cyclicalDeg,S as cyclicalPI,M as fovx2fovy,l as fovy2fovx,b as makeOrthonormal,I as makePiecewiseLinearFunction,d as maxScale,p as moduloPositive,_ as planeFromPoints,z as scaleFromMatrix,q as slerp,j as slerpTangent,g as tangentFrame};\n"]},"metadata":{},"sourceType":"module"}