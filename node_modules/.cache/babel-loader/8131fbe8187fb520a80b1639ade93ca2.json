{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { THIN_LINE_HALF_WIDTH_THRESHOLD as t } from \"./definitions.js\";\n\nfunction e(t, e) {\n  return t.x === e.x && t.y === e.y;\n}\n\nfunction i(t) {\n  if (!t) return;\n  const i = t.length;\n  if (i <= 1) return;\n  let x = 0;\n\n  for (let r = 1; r < i; r++) e(t[r], t[x]) || ++x === r || (t[x] = t[r]);\n\n  t.length = x + 1;\n}\n\nfunction x(t, e) {\n  return t.x = e.y, t.y = -e.x, t;\n}\n\nfunction r(t, e) {\n  return t.x = -e.y, t.y = e.x, t;\n}\n\nfunction n(t, e) {\n  return t.x = e.x, t.y = e.y, t;\n}\n\nfunction s(t, e) {\n  return t.x = -e.x, t.y = -e.y, t;\n}\n\nfunction y(t) {\n  return Math.sqrt(t.x * t.x + t.y * t.y);\n}\n\nfunction o(t, e) {\n  return t.x * e.y - t.y * e.x;\n}\n\nfunction h(t, e) {\n  return t.x * e.x + t.y * e.y;\n}\n\nfunction l(t, e, i, x) {\n  return t.x = e.x * i + e.y * x, t.y = e.x * x - e.y * i, t;\n}\n\nclass a {\n  constructor(t, e, i) {\n    this.writeVertex = t, this.writeTriangle = e, this.canUseThinTessellation = i, this.prevNormal = {\n      x: void 0,\n      y: void 0\n    }, this.nextNormal = {\n      x: void 0,\n      y: void 0\n    }, this.textureNormalLeft = {\n      x: 0,\n      y: 1\n    }, this.textureNormalRight = {\n      x: 0,\n      y: -1\n    }, this.textureNormal = {\n      x: void 0,\n      y: void 0\n    }, this.joinNormal = {\n      x: void 0,\n      y: void 0\n    }, this.inner = {\n      x: void 0,\n      y: void 0\n    }, this.outer = {\n      x: void 0,\n      y: void 0\n    }, this.roundStart = {\n      x: void 0,\n      y: void 0\n    }, this.roundEnd = {\n      x: void 0,\n      y: void 0\n    }, this.startBreak = {\n      x: void 0,\n      y: void 0\n    }, this.endBreak = {\n      x: void 0,\n      y: void 0\n    }, this.innerPrev = {\n      x: void 0,\n      y: void 0\n    }, this.innerNext = {\n      x: void 0,\n      y: void 0\n    }, this.bevelStart = {\n      x: void 0,\n      y: void 0\n    }, this.bevelEnd = {\n      x: void 0,\n      y: void 0\n    }, this.bevelMiddle = {\n      x: void 0,\n      y: void 0\n    };\n  }\n\n  tessellate(e, x) {\n    i(e), this.canUseThinTessellation && x.halfWidth < t && !x.offset ? this.tessellateThin_(e, x) : this.tessellate_(e, x);\n  }\n\n  tessellateThin_(t, e) {\n    if (t.length < 2) return;\n    const i = e.wrapDistance || 65535;\n    let x = e.initialDistance || 0,\n        r = !1,\n        n = t[0].x,\n        s = t[0].y;\n    const y = t.length;\n\n    for (let o = 1; o < y; ++o) {\n      r && (r = !1, x = 0);\n      let e = t[o].x,\n          y = t[o].y,\n          h = e - n,\n          l = y - s,\n          a = Math.sqrt(h * h + l * l);\n\n      if (h /= a, l /= a, x + a > i) {\n        r = !0;\n        const t = (i - x) / a;\n        a = i - x, e = (1 - t) * n + t * e, y = (1 - t) * s + t * y, --o;\n      }\n\n      const c = this.writeVertex(n, s, 0, 0, h, l, l, -h, 0, -1, x),\n            d = this.writeVertex(n, s, 0, 0, h, l, -l, h, 0, 1, x);\n      x += a;\n      const u = this.writeVertex(e, y, 0, 0, h, l, l, -h, 0, -1, x),\n            v = this.writeVertex(e, y, 0, 0, h, l, -l, h, 0, 1, x);\n      this.writeTriangle(c, d, u), this.writeTriangle(d, u, v), n = e, s = y;\n    }\n  }\n\n  tessellate_(t, i) {\n    const a = t[0],\n          c = t[t.length - 1],\n          d = e(a, c),\n          u = d ? 3 : 2;\n    if (t.length < u) return;\n    const v = i.pixelCoordRatio,\n          f = null != i.capType ? i.capType : 0,\n          w = null != i.joinType ? i.joinType : 2,\n          g = null != i.miterLimit ? Math.min(i.miterLimit, 4) : 2,\n          T = null != i.roundLimit ? Math.min(i.roundLimit, 1.05) : 1.05,\n          m = null != i.halfWidth ? i.halfWidth : 2,\n          V = !!i.textured;\n    let b,\n        N,\n        k = null,\n        p = null;\n    const M = this.prevNormal,\n          E = this.nextNormal;\n    let L = -1,\n        B = -1;\n    const S = this.joinNormal;\n\n    let _, j;\n\n    const P = this.textureNormalLeft,\n          A = this.textureNormalRight,\n          D = this.textureNormal;\n    let U = -1,\n        R = -1;\n    const W = i.wrapDistance || 65535;\n    let q = i.initialDistance || 0;\n\n    const X = this.writeVertex,\n          C = this.writeTriangle,\n          z = function (t, e, i, x, r, n) {\n      const s = X(b, N, _, j, i, x, t, e, r, n, q);\n      return U >= 0 && R >= 0 && s >= 0 && C(U, R, s), U = R, R = s, s;\n    };\n\n    d && (k = t[t.length - 2], E.x = c.x - k.x, E.y = c.y - k.y, B = y(E), E.x /= B, E.y /= B);\n    let F = !1;\n\n    for (let e = 0; e < t.length; ++e) {\n      if (F && (F = !1, q = 0), k && (M.x = -E.x, M.y = -E.y, L = B, q + L > W && (F = !0)), F) {\n        const i = (W - q) / L;\n        L = W - q, k = {\n          x: (1 - i) * k.x + i * t[e].x,\n          y: (1 - i) * k.y + i * t[e].y\n        }, --e;\n      } else k = t[e];\n\n      b = k.x, N = k.y;\n      const i = e <= 0 && !F,\n            a = e === t.length - 1;\n\n      if (i || (q += L), p = a ? d ? t[1] : null : t[e + 1], p ? (E.x = p.x - b, E.y = p.y - N, B = y(E), E.x /= B, E.y /= B) : (E.x = void 0, E.y = void 0), !d) {\n        if (i) {\n          r(S, E), _ = S.x, j = S.y, 2 === f && (z(-E.y - E.x, E.x - E.y, E.x, E.y, 0, -1), z(E.y - E.x, -E.x - E.y, E.x, E.y, 0, 1)), 1 === f && (z(-E.y - E.x, E.x - E.y, E.x, E.y, -1, -1), z(E.y - E.x, -E.x - E.y, E.x, E.y, -1, 1)), 1 !== f && 0 !== f || (z(-E.y, E.x, E.x, E.y, 0, -1), z(E.y, -E.x, E.x, E.y, 0, 1));\n          continue;\n        }\n\n        if (a) {\n          x(S, M), _ = S.x, j = S.y, 1 !== f && 0 !== f || (z(M.y, -M.x, -M.x, -M.y, 0, -1), z(-M.y, M.x, -M.x, -M.y, 0, 1)), 2 === f && (z(M.y - M.x, -M.x - M.y, -M.x, -M.y, 0, -1), z(-M.y - M.x, M.x - M.y, -M.x, -M.y, 0, 1)), 1 === f && (z(M.y - M.x, -M.x - M.y, -M.x, -M.y, 1, -1), z(-M.y - M.x, M.x - M.y, -M.x, -M.y, 1, 1));\n          continue;\n        }\n      }\n\n      let c,\n          u,\n          X = -o(M, E);\n      if (Math.abs(X) < .01) h(M, E) > 0 ? (S.x = M.x, S.y = M.y, X = 1, c = Number.MAX_VALUE, u = !0) : (r(S, E), X = 1, c = 1, u = !1);else {\n        S.x = (M.x + E.x) / X, S.y = (M.y + E.y) / X, c = y(S);\n        const t = (c - 1) * m * v;\n        u = c > 4 || t > L && t > B;\n      }\n      _ = S.x, j = S.y;\n      let C = w;\n\n      switch (w) {\n        case 0:\n          c < 1.05 && (C = 2);\n          break;\n\n        case 1:\n          c < T && (C = 2);\n          break;\n\n        case 2:\n          c > g && (C = 0);\n      }\n\n      switch (C) {\n        case 2:\n          if (z(S.x, S.y, -M.x, -M.y, 0, -1), z(-S.x, -S.y, -M.x, -M.y, 0, 1), a) break;\n\n          if (V) {\n            const t = F ? 0 : q;\n            U = this.writeVertex(b, N, _, j, E.x, E.y, S.x, S.y, 0, -1, t), R = this.writeVertex(b, N, _, j, E.x, E.y, -S.x, -S.y, 0, 1, t);\n          }\n\n          break;\n\n        case 0:\n          {\n            const t = X < 0;\n            let e, i, y, o;\n\n            if (t) {\n              const t = U;\n              U = R, R = t, e = P, i = A;\n            } else e = A, i = P;\n\n            if (u) y = t ? r(this.innerPrev, M) : x(this.innerPrev, M), o = t ? x(this.innerNext, E) : r(this.innerNext, E);else {\n              const e = t ? s(this.inner, S) : n(this.inner, S);\n              y = e, o = e;\n            }\n            const h = t ? x(this.bevelStart, M) : r(this.bevelStart, M);\n            z(y.x, y.y, -M.x, -M.y, e.x, e.y);\n            const c = z(h.x, h.y, -M.x, -M.y, i.x, i.y);\n            if (a) break;\n            const d = t ? r(this.bevelEnd, E) : x(this.bevelEnd, E);\n\n            if (u) {\n              const t = this.writeVertex(b, N, _, j, -M.x, -M.y, 0, 0, 0, 0, q);\n              U = this.writeVertex(b, N, _, j, E.x, E.y, o.x, o.y, e.x, e.y, q), R = this.writeVertex(b, N, _, j, E.x, E.y, d.x, d.y, i.x, i.y, q), this.writeTriangle(c, t, R);\n            } else {\n              if (V) {\n                const t = this.bevelMiddle;\n                t.x = (h.x + d.x) / 2, t.y = (h.y + d.y) / 2, l(D, t, -M.x, -M.y), z(t.x, t.y, -M.x, -M.y, D.x, D.y), l(D, t, E.x, E.y), U = this.writeVertex(b, N, _, j, E.x, E.y, t.x, t.y, D.x, D.y, q), R = this.writeVertex(b, N, _, j, E.x, E.y, o.x, o.y, e.x, e.y, q);\n              } else {\n                const t = U;\n                U = R, R = t;\n              }\n\n              z(d.x, d.y, E.x, E.y, i.x, i.y);\n            }\n\n            if (t) {\n              const t = U;\n              U = R, R = t;\n            }\n\n            break;\n          }\n\n        case 1:\n          {\n            const t = X < 0;\n            let e, i;\n\n            if (t) {\n              const t = U;\n              U = R, R = t, e = P, i = A;\n            } else e = A, i = P;\n\n            const y = t ? s(this.inner, S) : n(this.inner, S);\n            let o, d;\n            u ? (o = t ? r(this.innerPrev, M) : x(this.innerPrev, M), d = t ? x(this.innerNext, E) : r(this.innerNext, E)) : (o = y, d = y);\n            const v = t ? x(this.roundStart, M) : r(this.roundStart, M),\n                  f = t ? r(this.roundEnd, E) : x(this.roundEnd, E),\n                  w = z(o.x, o.y, -M.x, -M.y, e.x, e.y),\n                  g = z(v.x, v.y, -M.x, -M.y, i.x, i.y);\n            if (a) break;\n            const T = this.writeVertex(b, N, _, j, -M.x, -M.y, 0, 0, 0, 0, q);\n            u || this.writeTriangle(U, R, T);\n            const m = s(this.outer, y),\n                  k = this.writeVertex(b, N, _, j, E.x, E.y, f.x, f.y, i.x, i.y, q);\n            let p, L;\n            const B = c > 2;\n\n            if (B) {\n              let e;\n              c !== Number.MAX_VALUE ? (m.x /= c, m.y /= c, e = h(M, m), e = (c * (e * e - 1) + 1) / e) : e = -1, p = t ? x(this.startBreak, M) : r(this.startBreak, M), p.x += M.x * e, p.y += M.y * e, L = t ? r(this.endBreak, E) : x(this.endBreak, E), L.x += E.x * e, L.y += E.y * e;\n            }\n\n            l(D, m, -M.x, -M.y);\n            const W = this.writeVertex(b, N, _, j, -M.x, -M.y, m.x, m.y, D.x, D.y, q);\n            l(D, m, E.x, E.y);\n            const C = V ? this.writeVertex(b, N, _, j, E.x, E.y, m.x, m.y, D.x, D.y, q) : W,\n                  F = T,\n                  G = V ? this.writeVertex(b, N, _, j, E.x, E.y, 0, 0, 0, 0, q) : T;\n            let H = -1,\n                I = -1;\n\n            if (B && (l(D, p, -M.x, -M.y), H = this.writeVertex(b, N, _, j, -M.x, -M.y, p.x, p.y, D.x, D.y, q), l(D, L, E.x, E.y), I = this.writeVertex(b, N, _, j, E.x, E.y, L.x, L.y, D.x, D.y, q)), V ? B ? (this.writeTriangle(F, g, H), this.writeTriangle(F, H, W), this.writeTriangle(G, C, I), this.writeTriangle(G, I, k)) : (this.writeTriangle(F, g, W), this.writeTriangle(G, C, k)) : B ? (this.writeTriangle(T, g, H), this.writeTriangle(T, H, I), this.writeTriangle(T, I, k)) : (this.writeTriangle(T, g, W), this.writeTriangle(T, C, k)), u ? (U = this.writeVertex(b, N, _, j, E.x, E.y, d.x, d.y, e.x, e.y, q), R = k) : (U = V ? this.writeVertex(b, N, _, j, E.x, E.y, d.x, d.y, e.x, e.y, q) : w, this.writeTriangle(U, G, k), R = k), t) {\n              const t = U;\n              U = R, R = t;\n            }\n\n            break;\n          }\n      }\n    }\n  }\n\n}\n\nexport { a as LineTessellation };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/2d/engine/webgl/TurboLine.js"],"names":["THIN_LINE_HALF_WIDTH_THRESHOLD","t","e","x","y","i","length","r","n","s","Math","sqrt","o","h","l","a","constructor","writeVertex","writeTriangle","canUseThinTessellation","prevNormal","nextNormal","textureNormalLeft","textureNormalRight","textureNormal","joinNormal","inner","outer","roundStart","roundEnd","startBreak","endBreak","innerPrev","innerNext","bevelStart","bevelEnd","bevelMiddle","tessellate","halfWidth","offset","tessellateThin_","tessellate_","wrapDistance","initialDistance","c","d","u","v","pixelCoordRatio","f","capType","w","joinType","g","miterLimit","min","T","roundLimit","m","V","textured","b","N","k","p","M","E","L","B","S","_","j","P","A","D","U","R","W","q","X","C","z","F","abs","Number","MAX_VALUE","G","H","I","LineTessellation"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,8BAA8B,IAAIC,CAAzC,QAA+C,kBAA/C;;AAAkE,SAASC,CAAT,CAAWD,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,KAAMD,CAAC,CAACC,CAAR,IAAWF,CAAC,CAACG,CAAF,KAAMF,CAAC,CAACE,CAA1B;AAA4B;;AAAA,SAASC,CAAT,CAAWJ,CAAX,EAAa;AAAC,MAAG,CAACA,CAAJ,EAAM;AAAO,QAAMI,CAAC,GAACJ,CAAC,CAACK,MAAV;AAAiB,MAAGD,CAAC,IAAE,CAAN,EAAQ;AAAO,MAAIF,CAAC,GAAC,CAAN;;AAAQ,OAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,CAAd,EAAgBE,CAAC,EAAjB,EAAoBL,CAAC,CAACD,CAAC,CAACM,CAAD,CAAF,EAAMN,CAAC,CAACE,CAAD,CAAP,CAAD,IAAc,EAAEA,CAAF,KAAMI,CAApB,KAAwBN,CAAC,CAACE,CAAD,CAAD,GAAKF,CAAC,CAACM,CAAD,CAA9B;;AAAmCN,EAAAA,CAAC,CAACK,MAAF,GAASH,CAAC,GAAC,CAAX;AAAa;;AAAA,SAASA,CAAT,CAAWF,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,GAAID,CAAC,CAACE,CAAN,EAAQH,CAAC,CAACG,CAAF,GAAI,CAACF,CAAC,CAACC,CAAf,EAAiBF,CAAxB;AAA0B;;AAAA,SAASM,CAAT,CAAWN,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,GAAI,CAACD,CAAC,CAACE,CAAP,EAASH,CAAC,CAACG,CAAF,GAAIF,CAAC,CAACC,CAAf,EAAiBF,CAAxB;AAA0B;;AAAA,SAASO,CAAT,CAAWP,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,GAAID,CAAC,CAACC,CAAN,EAAQF,CAAC,CAACG,CAAF,GAAIF,CAAC,CAACE,CAAd,EAAgBH,CAAvB;AAAyB;;AAAA,SAASQ,CAAT,CAAWR,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,GAAI,CAACD,CAAC,CAACC,CAAP,EAASF,CAAC,CAACG,CAAF,GAAI,CAACF,CAAC,CAACE,CAAhB,EAAkBH,CAAzB;AAA2B;;AAAA,SAASG,CAAT,CAAWH,CAAX,EAAa;AAAC,SAAOS,IAAI,CAACC,IAAL,CAAUV,CAAC,CAACE,CAAF,GAAIF,CAAC,CAACE,CAAN,GAAQF,CAAC,CAACG,CAAF,GAAIH,CAAC,CAACG,CAAxB,CAAP;AAAkC;;AAAA,SAASQ,CAAT,CAAWX,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,GAAID,CAAC,CAACE,CAAN,GAAQH,CAAC,CAACG,CAAF,GAAIF,CAAC,CAACC,CAArB;AAAuB;;AAAA,SAASU,CAAT,CAAWZ,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOD,CAAC,CAACE,CAAF,GAAID,CAAC,CAACC,CAAN,GAAQF,CAAC,CAACG,CAAF,GAAIF,CAAC,CAACE,CAArB;AAAuB;;AAAA,SAASU,CAAT,CAAWb,CAAX,EAAaC,CAAb,EAAeG,CAAf,EAAiBF,CAAjB,EAAmB;AAAC,SAAOF,CAAC,CAACE,CAAF,GAAID,CAAC,CAACC,CAAF,GAAIE,CAAJ,GAAMH,CAAC,CAACE,CAAF,GAAID,CAAd,EAAgBF,CAAC,CAACG,CAAF,GAAIF,CAAC,CAACC,CAAF,GAAIA,CAAJ,GAAMD,CAAC,CAACE,CAAF,GAAIC,CAA9B,EAAgCJ,CAAvC;AAAyC;;AAAA,MAAMc,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACf,CAAD,EAAGC,CAAH,EAAKG,CAAL,EAAO;AAAC,SAAKY,WAAL,GAAiBhB,CAAjB,EAAmB,KAAKiB,aAAL,GAAmBhB,CAAtC,EAAwC,KAAKiB,sBAAL,GAA4Bd,CAApE,EAAsE,KAAKe,UAAL,GAAgB;AAACjB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAtF,EAA0G,KAAKiB,UAAL,GAAgB;AAAClB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAA1H,EAA8I,KAAKkB,iBAAL,GAAuB;AAACnB,MAAAA,CAAC,EAAC,CAAH;AAAKC,MAAAA,CAAC,EAAC;AAAP,KAArK,EAA+K,KAAKmB,kBAAL,GAAwB;AAACpB,MAAAA,CAAC,EAAC,CAAH;AAAKC,MAAAA,CAAC,EAAC,CAAC;AAAR,KAAvM,EAAkN,KAAKoB,aAAL,GAAmB;AAACrB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAArO,EAAyP,KAAKqB,UAAL,GAAgB;AAACtB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAzQ,EAA6R,KAAKsB,KAAL,GAAW;AAACvB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAxS,EAA4T,KAAKuB,KAAL,GAAW;AAACxB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAvU,EAA2V,KAAKwB,UAAL,GAAgB;AAACzB,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAA3W,EAA+X,KAAKyB,QAAL,GAAc;AAAC1B,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAA7Y,EAAia,KAAK0B,UAAL,GAAgB;AAAC3B,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAjb,EAAqc,KAAK2B,QAAL,GAAc;AAAC5B,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAnd,EAAue,KAAK4B,SAAL,GAAe;AAAC7B,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAtf,EAA0gB,KAAK6B,SAAL,GAAe;AAAC9B,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAAzhB,EAA6iB,KAAK8B,UAAL,GAAgB;AAAC/B,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAA7jB,EAAilB,KAAK+B,QAAL,GAAc;AAAChC,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAA/lB,EAAmnB,KAAKgC,WAAL,GAAiB;AAACjC,MAAAA,CAAC,EAAC,KAAK,CAAR;AAAUC,MAAAA,CAAC,EAAC,KAAK;AAAjB,KAApoB;AAAwpB;;AAAAiC,EAAAA,UAAU,CAACnC,CAAD,EAAGC,CAAH,EAAK;AAACE,IAAAA,CAAC,CAACH,CAAD,CAAD,EAAK,KAAKiB,sBAAL,IAA6BhB,CAAC,CAACmC,SAAF,GAAYrC,CAAzC,IAA4C,CAACE,CAAC,CAACoC,MAA/C,GAAsD,KAAKC,eAAL,CAAqBtC,CAArB,EAAuBC,CAAvB,CAAtD,GAAgF,KAAKsC,WAAL,CAAiBvC,CAAjB,EAAmBC,CAAnB,CAArF;AAA2G;;AAAAqC,EAAAA,eAAe,CAACvC,CAAD,EAAGC,CAAH,EAAK;AAAC,QAAGD,CAAC,CAACK,MAAF,GAAS,CAAZ,EAAc;AAAO,UAAMD,CAAC,GAACH,CAAC,CAACwC,YAAF,IAAgB,KAAxB;AAA8B,QAAIvC,CAAC,GAACD,CAAC,CAACyC,eAAF,IAAmB,CAAzB;AAAA,QAA2BpC,CAAC,GAAC,CAAC,CAA9B;AAAA,QAAgCC,CAAC,GAACP,CAAC,CAAC,CAAD,CAAD,CAAKE,CAAvC;AAAA,QAAyCM,CAAC,GAACR,CAAC,CAAC,CAAD,CAAD,CAAKG,CAAhD;AAAkD,UAAMA,CAAC,GAACH,CAAC,CAACK,MAAV;;AAAiB,SAAI,IAAIM,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACR,CAAd,EAAgB,EAAEQ,CAAlB,EAAoB;AAACL,MAAAA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKJ,CAAC,GAAC,CAAV,CAAD;AAAc,UAAID,CAAC,GAACD,CAAC,CAACW,CAAD,CAAD,CAAKT,CAAX;AAAA,UAAaC,CAAC,GAACH,CAAC,CAACW,CAAD,CAAD,CAAKR,CAApB;AAAA,UAAsBS,CAAC,GAACX,CAAC,GAACM,CAA1B;AAAA,UAA4BM,CAAC,GAACV,CAAC,GAACK,CAAhC;AAAA,UAAkCM,CAAC,GAACL,IAAI,CAACC,IAAL,CAAUE,CAAC,GAACA,CAAF,GAAIC,CAAC,GAACA,CAAhB,CAApC;;AAAuD,UAAGD,CAAC,IAAEE,CAAH,EAAKD,CAAC,IAAEC,CAAR,EAAUZ,CAAC,GAACY,CAAF,GAAIV,CAAjB,EAAmB;AAACE,QAAAA,CAAC,GAAC,CAAC,CAAH;AAAK,cAAMN,CAAC,GAAC,CAACI,CAAC,GAACF,CAAH,IAAMY,CAAd;AAAgBA,QAAAA,CAAC,GAACV,CAAC,GAACF,CAAJ,EAAMD,CAAC,GAAC,CAAC,IAAED,CAAH,IAAMO,CAAN,GAAQP,CAAC,GAACC,CAAlB,EAAoBE,CAAC,GAAC,CAAC,IAAEH,CAAH,IAAMQ,CAAN,GAAQR,CAAC,GAACG,CAAhC,EAAkC,EAAEQ,CAApC;AAAsC;;AAAA,YAAMgC,CAAC,GAAC,KAAK3B,WAAL,CAAiBT,CAAjB,EAAmBC,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyBI,CAAzB,EAA2BC,CAA3B,EAA6BA,CAA7B,EAA+B,CAACD,CAAhC,EAAkC,CAAlC,EAAoC,CAAC,CAArC,EAAuCV,CAAvC,CAAR;AAAA,YAAkD0C,CAAC,GAAC,KAAK5B,WAAL,CAAiBT,CAAjB,EAAmBC,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyBI,CAAzB,EAA2BC,CAA3B,EAA6B,CAACA,CAA9B,EAAgCD,CAAhC,EAAkC,CAAlC,EAAoC,CAApC,EAAsCV,CAAtC,CAApD;AAA6FA,MAAAA,CAAC,IAAEY,CAAH;AAAK,YAAM+B,CAAC,GAAC,KAAK7B,WAAL,CAAiBf,CAAjB,EAAmBE,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyBS,CAAzB,EAA2BC,CAA3B,EAA6BA,CAA7B,EAA+B,CAACD,CAAhC,EAAkC,CAAlC,EAAoC,CAAC,CAArC,EAAuCV,CAAvC,CAAR;AAAA,YAAkD4C,CAAC,GAAC,KAAK9B,WAAL,CAAiBf,CAAjB,EAAmBE,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyBS,CAAzB,EAA2BC,CAA3B,EAA6B,CAACA,CAA9B,EAAgCD,CAAhC,EAAkC,CAAlC,EAAoC,CAApC,EAAsCV,CAAtC,CAApD;AAA6F,WAAKe,aAAL,CAAmB0B,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,GAA0B,KAAK5B,aAAL,CAAmB2B,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,CAA1B,EAAoDvC,CAAC,GAACN,CAAtD,EAAwDO,CAAC,GAACL,CAA1D;AAA4D;AAAC;;AAAAqC,EAAAA,WAAW,CAACxC,CAAD,EAAGI,CAAH,EAAK;AAAC,UAAMU,CAAC,GAACd,CAAC,CAAC,CAAD,CAAT;AAAA,UAAa2C,CAAC,GAAC3C,CAAC,CAACA,CAAC,CAACK,MAAF,GAAS,CAAV,CAAhB;AAAA,UAA6BuC,CAAC,GAAC3C,CAAC,CAACa,CAAD,EAAG6B,CAAH,CAAhC;AAAA,UAAsCE,CAAC,GAACD,CAAC,GAAC,CAAD,GAAG,CAA5C;AAA8C,QAAG5C,CAAC,CAACK,MAAF,GAASwC,CAAZ,EAAc;AAAO,UAAMC,CAAC,GAAC1C,CAAC,CAAC2C,eAAV;AAAA,UAA0BC,CAAC,GAAC,QAAM5C,CAAC,CAAC6C,OAAR,GAAgB7C,CAAC,CAAC6C,OAAlB,GAA0B,CAAtD;AAAA,UAAwDC,CAAC,GAAC,QAAM9C,CAAC,CAAC+C,QAAR,GAAiB/C,CAAC,CAAC+C,QAAnB,GAA4B,CAAtF;AAAA,UAAwFC,CAAC,GAAC,QAAMhD,CAAC,CAACiD,UAAR,GAAmB5C,IAAI,CAAC6C,GAAL,CAASlD,CAAC,CAACiD,UAAX,EAAsB,CAAtB,CAAnB,GAA4C,CAAtI;AAAA,UAAwIE,CAAC,GAAC,QAAMnD,CAAC,CAACoD,UAAR,GAAmB/C,IAAI,CAAC6C,GAAL,CAASlD,CAAC,CAACoD,UAAX,EAAsB,IAAtB,CAAnB,GAA+C,IAAzL;AAAA,UAA8LC,CAAC,GAAC,QAAMrD,CAAC,CAACiC,SAAR,GAAkBjC,CAAC,CAACiC,SAApB,GAA8B,CAA9N;AAAA,UAAgOqB,CAAC,GAAC,CAAC,CAACtD,CAAC,CAACuD,QAAtO;AAA+O,QAAIC,CAAJ;AAAA,QAAMC,CAAN;AAAA,QAAQC,CAAC,GAAC,IAAV;AAAA,QAAeC,CAAC,GAAC,IAAjB;AAAsB,UAAMC,CAAC,GAAC,KAAK7C,UAAb;AAAA,UAAwB8C,CAAC,GAAC,KAAK7C,UAA/B;AAA0C,QAAI8C,CAAC,GAAC,CAAC,CAAP;AAAA,QAASC,CAAC,GAAC,CAAC,CAAZ;AAAc,UAAMC,CAAC,GAAC,KAAK5C,UAAb;;AAAwB,QAAI6C,CAAJ,EAAMC,CAAN;;AAAQ,UAAMC,CAAC,GAAC,KAAKlD,iBAAb;AAAA,UAA+BmD,CAAC,GAAC,KAAKlD,kBAAtC;AAAA,UAAyDmD,CAAC,GAAC,KAAKlD,aAAhE;AAA8E,QAAImD,CAAC,GAAC,CAAC,CAAP;AAAA,QAASC,CAAC,GAAC,CAAC,CAAZ;AAAc,UAAMC,CAAC,GAACxE,CAAC,CAACqC,YAAF,IAAgB,KAAxB;AAA8B,QAAIoC,CAAC,GAACzE,CAAC,CAACsC,eAAF,IAAmB,CAAzB;;AAA2B,UAAMoC,CAAC,GAAC,KAAK9D,WAAb;AAAA,UAAyB+D,CAAC,GAAC,KAAK9D,aAAhC;AAAA,UAA8C+D,CAAC,GAAC,UAAShF,CAAT,EAAWC,CAAX,EAAaG,CAAb,EAAeF,CAAf,EAAiBI,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,YAAMC,CAAC,GAACsE,CAAC,CAAClB,CAAD,EAAGC,CAAH,EAAKQ,CAAL,EAAOC,CAAP,EAASlE,CAAT,EAAWF,CAAX,EAAaF,CAAb,EAAeC,CAAf,EAAiBK,CAAjB,EAAmBC,CAAnB,EAAqBsE,CAArB,CAAT;AAAiC,aAAOH,CAAC,IAAE,CAAH,IAAMC,CAAC,IAAE,CAAT,IAAYnE,CAAC,IAAE,CAAf,IAAkBuE,CAAC,CAACL,CAAD,EAAGC,CAAH,EAAKnE,CAAL,CAAnB,EAA2BkE,CAAC,GAACC,CAA7B,EAA+BA,CAAC,GAACnE,CAAjC,EAAmCA,CAA1C;AAA4C,KAAnJ;;AAAoJoC,IAAAA,CAAC,KAAGkB,CAAC,GAAC9D,CAAC,CAACA,CAAC,CAACK,MAAF,GAAS,CAAV,CAAH,EAAgB4D,CAAC,CAAC/D,CAAF,GAAIyC,CAAC,CAACzC,CAAF,GAAI4D,CAAC,CAAC5D,CAA1B,EAA4B+D,CAAC,CAAC9D,CAAF,GAAIwC,CAAC,CAACxC,CAAF,GAAI2D,CAAC,CAAC3D,CAAtC,EAAwCgE,CAAC,GAAChE,CAAC,CAAC8D,CAAD,CAA3C,EAA+CA,CAAC,CAAC/D,CAAF,IAAKiE,CAApD,EAAsDF,CAAC,CAAC9D,CAAF,IAAKgE,CAA9D,CAAD;AAAkE,QAAIc,CAAC,GAAC,CAAC,CAAP;;AAAS,SAAI,IAAIhF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAC,CAACK,MAAhB,EAAuB,EAAEJ,CAAzB,EAA2B;AAAC,UAAGgF,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKJ,CAAC,GAAC,CAAV,CAAD,EAAcf,CAAC,KAAGE,CAAC,CAAC9D,CAAF,GAAI,CAAC+D,CAAC,CAAC/D,CAAP,EAAS8D,CAAC,CAAC7D,CAAF,GAAI,CAAC8D,CAAC,CAAC9D,CAAhB,EAAkB+D,CAAC,GAACC,CAApB,EAAsBU,CAAC,GAACX,CAAF,GAAIU,CAAJ,KAAQK,CAAC,GAAC,CAAC,CAAX,CAAzB,CAAf,EAAuDA,CAA1D,EAA4D;AAAC,cAAM7E,CAAC,GAAC,CAACwE,CAAC,GAACC,CAAH,IAAMX,CAAd;AAAgBA,QAAAA,CAAC,GAACU,CAAC,GAACC,CAAJ,EAAMf,CAAC,GAAC;AAAC5D,UAAAA,CAAC,EAAC,CAAC,IAAEE,CAAH,IAAM0D,CAAC,CAAC5D,CAAR,GAAUE,CAAC,GAACJ,CAAC,CAACC,CAAD,CAAD,CAAKC,CAApB;AAAsBC,UAAAA,CAAC,EAAC,CAAC,IAAEC,CAAH,IAAM0D,CAAC,CAAC3D,CAAR,GAAUC,CAAC,GAACJ,CAAC,CAACC,CAAD,CAAD,CAAKE;AAAzC,SAAR,EAAoD,EAAEF,CAAtD;AAAwD,OAArI,MAA0I6D,CAAC,GAAC9D,CAAC,CAACC,CAAD,CAAH;;AAAO2D,MAAAA,CAAC,GAACE,CAAC,CAAC5D,CAAJ,EAAM2D,CAAC,GAACC,CAAC,CAAC3D,CAAV;AAAY,YAAMC,CAAC,GAACH,CAAC,IAAE,CAAH,IAAM,CAACgF,CAAf;AAAA,YAAiBnE,CAAC,GAACb,CAAC,KAAGD,CAAC,CAACK,MAAF,GAAS,CAAhC;;AAAkC,UAAGD,CAAC,KAAGyE,CAAC,IAAEX,CAAN,CAAD,EAAUH,CAAC,GAACjD,CAAC,GAAC8B,CAAC,GAAC5C,CAAC,CAAC,CAAD,CAAF,GAAM,IAAR,GAAaA,CAAC,CAACC,CAAC,GAAC,CAAH,CAA3B,EAAiC8D,CAAC,IAAEE,CAAC,CAAC/D,CAAF,GAAI6D,CAAC,CAAC7D,CAAF,GAAI0D,CAAR,EAAUK,CAAC,CAAC9D,CAAF,GAAI4D,CAAC,CAAC5D,CAAF,GAAI0D,CAAlB,EAAoBM,CAAC,GAAChE,CAAC,CAAC8D,CAAD,CAAvB,EAA2BA,CAAC,CAAC/D,CAAF,IAAKiE,CAAhC,EAAkCF,CAAC,CAAC9D,CAAF,IAAKgE,CAAzC,KAA6CF,CAAC,CAAC/D,CAAF,GAAI,KAAK,CAAT,EAAW+D,CAAC,CAAC9D,CAAF,GAAI,KAAK,CAAjE,CAAlC,EAAsG,CAACyC,CAA1G,EAA4G;AAAC,YAAGxC,CAAH,EAAK;AAACE,UAAAA,CAAC,CAAC8D,CAAD,EAAGH,CAAH,CAAD,EAAOI,CAAC,GAACD,CAAC,CAAClE,CAAX,EAAaoE,CAAC,GAACF,CAAC,CAACjE,CAAjB,EAAmB,MAAI6C,CAAJ,KAAQgC,CAAC,CAAC,CAACf,CAAC,CAAC9D,CAAH,GAAK8D,CAAC,CAAC/D,CAAR,EAAU+D,CAAC,CAAC/D,CAAF,GAAI+D,CAAC,CAAC9D,CAAhB,EAAkB8D,CAAC,CAAC/D,CAApB,EAAsB+D,CAAC,CAAC9D,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAA7B,CAAD,EAAiC6E,CAAC,CAACf,CAAC,CAAC9D,CAAF,GAAI8D,CAAC,CAAC/D,CAAP,EAAS,CAAC+D,CAAC,CAAC/D,CAAH,GAAK+D,CAAC,CAAC9D,CAAhB,EAAkB8D,CAAC,CAAC/D,CAApB,EAAsB+D,CAAC,CAAC9D,CAAxB,EAA0B,CAA1B,EAA4B,CAA5B,CAA1C,CAAnB,EAA6F,MAAI6C,CAAJ,KAAQgC,CAAC,CAAC,CAACf,CAAC,CAAC9D,CAAH,GAAK8D,CAAC,CAAC/D,CAAR,EAAU+D,CAAC,CAAC/D,CAAF,GAAI+D,CAAC,CAAC9D,CAAhB,EAAkB8D,CAAC,CAAC/D,CAApB,EAAsB+D,CAAC,CAAC9D,CAAxB,EAA0B,CAAC,CAA3B,EAA6B,CAAC,CAA9B,CAAD,EAAkC6E,CAAC,CAACf,CAAC,CAAC9D,CAAF,GAAI8D,CAAC,CAAC/D,CAAP,EAAS,CAAC+D,CAAC,CAAC/D,CAAH,GAAK+D,CAAC,CAAC9D,CAAhB,EAAkB8D,CAAC,CAAC/D,CAApB,EAAsB+D,CAAC,CAAC9D,CAAxB,EAA0B,CAAC,CAA3B,EAA6B,CAA7B,CAA3C,CAA7F,EAAyK,MAAI6C,CAAJ,IAAO,MAAIA,CAAX,KAAegC,CAAC,CAAC,CAACf,CAAC,CAAC9D,CAAJ,EAAM8D,CAAC,CAAC/D,CAAR,EAAU+D,CAAC,CAAC/D,CAAZ,EAAc+D,CAAC,CAAC9D,CAAhB,EAAkB,CAAlB,EAAoB,CAAC,CAArB,CAAD,EAAyB6E,CAAC,CAACf,CAAC,CAAC9D,CAAH,EAAK,CAAC8D,CAAC,CAAC/D,CAAR,EAAU+D,CAAC,CAAC/D,CAAZ,EAAc+D,CAAC,CAAC9D,CAAhB,EAAkB,CAAlB,EAAoB,CAApB,CAAzC,CAAzK;AAA0O;AAAS;;AAAA,YAAGW,CAAH,EAAK;AAACZ,UAAAA,CAAC,CAACkE,CAAD,EAAGJ,CAAH,CAAD,EAAOK,CAAC,GAACD,CAAC,CAAClE,CAAX,EAAaoE,CAAC,GAACF,CAAC,CAACjE,CAAjB,EAAmB,MAAI6C,CAAJ,IAAO,MAAIA,CAAX,KAAegC,CAAC,CAAChB,CAAC,CAAC7D,CAAH,EAAK,CAAC6D,CAAC,CAAC9D,CAAR,EAAU,CAAC8D,CAAC,CAAC9D,CAAb,EAAe,CAAC8D,CAAC,CAAC7D,CAAlB,EAAoB,CAApB,EAAsB,CAAC,CAAvB,CAAD,EAA2B6E,CAAC,CAAC,CAAChB,CAAC,CAAC7D,CAAJ,EAAM6D,CAAC,CAAC9D,CAAR,EAAU,CAAC8D,CAAC,CAAC9D,CAAb,EAAe,CAAC8D,CAAC,CAAC7D,CAAlB,EAAoB,CAApB,EAAsB,CAAtB,CAA3C,CAAnB,EAAwF,MAAI6C,CAAJ,KAAQgC,CAAC,CAAChB,CAAC,CAAC7D,CAAF,GAAI6D,CAAC,CAAC9D,CAAP,EAAS,CAAC8D,CAAC,CAAC9D,CAAH,GAAK8D,CAAC,CAAC7D,CAAhB,EAAkB,CAAC6D,CAAC,CAAC9D,CAArB,EAAuB,CAAC8D,CAAC,CAAC7D,CAA1B,EAA4B,CAA5B,EAA8B,CAAC,CAA/B,CAAD,EAAmC6E,CAAC,CAAC,CAAChB,CAAC,CAAC7D,CAAH,GAAK6D,CAAC,CAAC9D,CAAR,EAAU8D,CAAC,CAAC9D,CAAF,GAAI8D,CAAC,CAAC7D,CAAhB,EAAkB,CAAC6D,CAAC,CAAC9D,CAArB,EAAuB,CAAC8D,CAAC,CAAC7D,CAA1B,EAA4B,CAA5B,EAA8B,CAA9B,CAA5C,CAAxF,EAAsK,MAAI6C,CAAJ,KAAQgC,CAAC,CAAChB,CAAC,CAAC7D,CAAF,GAAI6D,CAAC,CAAC9D,CAAP,EAAS,CAAC8D,CAAC,CAAC9D,CAAH,GAAK8D,CAAC,CAAC7D,CAAhB,EAAkB,CAAC6D,CAAC,CAAC9D,CAArB,EAAuB,CAAC8D,CAAC,CAAC7D,CAA1B,EAA4B,CAA5B,EAA8B,CAAC,CAA/B,CAAD,EAAmC6E,CAAC,CAAC,CAAChB,CAAC,CAAC7D,CAAH,GAAK6D,CAAC,CAAC9D,CAAR,EAAU8D,CAAC,CAAC9D,CAAF,GAAI8D,CAAC,CAAC7D,CAAhB,EAAkB,CAAC6D,CAAC,CAAC9D,CAArB,EAAuB,CAAC8D,CAAC,CAAC7D,CAA1B,EAA4B,CAA5B,EAA8B,CAA9B,CAA5C,CAAtK;AAAoP;AAAS;AAAC;;AAAA,UAAIwC,CAAJ;AAAA,UAAME,CAAN;AAAA,UAAQiC,CAAC,GAAC,CAACnE,CAAC,CAACqD,CAAD,EAAGC,CAAH,CAAZ;AAAkB,UAAGxD,IAAI,CAACyE,GAAL,CAASJ,CAAT,IAAY,GAAf,EAAmBlE,CAAC,CAACoD,CAAD,EAAGC,CAAH,CAAD,GAAO,CAAP,IAAUG,CAAC,CAAClE,CAAF,GAAI8D,CAAC,CAAC9D,CAAN,EAAQkE,CAAC,CAACjE,CAAF,GAAI6D,CAAC,CAAC7D,CAAd,EAAgB2E,CAAC,GAAC,CAAlB,EAAoBnC,CAAC,GAACwC,MAAM,CAACC,SAA7B,EAAuCvC,CAAC,GAAC,CAAC,CAApD,KAAwDvC,CAAC,CAAC8D,CAAD,EAAGH,CAAH,CAAD,EAAOa,CAAC,GAAC,CAAT,EAAWnC,CAAC,GAAC,CAAb,EAAeE,CAAC,GAAC,CAAC,CAA1E,EAAnB,KAAoG;AAACuB,QAAAA,CAAC,CAAClE,CAAF,GAAI,CAAC8D,CAAC,CAAC9D,CAAF,GAAI+D,CAAC,CAAC/D,CAAP,IAAU4E,CAAd,EAAgBV,CAAC,CAACjE,CAAF,GAAI,CAAC6D,CAAC,CAAC7D,CAAF,GAAI8D,CAAC,CAAC9D,CAAP,IAAU2E,CAA9B,EAAgCnC,CAAC,GAACxC,CAAC,CAACiE,CAAD,CAAnC;AAAuC,cAAMpE,CAAC,GAAC,CAAC2C,CAAC,GAAC,CAAH,IAAMc,CAAN,GAAQX,CAAhB;AAAkBD,QAAAA,CAAC,GAACF,CAAC,GAAC,CAAF,IAAK3C,CAAC,GAACkE,CAAF,IAAKlE,CAAC,GAACmE,CAAd;AAAgB;AAAAE,MAAAA,CAAC,GAACD,CAAC,CAAClE,CAAJ,EAAMoE,CAAC,GAACF,CAAC,CAACjE,CAAV;AAAY,UAAI4E,CAAC,GAAC7B,CAAN;;AAAQ,cAAOA,CAAP;AAAU,aAAK,CAAL;AAAOP,UAAAA,CAAC,GAAC,IAAF,KAASoC,CAAC,GAAC,CAAX;AAAc;;AAAM,aAAK,CAAL;AAAOpC,UAAAA,CAAC,GAACY,CAAF,KAAMwB,CAAC,GAAC,CAAR;AAAW;;AAAM,aAAK,CAAL;AAAOpC,UAAAA,CAAC,GAACS,CAAF,KAAM2B,CAAC,GAAC,CAAR;AAApE;;AAA+E,cAAOA,CAAP;AAAU,aAAK,CAAL;AAAO,cAAGC,CAAC,CAACZ,CAAC,CAAClE,CAAH,EAAKkE,CAAC,CAACjE,CAAP,EAAS,CAAC6D,CAAC,CAAC9D,CAAZ,EAAc,CAAC8D,CAAC,CAAC7D,CAAjB,EAAmB,CAAnB,EAAqB,CAAC,CAAtB,CAAD,EAA0B6E,CAAC,CAAC,CAACZ,CAAC,CAAClE,CAAJ,EAAM,CAACkE,CAAC,CAACjE,CAAT,EAAW,CAAC6D,CAAC,CAAC9D,CAAd,EAAgB,CAAC8D,CAAC,CAAC7D,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,CAA3B,EAAqDW,CAAxD,EAA0D;;AAAM,cAAG4C,CAAH,EAAK;AAAC,kBAAM1D,CAAC,GAACiF,CAAC,GAAC,CAAD,GAAGJ,CAAZ;AAAcH,YAAAA,CAAC,GAAC,KAAK1D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCiE,CAAC,CAAClE,CAAnC,EAAqCkE,CAAC,CAACjE,CAAvC,EAAyC,CAAzC,EAA2C,CAAC,CAA5C,EAA8CH,CAA9C,CAAF,EAAmD2E,CAAC,GAAC,KAAK3D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiC,CAACiE,CAAC,CAAClE,CAApC,EAAsC,CAACkE,CAAC,CAACjE,CAAzC,EAA2C,CAA3C,EAA6C,CAA7C,EAA+CH,CAA/C,CAArD;AAAuG;;AAAA;;AAAM,aAAK,CAAL;AAAO;AAAC,kBAAMA,CAAC,GAAC8E,CAAC,GAAC,CAAV;AAAY,gBAAI7E,CAAJ,EAAMG,CAAN,EAAQD,CAAR,EAAUQ,CAAV;;AAAY,gBAAGX,CAAH,EAAK;AAAC,oBAAMA,CAAC,GAAC0E,CAAR;AAAUA,cAAAA,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC3E,CAAN,EAAQC,CAAC,GAACsE,CAAV,EAAYnE,CAAC,GAACoE,CAAd;AAAgB,aAAhC,MAAqCvE,CAAC,GAACuE,CAAF,EAAIpE,CAAC,GAACmE,CAAN;;AAAQ,gBAAG1B,CAAH,EAAK1C,CAAC,GAACH,CAAC,GAACM,CAAC,CAAC,KAAKyB,SAAN,EAAgBiC,CAAhB,CAAF,GAAqB9D,CAAC,CAAC,KAAK6B,SAAN,EAAgBiC,CAAhB,CAAzB,EAA4CrD,CAAC,GAACX,CAAC,GAACE,CAAC,CAAC,KAAK8B,SAAN,EAAgBiC,CAAhB,CAAF,GAAqB3D,CAAC,CAAC,KAAK0B,SAAN,EAAgBiC,CAAhB,CAArE,CAAL,KAAiG;AAAC,oBAAMhE,CAAC,GAACD,CAAC,GAACQ,CAAC,CAAC,KAAKiB,KAAN,EAAY2C,CAAZ,CAAF,GAAiB7D,CAAC,CAAC,KAAKkB,KAAN,EAAY2C,CAAZ,CAA3B;AAA0CjE,cAAAA,CAAC,GAACF,CAAF,EAAIU,CAAC,GAACV,CAAN;AAAQ;AAAA,kBAAMW,CAAC,GAACZ,CAAC,GAACE,CAAC,CAAC,KAAK+B,UAAN,EAAiB+B,CAAjB,CAAF,GAAsB1D,CAAC,CAAC,KAAK2B,UAAN,EAAiB+B,CAAjB,CAAhC;AAAoDgB,YAAAA,CAAC,CAAC7E,CAAC,CAACD,CAAH,EAAKC,CAAC,CAACA,CAAP,EAAS,CAAC6D,CAAC,CAAC9D,CAAZ,EAAc,CAAC8D,CAAC,CAAC7D,CAAjB,EAAmBF,CAAC,CAACC,CAArB,EAAuBD,CAAC,CAACE,CAAzB,CAAD;AAA6B,kBAAMwC,CAAC,GAACqC,CAAC,CAACpE,CAAC,CAACV,CAAH,EAAKU,CAAC,CAACT,CAAP,EAAS,CAAC6D,CAAC,CAAC9D,CAAZ,EAAc,CAAC8D,CAAC,CAAC7D,CAAjB,EAAmBC,CAAC,CAACF,CAArB,EAAuBE,CAAC,CAACD,CAAzB,CAAT;AAAqC,gBAAGW,CAAH,EAAK;AAAM,kBAAM8B,CAAC,GAAC5C,CAAC,GAACM,CAAC,CAAC,KAAK4B,QAAN,EAAe+B,CAAf,CAAF,GAAoB/D,CAAC,CAAC,KAAKgC,QAAN,EAAe+B,CAAf,CAA9B;;AAAgD,gBAAGpB,CAAH,EAAK;AAAC,oBAAM7C,CAAC,GAAC,KAAKgB,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyB,CAACN,CAAC,CAAC9D,CAA5B,EAA8B,CAAC8D,CAAC,CAAC7D,CAAjC,EAAmC,CAAnC,EAAqC,CAArC,EAAuC,CAAvC,EAAyC,CAAzC,EAA2C0E,CAA3C,CAAR;AAAsDH,cAAAA,CAAC,GAAC,KAAK1D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCQ,CAAC,CAACT,CAAnC,EAAqCS,CAAC,CAACR,CAAvC,EAAyCF,CAAC,CAACC,CAA3C,EAA6CD,CAAC,CAACE,CAA/C,EAAiD0E,CAAjD,CAAF,EAAsDF,CAAC,GAAC,KAAK3D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCyC,CAAC,CAAC1C,CAAnC,EAAqC0C,CAAC,CAACzC,CAAvC,EAAyCC,CAAC,CAACF,CAA3C,EAA6CE,CAAC,CAACD,CAA/C,EAAiD0E,CAAjD,CAAxD,EAA4G,KAAK5D,aAAL,CAAmB0B,CAAnB,EAAqB3C,CAArB,EAAuB2E,CAAvB,CAA5G;AAAsI,aAAlM,MAAsM;AAAC,kBAAGjB,CAAH,EAAK;AAAC,sBAAM1D,CAAC,GAAC,KAAKmC,WAAb;AAAyBnC,gBAAAA,CAAC,CAACE,CAAF,GAAI,CAACU,CAAC,CAACV,CAAF,GAAI0C,CAAC,CAAC1C,CAAP,IAAU,CAAd,EAAgBF,CAAC,CAACG,CAAF,GAAI,CAACS,CAAC,CAACT,CAAF,GAAIyC,CAAC,CAACzC,CAAP,IAAU,CAA9B,EAAgCU,CAAC,CAAC4D,CAAD,EAAGzE,CAAH,EAAK,CAACgE,CAAC,CAAC9D,CAAR,EAAU,CAAC8D,CAAC,CAAC7D,CAAb,CAAjC,EAAiD6E,CAAC,CAAChF,CAAC,CAACE,CAAH,EAAKF,CAAC,CAACG,CAAP,EAAS,CAAC6D,CAAC,CAAC9D,CAAZ,EAAc,CAAC8D,CAAC,CAAC7D,CAAjB,EAAmBsE,CAAC,CAACvE,CAArB,EAAuBuE,CAAC,CAACtE,CAAzB,CAAlD,EAA8EU,CAAC,CAAC4D,CAAD,EAAGzE,CAAH,EAAKiE,CAAC,CAAC/D,CAAP,EAAS+D,CAAC,CAAC9D,CAAX,CAA/E,EAA6FuE,CAAC,GAAC,KAAK1D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCH,CAAC,CAACE,CAAnC,EAAqCF,CAAC,CAACG,CAAvC,EAAyCsE,CAAC,CAACvE,CAA3C,EAA6CuE,CAAC,CAACtE,CAA/C,EAAiD0E,CAAjD,CAA/F,EAAmJF,CAAC,GAAC,KAAK3D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCQ,CAAC,CAACT,CAAnC,EAAqCS,CAAC,CAACR,CAAvC,EAAyCF,CAAC,CAACC,CAA3C,EAA6CD,CAAC,CAACE,CAA/C,EAAiD0E,CAAjD,CAArJ;AAAyM,eAAxO,MAA4O;AAAC,sBAAM7E,CAAC,GAAC0E,CAAR;AAAUA,gBAAAA,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC3E,CAAN;AAAQ;;AAAAgF,cAAAA,CAAC,CAACpC,CAAC,CAAC1C,CAAH,EAAK0C,CAAC,CAACzC,CAAP,EAAS8D,CAAC,CAAC/D,CAAX,EAAa+D,CAAC,CAAC9D,CAAf,EAAiBC,CAAC,CAACF,CAAnB,EAAqBE,CAAC,CAACD,CAAvB,CAAD;AAA2B;;AAAA,gBAAGH,CAAH,EAAK;AAAC,oBAAMA,CAAC,GAAC0E,CAAR;AAAUA,cAAAA,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC3E,CAAN;AAAQ;;AAAA;AAAM;;AAAA,aAAK,CAAL;AAAO;AAAC,kBAAMA,CAAC,GAAC8E,CAAC,GAAC,CAAV;AAAY,gBAAI7E,CAAJ,EAAMG,CAAN;;AAAQ,gBAAGJ,CAAH,EAAK;AAAC,oBAAMA,CAAC,GAAC0E,CAAR;AAAUA,cAAAA,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC3E,CAAN,EAAQC,CAAC,GAACsE,CAAV,EAAYnE,CAAC,GAACoE,CAAd;AAAgB,aAAhC,MAAqCvE,CAAC,GAACuE,CAAF,EAAIpE,CAAC,GAACmE,CAAN;;AAAQ,kBAAMpE,CAAC,GAACH,CAAC,GAACQ,CAAC,CAAC,KAAKiB,KAAN,EAAY2C,CAAZ,CAAF,GAAiB7D,CAAC,CAAC,KAAKkB,KAAN,EAAY2C,CAAZ,CAA3B;AAA0C,gBAAIzD,CAAJ,EAAMiC,CAAN;AAAQC,YAAAA,CAAC,IAAElC,CAAC,GAACX,CAAC,GAACM,CAAC,CAAC,KAAKyB,SAAN,EAAgBiC,CAAhB,CAAF,GAAqB9D,CAAC,CAAC,KAAK6B,SAAN,EAAgBiC,CAAhB,CAAzB,EAA4CpB,CAAC,GAAC5C,CAAC,GAACE,CAAC,CAAC,KAAK8B,SAAN,EAAgBiC,CAAhB,CAAF,GAAqB3D,CAAC,CAAC,KAAK0B,SAAN,EAAgBiC,CAAhB,CAAvE,KAA4FtD,CAAC,GAACR,CAAF,EAAIyC,CAAC,GAACzC,CAAlG,CAAD;AAAsG,kBAAM2C,CAAC,GAAC9C,CAAC,GAACE,CAAC,CAAC,KAAKyB,UAAN,EAAiBqC,CAAjB,CAAF,GAAsB1D,CAAC,CAAC,KAAKqB,UAAN,EAAiBqC,CAAjB,CAAhC;AAAA,kBAAoDhB,CAAC,GAAChD,CAAC,GAACM,CAAC,CAAC,KAAKsB,QAAN,EAAeqC,CAAf,CAAF,GAAoB/D,CAAC,CAAC,KAAK0B,QAAN,EAAeqC,CAAf,CAA5E;AAAA,kBAA8Ff,CAAC,GAAC8B,CAAC,CAACrE,CAAC,CAACT,CAAH,EAAKS,CAAC,CAACR,CAAP,EAAS,CAAC6D,CAAC,CAAC9D,CAAZ,EAAc,CAAC8D,CAAC,CAAC7D,CAAjB,EAAmBF,CAAC,CAACC,CAArB,EAAuBD,CAAC,CAACE,CAAzB,CAAjG;AAAA,kBAA6HiD,CAAC,GAAC4B,CAAC,CAAClC,CAAC,CAAC5C,CAAH,EAAK4C,CAAC,CAAC3C,CAAP,EAAS,CAAC6D,CAAC,CAAC9D,CAAZ,EAAc,CAAC8D,CAAC,CAAC7D,CAAjB,EAAmBC,CAAC,CAACF,CAArB,EAAuBE,CAAC,CAACD,CAAzB,CAAhI;AAA4J,gBAAGW,CAAH,EAAK;AAAM,kBAAMyC,CAAC,GAAC,KAAKvC,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyB,CAACN,CAAC,CAAC9D,CAA5B,EAA8B,CAAC8D,CAAC,CAAC7D,CAAjC,EAAmC,CAAnC,EAAqC,CAArC,EAAuC,CAAvC,EAAyC,CAAzC,EAA2C0E,CAA3C,CAAR;AAAsDhC,YAAAA,CAAC,IAAE,KAAK5B,aAAL,CAAmByD,CAAnB,EAAqBC,CAArB,EAAuBpB,CAAvB,CAAH;AAA6B,kBAAME,CAAC,GAACjD,CAAC,CAAC,KAAKkB,KAAN,EAAYvB,CAAZ,CAAT;AAAA,kBAAwB2D,CAAC,GAAC,KAAK9C,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiC6C,CAAC,CAAC9C,CAAnC,EAAqC8C,CAAC,CAAC7C,CAAvC,EAAyCC,CAAC,CAACF,CAA3C,EAA6CE,CAAC,CAACD,CAA/C,EAAiD0E,CAAjD,CAA1B;AAA8E,gBAAId,CAAJ,EAAMG,CAAN;AAAQ,kBAAMC,CAAC,GAACxB,CAAC,GAAC,CAAV;;AAAY,gBAAGwB,CAAH,EAAK;AAAC,kBAAIlE,CAAJ;AAAM0C,cAAAA,CAAC,KAAGwC,MAAM,CAACC,SAAX,IAAsB3B,CAAC,CAACvD,CAAF,IAAKyC,CAAL,EAAOc,CAAC,CAACtD,CAAF,IAAKwC,CAAZ,EAAc1C,CAAC,GAACW,CAAC,CAACoD,CAAD,EAAGP,CAAH,CAAjB,EAAuBxD,CAAC,GAAC,CAAC0C,CAAC,IAAE1C,CAAC,GAACA,CAAF,GAAI,CAAN,CAAD,GAAU,CAAX,IAAcA,CAA7D,IAAgEA,CAAC,GAAC,CAAC,CAAnE,EAAqE8D,CAAC,GAAC/D,CAAC,GAACE,CAAC,CAAC,KAAK2B,UAAN,EAAiBmC,CAAjB,CAAF,GAAsB1D,CAAC,CAAC,KAAKuB,UAAN,EAAiBmC,CAAjB,CAA/F,EAAmHD,CAAC,CAAC7D,CAAF,IAAK8D,CAAC,CAAC9D,CAAF,GAAID,CAA5H,EAA8H8D,CAAC,CAAC5D,CAAF,IAAK6D,CAAC,CAAC7D,CAAF,GAAIF,CAAvI,EAAyIiE,CAAC,GAAClE,CAAC,GAACM,CAAC,CAAC,KAAKwB,QAAN,EAAemC,CAAf,CAAF,GAAoB/D,CAAC,CAAC,KAAK4B,QAAN,EAAemC,CAAf,CAAjK,EAAmLC,CAAC,CAAChE,CAAF,IAAK+D,CAAC,CAAC/D,CAAF,GAAID,CAA5L,EAA8LiE,CAAC,CAAC/D,CAAF,IAAK8D,CAAC,CAAC9D,CAAF,GAAIF,CAAvM;AAAyM;;AAAAY,YAAAA,CAAC,CAAC4D,CAAD,EAAGhB,CAAH,EAAK,CAACO,CAAC,CAAC9D,CAAR,EAAU,CAAC8D,CAAC,CAAC7D,CAAb,CAAD;AAAiB,kBAAMyE,CAAC,GAAC,KAAK5D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyB,CAACN,CAAC,CAAC9D,CAA5B,EAA8B,CAAC8D,CAAC,CAAC7D,CAAjC,EAAmCsD,CAAC,CAACvD,CAArC,EAAuCuD,CAAC,CAACtD,CAAzC,EAA2CsE,CAAC,CAACvE,CAA7C,EAA+CuE,CAAC,CAACtE,CAAjD,EAAmD0E,CAAnD,CAAR;AAA8DhE,YAAAA,CAAC,CAAC4D,CAAD,EAAGhB,CAAH,EAAKQ,CAAC,CAAC/D,CAAP,EAAS+D,CAAC,CAAC9D,CAAX,CAAD;AAAe,kBAAM4E,CAAC,GAACrB,CAAC,GAAC,KAAK1C,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCsD,CAAC,CAACvD,CAAnC,EAAqCuD,CAAC,CAACtD,CAAvC,EAAyCsE,CAAC,CAACvE,CAA3C,EAA6CuE,CAAC,CAACtE,CAA/C,EAAiD0E,CAAjD,CAAD,GAAqDD,CAA9D;AAAA,kBAAgEK,CAAC,GAAC1B,CAAlE;AAAA,kBAAoE8B,CAAC,GAAC3B,CAAC,GAAC,KAAK1C,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiC,CAAjC,EAAmC,CAAnC,EAAqC,CAArC,EAAuC,CAAvC,EAAyC0E,CAAzC,CAAD,GAA6CtB,CAApH;AAAsH,gBAAI+B,CAAC,GAAC,CAAC,CAAP;AAAA,gBAASC,CAAC,GAAC,CAAC,CAAZ;;AAAc,gBAAGpB,CAAC,KAAGtD,CAAC,CAAC4D,CAAD,EAAGV,CAAH,EAAK,CAACC,CAAC,CAAC9D,CAAR,EAAU,CAAC8D,CAAC,CAAC7D,CAAb,CAAD,EAAiBmF,CAAC,GAAC,KAAKtE,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyB,CAACN,CAAC,CAAC9D,CAA5B,EAA8B,CAAC8D,CAAC,CAAC7D,CAAjC,EAAmC4D,CAAC,CAAC7D,CAArC,EAAuC6D,CAAC,CAAC5D,CAAzC,EAA2CsE,CAAC,CAACvE,CAA7C,EAA+CuE,CAAC,CAACtE,CAAjD,EAAmD0E,CAAnD,CAAnB,EAAyEhE,CAAC,CAAC4D,CAAD,EAAGP,CAAH,EAAKD,CAAC,CAAC/D,CAAP,EAAS+D,CAAC,CAAC9D,CAAX,CAA1E,EAAwFoF,CAAC,GAAC,KAAKvE,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiC+D,CAAC,CAAChE,CAAnC,EAAqCgE,CAAC,CAAC/D,CAAvC,EAAyCsE,CAAC,CAACvE,CAA3C,EAA6CuE,CAAC,CAACtE,CAA/C,EAAiD0E,CAAjD,CAA7F,CAAD,EAAmJnB,CAAC,GAACS,CAAC,IAAE,KAAKlD,aAAL,CAAmBgE,CAAnB,EAAqB7B,CAArB,EAAuBkC,CAAvB,GAA0B,KAAKrE,aAAL,CAAmBgE,CAAnB,EAAqBK,CAArB,EAAuBV,CAAvB,CAA1B,EAAoD,KAAK3D,aAAL,CAAmBoE,CAAnB,EAAqBN,CAArB,EAAuBQ,CAAvB,CAApD,EAA8E,KAAKtE,aAAL,CAAmBoE,CAAnB,EAAqBE,CAArB,EAAuBzB,CAAvB,CAAhF,KAA4G,KAAK7C,aAAL,CAAmBgE,CAAnB,EAAqB7B,CAArB,EAAuBwB,CAAvB,GAA0B,KAAK3D,aAAL,CAAmBoE,CAAnB,EAAqBN,CAArB,EAAuBjB,CAAvB,CAAtI,CAAF,GAAmKK,CAAC,IAAE,KAAKlD,aAAL,CAAmBsC,CAAnB,EAAqBH,CAArB,EAAuBkC,CAAvB,GAA0B,KAAKrE,aAAL,CAAmBsC,CAAnB,EAAqB+B,CAArB,EAAuBC,CAAvB,CAA1B,EAAoD,KAAKtE,aAAL,CAAmBsC,CAAnB,EAAqBgC,CAArB,EAAuBzB,CAAvB,CAAtD,KAAkF,KAAK7C,aAAL,CAAmBsC,CAAnB,EAAqBH,CAArB,EAAuBwB,CAAvB,GAA0B,KAAK3D,aAAL,CAAmBsC,CAAnB,EAAqBwB,CAArB,EAAuBjB,CAAvB,CAA5G,CAAxT,EAA+bjB,CAAC,IAAE6B,CAAC,GAAC,KAAK1D,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCyC,CAAC,CAAC1C,CAAnC,EAAqC0C,CAAC,CAACzC,CAAvC,EAAyCF,CAAC,CAACC,CAA3C,EAA6CD,CAAC,CAACE,CAA/C,EAAiD0E,CAAjD,CAAF,EAAsDF,CAAC,GAACb,CAA1D,KAA8DY,CAAC,GAAChB,CAAC,GAAC,KAAK1C,WAAL,CAAiB4C,CAAjB,EAAmBC,CAAnB,EAAqBQ,CAArB,EAAuBC,CAAvB,EAAyBL,CAAC,CAAC/D,CAA3B,EAA6B+D,CAAC,CAAC9D,CAA/B,EAAiCyC,CAAC,CAAC1C,CAAnC,EAAqC0C,CAAC,CAACzC,CAAvC,EAAyCF,CAAC,CAACC,CAA3C,EAA6CD,CAAC,CAACE,CAA/C,EAAiD0E,CAAjD,CAAD,GAAqD3B,CAAxD,EAA0D,KAAKjC,aAAL,CAAmByD,CAAnB,EAAqBW,CAArB,EAAuBvB,CAAvB,CAA1D,EAAoFa,CAAC,GAACb,CAApJ,CAAhc,EAAulB9D,CAA1lB,EAA4lB;AAAC,oBAAMA,CAAC,GAAC0E,CAAR;AAAUA,cAAAA,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC3E,CAAN;AAAQ;;AAAA;AAAM;AAA5sF;AAA8sF;AAAC;;AAAn7L;;AAAo7L,SAAOc,CAAC,IAAI0E,gBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{THIN_LINE_HALF_WIDTH_THRESHOLD as t}from\"./definitions.js\";function e(t,e){return t.x===e.x&&t.y===e.y}function i(t){if(!t)return;const i=t.length;if(i<=1)return;let x=0;for(let r=1;r<i;r++)e(t[r],t[x])||++x===r||(t[x]=t[r]);t.length=x+1}function x(t,e){return t.x=e.y,t.y=-e.x,t}function r(t,e){return t.x=-e.y,t.y=e.x,t}function n(t,e){return t.x=e.x,t.y=e.y,t}function s(t,e){return t.x=-e.x,t.y=-e.y,t}function y(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function o(t,e){return t.x*e.y-t.y*e.x}function h(t,e){return t.x*e.x+t.y*e.y}function l(t,e,i,x){return t.x=e.x*i+e.y*x,t.y=e.x*x-e.y*i,t}class a{constructor(t,e,i){this.writeVertex=t,this.writeTriangle=e,this.canUseThinTessellation=i,this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.textureNormalLeft={x:0,y:1},this.textureNormalRight={x:0,y:-1},this.textureNormal={x:void 0,y:void 0},this.joinNormal={x:void 0,y:void 0},this.inner={x:void 0,y:void 0},this.outer={x:void 0,y:void 0},this.roundStart={x:void 0,y:void 0},this.roundEnd={x:void 0,y:void 0},this.startBreak={x:void 0,y:void 0},this.endBreak={x:void 0,y:void 0},this.innerPrev={x:void 0,y:void 0},this.innerNext={x:void 0,y:void 0},this.bevelStart={x:void 0,y:void 0},this.bevelEnd={x:void 0,y:void 0},this.bevelMiddle={x:void 0,y:void 0}}tessellate(e,x){i(e),this.canUseThinTessellation&&x.halfWidth<t&&!x.offset?this.tessellateThin_(e,x):this.tessellate_(e,x)}tessellateThin_(t,e){if(t.length<2)return;const i=e.wrapDistance||65535;let x=e.initialDistance||0,r=!1,n=t[0].x,s=t[0].y;const y=t.length;for(let o=1;o<y;++o){r&&(r=!1,x=0);let e=t[o].x,y=t[o].y,h=e-n,l=y-s,a=Math.sqrt(h*h+l*l);if(h/=a,l/=a,x+a>i){r=!0;const t=(i-x)/a;a=i-x,e=(1-t)*n+t*e,y=(1-t)*s+t*y,--o}const c=this.writeVertex(n,s,0,0,h,l,l,-h,0,-1,x),d=this.writeVertex(n,s,0,0,h,l,-l,h,0,1,x);x+=a;const u=this.writeVertex(e,y,0,0,h,l,l,-h,0,-1,x),v=this.writeVertex(e,y,0,0,h,l,-l,h,0,1,x);this.writeTriangle(c,d,u),this.writeTriangle(d,u,v),n=e,s=y}}tessellate_(t,i){const a=t[0],c=t[t.length-1],d=e(a,c),u=d?3:2;if(t.length<u)return;const v=i.pixelCoordRatio,f=null!=i.capType?i.capType:0,w=null!=i.joinType?i.joinType:2,g=null!=i.miterLimit?Math.min(i.miterLimit,4):2,T=null!=i.roundLimit?Math.min(i.roundLimit,1.05):1.05,m=null!=i.halfWidth?i.halfWidth:2,V=!!i.textured;let b,N,k=null,p=null;const M=this.prevNormal,E=this.nextNormal;let L=-1,B=-1;const S=this.joinNormal;let _,j;const P=this.textureNormalLeft,A=this.textureNormalRight,D=this.textureNormal;let U=-1,R=-1;const W=i.wrapDistance||65535;let q=i.initialDistance||0;const X=this.writeVertex,C=this.writeTriangle,z=function(t,e,i,x,r,n){const s=X(b,N,_,j,i,x,t,e,r,n,q);return U>=0&&R>=0&&s>=0&&C(U,R,s),U=R,R=s,s};d&&(k=t[t.length-2],E.x=c.x-k.x,E.y=c.y-k.y,B=y(E),E.x/=B,E.y/=B);let F=!1;for(let e=0;e<t.length;++e){if(F&&(F=!1,q=0),k&&(M.x=-E.x,M.y=-E.y,L=B,q+L>W&&(F=!0)),F){const i=(W-q)/L;L=W-q,k={x:(1-i)*k.x+i*t[e].x,y:(1-i)*k.y+i*t[e].y},--e}else k=t[e];b=k.x,N=k.y;const i=e<=0&&!F,a=e===t.length-1;if(i||(q+=L),p=a?d?t[1]:null:t[e+1],p?(E.x=p.x-b,E.y=p.y-N,B=y(E),E.x/=B,E.y/=B):(E.x=void 0,E.y=void 0),!d){if(i){r(S,E),_=S.x,j=S.y,2===f&&(z(-E.y-E.x,E.x-E.y,E.x,E.y,0,-1),z(E.y-E.x,-E.x-E.y,E.x,E.y,0,1)),1===f&&(z(-E.y-E.x,E.x-E.y,E.x,E.y,-1,-1),z(E.y-E.x,-E.x-E.y,E.x,E.y,-1,1)),1!==f&&0!==f||(z(-E.y,E.x,E.x,E.y,0,-1),z(E.y,-E.x,E.x,E.y,0,1));continue}if(a){x(S,M),_=S.x,j=S.y,1!==f&&0!==f||(z(M.y,-M.x,-M.x,-M.y,0,-1),z(-M.y,M.x,-M.x,-M.y,0,1)),2===f&&(z(M.y-M.x,-M.x-M.y,-M.x,-M.y,0,-1),z(-M.y-M.x,M.x-M.y,-M.x,-M.y,0,1)),1===f&&(z(M.y-M.x,-M.x-M.y,-M.x,-M.y,1,-1),z(-M.y-M.x,M.x-M.y,-M.x,-M.y,1,1));continue}}let c,u,X=-o(M,E);if(Math.abs(X)<.01)h(M,E)>0?(S.x=M.x,S.y=M.y,X=1,c=Number.MAX_VALUE,u=!0):(r(S,E),X=1,c=1,u=!1);else{S.x=(M.x+E.x)/X,S.y=(M.y+E.y)/X,c=y(S);const t=(c-1)*m*v;u=c>4||t>L&&t>B}_=S.x,j=S.y;let C=w;switch(w){case 0:c<1.05&&(C=2);break;case 1:c<T&&(C=2);break;case 2:c>g&&(C=0)}switch(C){case 2:if(z(S.x,S.y,-M.x,-M.y,0,-1),z(-S.x,-S.y,-M.x,-M.y,0,1),a)break;if(V){const t=F?0:q;U=this.writeVertex(b,N,_,j,E.x,E.y,S.x,S.y,0,-1,t),R=this.writeVertex(b,N,_,j,E.x,E.y,-S.x,-S.y,0,1,t)}break;case 0:{const t=X<0;let e,i,y,o;if(t){const t=U;U=R,R=t,e=P,i=A}else e=A,i=P;if(u)y=t?r(this.innerPrev,M):x(this.innerPrev,M),o=t?x(this.innerNext,E):r(this.innerNext,E);else{const e=t?s(this.inner,S):n(this.inner,S);y=e,o=e}const h=t?x(this.bevelStart,M):r(this.bevelStart,M);z(y.x,y.y,-M.x,-M.y,e.x,e.y);const c=z(h.x,h.y,-M.x,-M.y,i.x,i.y);if(a)break;const d=t?r(this.bevelEnd,E):x(this.bevelEnd,E);if(u){const t=this.writeVertex(b,N,_,j,-M.x,-M.y,0,0,0,0,q);U=this.writeVertex(b,N,_,j,E.x,E.y,o.x,o.y,e.x,e.y,q),R=this.writeVertex(b,N,_,j,E.x,E.y,d.x,d.y,i.x,i.y,q),this.writeTriangle(c,t,R)}else{if(V){const t=this.bevelMiddle;t.x=(h.x+d.x)/2,t.y=(h.y+d.y)/2,l(D,t,-M.x,-M.y),z(t.x,t.y,-M.x,-M.y,D.x,D.y),l(D,t,E.x,E.y),U=this.writeVertex(b,N,_,j,E.x,E.y,t.x,t.y,D.x,D.y,q),R=this.writeVertex(b,N,_,j,E.x,E.y,o.x,o.y,e.x,e.y,q)}else{const t=U;U=R,R=t}z(d.x,d.y,E.x,E.y,i.x,i.y)}if(t){const t=U;U=R,R=t}break}case 1:{const t=X<0;let e,i;if(t){const t=U;U=R,R=t,e=P,i=A}else e=A,i=P;const y=t?s(this.inner,S):n(this.inner,S);let o,d;u?(o=t?r(this.innerPrev,M):x(this.innerPrev,M),d=t?x(this.innerNext,E):r(this.innerNext,E)):(o=y,d=y);const v=t?x(this.roundStart,M):r(this.roundStart,M),f=t?r(this.roundEnd,E):x(this.roundEnd,E),w=z(o.x,o.y,-M.x,-M.y,e.x,e.y),g=z(v.x,v.y,-M.x,-M.y,i.x,i.y);if(a)break;const T=this.writeVertex(b,N,_,j,-M.x,-M.y,0,0,0,0,q);u||this.writeTriangle(U,R,T);const m=s(this.outer,y),k=this.writeVertex(b,N,_,j,E.x,E.y,f.x,f.y,i.x,i.y,q);let p,L;const B=c>2;if(B){let e;c!==Number.MAX_VALUE?(m.x/=c,m.y/=c,e=h(M,m),e=(c*(e*e-1)+1)/e):e=-1,p=t?x(this.startBreak,M):r(this.startBreak,M),p.x+=M.x*e,p.y+=M.y*e,L=t?r(this.endBreak,E):x(this.endBreak,E),L.x+=E.x*e,L.y+=E.y*e}l(D,m,-M.x,-M.y);const W=this.writeVertex(b,N,_,j,-M.x,-M.y,m.x,m.y,D.x,D.y,q);l(D,m,E.x,E.y);const C=V?this.writeVertex(b,N,_,j,E.x,E.y,m.x,m.y,D.x,D.y,q):W,F=T,G=V?this.writeVertex(b,N,_,j,E.x,E.y,0,0,0,0,q):T;let H=-1,I=-1;if(B&&(l(D,p,-M.x,-M.y),H=this.writeVertex(b,N,_,j,-M.x,-M.y,p.x,p.y,D.x,D.y,q),l(D,L,E.x,E.y),I=this.writeVertex(b,N,_,j,E.x,E.y,L.x,L.y,D.x,D.y,q)),V?B?(this.writeTriangle(F,g,H),this.writeTriangle(F,H,W),this.writeTriangle(G,C,I),this.writeTriangle(G,I,k)):(this.writeTriangle(F,g,W),this.writeTriangle(G,C,k)):B?(this.writeTriangle(T,g,H),this.writeTriangle(T,H,I),this.writeTriangle(T,I,k)):(this.writeTriangle(T,g,W),this.writeTriangle(T,C,k)),u?(U=this.writeVertex(b,N,_,j,E.x,E.y,d.x,d.y,e.x,e.y,q),R=k):(U=V?this.writeVertex(b,N,_,j,E.x,E.y,d.x,d.y,e.x,e.y,q):w,this.writeTriangle(U,G,k),R=k),t){const t=U;U=R,R=t}break}}}}}export{a as LineTessellation};\n"]},"metadata":{},"sourceType":"module"}