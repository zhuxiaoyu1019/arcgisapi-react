{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../ArcadePortal.js\";\nimport e from \"../Attachment.js\";\nimport r from \"../Dictionary.js\";\nimport n from \"../Feature.js\";\nimport { p as o, d as a, t as i, O as u, v as s, C as f, u as p, s as c, a as d, b as l, L as y, o as m, g as h, i as A, k as g, c as w, q as I, r as v } from \"../../chunks/languageUtils.js\";\nimport { layerFieldEsriConstants as b } from \"../featureset/support/shared.js\";\nimport { convertDirection as j } from \"./convertdirection.js\";\nimport { XXH as F } from \"./hash.js\";\nimport U from \"../../geometry/Extent.js\";\nimport E from \"../../geometry/Multipoint.js\";\nimport k from \"../../geometry/Point.js\";\nimport x from \"../../geometry/Polygon.js\";\nimport P from \"../../geometry/Polyline.js\";\nimport L from \"../../geometry/SpatialReference.js\";\n\nfunction T(t, e) {\n  if (t.x === e.x && t.y === e.y) {\n    if (t.hasZ) {\n      if (t.z !== e.z) return !1;\n    } else if (e.hasZ) return !1;\n\n    if (t.hasM) {\n      if (t.m !== e.m) return !1;\n    } else if (e.hasM) return !1;\n\n    return !0;\n  }\n\n  return !1;\n}\n\nfunction C(o, a, i) {\n  if (null !== o) {\n    if (d(o)) {\n      if (a.updateUint8Array([61]), i.map.has(o)) {\n        const t = i.map.get(o);\n        a.updateIntArray([61237541 ^ t]);\n      } else {\n        i.map.set(o, i.currentLength++);\n\n        for (const t of o) C(t, a, i);\n\n        i.map.delete(o), i.currentLength--;\n      }\n\n      a.updateUint8Array([199]);\n    } else if (l(o)) {\n      if (a.updateUint8Array([61]), i.map.has(o)) {\n        const t = i.map.get(o);\n        a.updateIntArray([61237541 ^ t]);\n      } else {\n        i.map.set(o, i.currentLength++);\n\n        for (const t of o.toArray()) C(t, a, i);\n\n        i.map.delete(o), i.currentLength--;\n      }\n\n      a.updateUint8Array([199]);\n    } else {\n      if (m(o)) return a.updateIntArray([o.getTime()]), void a.updateUint8Array([241]);\n      if (h(o)) return a.updateIntArray([o.length]), a.updateWithString(o), void a.updateUint8Array([41]);\n      if (A(o)) a.updateUint8Array([!0 === o ? 1 : 0, 113]);else {\n        if (g(o)) return a.updateFloatArray([o]), void a.updateUint8Array([173]);\n        if (o instanceof e) throw new Error(\"Type not supported in Hash\");\n        if (o instanceof t) throw new Error(\"Type not supported in Hash\");\n\n        if (!(o instanceof r)) {\n          if (o instanceof n) throw new Error(\"Type not supported in Hash\");\n          if (o instanceof k) return a.updateIntArray([3833836621]), a.updateIntArray([0]), a.updateFloatArray([o.x]), a.updateIntArray([1]), a.updateFloatArray([o.y]), o.hasZ && (a.updateIntArray([2]), a.updateFloatArray([o.z])), o.hasM && (a.updateIntArray([3]), a.updateFloatArray([o.m])), a.updateIntArray([3765347959]), void C(o.spatialReference.wkid, a, i);\n\n          if (o instanceof x) {\n            a.updateIntArray([1266616829]);\n\n            for (let t = 0; t < o.rings.length; t++) {\n              const e = o.rings[t],\n                    r = [];\n              let n = null,\n                  u = null;\n\n              for (let a = 0; a < e.length; a++) {\n                const i = o.getPoint(t, a);\n                if (0 === a) n = i;else if (T(u, i)) continue;\n                u = i, a === e.length - 1 && T(n, i) || r.push(i);\n              }\n\n              a.updateIntArray([1397116793, r.length]);\n\n              for (let t = 0; t < r.length; t++) {\n                const e = r[t];\n                a.updateIntArray([3962308117, t]), C(e, a, i), a.updateIntArray([2716288009]);\n              }\n\n              a.updateIntArray([2278822459]);\n            }\n\n            return a.updateIntArray([3878477243]), void C(o.spatialReference.wkid, a, i);\n          }\n\n          if (o instanceof P) {\n            a.updateIntArray([4106883559]);\n\n            for (let t = 0; t < o.paths.length; t++) {\n              const e = o.paths[t];\n              a.updateIntArray([1397116793, e.length]);\n\n              for (let r = 0; r < e.length; r++) a.updateIntArray([3962308117, r]), C(o.getPoint(t, r), a, i), a.updateIntArray([2716288009]);\n\n              a.updateIntArray([2278822459]);\n            }\n\n            return a.updateIntArray([2568784753]), void C(o.spatialReference.wkid, a, i);\n          }\n\n          if (o instanceof E) {\n            a.updateIntArray([588535921, o.points.length]);\n\n            for (let t = 0; t < o.points.length; t++) {\n              const e = o.getPoint(t);\n              a.updateIntArray([t]), C(e, a, i);\n            }\n\n            return a.updateIntArray([1700171621]), void C(o.spatialReference.wkid, a, i);\n          }\n\n          if (o instanceof U) return a.updateIntArray([3483648373]), a.updateIntArray([0]), a.updateFloatArray([o.xmax]), a.updateIntArray([1]), a.updateFloatArray([o.xmin]), a.updateIntArray([2]), a.updateFloatArray([o.ymax]), a.updateIntArray([3]), a.updateFloatArray([o.ymin]), o.hasZ && (a.updateIntArray([4]), a.updateFloatArray([o.zmax]), a.updateIntArray([5]), a.updateFloatArray([o.zmin])), o.hasM && (a.updateIntArray([6]), a.updateFloatArray([o.mmax]), a.updateIntArray([7]), a.updateFloatArray([o.mmin])), a.updateIntArray([3622027469]), void C(o.spatialReference.wkid, a, i);\n          if (o instanceof L) return a.updateIntArray([14]), void 0 !== o.wkid && null !== o.wkid && a.updateIntArray([o.wkid]), void (o.wkt && a.updateWithString(o.wkt));\n          if (w(o)) throw new Error(\"Type not supported in Hash\");\n          if (I(o)) throw new Error(\"Type not supported in Hash\");\n          if (v(o)) throw new Error(\"Type not supported in Hash\");\n          if (o === s) throw new Error(\"Type not supported in Hash\");\n          throw new Error(\"Type not supported in Hash\");\n        }\n\n        if (a.updateUint8Array([223]), i.map.has(o)) {\n          const t = i.map.get(o);\n          a.updateIntArray([61237541 ^ t]);\n        } else {\n          i.map.set(o, i.currentLength++);\n\n          for (const t of o.keys()) {\n            a.updateIntArray([t.length]), a.updateWithString(t), a.updateUint8Array([251]);\n            C(o.field(t), a, i), a.updateUint8Array([239]);\n          }\n\n          i.map.delete(o), i.currentLength--;\n        }\n\n        a.updateUint8Array([73]);\n      }\n    }\n  } else a.updateUint8Array([0, 139]);\n}\n\nfunction N(e, m) {\n  e.portal = function (e, r) {\n    return m(e, r, function (e, r, n) {\n      return o(n, 1, 1), new t(a(n[0]));\n    });\n  }, e.trim = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      return o(r, 1, 1), a(r[0]).trim();\n    });\n  }, e.tohex = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 1, 1);\n      const n = i(r[0]);\n      return isNaN(n) ? n : n.toString(16);\n    });\n  }, e.upper = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      return o(r, 1, 1), a(r[0]).toUpperCase();\n    });\n  }, e.proper = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 1, 2);\n      let n = 1;\n      2 === r.length && \"firstword\" === a(r[1]).toLowerCase() && (n = 2);\n      const i = /\\s/,\n            u = a(r[0]);\n      let s = \"\",\n          f = !0;\n\n      for (let o = 0; o < u.length; o++) {\n        let t = u[o];\n        if (i.test(t)) 1 === n && (f = !0);else {\n          t.toUpperCase() !== t.toLowerCase() && (f ? (t = t.toUpperCase(), f = !1) : t = t.toLowerCase());\n        }\n        s += t;\n      }\n\n      return s;\n    });\n  }, e.lower = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      return o(r, 1, 1), a(r[0]).toLowerCase();\n    });\n  }, e.guid = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 0, 1), r.length > 0) switch (a(r[0]).toLowerCase()) {\n        case \"digits\":\n          return u().replace(\"-\", \"\").replace(\"-\", \"\").replace(\"-\", \"\").replace(\"-\", \"\");\n\n        case \"digits-hyphen\":\n          return u();\n\n        case \"digits-hyphen-braces\":\n          return \"{\" + u() + \"}\";\n\n        case \"digits-hyphen-parentheses\":\n          return \"(\" + u() + \")\";\n      }\n      return \"{\" + u() + \"}\";\n    });\n  }, e.console = function (t, e) {\n    return m(t, e, function (e, r, n) {\n      return 0 === n.length || (1 === n.length ? t.console(a(n[0])) : t.console(a(n))), s;\n    });\n  }, e.mid = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 2, 3);\n      let n = i(r[1]);\n      if (isNaN(n)) return \"\";\n      if (n < 0 && (n = 0), 2 === r.length) return a(r[0]).substr(n);\n      let u = i(r[2]);\n      return isNaN(u) ? \"\" : (u < 0 && (u = 0), a(r[0]).substr(n, u));\n    });\n  }, e.find = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 2, 3);\n      let n = 0;\n\n      if (r.length > 2) {\n        if (n = i(f(r[2], 0)), isNaN(n)) return -1;\n        n < 0 && (n = 0);\n      }\n\n      return a(r[1]).indexOf(a(r[0]), n);\n    });\n  }, e.left = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 2, 2);\n      let n = i(r[1]);\n      return isNaN(n) ? \"\" : (n < 0 && (n = 0), a(r[0]).substr(0, n));\n    });\n  }, e.right = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 2, 2);\n      let n = i(r[1]);\n      return isNaN(n) ? \"\" : (n < 0 && (n = 0), a(r[0]).substr(-1 * n, n));\n    });\n  }, e.split = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      let n;\n      o(r, 2, 4);\n      let u = i(f(r[2], -1));\n      const s = p(f(r[3], !1));\n      if (-1 === u || null === u || !0 === s ? n = a(r[0]).split(a(r[1])) : (isNaN(u) && (u = -1), u < -1 && (u = -1), n = a(r[0]).split(a(r[1]), u)), !1 === s) return n;\n      const c = [];\n\n      for (let o = 0; o < n.length && !(-1 !== u && c.length >= u); o++) \"\" !== n[o] && void 0 !== n[o] && c.push(n[o]);\n\n      return c;\n    });\n  }, e.text = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      return o(r, 1, 2), c(r[0], r[1]);\n    });\n  }, e.concatenate = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      const n = [];\n      if (r.length < 1) return \"\";\n\n      if (d(r[0])) {\n        const t = f(r[2], \"\");\n\n        for (let e = 0; e < r[0].length; e++) n[e] = c(r[0][e], t);\n\n        return r.length > 1 ? n.join(r[1]) : n.join(\"\");\n      }\n\n      if (l(r[0])) {\n        const t = f(r[2], \"\");\n\n        for (let e = 0; e < r[0].length(); e++) n[e] = c(r[0].get(e), t);\n\n        return r.length > 1 ? n.join(r[1]) : n.join(\"\");\n      }\n\n      for (let o = 0; o < r.length; o++) n[o] = c(r[o]);\n\n      return n.join(\"\");\n    });\n  }, e.reverse = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 1, 1), d(r[0])) {\n        const t = r[0].slice(0);\n        return t.reverse(), t;\n      }\n\n      if (l(r[0])) {\n        const t = r[0].toArray().slice(0);\n        return t.reverse(), t;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.replace = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 3, 4);\n      const n = a(r[0]),\n            i = a(r[1]),\n            u = a(r[2]);\n      return 4 !== r.length || p(r[3]) ? y(n, i, u) : n.replace(i, u);\n    });\n  }, e.schema = function (t, e) {\n    return m(t, e, function (t, e, o) {\n      if (o[0] instanceof n) {\n        const t = o[0].schema();\n        return t ? r.convertObjectToArcadeDictionary(t) : null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.subtypes = function (t, e) {\n    return m(t, e, function (t, e, a) {\n      if (o(a, 1, 1), a[0] instanceof n) {\n        const t = a[0].subtypes();\n        return t ? r.convertObjectToArcadeDictionary(t) : null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.subtypecode = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 1, 1), r[0] instanceof n) {\n        const t = r[0].subtypes();\n        if (!t) return null;\n\n        if (t.subtypeField && r[0].hasField(t.subtypeField)) {\n          const e = r[0].field(t.subtypeField);\n\n          for (const r of t.subtypes) if (r.code === e) return r.code;\n\n          return null;\n        }\n\n        return null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.subtypename = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 1, 1), r[0] instanceof n) {\n        const t = r[0].subtypes();\n        if (!t) return \"\";\n\n        if (t.subtypeField && r[0].hasField(t.subtypeField)) {\n          const e = r[0].field(t.subtypeField);\n\n          for (const r of t.subtypes) if (r.code === e) return r.name;\n\n          return \"\";\n        }\n\n        return \"\";\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.gdbversion = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 1, 1), r[0] instanceof n) return r[0].gdbVersion();\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.domain = function (t, e) {\n    return m(t, e, function (t, e, u) {\n      if (o(u, 2, 3), u[0] instanceof n) {\n        const t = u[0].fullDomain(a(u[1]), void 0 === u[2] ? void 0 : i(u[2]));\n        return t && t.domain ? \"coded-value\" === t.domain.type || \"codedValue\" === t.domain.type ? r.convertObjectToArcadeDictionary({\n          type: \"codedValue\",\n          name: t.domain.name,\n          dataType: b[t.field.type],\n          codedValues: t.domain.codedValues.map(t => ({\n            name: t.name,\n            code: t.code\n          }))\n        }) : r.convertObjectToArcadeDictionary({\n          type: \"range\",\n          name: t.domain.name,\n          dataType: b[t.field.type],\n          min: t.domain.min,\n          max: t.domain.max\n        }) : null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.domainname = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 2, 4), r[0] instanceof n) return r[0].domainValueLookup(a(r[1]), r[2], void 0 === r[3] ? void 0 : i(r[3]));\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.domaincode = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      if (o(r, 2, 4), r[0] instanceof n) return r[0].domainCodeLookup(a(r[1]), r[2], void 0 === r[3] ? void 0 : i(r[3]));\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, e.urlencode = function (t, e) {\n    return m(t, e, function (t, e, n) {\n      if (o(n, 1, 1), null === n[0]) return \"\";\n\n      if (n[0] instanceof r) {\n        let t = \"\";\n\n        for (const e of n[0].keys()) {\n          const r = n[0].field(e);\n          \"\" !== t && (t += \"&\"), t += null === r ? encodeURIComponent(e) + \"=\" : encodeURIComponent(e) + \"=\" + encodeURIComponent(r);\n        }\n\n        return t;\n      }\n\n      return encodeURIComponent(a(n[0]));\n    });\n  }, e.hash = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      o(r, 1, 1);\n      const n = new F(0);\n      return C(r[0], n, {\n        map: new Map(),\n        currentLength: 0\n      }), n.digest();\n    });\n  }, e.convertdirection = function (t, e) {\n    return m(t, e, function (t, e, r) {\n      return o(r, 3, 3), j(r[0], r[1], r[2]);\n    });\n  };\n}\n\nexport { N as registerFunctions };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/arcade/functions/string.js"],"names":["t","e","r","n","p","o","d","a","i","O","u","v","s","C","f","c","b","l","L","y","m","g","h","A","k","w","q","I","layerFieldEsriConstants","convertDirection","j","XXH","F","U","E","x","P","T","hasZ","z","hasM","updateUint8Array","map","has","get","updateIntArray","set","currentLength","delete","toArray","getTime","length","updateWithString","updateFloatArray","Error","spatialReference","wkid","rings","getPoint","push","paths","points","xmax","xmin","ymax","ymin","zmax","zmin","mmax","mmin","wkt","keys","field","N","portal","trim","tohex","isNaN","toString","upper","toUpperCase","proper","toLowerCase","test","lower","guid","replace","console","mid","substr","find","indexOf","left","right","split","text","concatenate","join","reverse","slice","schema","convertObjectToArcadeDictionary","subtypes","subtypecode","subtypeField","hasField","code","subtypename","name","gdbversion","gdbVersion","domain","fullDomain","type","dataType","codedValues","min","max","domainname","domainValueLookup","domaincode","domainCodeLookup","urlencode","encodeURIComponent","hash","Map","digest","convertdirection","registerFunctions"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,oBAAb;AAAkC,OAAOC,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,eAAb;AAA6B,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBP,CAAC,IAAIQ,CAA1B,EAA4BC,CAAC,IAAIC,CAAjC,EAAmCC,CAAC,IAAIC,CAAxC,EAA0CC,CAAC,IAAIC,CAA/C,EAAiDJ,CAAC,IAAIN,CAAtD,EAAwDQ,CAAC,IAAIG,CAA7D,EAA+DR,CAAC,IAAID,CAApE,EAAsEU,CAAC,IAAIC,CAA3E,EAA6EC,CAAC,IAAIC,CAAlF,EAAoFd,CAAC,IAAIe,CAAzF,EAA2FC,CAAC,IAAIC,CAAhG,EAAkGd,CAAC,IAAIe,CAAvG,EAAyGC,CAAC,IAAIH,CAA9G,EAAgHN,CAAC,IAAIU,CAArH,EAAuHC,CAAC,IAAIC,CAA5H,EAA8HzB,CAAC,IAAIS,CAAnI,QAAyI,+BAAzI;AAAyK,SAAOiB,uBAAuB,IAAIZ,CAAlC,QAAwC,iCAAxC;AAA0E,SAAOa,gBAAgB,IAAIC,CAA3B,QAAiC,uBAAjC;AAAyD,SAAOC,GAAG,IAAIC,CAAd,QAAoB,WAApB;AAAgC,OAAOC,CAAP,MAAa,0BAAb;AAAwC,OAAOC,CAAP,MAAa,8BAAb;AAA4C,OAAOV,CAAP,MAAa,yBAAb;AAAuC,OAAOW,CAAP,MAAa,2BAAb;AAAyC,OAAOC,CAAP,MAAa,4BAAb;AAA0C,OAAOlB,CAAP,MAAa,oCAAb;;AAAkD,SAASmB,CAAT,CAAWrC,CAAX,EAAaC,CAAb,EAAe;AAAC,MAAGD,CAAC,CAACmC,CAAF,KAAMlC,CAAC,CAACkC,CAAR,IAAWnC,CAAC,CAACmB,CAAF,KAAMlB,CAAC,CAACkB,CAAtB,EAAwB;AAAC,QAAGnB,CAAC,CAACsC,IAAL,EAAU;AAAC,UAAGtC,CAAC,CAACuC,CAAF,KAAMtC,CAAC,CAACsC,CAAX,EAAa,OAAM,CAAC,CAAP;AAAS,KAAjC,MAAsC,IAAGtC,CAAC,CAACqC,IAAL,EAAU,OAAM,CAAC,CAAP;;AAAS,QAAGtC,CAAC,CAACwC,IAAL,EAAU;AAAC,UAAGxC,CAAC,CAACoB,CAAF,KAAMnB,CAAC,CAACmB,CAAX,EAAa,OAAM,CAAC,CAAP;AAAS,KAAjC,MAAsC,IAAGnB,CAAC,CAACuC,IAAL,EAAU,OAAM,CAAC,CAAP;;AAAS,WAAM,CAAC,CAAP;AAAS;;AAAA,SAAM,CAAC,CAAP;AAAS;;AAAA,SAAS3B,CAAT,CAAWR,CAAX,EAAaE,CAAb,EAAeC,CAAf,EAAiB;AAAC,MAAG,SAAOH,CAAV;AAAY,QAAGC,CAAC,CAACD,CAAD,CAAJ,EAAQ;AAAC,UAAGE,CAAC,CAACkC,gBAAF,CAAmB,CAAC,EAAD,CAAnB,GAAyBjC,CAAC,CAACkC,GAAF,CAAMC,GAAN,CAAUtC,CAAV,CAA5B,EAAyC;AAAC,cAAML,CAAC,GAACQ,CAAC,CAACkC,GAAF,CAAME,GAAN,CAAUvC,CAAV,CAAR;AAAqBE,QAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,WAAS7C,CAAV,CAAjB;AAA+B,OAA9F,MAAkG;AAACQ,QAAAA,CAAC,CAACkC,GAAF,CAAMI,GAAN,CAAUzC,CAAV,EAAYG,CAAC,CAACuC,aAAF,EAAZ;;AAA+B,aAAI,MAAM/C,CAAV,IAAeK,CAAf,EAAiBQ,CAAC,CAACb,CAAD,EAAGO,CAAH,EAAKC,CAAL,CAAD;;AAASA,QAAAA,CAAC,CAACkC,GAAF,CAAMM,MAAN,CAAa3C,CAAb,GAAgBG,CAAC,CAACuC,aAAF,EAAhB;AAAkC;;AAAAxC,MAAAA,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB;AAA0B,KAAjO,MAAsO,IAAGxB,CAAC,CAACZ,CAAD,CAAJ,EAAQ;AAAC,UAAGE,CAAC,CAACkC,gBAAF,CAAmB,CAAC,EAAD,CAAnB,GAAyBjC,CAAC,CAACkC,GAAF,CAAMC,GAAN,CAAUtC,CAAV,CAA5B,EAAyC;AAAC,cAAML,CAAC,GAACQ,CAAC,CAACkC,GAAF,CAAME,GAAN,CAAUvC,CAAV,CAAR;AAAqBE,QAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,WAAS7C,CAAV,CAAjB;AAA+B,OAA9F,MAAkG;AAACQ,QAAAA,CAAC,CAACkC,GAAF,CAAMI,GAAN,CAAUzC,CAAV,EAAYG,CAAC,CAACuC,aAAF,EAAZ;;AAA+B,aAAI,MAAM/C,CAAV,IAAeK,CAAC,CAAC4C,OAAF,EAAf,EAA2BpC,CAAC,CAACb,CAAD,EAAGO,CAAH,EAAKC,CAAL,CAAD;;AAASA,QAAAA,CAAC,CAACkC,GAAF,CAAMM,MAAN,CAAa3C,CAAb,GAAgBG,CAAC,CAACuC,aAAF,EAAhB;AAAkC;;AAAAxC,MAAAA,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB;AAA0B,KAA3O,MAA+O;AAAC,UAAGrB,CAAC,CAACf,CAAD,CAAJ,EAAQ,OAAOE,CAAC,CAACsC,cAAF,CAAiB,CAACxC,CAAC,CAAC6C,OAAF,EAAD,CAAjB,GAAgC,KAAK3C,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB,CAA5C;AAAsE,UAAGnB,CAAC,CAACjB,CAAD,CAAJ,EAAQ,OAAOE,CAAC,CAACsC,cAAF,CAAiB,CAACxC,CAAC,CAAC8C,MAAH,CAAjB,GAA6B5C,CAAC,CAAC6C,gBAAF,CAAmB/C,CAAnB,CAA7B,EAAmD,KAAKE,CAAC,CAACkC,gBAAF,CAAmB,CAAC,EAAD,CAAnB,CAA/D;AAAwF,UAAGlB,CAAC,CAAClB,CAAD,CAAJ,EAAQE,CAAC,CAACkC,gBAAF,CAAmB,CAAC,CAAC,CAAD,KAAKpC,CAAL,GAAO,CAAP,GAAS,CAAV,EAAY,GAAZ,CAAnB,EAAR,KAAiD;AAAC,YAAGgB,CAAC,CAAChB,CAAD,CAAJ,EAAQ,OAAOE,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAD,CAAnB,GAAwB,KAAKE,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB,CAApC;AAA8D,YAAGpC,CAAC,YAAYJ,CAAhB,EAAkB,MAAM,IAAIqD,KAAJ,CAAU,4BAAV,CAAN;AAA8C,YAAGjD,CAAC,YAAYL,CAAhB,EAAkB,MAAM,IAAIsD,KAAJ,CAAU,4BAAV,CAAN;;AAA8C,YAAG,EAAEjD,CAAC,YAAYH,CAAf,CAAH,EAAqB;AAAC,cAAGG,CAAC,YAAYF,CAAhB,EAAkB,MAAM,IAAImD,KAAJ,CAAU,4BAAV,CAAN;AAA8C,cAAGjD,CAAC,YAAYmB,CAAhB,EAAkB,OAAOjB,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,GAA+BtC,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAA/B,EAAqDtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC8B,CAAH,CAAnB,CAArD,EAA+E5B,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAA/E,EAAqGtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAACc,CAAH,CAAnB,CAArG,EAA+Hd,CAAC,CAACiC,IAAF,KAAS/B,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,GAAsBtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAACkC,CAAH,CAAnB,CAA/B,CAA/H,EAAyLlC,CAAC,CAACmC,IAAF,KAASjC,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,GAAsBtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAACe,CAAH,CAAnB,CAA/B,CAAzL,EAAmPb,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,CAAnP,EAAkR,KAAKhC,CAAC,CAACR,CAAC,CAACkD,gBAAF,CAAmBC,IAApB,EAAyBjD,CAAzB,EAA2BC,CAA3B,CAA/R;;AAA6T,cAAGH,CAAC,YAAY8B,CAAhB,EAAkB;AAAC5B,YAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB;;AAA+B,iBAAI,IAAI7C,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACK,CAAC,CAACoD,KAAF,CAAQN,MAAtB,EAA6BnD,CAAC,EAA9B,EAAiC;AAAC,oBAAMC,CAAC,GAACI,CAAC,CAACoD,KAAF,CAAQzD,CAAR,CAAR;AAAA,oBAAmBE,CAAC,GAAC,EAArB;AAAwB,kBAAIC,CAAC,GAAC,IAAN;AAAA,kBAAWO,CAAC,GAAC,IAAb;;AAAkB,mBAAI,IAAIH,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,CAAC,CAACkD,MAAhB,EAAuB5C,CAAC,EAAxB,EAA2B;AAAC,sBAAMC,CAAC,GAACH,CAAC,CAACqD,QAAF,CAAW1D,CAAX,EAAaO,CAAb,CAAR;AAAwB,oBAAG,MAAIA,CAAP,EAASJ,CAAC,GAACK,CAAF,CAAT,KAAkB,IAAG6B,CAAC,CAAC3B,CAAD,EAAGF,CAAH,CAAJ,EAAU;AAASE,gBAAAA,CAAC,GAACF,CAAF,EAAID,CAAC,KAAGN,CAAC,CAACkD,MAAF,GAAS,CAAb,IAAgBd,CAAC,CAAClC,CAAD,EAAGK,CAAH,CAAjB,IAAwBN,CAAC,CAACyD,IAAF,CAAOnD,CAAP,CAA5B;AAAsC;;AAAAD,cAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,EAAY3C,CAAC,CAACiD,MAAd,CAAjB;;AAAwC,mBAAI,IAAInD,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACE,CAAC,CAACiD,MAAhB,EAAuBnD,CAAC,EAAxB,EAA2B;AAAC,sBAAMC,CAAC,GAACC,CAAC,CAACF,CAAD,CAAT;AAAaO,gBAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,EAAY7C,CAAZ,CAAjB,GAAiCa,CAAC,CAACZ,CAAD,EAAGM,CAAH,EAAKC,CAAL,CAAlC,EAA0CD,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,CAA1C;AAAyE;;AAAAtC,cAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB;AAA+B;;AAAA,mBAAOtC,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,GAA+B,KAAKhC,CAAC,CAACR,CAAC,CAACkD,gBAAF,CAAmBC,IAApB,EAAyBjD,CAAzB,EAA2BC,CAA3B,CAA5C;AAA0E;;AAAA,cAAGH,CAAC,YAAY+B,CAAhB,EAAkB;AAAC7B,YAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB;;AAA+B,iBAAI,IAAI7C,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACK,CAAC,CAACuD,KAAF,CAAQT,MAAtB,EAA6BnD,CAAC,EAA9B,EAAiC;AAAC,oBAAMC,CAAC,GAACI,CAAC,CAACuD,KAAF,CAAQ5D,CAAR,CAAR;AAAmBO,cAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,EAAY5C,CAAC,CAACkD,MAAd,CAAjB;;AAAwC,mBAAI,IAAIjD,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAC,CAACkD,MAAhB,EAAuBjD,CAAC,EAAxB,EAA2BK,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,EAAY3C,CAAZ,CAAjB,GAAiCW,CAAC,CAACR,CAAC,CAACqD,QAAF,CAAW1D,CAAX,EAAaE,CAAb,CAAD,EAAiBK,CAAjB,EAAmBC,CAAnB,CAAlC,EAAwDD,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,CAAxD;;AAAuFtC,cAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB;AAA+B;;AAAA,mBAAOtC,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,GAA+B,KAAKhC,CAAC,CAACR,CAAC,CAACkD,gBAAF,CAAmBC,IAApB,EAAyBjD,CAAzB,EAA2BC,CAA3B,CAA5C;AAA0E;;AAAA,cAAGH,CAAC,YAAY6B,CAAhB,EAAkB;AAAC3B,YAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,SAAD,EAAWxC,CAAC,CAACwD,MAAF,CAASV,MAApB,CAAjB;;AAA8C,iBAAI,IAAInD,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACK,CAAC,CAACwD,MAAF,CAASV,MAAvB,EAA8BnD,CAAC,EAA/B,EAAkC;AAAC,oBAAMC,CAAC,GAACI,CAAC,CAACqD,QAAF,CAAW1D,CAAX,CAAR;AAAsBO,cAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC7C,CAAD,CAAjB,GAAsBa,CAAC,CAACZ,CAAD,EAAGM,CAAH,EAAKC,CAAL,CAAvB;AAA+B;;AAAA,mBAAOD,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,GAA+B,KAAKhC,CAAC,CAACR,CAAC,CAACkD,gBAAF,CAAmBC,IAApB,EAAyBjD,CAAzB,EAA2BC,CAA3B,CAA5C;AAA0E;;AAAA,cAAGH,CAAC,YAAY4B,CAAhB,EAAkB,OAAO1B,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,GAA+BtC,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAA/B,EAAqDtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAACyD,IAAH,CAAnB,CAArD,EAAkFvD,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAAlF,EAAwGtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC0D,IAAH,CAAnB,CAAxG,EAAqIxD,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAArI,EAA2JtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC2D,IAAH,CAAnB,CAA3J,EAAwLzD,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAAxL,EAA8MtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC4D,IAAH,CAAnB,CAA9M,EAA2O5D,CAAC,CAACiC,IAAF,KAAS/B,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,GAAsBtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC6D,IAAH,CAAnB,CAAtB,EAAmD3D,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAAnD,EAAyEtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC8D,IAAH,CAAnB,CAAlF,CAA3O,EAA2V9D,CAAC,CAACmC,IAAF,KAASjC,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,GAAsBtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAAC+D,IAAH,CAAnB,CAAtB,EAAmD7D,CAAC,CAACsC,cAAF,CAAiB,CAAC,CAAD,CAAjB,CAAnD,EAAyEtC,CAAC,CAAC8C,gBAAF,CAAmB,CAAChD,CAAC,CAACgE,IAAH,CAAnB,CAAlF,CAA3V,EAA2c9D,CAAC,CAACsC,cAAF,CAAiB,CAAC,UAAD,CAAjB,CAA3c,EAA0e,KAAKhC,CAAC,CAACR,CAAC,CAACkD,gBAAF,CAAmBC,IAApB,EAAyBjD,CAAzB,EAA2BC,CAA3B,CAAvf;AAAqhB,cAAGH,CAAC,YAAYa,CAAhB,EAAkB,OAAOX,CAAC,CAACsC,cAAF,CAAiB,CAAC,EAAD,CAAjB,GAAuB,KAAK,CAAL,KAASxC,CAAC,CAACmD,IAAX,IAAiB,SAAOnD,CAAC,CAACmD,IAA1B,IAAgCjD,CAAC,CAACsC,cAAF,CAAiB,CAACxC,CAAC,CAACmD,IAAH,CAAjB,CAAvD,EAAkF,MAAKnD,CAAC,CAACiE,GAAF,IAAO/D,CAAC,CAAC6C,gBAAF,CAAmB/C,CAAC,CAACiE,GAArB,CAAZ,CAAzF;AAAgI,cAAG7C,CAAC,CAACpB,CAAD,CAAJ,EAAQ,MAAM,IAAIiD,KAAJ,CAAU,4BAAV,CAAN;AAA8C,cAAG3B,CAAC,CAACtB,CAAD,CAAJ,EAAQ,MAAM,IAAIiD,KAAJ,CAAU,4BAAV,CAAN;AAA8C,cAAG3C,CAAC,CAACN,CAAD,CAAJ,EAAQ,MAAM,IAAIiD,KAAJ,CAAU,4BAAV,CAAN;AAA8C,cAAGjD,CAAC,KAAGO,CAAP,EAAS,MAAM,IAAI0C,KAAJ,CAAU,4BAAV,CAAN;AAA8C,gBAAM,IAAIA,KAAJ,CAAU,4BAAV,CAAN;AAA8C;;AAAA,YAAG/C,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB,GAA0BjC,CAAC,CAACkC,GAAF,CAAMC,GAAN,CAAUtC,CAAV,CAA7B,EAA0C;AAAC,gBAAML,CAAC,GAACQ,CAAC,CAACkC,GAAF,CAAME,GAAN,CAAUvC,CAAV,CAAR;AAAqBE,UAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC,WAAS7C,CAAV,CAAjB;AAA+B,SAA/F,MAAmG;AAACQ,UAAAA,CAAC,CAACkC,GAAF,CAAMI,GAAN,CAAUzC,CAAV,EAAYG,CAAC,CAACuC,aAAF,EAAZ;;AAA+B,eAAI,MAAM/C,CAAV,IAAeK,CAAC,CAACkE,IAAF,EAAf,EAAwB;AAAChE,YAAAA,CAAC,CAACsC,cAAF,CAAiB,CAAC7C,CAAC,CAACmD,MAAH,CAAjB,GAA6B5C,CAAC,CAAC6C,gBAAF,CAAmBpD,CAAnB,CAA7B,EAAmDO,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB,CAAnD;AAA6E5B,YAAAA,CAAC,CAACR,CAAC,CAACmE,KAAF,CAAQxE,CAAR,CAAD,EAAYO,CAAZ,EAAcC,CAAd,CAAD,EAAkBD,CAAC,CAACkC,gBAAF,CAAmB,CAAC,GAAD,CAAnB,CAAlB;AAA4C;;AAAAjC,UAAAA,CAAC,CAACkC,GAAF,CAAMM,MAAN,CAAa3C,CAAb,GAAgBG,CAAC,CAACuC,aAAF,EAAhB;AAAkC;;AAAAxC,QAAAA,CAAC,CAACkC,gBAAF,CAAmB,CAAC,EAAD,CAAnB;AAAyB;AAAC;AAA3oH,SAAgpHlC,CAAC,CAACkC,gBAAF,CAAmB,CAAC,CAAD,EAAG,GAAH,CAAnB;AAA4B;;AAAA,SAASgC,CAAT,CAAWxE,CAAX,EAAamB,CAAb,EAAe;AAACnB,EAAAA,CAAC,CAACyE,MAAF,GAAS,UAASzE,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOkB,CAAC,CAACnB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAOE,CAAC,CAACF,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAAS,IAAIH,CAAJ,CAAMO,CAAC,CAACJ,CAAC,CAAC,CAAD,CAAF,CAAP,CAAhB;AAA+B,KAArD,CAAR;AAAgE,GAAvF,EAAwFF,CAAC,CAAC0E,IAAF,GAAO,UAAS3E,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAOG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASK,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQyE,IAAR,EAAhB;AAA+B,KAArD,CAAR;AAAgE,GAA7K,EAA8K1E,CAAC,CAAC2E,KAAF,GAAQ,UAAS5E,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,YAAMC,CAAC,GAACK,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAAT;AAAgB,aAAO2E,KAAK,CAAC1E,CAAD,CAAL,GAASA,CAAT,GAAWA,CAAC,CAAC2E,QAAF,CAAW,EAAX,CAAlB;AAAiC,KAAhF,CAAR;AAA2F,GAA/R,EAAgS7E,CAAC,CAAC8E,KAAF,GAAQ,UAAS/E,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAOG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASK,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQ8E,WAAR,EAAhB;AAAsC,KAA5D,CAAR;AAAuE,GAA7X,EAA8X/E,CAAC,CAACgF,MAAF,GAAS,UAASjF,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,UAAIC,CAAC,GAAC,CAAN;AAAQ,YAAID,CAAC,CAACiD,MAAN,IAAc,gBAAc5C,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQgF,WAAR,EAA5B,KAAoD/E,CAAC,GAAC,CAAtD;AAAyD,YAAMK,CAAC,GAAC,IAAR;AAAA,YAAaE,CAAC,GAACH,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAhB;AAAuB,UAAIU,CAAC,GAAC,EAAN;AAAA,UAASE,CAAC,GAAC,CAAC,CAAZ;;AAAc,WAAI,IAAIT,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACK,CAAC,CAACyC,MAAhB,EAAuB9C,CAAC,EAAxB,EAA2B;AAAC,YAAIL,CAAC,GAACU,CAAC,CAACL,CAAD,CAAP;AAAW,YAAGG,CAAC,CAAC2E,IAAF,CAAOnF,CAAP,CAAH,EAAa,MAAIG,CAAJ,KAAQW,CAAC,GAAC,CAAC,CAAX,EAAb,KAA+B;AAACd,UAAAA,CAAC,CAACgF,WAAF,OAAkBhF,CAAC,CAACkF,WAAF,EAAlB,KAAoCpE,CAAC,IAAEd,CAAC,GAACA,CAAC,CAACgF,WAAF,EAAF,EAAkBlE,CAAC,GAAC,CAAC,CAAvB,IAA0Bd,CAAC,GAACA,CAAC,CAACkF,WAAF,EAAjE;AAAkF;AAAAtE,QAAAA,CAAC,IAAEZ,CAAH;AAAK;;AAAA,aAAOY,CAAP;AAAS,KAA5S,CAAR;AAAuT,GAA5sB,EAA6sBX,CAAC,CAACmF,KAAF,GAAQ,UAASpF,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAOG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASK,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQgF,WAAR,EAAhB;AAAsC,KAA5D,CAAR;AAAuE,GAA1yB,EAA2yBjF,CAAC,CAACoF,IAAF,GAAO,UAASrF,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAACiD,MAAF,GAAS,CAArB,EAAuB,QAAO5C,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQgF,WAAR,EAAP;AAA8B,aAAI,QAAJ;AAAa,iBAAOxE,CAAC,GAAG4E,OAAJ,CAAY,GAAZ,EAAgB,EAAhB,EAAoBA,OAApB,CAA4B,GAA5B,EAAgC,EAAhC,EAAoCA,OAApC,CAA4C,GAA5C,EAAgD,EAAhD,EAAoDA,OAApD,CAA4D,GAA5D,EAAgE,EAAhE,CAAP;;AAA2E,aAAI,eAAJ;AAAoB,iBAAO5E,CAAC,EAAR;;AAAW,aAAI,sBAAJ;AAA2B,iBAAM,MAAIA,CAAC,EAAL,GAAQ,GAAd;;AAAkB,aAAI,2BAAJ;AAAgC,iBAAM,MAAIA,CAAC,EAAL,GAAQ,GAAd;AAAlO;AAAoP,aAAM,MAAIA,CAAC,EAAL,GAAQ,GAAd;AAAkB,KAAnT,CAAR;AAA8T,GAA9nC,EAA+nCT,CAAC,CAACsF,OAAF,GAAU,UAASvF,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASA,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAO,MAAIA,CAAC,CAACgD,MAAN,KAAe,MAAIhD,CAAC,CAACgD,MAAN,GAAanD,CAAC,CAACuF,OAAF,CAAUhF,CAAC,CAACJ,CAAC,CAAC,CAAD,CAAF,CAAX,CAAb,GAAgCH,CAAC,CAACuF,OAAF,CAAUhF,CAAC,CAACJ,CAAD,CAAX,CAA/C,GAAgES,CAAvE;AAAyE,KAA/F,CAAR;AAA0G,GAAjwC,EAAkwCX,CAAC,CAACuF,GAAF,GAAM,UAASxF,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,UAAIC,CAAC,GAACK,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAAP;AAAc,UAAG2E,KAAK,CAAC1E,CAAD,CAAR,EAAY,OAAM,EAAN;AAAS,UAAGA,CAAC,GAAC,CAAF,KAAMA,CAAC,GAAC,CAAR,GAAW,MAAID,CAAC,CAACiD,MAApB,EAA2B,OAAO5C,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQuF,MAAR,CAAetF,CAAf,CAAP;AAAyB,UAAIO,CAAC,GAACF,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAAP;AAAc,aAAO2E,KAAK,CAACnE,CAAD,CAAL,GAAS,EAAT,IAAaA,CAAC,GAAC,CAAF,KAAMA,CAAC,GAAC,CAAR,GAAWH,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQuF,MAAR,CAAetF,CAAf,EAAiBO,CAAjB,CAAxB,CAAP;AAAoD,KAAxL,CAAR;AAAmM,GAAz9C,EAA09CT,CAAC,CAACyF,IAAF,GAAO,UAAS1F,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,UAAIC,CAAC,GAAC,CAAN;;AAAQ,UAAGD,CAAC,CAACiD,MAAF,GAAS,CAAZ,EAAc;AAAC,YAAGhD,CAAC,GAACK,CAAC,CAACM,CAAC,CAACZ,CAAC,CAAC,CAAD,CAAF,EAAM,CAAN,CAAF,CAAH,EAAe2E,KAAK,CAAC1E,CAAD,CAAvB,EAA2B,OAAM,CAAC,CAAP;AAASA,QAAAA,CAAC,GAAC,CAAF,KAAMA,CAAC,GAAC,CAAR;AAAW;;AAAA,aAAOI,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQyF,OAAR,CAAgBpF,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAjB,EAAwBC,CAAxB,CAAP;AAAkC,KAAvI,CAAR;AAAkJ,GAAjoD,EAAkoDF,CAAC,CAAC2F,IAAF,GAAO,UAAS5F,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,UAAIC,CAAC,GAACK,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAAP;AAAc,aAAO2E,KAAK,CAAC1E,CAAD,CAAL,GAAS,EAAT,IAAaA,CAAC,GAAC,CAAF,KAAMA,CAAC,GAAC,CAAR,GAAWI,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQuF,MAAR,CAAe,CAAf,EAAiBtF,CAAjB,CAAxB,CAAP;AAAoD,KAAjG,CAAR;AAA4G,GAAnwD,EAAowDF,CAAC,CAAC4F,KAAF,GAAQ,UAAS7F,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,UAAIC,CAAC,GAACK,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAAP;AAAc,aAAO2E,KAAK,CAAC1E,CAAD,CAAL,GAAS,EAAT,IAAaA,CAAC,GAAC,CAAF,KAAMA,CAAC,GAAC,CAAR,GAAWI,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQuF,MAAR,CAAe,CAAC,CAAD,GAAGtF,CAAlB,EAAoBA,CAApB,CAAxB,CAAP;AAAuD,KAApG,CAAR;AAA+G,GAAz4D,EAA04DF,CAAC,CAAC6F,KAAF,GAAQ,UAAS9F,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAME,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,UAAIQ,CAAC,GAACF,CAAC,CAACM,CAAC,CAACZ,CAAC,CAAC,CAAD,CAAF,EAAM,CAAC,CAAP,CAAF,CAAP;AAAoB,YAAMU,CAAC,GAACR,CAAC,CAACU,CAAC,CAACZ,CAAC,CAAC,CAAD,CAAF,EAAM,CAAC,CAAP,CAAF,CAAT;AAAsB,UAAG,CAAC,CAAD,KAAKQ,CAAL,IAAQ,SAAOA,CAAf,IAAkB,CAAC,CAAD,KAAKE,CAAvB,GAAyBT,CAAC,GAACI,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQ4F,KAAR,CAAcvF,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAf,CAA3B,IAAmD2E,KAAK,CAACnE,CAAD,CAAL,KAAWA,CAAC,GAAC,CAAC,CAAd,GAAiBA,CAAC,GAAC,CAAC,CAAH,KAAOA,CAAC,GAAC,CAAC,CAAV,CAAjB,EAA8BP,CAAC,GAACI,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQ4F,KAAR,CAAcvF,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAf,EAAsBQ,CAAtB,CAAnF,GAA6G,CAAC,CAAD,KAAKE,CAArH,EAAuH,OAAOT,CAAP;AAAS,YAAMY,CAAC,GAAC,EAAR;;AAAW,WAAI,IAAIV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,CAAC,CAACgD,MAAJ,IAAY,EAAE,CAAC,CAAD,KAAKzC,CAAL,IAAQK,CAAC,CAACoC,MAAF,IAAUzC,CAApB,CAAxB,EAA+CL,CAAC,EAAhD,EAAmD,OAAKF,CAAC,CAACE,CAAD,CAAN,IAAW,KAAK,CAAL,KAASF,CAAC,CAACE,CAAD,CAArB,IAA0BU,CAAC,CAAC4C,IAAF,CAAOxD,CAAC,CAACE,CAAD,CAAR,CAA1B;;AAAuC,aAAOU,CAAP;AAAS,KAA7T,CAAR;AAAwU,GAAxuE,EAAyuEd,CAAC,CAAC8F,IAAF,GAAO,UAAS/F,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAOG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASa,CAAC,CAACb,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAjB;AAA6B,KAAnD,CAAR;AAA8D,GAA5zE,EAA6zED,CAAC,CAAC+F,WAAF,GAAc,UAAShG,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,YAAMC,CAAC,GAAC,EAAR;AAAW,UAAGD,CAAC,CAACiD,MAAF,GAAS,CAAZ,EAAc,OAAM,EAAN;;AAAS,UAAG7C,CAAC,CAACJ,CAAC,CAAC,CAAD,CAAF,CAAJ,EAAW;AAAC,cAAMF,CAAC,GAACc,CAAC,CAACZ,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAT;;AAAmB,aAAI,IAAID,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACC,CAAC,CAAC,CAAD,CAAD,CAAKiD,MAAnB,EAA0BlD,CAAC,EAA3B,EAA8BE,CAAC,CAACF,CAAD,CAAD,GAAKc,CAAC,CAACb,CAAC,CAAC,CAAD,CAAD,CAAKD,CAAL,CAAD,EAASD,CAAT,CAAN;;AAAkB,eAAOE,CAAC,CAACiD,MAAF,GAAS,CAAT,GAAWhD,CAAC,CAAC8F,IAAF,CAAO/F,CAAC,CAAC,CAAD,CAAR,CAAX,GAAwBC,CAAC,CAAC8F,IAAF,CAAO,EAAP,CAA/B;AAA0C;;AAAA,UAAGhF,CAAC,CAACf,CAAC,CAAC,CAAD,CAAF,CAAJ,EAAW;AAAC,cAAMF,CAAC,GAACc,CAAC,CAACZ,CAAC,CAAC,CAAD,CAAF,EAAM,EAAN,CAAT;;AAAmB,aAAI,IAAID,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACC,CAAC,CAAC,CAAD,CAAD,CAAKiD,MAAL,EAAd,EAA4BlD,CAAC,EAA7B,EAAgCE,CAAC,CAACF,CAAD,CAAD,GAAKc,CAAC,CAACb,CAAC,CAAC,CAAD,CAAD,CAAK0C,GAAL,CAAS3C,CAAT,CAAD,EAAaD,CAAb,CAAN;;AAAsB,eAAOE,CAAC,CAACiD,MAAF,GAAS,CAAT,GAAWhD,CAAC,CAAC8F,IAAF,CAAO/F,CAAC,CAAC,CAAD,CAAR,CAAX,GAAwBC,CAAC,CAAC8F,IAAF,CAAO,EAAP,CAA/B;AAA0C;;AAAA,WAAI,IAAI5F,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,CAAC,CAACiD,MAAhB,EAAuB9C,CAAC,EAAxB,EAA2BF,CAAC,CAACE,CAAD,CAAD,GAAKU,CAAC,CAACb,CAAC,CAACG,CAAD,CAAF,CAAN;;AAAa,aAAOF,CAAC,CAAC8F,IAAF,CAAO,EAAP,CAAP;AAAkB,KAA1W,CAAR;AAAqX,GAA9sF,EAA+sFhG,CAAC,CAACiG,OAAF,GAAU,UAASlG,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASI,CAAC,CAACJ,CAAC,CAAC,CAAD,CAAF,CAAb,EAAoB;AAAC,cAAMF,CAAC,GAACE,CAAC,CAAC,CAAD,CAAD,CAAKiG,KAAL,CAAW,CAAX,CAAR;AAAsB,eAAOnG,CAAC,CAACkG,OAAF,IAAYlG,CAAnB;AAAqB;;AAAA,UAAGiB,CAAC,CAACf,CAAC,CAAC,CAAD,CAAF,CAAJ,EAAW;AAAC,cAAMF,CAAC,GAACE,CAAC,CAAC,CAAD,CAAD,CAAK+C,OAAL,GAAekD,KAAf,CAAqB,CAArB,CAAR;AAAgC,eAAOnG,CAAC,CAACkG,OAAF,IAAYlG,CAAnB;AAAqB;;AAAA,YAAM,IAAIsD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAA5L,CAAR;AAAuM,GAA96F,EAA+6FrD,CAAC,CAACqF,OAAF,GAAU,UAAStF,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,YAAMC,CAAC,GAACI,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAT;AAAA,YAAgBM,CAAC,GAACD,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAnB;AAAA,YAA0BQ,CAAC,GAACH,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAA7B;AAAoC,aAAO,MAAIA,CAAC,CAACiD,MAAN,IAAc/C,CAAC,CAACF,CAAC,CAAC,CAAD,CAAF,CAAf,GAAsBiB,CAAC,CAAChB,CAAD,EAAGK,CAAH,EAAKE,CAAL,CAAvB,GAA+BP,CAAC,CAACmF,OAAF,CAAU9E,CAAV,EAAYE,CAAZ,CAAtC;AAAqD,KAAxH,CAAR;AAAmI,GAA1kG,EAA2kGT,CAAC,CAACmG,MAAF,GAAS,UAASpG,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaI,CAAb,EAAe;AAAC,UAAGA,CAAC,CAAC,CAAD,CAAD,YAAeF,CAAlB,EAAoB;AAAC,cAAMH,CAAC,GAACK,CAAC,CAAC,CAAD,CAAD,CAAK+F,MAAL,EAAR;AAAsB,eAAOpG,CAAC,GAACE,CAAC,CAACmG,+BAAF,CAAkCrG,CAAlC,CAAD,GAAsC,IAA9C;AAAmD;;AAAA,YAAM,IAAIsD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAAzJ,CAAR;AAAoK,GAAtwG,EAAuwGrD,CAAC,CAACqG,QAAF,GAAW,UAAStG,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaM,CAAb,EAAe;AAAC,UAAGF,CAAC,CAACE,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeJ,CAA3B,EAA6B;AAAC,cAAMH,CAAC,GAACO,CAAC,CAAC,CAAD,CAAD,CAAK+F,QAAL,EAAR;AAAwB,eAAOtG,CAAC,GAACE,CAAC,CAACmG,+BAAF,CAAkCrG,CAAlC,CAAD,GAAsC,IAA9C;AAAmD;;AAAA,YAAM,IAAIsD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAApK,CAAR;AAA+K,GAA/8G,EAAg9GrD,CAAC,CAACsG,WAAF,GAAc,UAASvG,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeC,CAA3B,EAA6B;AAAC,cAAMH,CAAC,GAACE,CAAC,CAAC,CAAD,CAAD,CAAKoG,QAAL,EAAR;AAAwB,YAAG,CAACtG,CAAJ,EAAM,OAAO,IAAP;;AAAY,YAAGA,CAAC,CAACwG,YAAF,IAAgBtG,CAAC,CAAC,CAAD,CAAD,CAAKuG,QAAL,CAAczG,CAAC,CAACwG,YAAhB,CAAnB,EAAiD;AAAC,gBAAMvG,CAAC,GAACC,CAAC,CAAC,CAAD,CAAD,CAAKsE,KAAL,CAAWxE,CAAC,CAACwG,YAAb,CAAR;;AAAmC,eAAI,MAAMtG,CAAV,IAAeF,CAAC,CAACsG,QAAjB,EAA0B,IAAGpG,CAAC,CAACwG,IAAF,KAASzG,CAAZ,EAAc,OAAOC,CAAC,CAACwG,IAAT;;AAAc,iBAAO,IAAP;AAAY;;AAAA,eAAO,IAAP;AAAY;;AAAA,YAAM,IAAIpD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAAtS,CAAR;AAAiT,GAA7xH,EAA8xHrD,CAAC,CAAC0G,WAAF,GAAc,UAAS3G,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeC,CAA3B,EAA6B;AAAC,cAAMH,CAAC,GAACE,CAAC,CAAC,CAAD,CAAD,CAAKoG,QAAL,EAAR;AAAwB,YAAG,CAACtG,CAAJ,EAAM,OAAM,EAAN;;AAAS,YAAGA,CAAC,CAACwG,YAAF,IAAgBtG,CAAC,CAAC,CAAD,CAAD,CAAKuG,QAAL,CAAczG,CAAC,CAACwG,YAAhB,CAAnB,EAAiD;AAAC,gBAAMvG,CAAC,GAACC,CAAC,CAAC,CAAD,CAAD,CAAKsE,KAAL,CAAWxE,CAAC,CAACwG,YAAb,CAAR;;AAAmC,eAAI,MAAMtG,CAAV,IAAeF,CAAC,CAACsG,QAAjB,EAA0B,IAAGpG,CAAC,CAACwG,IAAF,KAASzG,CAAZ,EAAc,OAAOC,CAAC,CAAC0G,IAAT;;AAAc,iBAAM,EAAN;AAAS;;AAAA,eAAM,EAAN;AAAS;;AAAA,YAAM,IAAItD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAA7R,CAAR;AAAwS,GAAlmI,EAAmmIrD,CAAC,CAAC4G,UAAF,GAAa,UAAS7G,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeC,CAA3B,EAA6B,OAAOD,CAAC,CAAC,CAAD,CAAD,CAAK4G,UAAL,EAAP;AAAyB,YAAM,IAAIxD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAAjH,CAAR;AAA4H,GAA1vI,EAA2vIrD,CAAC,CAAC8G,MAAF,GAAS,UAAS/G,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaS,CAAb,EAAe;AAAC,UAAGL,CAAC,CAACK,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeP,CAA3B,EAA6B;AAAC,cAAMH,CAAC,GAACU,CAAC,CAAC,CAAD,CAAD,CAAKsG,UAAL,CAAgBzG,CAAC,CAACG,CAAC,CAAC,CAAD,CAAF,CAAjB,EAAwB,KAAK,CAAL,KAASA,CAAC,CAAC,CAAD,CAAV,GAAc,KAAK,CAAnB,GAAqBF,CAAC,CAACE,CAAC,CAAC,CAAD,CAAF,CAA9C,CAAR;AAA8D,eAAOV,CAAC,IAAEA,CAAC,CAAC+G,MAAL,GAAY,kBAAgB/G,CAAC,CAAC+G,MAAF,CAASE,IAAzB,IAA+B,iBAAejH,CAAC,CAAC+G,MAAF,CAASE,IAAvD,GAA4D/G,CAAC,CAACmG,+BAAF,CAAkC;AAACY,UAAAA,IAAI,EAAC,YAAN;AAAmBL,UAAAA,IAAI,EAAC5G,CAAC,CAAC+G,MAAF,CAASH,IAAjC;AAAsCM,UAAAA,QAAQ,EAAClG,CAAC,CAAChB,CAAC,CAACwE,KAAF,CAAQyC,IAAT,CAAhD;AAA+DE,UAAAA,WAAW,EAACnH,CAAC,CAAC+G,MAAF,CAASI,WAAT,CAAqBzE,GAArB,CAA0B1C,CAAC,KAAG;AAAC4G,YAAAA,IAAI,EAAC5G,CAAC,CAAC4G,IAAR;AAAaF,YAAAA,IAAI,EAAC1G,CAAC,CAAC0G;AAApB,WAAH,CAA3B;AAA3E,SAAlC,CAA5D,GAAsOxG,CAAC,CAACmG,+BAAF,CAAkC;AAACY,UAAAA,IAAI,EAAC,OAAN;AAAcL,UAAAA,IAAI,EAAC5G,CAAC,CAAC+G,MAAF,CAASH,IAA5B;AAAiCM,UAAAA,QAAQ,EAAClG,CAAC,CAAChB,CAAC,CAACwE,KAAF,CAAQyC,IAAT,CAA3C;AAA0DG,UAAAA,GAAG,EAACpH,CAAC,CAAC+G,MAAF,CAASK,GAAvE;AAA2EC,UAAAA,GAAG,EAACrH,CAAC,CAAC+G,MAAF,CAASM;AAAxF,SAAlC,CAAlP,GAAkX,IAAzX;AAA8X;;AAAA,YAAM,IAAI/D,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAArhB,CAAR;AAAgiB,GAAlzJ,EAAmzJrD,CAAC,CAACqH,UAAF,GAAa,UAAStH,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeC,CAA3B,EAA6B,OAAOD,CAAC,CAAC,CAAD,CAAD,CAAKqH,iBAAL,CAAuBhH,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAxB,EAA+BA,CAAC,CAAC,CAAD,CAAhC,EAAoC,KAAK,CAAL,KAASA,CAAC,CAAC,CAAD,CAAV,GAAc,KAAK,CAAnB,GAAqBM,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAA1D,CAAP;AAAyE,YAAM,IAAIoD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAAjK,CAAR;AAA4K,GAA1/J,EAA2/JrD,CAAC,CAACuH,UAAF,GAAa,UAASxH,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAGG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,YAAeC,CAA3B,EAA6B,OAAOD,CAAC,CAAC,CAAD,CAAD,CAAKuH,gBAAL,CAAsBlH,CAAC,CAACL,CAAC,CAAC,CAAD,CAAF,CAAvB,EAA8BA,CAAC,CAAC,CAAD,CAA/B,EAAmC,KAAK,CAAL,KAASA,CAAC,CAAC,CAAD,CAAV,GAAc,KAAK,CAAnB,GAAqBM,CAAC,CAACN,CAAC,CAAC,CAAD,CAAF,CAAzD,CAAP;AAAwE,YAAM,IAAIoD,KAAJ,CAAU,mBAAV,CAAN;AAAqC,KAAhK,CAAR;AAA2K,GAAjsK,EAAksKrD,CAAC,CAACyH,SAAF,GAAY,UAAS1H,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaE,CAAb,EAAe;AAAC,UAAGE,CAAC,CAACF,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAAS,SAAOA,CAAC,CAAC,CAAD,CAApB,EAAwB,OAAM,EAAN;;AAAS,UAAGA,CAAC,CAAC,CAAD,CAAD,YAAeD,CAAlB,EAAoB;AAAC,YAAIF,CAAC,GAAC,EAAN;;AAAS,aAAI,MAAMC,CAAV,IAAeE,CAAC,CAAC,CAAD,CAAD,CAAKoE,IAAL,EAAf,EAA2B;AAAC,gBAAMrE,CAAC,GAACC,CAAC,CAAC,CAAD,CAAD,CAAKqE,KAAL,CAAWvE,CAAX,CAAR;AAAsB,iBAAKD,CAAL,KAASA,CAAC,IAAE,GAAZ,GAAiBA,CAAC,IAAE,SAAOE,CAAP,GAASyH,kBAAkB,CAAC1H,CAAD,CAAlB,GAAsB,GAA/B,GAAmC0H,kBAAkB,CAAC1H,CAAD,CAAlB,GAAsB,GAAtB,GAA0B0H,kBAAkB,CAACzH,CAAD,CAAnG;AAAuG;;AAAA,eAAOF,CAAP;AAAS;;AAAA,aAAO2H,kBAAkB,CAACpH,CAAC,CAACJ,CAAC,CAAC,CAAD,CAAF,CAAF,CAAzB;AAAmC,KAA1R,CAAR;AAAqS,GAAjgL,EAAkgLF,CAAC,CAAC2H,IAAF,GAAO,UAAS5H,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAACG,MAAAA,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD;AAAS,YAAMC,CAAC,GAAC,IAAI6B,CAAJ,CAAM,CAAN,CAAR;AAAiB,aAAOnB,CAAC,CAACX,CAAC,CAAC,CAAD,CAAF,EAAMC,CAAN,EAAQ;AAACuC,QAAAA,GAAG,EAAC,IAAImF,GAAJ,EAAL;AAAa9E,QAAAA,aAAa,EAAC;AAA3B,OAAR,CAAD,EAAwC5C,CAAC,CAAC2H,MAAF,EAA/C;AAA0D,KAA1G,CAAR;AAAqH,GAA5oL,EAA6oL7H,CAAC,CAAC8H,gBAAF,GAAmB,UAAS/H,CAAT,EAAWC,CAAX,EAAa;AAAC,WAAOmB,CAAC,CAACpB,CAAD,EAAGC,CAAH,EAAM,UAASD,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,aAAOG,CAAC,CAACH,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,EAAS4B,CAAC,CAAC5B,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWA,CAAC,CAAC,CAAD,CAAZ,CAAjB;AAAkC,KAAxD,CAAR;AAAmE,GAAjvL;AAAkvL;;AAAA,SAAOuE,CAAC,IAAIuD,iBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../ArcadePortal.js\";import e from\"../Attachment.js\";import r from\"../Dictionary.js\";import n from\"../Feature.js\";import{p as o,d as a,t as i,O as u,v as s,C as f,u as p,s as c,a as d,b as l,L as y,o as m,g as h,i as A,k as g,c as w,q as I,r as v}from\"../../chunks/languageUtils.js\";import{layerFieldEsriConstants as b}from\"../featureset/support/shared.js\";import{convertDirection as j}from\"./convertdirection.js\";import{XXH as F}from\"./hash.js\";import U from\"../../geometry/Extent.js\";import E from\"../../geometry/Multipoint.js\";import k from\"../../geometry/Point.js\";import x from\"../../geometry/Polygon.js\";import P from\"../../geometry/Polyline.js\";import L from\"../../geometry/SpatialReference.js\";function T(t,e){if(t.x===e.x&&t.y===e.y){if(t.hasZ){if(t.z!==e.z)return!1}else if(e.hasZ)return!1;if(t.hasM){if(t.m!==e.m)return!1}else if(e.hasM)return!1;return!0}return!1}function C(o,a,i){if(null!==o)if(d(o)){if(a.updateUint8Array([61]),i.map.has(o)){const t=i.map.get(o);a.updateIntArray([61237541^t])}else{i.map.set(o,i.currentLength++);for(const t of o)C(t,a,i);i.map.delete(o),i.currentLength--}a.updateUint8Array([199])}else if(l(o)){if(a.updateUint8Array([61]),i.map.has(o)){const t=i.map.get(o);a.updateIntArray([61237541^t])}else{i.map.set(o,i.currentLength++);for(const t of o.toArray())C(t,a,i);i.map.delete(o),i.currentLength--}a.updateUint8Array([199])}else{if(m(o))return a.updateIntArray([o.getTime()]),void a.updateUint8Array([241]);if(h(o))return a.updateIntArray([o.length]),a.updateWithString(o),void a.updateUint8Array([41]);if(A(o))a.updateUint8Array([!0===o?1:0,113]);else{if(g(o))return a.updateFloatArray([o]),void a.updateUint8Array([173]);if(o instanceof e)throw new Error(\"Type not supported in Hash\");if(o instanceof t)throw new Error(\"Type not supported in Hash\");if(!(o instanceof r)){if(o instanceof n)throw new Error(\"Type not supported in Hash\");if(o instanceof k)return a.updateIntArray([3833836621]),a.updateIntArray([0]),a.updateFloatArray([o.x]),a.updateIntArray([1]),a.updateFloatArray([o.y]),o.hasZ&&(a.updateIntArray([2]),a.updateFloatArray([o.z])),o.hasM&&(a.updateIntArray([3]),a.updateFloatArray([o.m])),a.updateIntArray([3765347959]),void C(o.spatialReference.wkid,a,i);if(o instanceof x){a.updateIntArray([1266616829]);for(let t=0;t<o.rings.length;t++){const e=o.rings[t],r=[];let n=null,u=null;for(let a=0;a<e.length;a++){const i=o.getPoint(t,a);if(0===a)n=i;else if(T(u,i))continue;u=i,a===e.length-1&&T(n,i)||r.push(i)}a.updateIntArray([1397116793,r.length]);for(let t=0;t<r.length;t++){const e=r[t];a.updateIntArray([3962308117,t]),C(e,a,i),a.updateIntArray([2716288009])}a.updateIntArray([2278822459])}return a.updateIntArray([3878477243]),void C(o.spatialReference.wkid,a,i)}if(o instanceof P){a.updateIntArray([4106883559]);for(let t=0;t<o.paths.length;t++){const e=o.paths[t];a.updateIntArray([1397116793,e.length]);for(let r=0;r<e.length;r++)a.updateIntArray([3962308117,r]),C(o.getPoint(t,r),a,i),a.updateIntArray([2716288009]);a.updateIntArray([2278822459])}return a.updateIntArray([2568784753]),void C(o.spatialReference.wkid,a,i)}if(o instanceof E){a.updateIntArray([588535921,o.points.length]);for(let t=0;t<o.points.length;t++){const e=o.getPoint(t);a.updateIntArray([t]),C(e,a,i)}return a.updateIntArray([1700171621]),void C(o.spatialReference.wkid,a,i)}if(o instanceof U)return a.updateIntArray([3483648373]),a.updateIntArray([0]),a.updateFloatArray([o.xmax]),a.updateIntArray([1]),a.updateFloatArray([o.xmin]),a.updateIntArray([2]),a.updateFloatArray([o.ymax]),a.updateIntArray([3]),a.updateFloatArray([o.ymin]),o.hasZ&&(a.updateIntArray([4]),a.updateFloatArray([o.zmax]),a.updateIntArray([5]),a.updateFloatArray([o.zmin])),o.hasM&&(a.updateIntArray([6]),a.updateFloatArray([o.mmax]),a.updateIntArray([7]),a.updateFloatArray([o.mmin])),a.updateIntArray([3622027469]),void C(o.spatialReference.wkid,a,i);if(o instanceof L)return a.updateIntArray([14]),void 0!==o.wkid&&null!==o.wkid&&a.updateIntArray([o.wkid]),void(o.wkt&&a.updateWithString(o.wkt));if(w(o))throw new Error(\"Type not supported in Hash\");if(I(o))throw new Error(\"Type not supported in Hash\");if(v(o))throw new Error(\"Type not supported in Hash\");if(o===s)throw new Error(\"Type not supported in Hash\");throw new Error(\"Type not supported in Hash\")}if(a.updateUint8Array([223]),i.map.has(o)){const t=i.map.get(o);a.updateIntArray([61237541^t])}else{i.map.set(o,i.currentLength++);for(const t of o.keys()){a.updateIntArray([t.length]),a.updateWithString(t),a.updateUint8Array([251]);C(o.field(t),a,i),a.updateUint8Array([239])}i.map.delete(o),i.currentLength--}a.updateUint8Array([73])}}else a.updateUint8Array([0,139])}function N(e,m){e.portal=function(e,r){return m(e,r,(function(e,r,n){return o(n,1,1),new t(a(n[0]))}))},e.trim=function(t,e){return m(t,e,(function(t,e,r){return o(r,1,1),a(r[0]).trim()}))},e.tohex=function(t,e){return m(t,e,(function(t,e,r){o(r,1,1);const n=i(r[0]);return isNaN(n)?n:n.toString(16)}))},e.upper=function(t,e){return m(t,e,(function(t,e,r){return o(r,1,1),a(r[0]).toUpperCase()}))},e.proper=function(t,e){return m(t,e,(function(t,e,r){o(r,1,2);let n=1;2===r.length&&\"firstword\"===a(r[1]).toLowerCase()&&(n=2);const i=/\\s/,u=a(r[0]);let s=\"\",f=!0;for(let o=0;o<u.length;o++){let t=u[o];if(i.test(t))1===n&&(f=!0);else{t.toUpperCase()!==t.toLowerCase()&&(f?(t=t.toUpperCase(),f=!1):t=t.toLowerCase())}s+=t}return s}))},e.lower=function(t,e){return m(t,e,(function(t,e,r){return o(r,1,1),a(r[0]).toLowerCase()}))},e.guid=function(t,e){return m(t,e,(function(t,e,r){if(o(r,0,1),r.length>0)switch(a(r[0]).toLowerCase()){case\"digits\":return u().replace(\"-\",\"\").replace(\"-\",\"\").replace(\"-\",\"\").replace(\"-\",\"\");case\"digits-hyphen\":return u();case\"digits-hyphen-braces\":return\"{\"+u()+\"}\";case\"digits-hyphen-parentheses\":return\"(\"+u()+\")\"}return\"{\"+u()+\"}\"}))},e.console=function(t,e){return m(t,e,(function(e,r,n){return 0===n.length||(1===n.length?t.console(a(n[0])):t.console(a(n))),s}))},e.mid=function(t,e){return m(t,e,(function(t,e,r){o(r,2,3);let n=i(r[1]);if(isNaN(n))return\"\";if(n<0&&(n=0),2===r.length)return a(r[0]).substr(n);let u=i(r[2]);return isNaN(u)?\"\":(u<0&&(u=0),a(r[0]).substr(n,u))}))},e.find=function(t,e){return m(t,e,(function(t,e,r){o(r,2,3);let n=0;if(r.length>2){if(n=i(f(r[2],0)),isNaN(n))return-1;n<0&&(n=0)}return a(r[1]).indexOf(a(r[0]),n)}))},e.left=function(t,e){return m(t,e,(function(t,e,r){o(r,2,2);let n=i(r[1]);return isNaN(n)?\"\":(n<0&&(n=0),a(r[0]).substr(0,n))}))},e.right=function(t,e){return m(t,e,(function(t,e,r){o(r,2,2);let n=i(r[1]);return isNaN(n)?\"\":(n<0&&(n=0),a(r[0]).substr(-1*n,n))}))},e.split=function(t,e){return m(t,e,(function(t,e,r){let n;o(r,2,4);let u=i(f(r[2],-1));const s=p(f(r[3],!1));if(-1===u||null===u||!0===s?n=a(r[0]).split(a(r[1])):(isNaN(u)&&(u=-1),u<-1&&(u=-1),n=a(r[0]).split(a(r[1]),u)),!1===s)return n;const c=[];for(let o=0;o<n.length&&!(-1!==u&&c.length>=u);o++)\"\"!==n[o]&&void 0!==n[o]&&c.push(n[o]);return c}))},e.text=function(t,e){return m(t,e,(function(t,e,r){return o(r,1,2),c(r[0],r[1])}))},e.concatenate=function(t,e){return m(t,e,(function(t,e,r){const n=[];if(r.length<1)return\"\";if(d(r[0])){const t=f(r[2],\"\");for(let e=0;e<r[0].length;e++)n[e]=c(r[0][e],t);return r.length>1?n.join(r[1]):n.join(\"\")}if(l(r[0])){const t=f(r[2],\"\");for(let e=0;e<r[0].length();e++)n[e]=c(r[0].get(e),t);return r.length>1?n.join(r[1]):n.join(\"\")}for(let o=0;o<r.length;o++)n[o]=c(r[o]);return n.join(\"\")}))},e.reverse=function(t,e){return m(t,e,(function(t,e,r){if(o(r,1,1),d(r[0])){const t=r[0].slice(0);return t.reverse(),t}if(l(r[0])){const t=r[0].toArray().slice(0);return t.reverse(),t}throw new Error(\"Invalid Parameter\")}))},e.replace=function(t,e){return m(t,e,(function(t,e,r){o(r,3,4);const n=a(r[0]),i=a(r[1]),u=a(r[2]);return 4!==r.length||p(r[3])?y(n,i,u):n.replace(i,u)}))},e.schema=function(t,e){return m(t,e,(function(t,e,o){if(o[0]instanceof n){const t=o[0].schema();return t?r.convertObjectToArcadeDictionary(t):null}throw new Error(\"Invalid Parameter\")}))},e.subtypes=function(t,e){return m(t,e,(function(t,e,a){if(o(a,1,1),a[0]instanceof n){const t=a[0].subtypes();return t?r.convertObjectToArcadeDictionary(t):null}throw new Error(\"Invalid Parameter\")}))},e.subtypecode=function(t,e){return m(t,e,(function(t,e,r){if(o(r,1,1),r[0]instanceof n){const t=r[0].subtypes();if(!t)return null;if(t.subtypeField&&r[0].hasField(t.subtypeField)){const e=r[0].field(t.subtypeField);for(const r of t.subtypes)if(r.code===e)return r.code;return null}return null}throw new Error(\"Invalid Parameter\")}))},e.subtypename=function(t,e){return m(t,e,(function(t,e,r){if(o(r,1,1),r[0]instanceof n){const t=r[0].subtypes();if(!t)return\"\";if(t.subtypeField&&r[0].hasField(t.subtypeField)){const e=r[0].field(t.subtypeField);for(const r of t.subtypes)if(r.code===e)return r.name;return\"\"}return\"\"}throw new Error(\"Invalid Parameter\")}))},e.gdbversion=function(t,e){return m(t,e,(function(t,e,r){if(o(r,1,1),r[0]instanceof n)return r[0].gdbVersion();throw new Error(\"Invalid Parameter\")}))},e.domain=function(t,e){return m(t,e,(function(t,e,u){if(o(u,2,3),u[0]instanceof n){const t=u[0].fullDomain(a(u[1]),void 0===u[2]?void 0:i(u[2]));return t&&t.domain?\"coded-value\"===t.domain.type||\"codedValue\"===t.domain.type?r.convertObjectToArcadeDictionary({type:\"codedValue\",name:t.domain.name,dataType:b[t.field.type],codedValues:t.domain.codedValues.map((t=>({name:t.name,code:t.code})))}):r.convertObjectToArcadeDictionary({type:\"range\",name:t.domain.name,dataType:b[t.field.type],min:t.domain.min,max:t.domain.max}):null}throw new Error(\"Invalid Parameter\")}))},e.domainname=function(t,e){return m(t,e,(function(t,e,r){if(o(r,2,4),r[0]instanceof n)return r[0].domainValueLookup(a(r[1]),r[2],void 0===r[3]?void 0:i(r[3]));throw new Error(\"Invalid Parameter\")}))},e.domaincode=function(t,e){return m(t,e,(function(t,e,r){if(o(r,2,4),r[0]instanceof n)return r[0].domainCodeLookup(a(r[1]),r[2],void 0===r[3]?void 0:i(r[3]));throw new Error(\"Invalid Parameter\")}))},e.urlencode=function(t,e){return m(t,e,(function(t,e,n){if(o(n,1,1),null===n[0])return\"\";if(n[0]instanceof r){let t=\"\";for(const e of n[0].keys()){const r=n[0].field(e);\"\"!==t&&(t+=\"&\"),t+=null===r?encodeURIComponent(e)+\"=\":encodeURIComponent(e)+\"=\"+encodeURIComponent(r)}return t}return encodeURIComponent(a(n[0]))}))},e.hash=function(t,e){return m(t,e,(function(t,e,r){o(r,1,1);const n=new F(0);return C(r[0],n,{map:new Map,currentLength:0}),n.digest()}))},e.convertdirection=function(t,e){return m(t,e,(function(t,e,r){return o(r,3,3),j(r[0],r[1],r[2])}))}}export{N as registerFunctions};\n"]},"metadata":{},"sourceType":"module"}