{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { addTokenParameter as t } from \"../../../kernel.js\";\nimport o from \"../../../request.js\";\nimport { addProxy as e } from \"../../../core/urlUtils.js\";\nimport r from \"../support/AttachmentInfo.js\";\nimport { mapParameters as s } from \"../../../tasks/operations/urlUtils.js\";\n\nfunction n(t) {\n  const o = t.toJSON();\n  return o.attachmentTypes && (o.attachmentTypes = o.attachmentTypes.join(\",\")), o.keywords && (o.keywords = o.keywords.join(\",\")), o.globalIds && (o.globalIds = o.globalIds.join(\",\")), o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.size && (o.size = o.size.join(\",\")), o;\n}\n\nfunction a(o, s) {\n  const n = {};\n\n  for (const a of o) {\n    const {\n      parentObjectId: o,\n      parentGlobalId: c,\n      attachmentInfos: i\n    } = a;\n\n    for (const a of i) {\n      const {\n        id: i\n      } = a,\n            m = e(t(`${s}/${o}/attachments/${i}`)),\n            p = r.fromJSON(a);\n      p.set({\n        url: m,\n        parentObjectId: o,\n        parentGlobalId: c\n      }), n[o] ? n[o].push(p) : n[o] = [p];\n    }\n  }\n\n  return n;\n}\n\nfunction c(t, e, r) {\n  let a = {\n    query: s({ ...t.query,\n      f: \"json\",\n      ...n(e)\n    })\n  };\n  return r && (a = { ...r,\n    ...a,\n    query: { ...r.query,\n      ...a.query\n    }\n  }), o(t.path + \"/queryAttachments\", a);\n}\n\nexport { c as executeAttachmentQuery, a as processAttachmentQueryResult };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"names":["addTokenParameter","t","o","addProxy","e","r","mapParameters","s","n","toJSON","attachmentTypes","join","keywords","globalIds","objectIds","size","a","parentObjectId","parentGlobalId","c","attachmentInfos","i","id","m","p","fromJSON","set","url","push","query","f","path","executeAttachmentQuery","processAttachmentQueryResult"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";import{mapParameters as s}from\"../../../tasks/operations/urlUtils.js\";function n(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,s){const n={};for(const a of o){const{parentObjectId:o,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,m=e(t(`${s}/${o}/attachments/${i}`)),p=r.fromJSON(a);p.set({url:m,parentObjectId:o,parentGlobalId:c}),n[o]?n[o].push(p):n[o]=[p]}}return n}function c(t,e,r){let a={query:s({...t.query,f:\"json\",...n(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a)}export{c as executeAttachmentQuery,a as processAttachmentQueryResult};\n"]},"metadata":{},"sourceType":"module"}