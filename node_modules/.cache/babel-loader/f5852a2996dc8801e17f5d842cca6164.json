{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/Logger.js\";\nimport { enumeration as o } from \"../../../core/accessorSupport/decorators/enumeration.js\";\nimport { reader as t } from \"../../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as n } from \"../../../core/accessorSupport/decorators/writer.js\";\nimport i from \"./BaseRasterTransform.js\";\nimport f from \"../../../geometry/Point.js\";\nimport p from \"../../../geometry/Extent.js\";\n\nfunction l(e, r, o) {\n  const {\n    x: t,\n    y: s\n  } = r;\n\n  if (o < 2) {\n    return {\n      x: e[0] + t * e[2] + s * e[4],\n      y: e[1] + t * e[3] + s * e[5]\n    };\n  }\n\n  if (2 === o) {\n    const r = t * t,\n          o = s * s,\n          n = t * s;\n    return {\n      x: e[0] + t * e[2] + s * e[4] + r * e[6] + n * e[8] + o * e[10],\n      y: e[1] + t * e[3] + s * e[5] + r * e[7] + n * e[9] + o * e[11]\n    };\n  }\n\n  const n = t * t,\n        i = s * s,\n        f = t * s,\n        p = n * t,\n        l = n * s,\n        a = t * i,\n        c = s * i;\n  return {\n    x: e[0] + t * e[2] + s * e[4] + n * e[6] + f * e[8] + i * e[10] + p * e[12] + l * e[14] + a * e[16] + c * e[18],\n    y: e[1] + t * e[3] + s * e[5] + n * e[7] + f * e[9] + i * e[11] + p * e[13] + l * e[15] + a * e[17] + c * e[19]\n  };\n}\n\nfunction a(e, r, o) {\n  const {\n    xmin: t,\n    ymin: s,\n    xmax: n,\n    ymax: i,\n    spatialReference: f\n  } = r;\n  let a = [];\n  if (o < 2) a.push({\n    x: t,\n    y: i\n  }), a.push({\n    x: n,\n    y: i\n  }), a.push({\n    x: t,\n    y: s\n  }), a.push({\n    x: n,\n    y: s\n  });else {\n    let e = 10;\n\n    for (let r = 0; r < e; r++) a.push({\n      x: t,\n      y: s + (i - s) * r / (e - 1)\n    }), a.push({\n      x: n,\n      y: s + (i - s) * r / (e - 1)\n    });\n\n    e = 8;\n\n    for (let r = 1; r <= e; r++) a.push({\n      x: t + (n - t) * r / e,\n      y: s\n    }), a.push({\n      x: t + (n - t) * r / e,\n      y: i\n    });\n  }\n  a = a.map(r => l(e, r, o));\n  const c = a.map(e => e.x),\n        u = a.map(e => e.y);\n  return new p({\n    xmin: Math.min.apply(null, c),\n    xmax: Math.max.apply(null, c),\n    ymin: Math.min.apply(null, u),\n    ymax: Math.max.apply(null, u),\n    spatialReference: f\n  });\n}\n\nfunction c(e) {\n  const [r, o, t, s, n, i] = e,\n        f = t * i - n * s,\n        p = n * s - t * i;\n  return [(n * o - r * i) / f, (t * o - r * s) / p, i / f, s / p, -n / f, -t / p];\n}\n\nlet u = class extends i {\n  constructor() {\n    super(...arguments), this.polynomialOrder = 1, this.type = \"polynomial\";\n  }\n\n  readForwardCoefficients(e, r) {\n    const {\n      coeffX: o,\n      coeffY: t\n    } = r;\n    if (null == o || !o.length || null == t || !t.length || o.length !== t.length) return null;\n    const s = [];\n\n    for (let n = 0; n < o.length; n++) s.push(o[n]), s.push(t[n]);\n\n    return s;\n  }\n\n  writeForwardCoefficients(e, r, o) {\n    const t = [],\n          s = [];\n\n    for (let n = 0; n < (null == e ? void 0 : e.length); n++) n % 2 == 0 ? t.push(e[n]) : s.push(e[n]);\n\n    r.coeffX = t, r.coeffY = s;\n  }\n\n  get inverseCoefficients() {\n    let e = this._get(\"inverseCoefficients\");\n\n    const r = this._get(\"forwardCoefficients\");\n\n    return !e && r && this.polynomialOrder < 2 && (e = c(r)), e;\n  }\n\n  set inverseCoefficients(e) {\n    this._set(\"inverseCoefficients\", e);\n  }\n\n  readInverseCoefficients(e, r) {\n    const {\n      inverseCoeffX: o,\n      inverseCoeffY: t\n    } = r;\n    if (null == o || !o.length || null == t || !t.length || o.length !== t.length) return null;\n    const s = [];\n\n    for (let n = 0; n < o.length; n++) s.push(o[n]), s.push(t[n]);\n\n    return s;\n  }\n\n  writeInverseCoefficients(e, r, o) {\n    const t = [],\n          s = [];\n\n    for (let n = 0; n < (null == e ? void 0 : e.length); n++) n % 2 == 0 ? t.push(e[n]) : s.push(e[n]);\n\n    r.inverseCoeffX = t, r.inverseCoeffY = s;\n  }\n\n  forwardTransform(e) {\n    if (\"point\" === e.type) {\n      const r = l(this.forwardCoefficients, e, this.polynomialOrder);\n      return new f({\n        x: r.x,\n        y: r.y,\n        spatialReference: e.spatialReference\n      });\n    }\n\n    return a(this.forwardCoefficients, e, this.polynomialOrder);\n  }\n\n  inverseTransform(e) {\n    if (\"point\" === e.type) {\n      const r = l(this.inverseCoefficients, e, this.polynomialOrder);\n      return new f({\n        x: r.x,\n        y: r.y,\n        spatialReference: e.spatialReference\n      });\n    }\n\n    return a(this.inverseCoefficients, e, this.polynomialOrder);\n  }\n\n};\ne([r({\n  json: {\n    write: !0\n  }\n})], u.prototype, \"polynomialOrder\", void 0), e([r()], u.prototype, \"forwardCoefficients\", void 0), e([t(\"forwardCoefficients\", [\"coeffX\", \"coeffY\"])], u.prototype, \"readForwardCoefficients\", null), e([n(\"forwardCoefficients\")], u.prototype, \"writeForwardCoefficients\", null), e([r({\n  json: {\n    write: !0\n  }\n})], u.prototype, \"inverseCoefficients\", null), e([t(\"inverseCoefficients\", [\"inverseCoeffX\", \"inverseCoeffY\"])], u.prototype, \"readInverseCoefficients\", null), e([n(\"inverseCoefficients\")], u.prototype, \"writeInverseCoefficients\", null), e([r()], u.prototype, \"affectsPixelSize\", void 0), e([o({\n  PolynomialXform: \"polynomial\"\n})], u.prototype, \"type\", void 0), u = e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")], u);\nvar m = u;\nexport default m;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js"],"names":["_","e","property","r","enumeration","o","reader","t","subclass","s","writer","n","i","f","p","l","x","y","a","c","xmin","ymin","xmax","ymax","spatialReference","push","map","u","Math","min","apply","max","constructor","arguments","polynomialOrder","type","readForwardCoefficients","coeffX","coeffY","length","writeForwardCoefficients","inverseCoefficients","_get","_set","readInverseCoefficients","inverseCoeffX","inverseCoeffY","writeInverseCoefficients","forwardTransform","forwardCoefficients","inverseTransform","json","write","prototype","PolynomialXform","m"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"../../../core/accessorSupport/decorators/writer.js\";import i from\"./BaseRasterTransform.js\";import f from\"../../../geometry/Point.js\";import p from\"../../../geometry/Extent.js\";function l(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,n=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+n*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+n*e[9]+o*e[11]}}const n=t*t,i=s*s,f=t*s,p=n*t,l=n*s,a=t*i,c=s*i;return{x:e[0]+t*e[2]+s*e[4]+n*e[6]+f*e[8]+i*e[10]+p*e[12]+l*e[14]+a*e[16]+c*e[18],y:e[1]+t*e[3]+s*e[5]+n*e[7]+f*e[9]+i*e[11]+p*e[13]+l*e[15]+a*e[17]+c*e[19]}}function a(e,r,o){const{xmin:t,ymin:s,xmax:n,ymax:i,spatialReference:f}=r;let a=[];if(o<2)a.push({x:t,y:i}),a.push({x:n,y:i}),a.push({x:t,y:s}),a.push({x:n,y:s});else{let e=10;for(let r=0;r<e;r++)a.push({x:t,y:s+(i-s)*r/(e-1)}),a.push({x:n,y:s+(i-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)a.push({x:t+(n-t)*r/e,y:s}),a.push({x:t+(n-t)*r/e,y:i})}a=a.map((r=>l(e,r,o)));const c=a.map((e=>e.x)),u=a.map((e=>e.y));return new p({xmin:Math.min.apply(null,c),xmax:Math.max.apply(null,c),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:f})}function c(e){const[r,o,t,s,n,i]=e,f=t*i-n*s,p=n*s-t*i;return[(n*o-r*i)/f,(t*o-r*s)/p,i/f,s/p,-n/f,-t/p]}let u=class extends i{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=c(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.inverseCoeffX=t,r.inverseCoeffY=s}forwardTransform(e){if(\"point\"===e.type){const r=l(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return a(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=l(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return a(this.inverseCoefficients,e,this.polynomialOrder)}};e([r({json:{write:!0}})],u.prototype,\"polynomialOrder\",void 0),e([r()],u.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],u.prototype,\"readForwardCoefficients\",null),e([n(\"forwardCoefficients\")],u.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],u.prototype,\"readInverseCoefficients\",null),e([n(\"inverseCoefficients\")],u.prototype,\"writeInverseCoefficients\",null),e([r()],u.prototype,\"affectsPixelSize\",void 0),e([o({PolynomialXform:\"polynomial\"})],u.prototype,\"type\",void 0),u=e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],u);var m=u;export default m;\n"]},"metadata":{},"sourceType":"module"}