{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../../support/debugFlags.js\";\nlet e,\n    i,\n    n = !1,\n    l = !1,\n    o = !1,\n    s = !1,\n    a = null;\n\nfunction c(t, e) {\n  if (!l || !i) return;\n  u();\n  const n = i;\n  let o = 0;\n\n  for (let i = 0; i < t.accBinsNumX; i++) for (let e = 0; e < t.accBinsNumY; e++) {\n    const l = t.accBins[i][t.accBinsNumY - 1 - e];\n    o += l.length;\n    const s = i * t.accBinsSizeX,\n          a = (i + 1) * t.accBinsSizeX,\n          c = e * t.accBinsSizeY,\n          r = (e + 1) * t.accBinsSizeY;\n    n.fillText(l.length.toFixed(), s + 5, c + 15), p(s, a, c, r, \"blue\");\n  }\n\n  n.fillText(\"total totalShownLabels: \" + o, 70, 40), n.fillText(\"total visible labels: \" + e.size, 70, 50), n.fillText(\"total numTests: \" + t.accNumTests, 70, 30);\n}\n\nfunction r(i) {\n  o = t.DECONFLICTOR_SHOW_VISIBLE, s = t.DECONFLICTOR_SHOW_INVISIBLE, n = o || s, l = t.DECONFLICTOR_SHOW_GRID, a = null, n || l ? a = () => h(i) : e && (e.parentElement.removeChild(e), e = null);\n}\n\nfunction u() {\n  a && (a(), a = null);\n}\n\nfunction h(t) {\n  null == e && (e = document.createElement(\"canvas\"), e.setAttribute(\"id\", \"canvas2d\"), t.surface.parentElement.style.position = \"relative\", t.surface.parentElement.appendChild(e));\n  const n = t.width * t.pixelRatio,\n        l = t.height * t.pixelRatio;\n  e.setAttribute(\"width\", `${n}px`), e.setAttribute(\"height\", `${l}px`), e.setAttribute(\"style\", `position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${t.width}px;height:${t.height}px`), i = e.getContext(\"2d\"), i.clearRect(0, 0, t.width, t.height), i.font = \"12px Arial\";\n}\n\nfunction p(t, n, l, o, s) {\n  u();\n  const a = e.height,\n        c = i;\n  c.beginPath(), c.lineWidth = 1, c.strokeStyle = s, c.moveTo(t, a - l), c.lineTo(n, a - l), c.stroke(), c.lineTo(n, a - o), c.stroke(), c.lineTo(n, a - l), c.stroke(), c.lineTo(t, a - l), c.stroke(), c.lineTo(t, a - l), c.stroke(), c.closePath();\n}\n\nfunction f(t, e) {\n  n && (e && o || !e && s) && p(t.aabr[0], t.aabr[2], t.aabr[1], t.aabr[3], e ? \"green\" : \"red\");\n}\n\nexport { c as drawAccelerationStruct, f as drawPoly, r as prepare };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/graphics/deconflictorDebug.js"],"names":["t","e","i","n","l","o","s","a","c","u","accBinsNumX","accBinsNumY","accBins","length","accBinsSizeX","accBinsSizeY","r","fillText","toFixed","p","size","accNumTests","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","h","parentElement","removeChild","document","createElement","setAttribute","surface","style","position","appendChild","width","pixelRatio","height","getContext","clearRect","font","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","closePath","f","aabr","drawAccelerationStruct","drawPoly","prepare"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../support/debugFlags.js\";let e,i,n=!1,l=!1,o=!1,s=!1,a=null;function c(t,e){if(!l||!i)return;u();const n=i;let o=0;for(let i=0;i<t.accBinsNumX;i++)for(let e=0;e<t.accBinsNumY;e++){const l=t.accBins[i][t.accBinsNumY-1-e];o+=l.length;const s=i*t.accBinsSizeX,a=(i+1)*t.accBinsSizeX,c=e*t.accBinsSizeY,r=(e+1)*t.accBinsSizeY;n.fillText(l.length.toFixed(),s+5,c+15),p(s,a,c,r,\"blue\")}n.fillText(\"total totalShownLabels: \"+o,70,40),n.fillText(\"total visible labels: \"+e.size,70,50),n.fillText(\"total numTests: \"+t.accNumTests,70,30)}function r(i){o=t.DECONFLICTOR_SHOW_VISIBLE,s=t.DECONFLICTOR_SHOW_INVISIBLE,n=o||s,l=t.DECONFLICTOR_SHOW_GRID,a=null,n||l?a=()=>h(i):e&&(e.parentElement.removeChild(e),e=null)}function u(){a&&(a(),a=null)}function h(t){null==e&&(e=document.createElement(\"canvas\"),e.setAttribute(\"id\",\"canvas2d\"),t.surface.parentElement.style.position=\"relative\",t.surface.parentElement.appendChild(e));const n=t.width*t.pixelRatio,l=t.height*t.pixelRatio;e.setAttribute(\"width\",`${n}px`),e.setAttribute(\"height\",`${l}px`),e.setAttribute(\"style\",`position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${t.width}px;height:${t.height}px`),i=e.getContext(\"2d\"),i.clearRect(0,0,t.width,t.height),i.font=\"12px Arial\"}function p(t,n,l,o,s){u();const a=e.height,c=i;c.beginPath(),c.lineWidth=1,c.strokeStyle=s,c.moveTo(t,a-l),c.lineTo(n,a-l),c.stroke(),c.lineTo(n,a-o),c.stroke(),c.lineTo(n,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.closePath()}function f(t,e){n&&(e&&o||!e&&s)&&p(t.aabr[0],t.aabr[2],t.aabr[1],t.aabr[3],e?\"green\":\"red\")}export{c as drawAccelerationStruct,f as drawPoly,r as prepare};\n"]},"metadata":{},"sourceType":"module"}