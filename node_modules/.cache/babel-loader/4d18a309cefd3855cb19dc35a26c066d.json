{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport { isNone as r } from \"../../../../core/maybe.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { w as t } from \"../../../../chunks/mat4.js\";\nimport { c as i } from \"../../../../chunks/mat4f64.js\";\nimport { g as p, m as c } from \"../../../../chunks/vec3.js\";\nimport { c as l } from \"../../../../chunks/vec3f64.js\";\nimport { projectBuffer as u } from \"../../../../geometry/projection.js\";\nimport { TileTreeDebugger as n } from \"../../../support/TileTreeDebugger.js\";\nimport m from \"../../../../geometry/Polygon.js\";\nlet a = class extends n {\n  constructor(e) {\n    super(e);\n  }\n\n  getTiles() {\n    const e = this.lv.getVisibleNodes(),\n          r = this.view.renderSpatialReference,\n          s = this.nodeSR;\n    return e.map(e => h(e, r, s)).sort((e, r) => e.lij[0] === r.lij[0] ? e.label > r.label ? -1 : 1 : e.lij[0] - r.lij[0]);\n  }\n\n};\n\nfunction h(e, s, o) {\n  const i = e.serviceObb;\n  if (r(i) || r(s)) return null;\n  t(f, i.quaternion), p(j, i.center), u(j, o, 0, j, s, 0, 1), f[12] = j[0], f[13] = j[1], f[14] = j[2];\n  const l = [[], [], []];\n  p(j, i.halfSize), c(j, j, f), u(j, s, 0, j, o, 0, 1), l[0].push([j[0], j[1]]), p(j, i.halfSize), j[0] = -j[0], c(j, j, f), u(j, s, 0, j, o, 0, 1), l[0].push([j[0], j[1]]), p(j, i.halfSize), j[0] = -j[0], j[1] = -j[1], c(j, j, f), u(j, s, 0, j, o, 0, 1), l[0].push([j[0], j[1]]), p(j, i.halfSize), j[1] = -j[1], c(j, j, f), u(j, s, 0, j, o, 0, 1), l[0].push([j[0], j[1]]), l[1].push(l[0][0]), l[1].push(l[0][1]), p(j, i.halfSize), j[0] = -j[0], j[2] = -j[2], c(j, j, f), u(j, s, 0, j, o, 0, 1), l[1].push([j[0], j[1]]), p(j, i.halfSize), j[2] = -j[2], c(j, j, f), u(j, s, 0, j, o, 0, 1), l[1].push([j[0], j[1]]), l[2].push(l[0][0]), l[2].push(l[0][3]), p(j, i.halfSize), j[1] = -j[1], j[2] = -j[2], c(j, j, f), u(j, s, 0, j, o, 0, 1), l[2].push([j[0], j[1]]), l[2].push(l[1][3]);\n  const n = new m({\n    rings: l,\n    spatialReference: o\n  });\n  return {\n    lij: [e.level, e.childCount, 0],\n    label: e.id,\n    geometry: n\n  };\n}\n\ne([s({\n  constructOnly: !0\n})], a.prototype, \"lv\", void 0), e([s({\n  constructOnly: !0\n})], a.prototype, \"nodeSR\", void 0), a = e([o(\"esri.views.3d.layers.support.I3STreeDebugger\")], a);\nconst f = i(),\n      j = l();\nexport { a as I3STreeDebugger };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/layers/support/I3STreeDebugger.js"],"names":["_","e","isNone","r","property","s","subclass","o","w","t","c","i","g","p","m","l","projectBuffer","u","TileTreeDebugger","n","a","constructor","getTiles","lv","getVisibleNodes","view","renderSpatialReference","nodeSR","map","h","sort","lij","label","serviceObb","f","quaternion","j","center","halfSize","push","rings","spatialReference","level","childCount","id","geometry","constructOnly","prototype","I3STreeDebugger"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,iCAAlB;AAAoD,OAAM,yBAAN;AAAgC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,OAAM,yBAAN;AAAgC,OAAM,gDAAN;AAAuD,OAAM,4BAAN;AAAmC,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,4BAAlB;AAA+C,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIJ,CAAnB,QAAyB,4BAAzB;AAAsD,SAAOA,CAAC,IAAIK,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,oCAA9B;AAAmE,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,sCAAjC;AAAwE,OAAOL,CAAP,MAAa,iCAAb;AAA+C,IAAIM,CAAC,GAAC,cAAcD,CAAd,CAAe;AAACE,EAAAA,WAAW,CAACpB,CAAD,EAAG;AAAC,UAAMA,CAAN;AAAS;;AAAAqB,EAAAA,QAAQ,GAAE;AAAC,UAAMrB,CAAC,GAAC,KAAKsB,EAAL,CAAQC,eAAR,EAAR;AAAA,UAAkCrB,CAAC,GAAC,KAAKsB,IAAL,CAAUC,sBAA9C;AAAA,UAAqErB,CAAC,GAAC,KAAKsB,MAA5E;AAAmF,WAAO1B,CAAC,CAAC2B,GAAF,CAAO3B,CAAC,IAAE4B,CAAC,CAAC5B,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAX,EAAqByB,IAArB,CAA2B,CAAC7B,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAAC8B,GAAF,CAAM,CAAN,MAAW5B,CAAC,CAAC4B,GAAF,CAAM,CAAN,CAAX,GAAoB9B,CAAC,CAAC+B,KAAF,GAAQ7B,CAAC,CAAC6B,KAAV,GAAgB,CAAC,CAAjB,GAAmB,CAAvC,GAAyC/B,CAAC,CAAC8B,GAAF,CAAM,CAAN,IAAS5B,CAAC,CAAC4B,GAAF,CAAM,CAAN,CAApF,CAAP;AAAsG;;AAA7N,CAArB;;AAAoP,SAASF,CAAT,CAAW5B,CAAX,EAAaI,CAAb,EAAeE,CAAf,EAAiB;AAAC,QAAMI,CAAC,GAACV,CAAC,CAACgC,UAAV;AAAqB,MAAG9B,CAAC,CAACQ,CAAD,CAAD,IAAMR,CAAC,CAACE,CAAD,CAAV,EAAc,OAAO,IAAP;AAAYI,EAAAA,CAAC,CAACyB,CAAD,EAAGvB,CAAC,CAACwB,UAAL,CAAD,EAAkBtB,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC0B,MAAL,CAAnB,EAAgCpB,CAAC,CAACmB,CAAD,EAAG7B,CAAH,EAAK,CAAL,EAAO6B,CAAP,EAAS/B,CAAT,EAAW,CAAX,EAAa,CAAb,CAAjC,EAAiD6B,CAAC,CAAC,EAAD,CAAD,GAAME,CAAC,CAAC,CAAD,CAAxD,EAA4DF,CAAC,CAAC,EAAD,CAAD,GAAME,CAAC,CAAC,CAAD,CAAnE,EAAuEF,CAAC,CAAC,EAAD,CAAD,GAAME,CAAC,CAAC,CAAD,CAA9E;AAAkF,QAAMrB,CAAC,GAAC,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,CAAR;AAAmBF,EAAAA,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAAD,EAAgB5B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAAjB,EAAyBjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAA1B,EAA0CQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAA1C,EAAiEvB,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAAlE,EAAiFF,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAAxF,EAA4F1B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAA7F,EAAqGjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAAtG,EAAsHQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAAtH,EAA6IvB,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAA9I,EAA6JF,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAApK,EAAwKA,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAA/K,EAAmL1B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAApL,EAA4LjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAA7L,EAA6MQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAA7M,EAAoOvB,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAArO,EAAoPF,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAA3P,EAA+P1B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAAhQ,EAAwQjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAAzQ,EAAyRQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAAzR,EAAgTrB,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAUxB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,CAAhT,EAAmUA,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAUxB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,CAAnU,EAAsVF,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAAvV,EAAsWF,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAA7W,EAAiXA,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAAxX,EAA4X1B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAA7X,EAAqYjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAAtY,EAAsZQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAAtZ,EAA6avB,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAA9a,EAA6bF,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAApc,EAAwc1B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAAzc,EAAidjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAAld,EAAkeQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAAle,EAAyfrB,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAUxB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,CAAzf,EAA4gBA,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAUxB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,CAA5gB,EAA+hBF,CAAC,CAACuB,CAAD,EAAGzB,CAAC,CAAC2B,QAAL,CAAhiB,EAA+iBF,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAAtjB,EAA0jBA,CAAC,CAAC,CAAD,CAAD,GAAK,CAACA,CAAC,CAAC,CAAD,CAAjkB,EAAqkB1B,CAAC,CAAC0B,CAAD,EAAGA,CAAH,EAAKF,CAAL,CAAtkB,EAA8kBjB,CAAC,CAACmB,CAAD,EAAG/B,CAAH,EAAK,CAAL,EAAO+B,CAAP,EAAS7B,CAAT,EAAW,CAAX,EAAa,CAAb,CAA/kB,EAA+lBQ,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAU,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAV,CAA/lB,EAAsnBrB,CAAC,CAAC,CAAD,CAAD,CAAKwB,IAAL,CAAUxB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAV,CAAtnB;AAAyoB,QAAMI,CAAC,GAAC,IAAIL,CAAJ,CAAM;AAAC0B,IAAAA,KAAK,EAACzB,CAAP;AAAS0B,IAAAA,gBAAgB,EAAClC;AAA1B,GAAN,CAAR;AAA4C,SAAM;AAACwB,IAAAA,GAAG,EAAC,CAAC9B,CAAC,CAACyC,KAAH,EAASzC,CAAC,CAAC0C,UAAX,EAAsB,CAAtB,CAAL;AAA8BX,IAAAA,KAAK,EAAC/B,CAAC,CAAC2C,EAAtC;AAAyCC,IAAAA,QAAQ,EAAC1B;AAAlD,GAAN;AAA2D;;AAAAlB,CAAC,CAAC,CAACI,CAAC,CAAC;AAACyC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB1B,CAAC,CAAC2B,SAA3B,EAAqC,IAArC,EAA0C,KAAK,CAA/C,CAAD,EAAmD9C,CAAC,CAAC,CAACI,CAAC,CAAC;AAACyC,EAAAA,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB1B,CAAC,CAAC2B,SAA3B,EAAqC,QAArC,EAA8C,KAAK,CAAnD,CAApD,EAA0G3B,CAAC,GAACnB,CAAC,CAAC,CAACM,CAAC,CAAC,8CAAD,CAAF,CAAD,EAAqDa,CAArD,CAA7G;AAAqK,MAAMc,CAAC,GAACvB,CAAC,EAAT;AAAA,MAAYyB,CAAC,GAACrB,CAAC,EAAf;AAAkB,SAAOK,CAAC,IAAI4B,eAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{isNone as r}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{w as t}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{g as p,m as c}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as u}from\"../../../../geometry/projection.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";import m from\"../../../../geometry/Polygon.js\";let a=class extends n{constructor(e){super(e)}getTiles(){const e=this.lv.getVisibleNodes(),r=this.view.renderSpatialReference,s=this.nodeSR;return e.map((e=>h(e,r,s))).sort(((e,r)=>e.lij[0]===r.lij[0]?e.label>r.label?-1:1:e.lij[0]-r.lij[0]))}};function h(e,s,o){const i=e.serviceObb;if(r(i)||r(s))return null;t(f,i.quaternion),p(j,i.center),u(j,o,0,j,s,0,1),f[12]=j[0],f[13]=j[1],f[14]=j[2];const l=[[],[],[]];p(j,i.halfSize),c(j,j,f),u(j,s,0,j,o,0,1),l[0].push([j[0],j[1]]),p(j,i.halfSize),j[0]=-j[0],c(j,j,f),u(j,s,0,j,o,0,1),l[0].push([j[0],j[1]]),p(j,i.halfSize),j[0]=-j[0],j[1]=-j[1],c(j,j,f),u(j,s,0,j,o,0,1),l[0].push([j[0],j[1]]),p(j,i.halfSize),j[1]=-j[1],c(j,j,f),u(j,s,0,j,o,0,1),l[0].push([j[0],j[1]]),l[1].push(l[0][0]),l[1].push(l[0][1]),p(j,i.halfSize),j[0]=-j[0],j[2]=-j[2],c(j,j,f),u(j,s,0,j,o,0,1),l[1].push([j[0],j[1]]),p(j,i.halfSize),j[2]=-j[2],c(j,j,f),u(j,s,0,j,o,0,1),l[1].push([j[0],j[1]]),l[2].push(l[0][0]),l[2].push(l[0][3]),p(j,i.halfSize),j[1]=-j[1],j[2]=-j[2],c(j,j,f),u(j,s,0,j,o,0,1),l[2].push([j[0],j[1]]),l[2].push(l[1][3]);const n=new m({rings:l,spatialReference:o});return{lij:[e.level,e.childCount,0],label:e.id,geometry:n}}e([s({constructOnly:!0})],a.prototype,\"lv\",void 0),e([s({constructOnly:!0})],a.prototype,\"nodeSR\",void 0),a=e([o(\"esri.views.3d.layers.support.I3STreeDebugger\")],a);const f=i(),j=l();export{a as I3STreeDebugger};\n"]},"metadata":{},"sourceType":"module"}