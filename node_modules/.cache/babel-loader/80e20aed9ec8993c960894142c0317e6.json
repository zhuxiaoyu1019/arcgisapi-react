{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as r } from \"../../../../core/screenUtils.js\";\nimport { ZoomController as t } from \"../../state/controllers/global/ZoomController.js\";\nimport { ZoomController as e } from \"../../state/controllers/local/ZoomController.js\";\nimport { InputHandler as o } from \"../../../input/InputHandler.js\";\nimport { eventMatchesMousePointerAction as a } from \"../../../input/handlers/support.js\";\n\nclass s extends o {\n  constructor(r, t, e) {\n    super(!0), this.view = r, this.pointerAction = t, this.registerIncoming(\"drag\", e, r => this.handleDrag(r));\n  }\n\n  handleDrag(o) {\n    const s = o.data;\n    if (s.pointers.size > 1) return;\n    if (!a(o.data, this.pointerAction)) return;\n    const i = r(s.center.x, s.center.y);\n\n    switch (s.action) {\n      case \"start\":\n        this.cameraController && (this.cameraController.end(), this.cameraController = null), this.view.state.isGlobal ? this.cameraController = new t({\n          view: this.view\n        }) : this.cameraController = new e({\n          view: this.view\n        }), this.view.state.switchCameraController(this.cameraController), this.cameraController.begin(i);\n        break;\n\n      case \"update\":\n        this.cameraController && this.cameraController.update(i);\n        break;\n\n      case \"end\":\n        this.cameraController && (this.cameraController.end(), this.cameraController = null);\n    }\n\n    o.stopPropagation();\n  }\n\n}\n\nexport { s as DragZoom };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/input/handlers/DragZoom.js"],"names":["createScreenPointArray","r","ZoomController","t","e","InputHandler","o","eventMatchesMousePointerAction","a","s","constructor","view","pointerAction","registerIncoming","handleDrag","data","pointers","size","i","center","x","y","action","cameraController","end","state","isGlobal","switchCameraController","begin","update","stopPropagation","DragZoom"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,sBAAsB,IAAIC,CAAjC,QAAuC,iCAAvC;AAAyE,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,kDAA/B;AAAkF,SAAOD,cAAc,IAAIE,CAAzB,QAA+B,iDAA/B;AAAiF,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,gCAA7B;AAA8D,SAAOC,8BAA8B,IAAIC,CAAzC,QAA+C,oCAA/C;;AAAoF,MAAMC,CAAN,SAAgBH,CAAhB,CAAiB;AAACI,EAAAA,WAAW,CAACT,CAAD,EAAGE,CAAH,EAAKC,CAAL,EAAO;AAAC,UAAM,CAAC,CAAP,GAAU,KAAKO,IAAL,GAAUV,CAApB,EAAsB,KAAKW,aAAL,GAAmBT,CAAzC,EAA2C,KAAKU,gBAAL,CAAsB,MAAtB,EAA6BT,CAA7B,EAAgCH,CAAC,IAAE,KAAKa,UAAL,CAAgBb,CAAhB,CAAnC,CAA3C;AAAmG;;AAAAa,EAAAA,UAAU,CAACR,CAAD,EAAG;AAAC,UAAMG,CAAC,GAACH,CAAC,CAACS,IAAV;AAAe,QAAGN,CAAC,CAACO,QAAF,CAAWC,IAAX,GAAgB,CAAnB,EAAqB;AAAO,QAAG,CAACT,CAAC,CAACF,CAAC,CAACS,IAAH,EAAQ,KAAKH,aAAb,CAAL,EAAiC;AAAO,UAAMM,CAAC,GAACjB,CAAC,CAACQ,CAAC,CAACU,MAAF,CAASC,CAAV,EAAYX,CAAC,CAACU,MAAF,CAASE,CAArB,CAAT;;AAAiC,YAAOZ,CAAC,CAACa,MAAT;AAAiB,WAAI,OAAJ;AAAY,aAAKC,gBAAL,KAAwB,KAAKA,gBAAL,CAAsBC,GAAtB,IAA4B,KAAKD,gBAAL,GAAsB,IAA1E,GAAgF,KAAKZ,IAAL,CAAUc,KAAV,CAAgBC,QAAhB,GAAyB,KAAKH,gBAAL,GAAsB,IAAIpB,CAAJ,CAAM;AAACQ,UAAAA,IAAI,EAAC,KAAKA;AAAX,SAAN,CAA/C,GAAuE,KAAKY,gBAAL,GAAsB,IAAInB,CAAJ,CAAM;AAACO,UAAAA,IAAI,EAAC,KAAKA;AAAX,SAAN,CAA7K,EAAqM,KAAKA,IAAL,CAAUc,KAAV,CAAgBE,sBAAhB,CAAuC,KAAKJ,gBAA5C,CAArM,EAAmQ,KAAKA,gBAAL,CAAsBK,KAAtB,CAA4BV,CAA5B,CAAnQ;AAAkS;;AAAM,WAAI,QAAJ;AAAa,aAAKK,gBAAL,IAAuB,KAAKA,gBAAL,CAAsBM,MAAtB,CAA6BX,CAA7B,CAAvB;AAAuD;;AAAM,WAAI,KAAJ;AAAU,aAAKK,gBAAL,KAAwB,KAAKA,gBAAL,CAAsBC,GAAtB,IAA4B,KAAKD,gBAAL,GAAsB,IAA1E;AAAzZ;;AAAyejB,IAAAA,CAAC,CAACwB,eAAF;AAAoB;;AAAtvB;;AAAuvB,SAAOrB,CAAC,IAAIsB,QAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{ZoomController as t}from\"../../state/controllers/global/ZoomController.js\";import{ZoomController as e}from\"../../state/controllers/local/ZoomController.js\";import{InputHandler as o}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as a}from\"../../../input/handlers/support.js\";class s extends o{constructor(r,t,e){super(!0),this.view=r,this.pointerAction=t,this.registerIncoming(\"drag\",e,(r=>this.handleDrag(r)))}handleDrag(o){const s=o.data;if(s.pointers.size>1)return;if(!a(o.data,this.pointerAction))return;const i=r(s.center.x,s.center.y);switch(s.action){case\"start\":this.cameraController&&(this.cameraController.end(),this.cameraController=null),this.view.state.isGlobal?this.cameraController=new t({view:this.view}):this.cameraController=new e({view:this.view}),this.view.state.switchCameraController(this.cameraController),this.cameraController.begin(i);break;case\"update\":this.cameraController&&this.cameraController.update(i);break;case\"end\":this.cameraController&&(this.cameraController.end(),this.cameraController=null)}o.stopPropagation()}}export{s as DragZoom};\n"]},"metadata":{},"sourceType":"module"}