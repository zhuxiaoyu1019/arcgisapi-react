{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { clone as t } from \"../../../core/lang.js\";\nimport { create as s } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as i } from \"../../../geometry/support/boundsUtils.js\";\nimport { isExtent as r, isPolygon as n, isPolyline as o, isMultipoint as e, isPoint as a } from \"../../../geometry/support/jsonUtils.js\";\n\nclass c {\n  static local() {\n    return null === c.instance && (c.instance = new c()), c.instance;\n  }\n\n  execute(t, s, i) {\n    return new l(t, s, i);\n  }\n\n}\n\nc.instance = null;\n\nclass l {\n  constructor(t, s, i) {\n    this._inputGeometries = t, this._xFactor = void 0 !== s.xScaleFactor ? s.xScaleFactor : 1.15, this._yFactor = void 0 !== s.yScaleFactor ? s.yScaleFactor : 1.15;\n  }\n\n  next() {\n    let c = this._inputGeometries.next();\n\n    for (; c;) {\n      if (1 === this._xFactor && 1 === this._yFactor) return c;\n      const l = s();\n      i(l, c);\n      const u = (l[2] + l[0]) / 2,\n            m = (l[3] + l[1]) / 2;\n\n      if (r(c)) {\n        const t = {\n          rings: [[[c.xmin, c.ymin], [c.xmin, c.ymax], [c.xmax, c.ymax], [c.xmax, c.ymin], [c.xmin, c.ymin]]]\n        };\n        return this._scaleMultipath(t.rings, u, m), t;\n      }\n\n      if (n(c)) {\n        const s = t(c);\n        return this._scaleMultipath(s.rings, u, m), s;\n      }\n\n      if (o(c)) {\n        const s = t(c);\n        return this._scaleMultipath(s.paths, u, m), s;\n      }\n\n      if (e(c)) {\n        const s = t(c);\n        return this._scalePath(s.points, u, m), s;\n      }\n\n      if (a(c)) return c;\n      c = this._inputGeometries.next();\n    }\n\n    return null;\n  }\n\n  _scaleMultipath(t, s, i) {\n    if (t) for (const r of t) this._scalePath(r, s, i);\n  }\n\n  _scalePath(t, s, i) {\n    if (t) for (const r of t) {\n      const t = (r[0] - s) * this._xFactor,\n            n = (r[1] - i) * this._yFactor;\n      r[0] = s + t, r[1] = i + n;\n    }\n  }\n\n}\n\nexport { c as EffectScale };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js"],"names":["clone","t","create","s","getBoundsXY","i","isExtent","r","isPolygon","n","isPolyline","o","isMultipoint","e","isPoint","a","c","local","instance","execute","l","constructor","_inputGeometries","_xFactor","xScaleFactor","_yFactor","yScaleFactor","next","u","m","rings","xmin","ymin","ymax","xmax","_scaleMultipath","paths","_scalePath","points","EffectScale"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{create as s}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as i}from\"../../../geometry/support/boundsUtils.js\";import{isExtent as r,isPolygon as n,isPolyline as o,isMultipoint as e,isPoint as a}from\"../../../geometry/support/jsonUtils.js\";class c{static local(){return null===c.instance&&(c.instance=new c),c.instance}execute(t,s,i){return new l(t,s,i)}}c.instance=null;class l{constructor(t,s,i){this._inputGeometries=t,this._xFactor=void 0!==s.xScaleFactor?s.xScaleFactor:1.15,this._yFactor=void 0!==s.yScaleFactor?s.yScaleFactor:1.15}next(){let c=this._inputGeometries.next();for(;c;){if(1===this._xFactor&&1===this._yFactor)return c;const l=s();i(l,c);const u=(l[2]+l[0])/2,m=(l[3]+l[1])/2;if(r(c)){const t={rings:[[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]]]};return this._scaleMultipath(t.rings,u,m),t}if(n(c)){const s=t(c);return this._scaleMultipath(s.rings,u,m),s}if(o(c)){const s=t(c);return this._scaleMultipath(s.paths,u,m),s}if(e(c)){const s=t(c);return this._scalePath(s.points,u,m),s}if(a(c))return c;c=this._inputGeometries.next()}return null}_scaleMultipath(t,s,i){if(t)for(const r of t)this._scalePath(r,s,i)}_scalePath(t,s,i){if(t)for(const r of t){const t=(r[0]-s)*this._xFactor,n=(r[1]-i)*this._yFactor;r[0]=s+t,r[1]=i+n}}}export{c as EffectScale};\n"]},"metadata":{},"sourceType":"module"}