{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { removeUnordered as e } from \"../../../../core/arrayUtils.js\";\n\nclass t {\n  constructor() {\n    this.ids = new Set(), this.paused = !1;\n  }\n\n}\n\nclass s {\n  constructor({\n    collection: e,\n    forAllFeatures: t,\n    forAllFeaturesOfNode: s\n  }) {\n    this.highlights = [], this.collection = e, this.forAllFeatures = t, this.forAllFeaturesOfNode = s;\n  }\n\n  destroy() {\n    this.highlights.forEach(e => this.releaseSet(e)), this.highlights = null;\n  }\n\n  acquireSet() {\n    const s = new t();\n    this.highlights.push(s);\n    const i = {\n      remove: () => {\n        this.releaseSet(s), e(this.highlights, s);\n      },\n      pause: () => {\n        this.releaseSet(s), s.paused = !0;\n      },\n      resume: () => {\n        s.paused = !1, this.initializeSet(s);\n      }\n    };\n    return {\n      set: s,\n      handle: i\n    };\n  }\n\n  setFeatureIds(e, t) {\n    t.forEach(t => e.ids.add(t)), this.initializeSet(e);\n  }\n\n  initializeSet(e) {\n    this.forAllFeatures((t, s, i) => (e.ids.has(t) && this.collection.addComponentHighlight(i.objectHandle, s), 1));\n  }\n\n  releaseSet(e) {\n    this.forAllFeatures((t, s, i) => (e.ids.has(t) && this.collection.removeComponentHighlight(i.objectHandle, s), 1));\n  }\n\n  objectCreated(e) {\n    this.highlights.forEach(t => {\n      t.paused || this.forAllFeaturesOfNode(e, (s, i) => (t.ids.has(s) && this.collection.addComponentHighlight(e.objectHandle, i), 1));\n    });\n  }\n\n  objectDeleted(e) {\n    this.collection.clearHighlights(e.objectHandle);\n  }\n\n}\n\nexport default s;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js"],"names":["removeUnordered","e","t","constructor","ids","Set","paused","s","collection","forAllFeatures","forAllFeaturesOfNode","highlights","destroy","forEach","releaseSet","acquireSet","push","i","remove","pause","resume","initializeSet","set","handle","setFeatureIds","add","has","addComponentHighlight","objectHandle","removeComponentHighlight","objectCreated","objectDeleted","clearHighlights"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export default s;\n"]},"metadata":{},"sourceType":"module"}