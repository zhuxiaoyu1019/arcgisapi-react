{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../chunks/tslib.es6.js\";\nimport e from \"./Accessor.js\";\nimport s from \"./Collection.js\";\nimport { assumeNonNull as t } from \"./maybe.js\";\nimport { property as o } from \"./accessorSupport/decorators/property.js\";\nimport { subclass as i } from \"./accessorSupport/decorators/subclass.js\";\nlet h = class extends e {\n  constructor(r) {\n    super(r), this._groups = new Map();\n  }\n\n  destroy() {\n    this.removeAll();\n  }\n\n  get size() {\n    let r = 0;\n    return this._groups.forEach(e => {\n      r += e.length;\n    }), r;\n  }\n\n  add(r, e) {\n    if (!this._isHandle(r) && !Array.isArray(r) && !s.isCollection(r)) return this;\n\n    const t = this._getOrCreateGroup(e);\n\n    return Array.isArray(r) || s.isCollection(r) ? r.forEach(r => this._isHandle(r) && t.push(r)) : t.push(r), this.notifyChange(\"size\"), this;\n  }\n\n  forEach(r, e) {\n    if (\"function\" == typeof r) this._groups.forEach(e => e.forEach(r));else {\n      const s = this._getGroup(r);\n\n      s && e && s.forEach(e);\n    }\n  }\n\n  has(r) {\n    return this._groups.has(this._ensureGroupKey(r));\n  }\n\n  remove(r) {\n    if (Array.isArray(r) || s.isCollection(r)) return r.forEach(this.remove, this), this;\n    if (!this.has(r)) return this;\n\n    const e = this._getGroup(r);\n\n    for (let s = 0; s < e.length; s++) e[s].remove();\n\n    return this._deleteGroup(r), this.notifyChange(\"size\"), this;\n  }\n\n  removeAll() {\n    return this._groups.forEach(r => {\n      for (let e = 0; e < r.length; e++) r[e].remove();\n    }), this._groups.clear(), this.notifyChange(\"size\"), this;\n  }\n\n  _isHandle(r) {\n    return r && !!r.remove;\n  }\n\n  _getOrCreateGroup(r) {\n    if (this.has(r)) return this._getGroup(r);\n    const e = [];\n    return this._groups.set(this._ensureGroupKey(r), e), e;\n  }\n\n  _getGroup(r) {\n    return t(this._groups.get(this._ensureGroupKey(r)));\n  }\n\n  _deleteGroup(r) {\n    return this._groups.delete(this._ensureGroupKey(r));\n  }\n\n  _ensureGroupKey(r) {\n    return r || \"_default_\";\n  }\n\n};\nr([o({\n  readOnly: !0\n})], h.prototype, \"size\", null), h = r([i(\"esri.core.Handles\")], h);\nvar u = h;\nexport default u;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/core/Handles.js"],"names":["_","r","e","s","assumeNonNull","t","property","o","subclass","i","h","constructor","_groups","Map","destroy","removeAll","size","forEach","length","add","_isHandle","Array","isArray","isCollection","_getOrCreateGroup","push","notifyChange","_getGroup","has","_ensureGroupKey","remove","_deleteGroup","clear","set","get","delete","readOnly","prototype","u"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import s from\"./Collection.js\";import{assumeNonNull as t}from\"./maybe.js\";import{property as o}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";let h=class extends e{constructor(r){super(r),this._groups=new Map}destroy(){this.removeAll()}get size(){let r=0;return this._groups.forEach((e=>{r+=e.length})),r}add(r,e){if(!this._isHandle(r)&&!Array.isArray(r)&&!s.isCollection(r))return this;const t=this._getOrCreateGroup(e);return Array.isArray(r)||s.isCollection(r)?r.forEach((r=>this._isHandle(r)&&t.push(r))):t.push(r),this.notifyChange(\"size\"),this}forEach(r,e){if(\"function\"==typeof r)this._groups.forEach((e=>e.forEach(r)));else{const s=this._getGroup(r);s&&e&&s.forEach(e)}}has(r){return this._groups.has(this._ensureGroupKey(r))}remove(r){if(Array.isArray(r)||s.isCollection(r))return r.forEach(this.remove,this),this;if(!this.has(r))return this;const e=this._getGroup(r);for(let s=0;s<e.length;s++)e[s].remove();return this._deleteGroup(r),this.notifyChange(\"size\"),this}removeAll(){return this._groups.forEach((r=>{for(let e=0;e<r.length;e++)r[e].remove()})),this._groups.clear(),this.notifyChange(\"size\"),this}_isHandle(r){return r&&!!r.remove}_getOrCreateGroup(r){if(this.has(r))return this._getGroup(r);const e=[];return this._groups.set(this._ensureGroupKey(r),e),e}_getGroup(r){return t(this._groups.get(this._ensureGroupKey(r)))}_deleteGroup(r){return this._groups.delete(this._ensureGroupKey(r))}_ensureGroupKey(r){return r||\"_default_\"}};r([o({readOnly:!0})],h.prototype,\"size\",null),h=r([i(\"esri.core.Handles\")],h);var u=h;export default u;\n"]},"metadata":{},"sourceType":"module"}