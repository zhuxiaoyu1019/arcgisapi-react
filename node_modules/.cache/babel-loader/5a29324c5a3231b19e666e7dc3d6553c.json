{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from \"../core/Error.js\";\nimport { createDeferred as e } from \"../core/promiseUtils.js\";\nimport { getLocale as n, beforeLocaleChange as r } from \"./locale.js\";\nconst s = /^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,\n      o = {\n  ar: !0,\n  bs: !0,\n  ca: !0,\n  cs: !0,\n  da: !0,\n  de: !0,\n  el: !0,\n  en: !0,\n  es: !0,\n  et: !0,\n  fi: !0,\n  fr: !0,\n  he: !0,\n  hr: !0,\n  hu: !0,\n  id: !0,\n  it: !0,\n  ja: !0,\n  ko: !0,\n  lt: !0,\n  lv: !0,\n  nb: !0,\n  nl: !0,\n  pl: !0,\n  \"pt-BR\": !0,\n  \"pt-PT\": !0,\n  ro: !0,\n  ru: !0,\n  sk: !0,\n  sl: !0,\n  sr: !0,\n  sv: !0,\n  th: !0,\n  tr: !0,\n  uk: !0,\n  vi: !0,\n  \"zh-CN\": !0,\n  \"zh-HK\": !0,\n  \"zh-TW\": !0\n};\n\nfunction i(t) {\n  var e;\n  return null != (e = o[t]) && e;\n}\n\nconst a = [],\n      c = new Map();\n\nfunction d(t) {\n  for (const e of c.keys()) m(t.pattern, e) && c.delete(e);\n}\n\nfunction l(t) {\n  return a.includes(t) || (d(t), a.unshift(t)), {\n    remove() {\n      const e = a.indexOf(t);\n      e > -1 && (a.splice(e, 1), d(t));\n    }\n\n  };\n}\n\nasync function u(t) {\n  const e = n();\n  c.has(t) || c.set(t, f(t, e));\n  const r = c.get(t);\n  return await _.add(r), r;\n}\n\nfunction h(t) {\n  if (!s.test(t)) return null;\n  const [, e, n] = s.exec(t),\n        r = e + (n ? \"-\" + n.toUpperCase() : \"\");\n  return i(r) ? r : i(e) ? e : null;\n}\n\nasync function f(e, n) {\n  const r = [];\n\n  for (const t of a) if (m(t.pattern, e)) try {\n    return await t.fetchMessageBundle(e, n);\n  } catch (s) {\n    r.push(s);\n  }\n\n  if (r.length) throw new t(\"intl:message-bundle-error\", `Errors occurred while loading \"${e}\"`, {\n    errors: r\n  });\n  throw new t(\"intl:no-message-bundle-loader\", `No loader found for message bundle \"${e}\"`);\n}\n\nfunction m(t, e) {\n  return \"string\" == typeof t ? e.startsWith(t) : t.test(e);\n}\n\nr(() => {\n  c.clear();\n});\n\nconst _ = new class {\n  constructor() {\n    this._numLoading = 0;\n  }\n\n  async waitForAll() {\n    this._dfd && (await this._dfd.promise);\n  }\n\n  add(t) {\n    return this._increase(), t.then(() => this._decrease(), () => this._decrease()), this.waitForAll();\n  }\n\n  _increase() {\n    this._numLoading++, this._dfd || (this._dfd = e());\n  }\n\n  _decrease() {\n    this._numLoading = Math.max(this._numLoading - 1, 0), this._dfd && 0 === this._numLoading && (this._dfd.resolve(), this._dfd = null);\n  }\n\n}(),\n      p = {\n  cache: c,\n  loaders: a\n};\n\nexport { u as fetchMessageBundle, h as normalizeMessageBundleLocale, l as registerMessageBundleLoader, p as test };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/intl/messages.js"],"names":["t","createDeferred","e","getLocale","n","beforeLocaleChange","r","s","o","ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","i","a","c","Map","d","keys","m","pattern","delete","l","includes","unshift","remove","indexOf","splice","u","has","set","f","get","_","add","h","test","exec","toUpperCase","fetchMessageBundle","push","length","errors","startsWith","clear","constructor","_numLoading","waitForAll","_dfd","promise","_increase","then","_decrease","Math","max","resolve","p","cache","loaders","normalizeMessageBundleLocale","registerMessageBundleLoader"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../core/Error.js\";import{createDeferred as e}from\"../core/promiseUtils.js\";import{getLocale as n,beforeLocaleChange as r}from\"./locale.js\";const s=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,o={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,\"pt-BR\":!0,\"pt-PT\":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,\"zh-CN\":!0,\"zh-HK\":!0,\"zh-TW\":!0};function i(t){var e;return null!=(e=o[t])&&e}const a=[],c=new Map;function d(t){for(const e of c.keys())m(t.pattern,e)&&c.delete(e)}function l(t){return a.includes(t)||(d(t),a.unshift(t)),{remove(){const e=a.indexOf(t);e>-1&&(a.splice(e,1),d(t))}}}async function u(t){const e=n();c.has(t)||c.set(t,f(t,e));const r=c.get(t);return await _.add(r),r}function h(t){if(!s.test(t))return null;const[,e,n]=s.exec(t),r=e+(n?\"-\"+n.toUpperCase():\"\");return i(r)?r:i(e)?e:null}async function f(e,n){const r=[];for(const t of a)if(m(t.pattern,e))try{return await t.fetchMessageBundle(e,n)}catch(s){r.push(s)}if(r.length)throw new t(\"intl:message-bundle-error\",`Errors occurred while loading \"${e}\"`,{errors:r});throw new t(\"intl:no-message-bundle-loader\",`No loader found for message bundle \"${e}\"`)}function m(t,e){return\"string\"==typeof t?e.startsWith(t):t.test(e)}r((()=>{c.clear()}));const _=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=e())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},p={cache:c,loaders:a};export{u as fetchMessageBundle,h as normalizeMessageBundleLocale,l as registerMessageBundleLoader,p as test};\n"]},"metadata":{},"sourceType":"module"}