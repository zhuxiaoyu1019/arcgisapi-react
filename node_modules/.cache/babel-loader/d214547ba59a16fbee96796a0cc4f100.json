{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { n as e, s as t, a as r, b as i } from \"../../../../chunks/vec3.js\";\nimport { c as s } from \"../../../../chunks/vec3f64.js\";\nimport { center as a, scale as n } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { BufferViewVec3f as o } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { newLayout as u } from \"../../support/buffer/InterleavedLayout.js\";\nimport c from \"../lib/GLMaterial.js\";\nimport { Material as h, materialParametersDefaults as f } from \"../lib/Material.js\";\nimport { assert as l } from \"../lib/Util.js\";\nimport { writeDefaultAttributes as p, writePosition as m } from \"./internal/bufferWriterUtils.js\";\nimport { intersectTriangleGeometry as d } from \"./internal/MaterialUtil.js\";\nimport { ShadedColorMaterialTechniqueConfiguration as b, ShadedColorMaterialVertexAttrLocations as g, ShadedColorMaterialTechnique as q } from \"../shaders/ShadedColorMaterialTechnique.js\";\n\nclass v extends h {\n  constructor(e) {\n    super(e, C), this.supportsEdges = !0, this.techniqueConfig = new b(), this._vertexAttributeLocations = g;\n  }\n\n  getTechniqueConfig(e, t) {\n    return this.techniqueConfig.output = e, this.techniqueConfig.cullFace = this.params.cullFace, this.techniqueConfig.slicePlaneEnabled = this.params.slicePlaneEnabled, this.techniqueConfig.transparent = this.params.transparent, this.techniqueConfig.writeDepth = this.params.writeDepth, this.techniqueConfig.screenSizeEnabled = this.params.screenSizeEnabled, this.techniqueConfig.shadingEnabled = this.params.shadingEnabled, this.techniqueConfig.transparencyPassType = t ? t.transparencyPassType : 3, this.techniqueConfig.multipassTerrainEnabled = !!t && t.multipassTerrainEnabled, this.techniqueConfig.cullAboveGround = !!t && t.cullAboveGround, this.techniqueConfig;\n  }\n\n  getPassParameters() {\n    return this.params;\n  }\n\n  intersect(e, s, o, u, c, h, f) {\n    if (this.params.screenSizeEnabled) {\n      const o = e.vertexAttributes.get(\"offset\"),\n            l = {\n        applyToVertex: (e, s, a, n) => {\n          const c = t(P, o.data[3 * n + 0], o.data[3 * n + 1], o.data[3 * n + 2]),\n                h = t(x, e, s, a);\n          return r(c, c, this.params.screenSize * u.camera.computeRenderPixelSizeAt(c)), i(h, h, c), [h[0], h[1], h[2]];\n        },\n        applyToAabb: e => {\n          const t = a(e, P);\n          return n(e, this.params.screenSize * u.camera.computeRenderPixelSizeAt(t));\n        }\n      };\n      d(e, s, u, c, h, l, f);\n    } else d(e, s, u, c, h, void 0, f);\n  }\n\n  getGLMaterial(e) {\n    return 0 === e.output || 7 === e.output || 4 === e.output ? new E(e) : void 0;\n  }\n\n  createBufferWriter() {\n    return new S(this.params.screenSizeEnabled);\n  }\n\n}\n\nclass E extends c {\n  constructor(e) {\n    super(e), this.updateParameters();\n  }\n\n  updateParameters(e) {\n    this._technique = this._techniqueRep.releaseAndAcquire(q, this._material.getTechniqueConfig(this._output, e), this._technique);\n  }\n\n  beginSlot(e) {\n    if (4 === this._output) return 3 === e;\n    let t = 3;\n    return this._technique.configuration.transparent && (t = this._technique.configuration.writeDepth ? 5 : 8), e === t;\n  }\n\n  ensureParameters(e) {\n    this.updateParameters(e);\n  }\n\n  bind(e) {\n    this._technique.bindPass(this._material.getPassParameters(), e);\n  }\n\n}\n\nconst C = {\n  color: [1, 1, 1, 1],\n  shadingTint: [0, 0, 0, .25],\n  shadingDirection: e(s(), [.5, -.5, -.5]),\n  transparent: !1,\n  writeDepth: !0,\n  slicePlaneEnabled: !1,\n  cullFace: 0,\n  screenSizeEnabled: !1,\n  screenSize: 14,\n  shadingEnabled: !0,\n  ...f\n};\n\nclass S {\n  constructor(e) {\n    this.screenSizeEnabled = e;\n    const t = u().vec3f(\"position\").vec3f(\"normal\");\n    this.screenSizeEnabled && t.vec3f(\"offset\"), this.vertexBufferLayout = t;\n  }\n\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n\n  elementCount(e) {\n    return e.indices.get(\"position\").length;\n  }\n\n  write(e, t, r, i) {\n    if (p(t, this.vertexBufferLayout, e.transformation, e.invTranspTransformation, r, i), this.screenSizeEnabled) {\n      if (!t.vertexAttributes.has(\"offset\")) throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");\n      {\n        const s = t.vertexAttributes.get(\"offset\"),\n              a = t.indices.get(\"offset\");\n        l(3 === s.size);\n        const n = r.getField(\"offset\", o);\n        if (!n) throw new Error(\"unable to acquire view for offset\");\n        m(a, s.data, e.invTranspTransformation, n, i);\n      }\n    }\n  }\n\n}\n\nconst P = s(),\n      x = s();\nexport { v as ShadedColorMaterial };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js"],"names":["n","e","s","t","a","r","b","i","c","center","scale","BufferViewVec3f","o","newLayout","u","Material","h","materialParametersDefaults","f","assert","l","writeDefaultAttributes","p","writePosition","m","intersectTriangleGeometry","d","ShadedColorMaterialTechniqueConfiguration","ShadedColorMaterialVertexAttrLocations","g","ShadedColorMaterialTechnique","q","v","constructor","C","supportsEdges","techniqueConfig","_vertexAttributeLocations","getTechniqueConfig","output","cullFace","params","slicePlaneEnabled","transparent","writeDepth","screenSizeEnabled","shadingEnabled","transparencyPassType","multipassTerrainEnabled","cullAboveGround","getPassParameters","intersect","vertexAttributes","get","applyToVertex","P","data","x","screenSize","camera","computeRenderPixelSizeAt","applyToAabb","getGLMaterial","E","createBufferWriter","S","updateParameters","_technique","_techniqueRep","releaseAndAcquire","_material","_output","beginSlot","configuration","ensureParameters","bind","bindPass","color","shadingTint","shadingDirection","vec3f","vertexBufferLayout","allocate","createBuffer","elementCount","indices","length","write","transformation","invTranspTransformation","has","Error","size","getField","ShadedColorMaterial"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as h,materialParametersDefaults as f}from\"../lib/Material.js\";import{assert as l}from\"../lib/Util.js\";import{writeDefaultAttributes as p,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as d}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as b,ShadedColorMaterialVertexAttrLocations as g,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends h{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new b,this._vertexAttributeLocations=g}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,s,o,u,c,h,f){if(this.params.screenSizeEnabled){const o=e.vertexAttributes.get(\"offset\"),l={applyToVertex:(e,s,a,n)=>{const c=t(P,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),h=t(x,e,s,a);return r(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),i(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=a(e,P);return n(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};d(e,s,u,c,h,l,f)}else d(e,s,u,c,h,void 0,f)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new S(this.params.screenSizeEnabled)}}class E extends c{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(q,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(4===this._output)return 3===e;let t=3;return this._technique.configuration.transparent&&(t=this._technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(s(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class S{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(p(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),a=t.indices.get(\"offset\");l(3===s.size);const n=r.getField(\"offset\",o);if(!n)throw new Error(\"unable to acquire view for offset\");m(a,s.data,e.invTranspTransformation,n,i)}}}}const P=s(),x=s();export{v as ShadedColorMaterial};\n"]},"metadata":{},"sourceType":"module"}