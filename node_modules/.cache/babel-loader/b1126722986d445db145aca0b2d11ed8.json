{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport t from \"../../core/Logger.js\";\nimport { isPoint as n, isPolygon as o, isPolyline as r, isMultipoint as s } from \"../../geometry/support/jsonUtils.js\";\nimport c from \"./OptimizedFeature.js\";\nimport l from \"./OptimizedFeatureSet.js\";\nimport u from \"./OptimizedGeometry.js\";\n\nfunction i(e, t) {\n  return e ? t ? 4 : 3 : t ? 3 : 2;\n}\n\nconst f = t.getLogger(\"esri.tasks.support.optimizedFeatureSet\"),\n      h = {\n  esriGeometryPoint: 0,\n  esriGeometryPolyline: 2,\n  esriGeometryPolygon: 3,\n  esriGeometryMultipoint: 0\n},\n      a = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s;\n},\n      g = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s, e[n + 2] = t[o + 2];\n},\n      d = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s, e[n + 2] = t[o + 3];\n},\n      m = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s, e[n + 2] = t[o + 2], e[n + 3] = t[o + 3];\n};\n\nfunction y(e, t, n, o) {\n  if (e) {\n    if (n) return t && o ? m : g;\n    if (t && o) return d;\n  } else if (t && o) return g;\n\n  return a;\n}\n\nfunction p({\n  scale: e,\n  translate: t\n}, n) {\n  return Math.round((n - t[0]) / e[0]);\n}\n\nfunction I({\n  scale: e,\n  translate: t\n}, n) {\n  return Math.round((t[1] - n) / e[1]);\n}\n\nfunction b({\n  scale: e,\n  translate: t\n}, n) {\n  return n * e[0] + t[0];\n}\n\nfunction M({\n  scale: e,\n  translate: t\n}, n) {\n  return t[1] - n * e[1];\n}\n\nfunction w(e, t, n) {\n  return e ? t ? n ? Z(e) : T(e) : n ? P(e) : N(e) : null;\n}\n\nfunction N(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1]\n  };\n}\n\nfunction G(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e;\n}\n\nfunction T(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1],\n    z: t[2]\n  };\n}\n\nfunction F(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e.coords[2] = t.z, e;\n}\n\nfunction P(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1],\n    m: t[2]\n  };\n}\n\nfunction x(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e.coords[2] = t.m, e;\n}\n\nfunction Z(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1],\n    z: t[2],\n    m: t[3]\n  };\n}\n\nfunction k(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e.coords[2] = t.z, e.coords[3] = t.m, e;\n}\n\nfunction j(e, t, n, o) {\n  let r = N;\n  n && o ? r = Z : n ? r = T : o && (r = P);\n\n  for (const s of t) {\n    const {\n      geometry: t,\n      attributes: n\n    } = s,\n          o = t ? r(t) : null;\n    e.push({\n      attributes: n,\n      geometry: o\n    });\n  }\n\n  return e;\n}\n\nfunction E(e, t) {\n  return e && t ? k : e ? F : t ? x : G;\n}\n\nfunction z(e, t, n, o, r) {\n  const s = E(n, o);\n\n  for (const l of t) {\n    const {\n      geometry: t,\n      attributes: n\n    } = l;\n    let o;\n    t && (o = s(new u(), t)), e.push(new c(o, n, null, n[r]));\n  }\n\n  return e;\n}\n\nfunction S(e, t, n = E(null != t.z, null != t.m)) {\n  return n(e, t);\n}\n\nfunction v(e, t, n, o) {\n  for (const r of t) {\n    const {\n      geometry: t,\n      attributes: s\n    } = r;\n    let c;\n    t && (c = V(t, n, o)), e.push({\n      attributes: s,\n      geometry: c\n    });\n  }\n\n  return e;\n}\n\nfunction V(e, t, n) {\n  if (!e) return null;\n  const o = i(t, n),\n        r = [];\n\n  for (let s = 0; s < e.coords.length; s += o) {\n    const t = [];\n\n    for (let n = 0; n < o; n++) t.push(e.coords[s + n]);\n\n    r.push(t);\n  }\n\n  return t ? n ? {\n    points: r,\n    hasZ: t,\n    hasM: n\n  } : {\n    points: r,\n    hasZ: t\n  } : n ? {\n    points: r,\n    hasM: n\n  } : {\n    points: r\n  };\n}\n\nfunction Y(e, t, n, o, r) {\n  const s = i(n, o);\n\n  for (const l of t) {\n    const t = l.geometry,\n          n = l.attributes;\n    let o;\n    t && (o = _(new u(), t, s)), e.push(new c(o, n, null, n[r]));\n  }\n\n  return e;\n}\n\nfunction _(e, t, n = i(t.hasZ, t.hasM)) {\n  e.lengths[0] = t.points.length;\n  const o = e.coords;\n  let r = 0;\n\n  for (const s of t.points) for (let e = 0; e < n; e++) o[r++] = s[e];\n\n  return e;\n}\n\nfunction O(e, t, n, o) {\n  for (const r of t) {\n    const {\n      geometry: t,\n      attributes: s\n    } = r;\n    let c;\n    t && (c = A(t, n, o)), e.push({\n      attributes: s,\n      geometry: c\n    });\n  }\n\n  return e;\n}\n\nfunction A(e, t, n) {\n  if (!e) return null;\n  const o = i(t, n),\n        {\n    coords: r,\n    lengths: s\n  } = e,\n        c = [];\n  let l = 0;\n\n  for (const u of s) {\n    const e = [];\n\n    for (let t = 0; t < u; t++) {\n      const t = [];\n\n      for (let e = 0; e < o; e++) t.push(r[l++]);\n\n      e.push(t);\n    }\n\n    c.push(e);\n  }\n\n  return t ? n ? {\n    paths: c,\n    hasZ: t,\n    hasM: n\n  } : {\n    paths: c,\n    hasZ: t\n  } : n ? {\n    paths: c,\n    hasM: n\n  } : {\n    paths: c\n  };\n}\n\nfunction L(e, t, n, o, r) {\n  const s = i(n, o);\n\n  for (const l of t) {\n    const t = l.geometry,\n          n = l.attributes;\n    let o;\n    t && (o = U(new u(), t, s)), e.push(new c(o, n, null, n[r]));\n  }\n\n  return e;\n}\n\nfunction U(e, t, n = i(t.hasZ, t.hasM)) {\n  const {\n    lengths: o,\n    coords: r\n  } = e;\n  let s = 0;\n\n  for (const c of t.paths) {\n    for (const e of c) for (let t = 0; t < n; t++) r[s++] = e[t];\n\n    o.push(c.length);\n  }\n\n  return e;\n}\n\nfunction q(e, t, n, o) {\n  for (const r of t) {\n    const {\n      geometry: t,\n      attributes: s,\n      centroid: c\n    } = r;\n    let l;\n\n    if (t && (l = $(t, n, o)), c) {\n      const t = N(c);\n      e.push({\n        attributes: s,\n        centroid: t,\n        geometry: l\n      });\n    } else e.push({\n      attributes: s,\n      geometry: l\n    });\n  }\n\n  return e;\n}\n\nfunction $(e, t, n) {\n  if (!e) return null;\n  const o = i(t, n),\n        {\n    coords: r,\n    lengths: s\n  } = e,\n        c = [];\n  let l = 0;\n\n  for (const u of s) {\n    const e = [];\n\n    for (let t = 0; t < u; t++) {\n      const t = [];\n\n      for (let e = 0; e < o; e++) t.push(r[l++]);\n\n      e.push(t);\n    }\n\n    c.push(e);\n  }\n\n  return t ? n ? {\n    rings: c,\n    hasZ: t,\n    hasM: n\n  } : {\n    rings: c,\n    hasZ: t\n  } : n ? {\n    rings: c,\n    hasM: n\n  } : {\n    rings: c\n  };\n}\n\nfunction R(e, t, n, o, r) {\n  for (const s of t) {\n    const t = s.geometry,\n          l = s.centroid,\n          i = s.attributes;\n    let f;\n    t && (f = C(new u(), t, n, o)), l ? e.push(new c(f, i, G(new u(), l), i[r])) : e.push(new c(f, i, null, i[r]));\n  }\n\n  return e;\n}\n\nfunction C(e, t, n = t.hasZ, o = t.hasM) {\n  return B(e, t.rings, n, o), e;\n}\n\nfunction B(e, t, n, o) {\n  const r = i(n, o),\n        {\n    lengths: s,\n    coords: c\n  } = e;\n  let l = 0;\n  s.length = c.length = 0;\n\n  for (const u of t) {\n    for (const e of u) for (let t = 0; t < r; t++) c[l++] = e[t];\n\n    s.push(u.length);\n  }\n\n  return e;\n}\n\nconst D = [],\n      H = [];\n\nfunction J(e, t, n, o, r) {\n  D[0] = e;\n  const [s] = K(H, D, t, n, o, r);\n  return D.length = H.length = 0, s;\n}\n\nfunction K(t, n, o, r, s, l) {\n  if (t.length = 0, !o) {\n    for (const e of n) {\n      const n = e.attributes[l];\n      t.push(new c(null, e.attributes, null, n));\n    }\n\n    return t;\n  }\n\n  switch (o) {\n    case \"esriGeometryPoint\":\n      return z(t, n, r, s, l);\n\n    case \"esriGeometryMultipoint\":\n      return Y(t, n, r, s, l);\n\n    case \"esriGeometryPolyline\":\n      return L(t, n, r, s, l);\n\n    case \"esriGeometryPolygon\":\n      return R(t, n, r, s, l);\n\n    default:\n      f.error(\"convertToFeatureSet:unknown-geometry\", new e(`Unable to parse unknown geometry type '${o}'`)), t.length = 0;\n  }\n\n  return t;\n}\n\nfunction Q(t, n, o, r, s, c) {\n  const l = t.length;\n\n  switch (o) {\n    case \"esriGeometryPoint\":\n      z(t, n, r, s, c);\n      break;\n\n    case \"esriGeometryMultipoint\":\n      Y(t, n, r, s, c);\n      break;\n\n    case \"esriGeometryPolyline\":\n      L(t, n, r, s, c);\n      break;\n\n    case \"esriGeometryPolygon\":\n      R(t, n, r, s, c);\n      break;\n\n    default:\n      f.error(\"convertToFeatureSet:unknown-geometry\", new e(`Unable to parse unknown geometry type '${o}'`));\n  }\n\n  for (let e = 0; e < n.length; e++) t[e + l].geometryType = o, t[e + l].insertAfter = n[e].insertAfter, t[e + l].groupId = n[e].groupId;\n\n  return t;\n}\n\nfunction W(e, t, n, o) {\n  H[0] = e, te(D, H, t, n, o);\n  const r = D[0];\n  return D.length = H.length = 0, r;\n}\n\nfunction X(t, c, l) {\n  if (!t) return null;\n  const h = new u();\n\n  if (\"hasZ\" in t && null == c && (c = t.hasZ), \"hasM\" in t && null == l && (l = t.hasM), n(t)) {\n    return E(null != c ? c : null != t.z, null != l ? l : null != t.m)(h, t);\n  }\n\n  return o(t) ? C(h, t, c, l) : r(t) ? U(h, t, i(c, l)) : s(t) ? _(h, t, i(c, l)) : void f.error(\"convertFromGeometry:unknown-geometry\", new e(`Unable to parse unknown geometry type '${t}'`));\n}\n\nfunction ee(t, n, o, r) {\n  const s = t && (\"coords\" in t ? t : t.geometry);\n  if (!s) return null;\n\n  switch (n) {\n    case \"esriGeometryPoint\":\n      {\n        let e = N;\n        return o && r ? e = Z : o ? e = T : r && (e = P), e(s);\n      }\n\n    case \"esriGeometryMultipoint\":\n      return V(s, o, r);\n\n    case \"esriGeometryPolyline\":\n      return A(s, o, r);\n\n    case \"esriGeometryPolygon\":\n      return $(s, o, r);\n\n    default:\n      return void f.error(\"convertToGeometry:unknown-geometry\", new e(`Unable to parse unknown geometry type '${n}'`));\n  }\n}\n\nfunction te(t, n, o, r, s) {\n  switch (t.length = 0, o) {\n    case \"esriGeometryPoint\":\n      return j(t, n, r, s);\n\n    case \"esriGeometryMultipoint\":\n      return v(t, n, r, s);\n\n    case \"esriGeometryPolyline\":\n      return O(t, n, r, s);\n\n    case \"esriGeometryPolygon\":\n      return q(t, n, r, s);\n\n    default:\n      f.error(\"convertToFeatureSet:unknown-geometry\", new e(`Unable to parse unknown geometry type '${o}'`));\n  }\n\n  return t;\n}\n\nfunction ne(e) {\n  const {\n    objectIdFieldName: t,\n    spatialReference: n,\n    transform: o,\n    fields: r,\n    hasM: s,\n    hasZ: c,\n    features: l,\n    geometryType: u,\n    exceededTransferLimit: i,\n    uniqueIdField: f,\n    queryGeometry: h,\n    queryGeometryType: a\n  } = e,\n        g = {\n    features: te([], l, u, c, s),\n    fields: r,\n    geometryType: u,\n    objectIdFieldName: t,\n    spatialReference: n,\n    uniqueIdField: f,\n    queryGeometry: ee(h, a, !1, !1)\n  };\n  return o && (g.transform = o), i && (g.exceededTransferLimit = i), s && (g.hasM = s), c && (g.hasZ = c), g;\n}\n\nfunction oe(t, n) {\n  const o = new l(),\n        {\n    hasM: r,\n    hasZ: s,\n    features: c,\n    objectIdFieldName: u,\n    spatialReference: i,\n    geometryType: h,\n    exceededTransferLimit: a,\n    transform: g,\n    fields: d\n  } = t;\n  return d && (o.fields = d), o.geometryType = h, o.objectIdFieldName = u || n, o.spatialReference = i, o.objectIdFieldName ? (c && K(o.features, c, h, s, r, o.objectIdFieldName), a && (o.exceededTransferLimit = a), r && (o.hasM = r), s && (o.hasZ = s), g && (o.transform = g), o) : (f.error(new e(\"optimized-features:invalid-objectIdFieldName\", \"objectIdFieldName is missing\")), o);\n}\n\nfunction re(e) {\n  const {\n    transform: t,\n    features: n,\n    hasM: o,\n    hasZ: r\n  } = e;\n  if (!t) return e;\n\n  for (const s of n) s.geometry && ae(s.geometry, s.geometry, o, r, t), s.centroid && ae(s.centroid, s.centroid, o, r, t);\n\n  return e.transform = null, e;\n}\n\nfunction se(e, t) {\n  const {\n    geometryType: n,\n    features: o,\n    hasM: r,\n    hasZ: s\n  } = t;\n  if (!e) return t;\n\n  for (let c = 0; c < o.length; c++) {\n    const t = o[c],\n          l = t.weakClone();\n    l.geometry = new u(), ce(l.geometry, t.geometry, r, s, n, e), t.centroid && (l.centroid = new u(), ce(l.centroid, t.centroid, r, s, \"esriGeometryPoint\", e)), o[c] = l;\n  }\n\n  return t.transform = e, t;\n}\n\nfunction ce(e, t, n, o, r, s, c = n, l = o) {\n  if (e.lengths.length && (e.lengths.length = 0), e.coords.length && (e.coords.length = 0), !t || !t.coords.length) return null;\n  const u = h[r],\n        {\n    coords: f,\n    lengths: a\n  } = t,\n        g = i(n, o),\n        d = i(n && c, o && l),\n        m = y(n, o, c, l);\n  if (!a.length) return m(e.coords, f, 0, 0, p(s, f[0]), I(s, f[1])), e.lengths.length && (e.lengths.length = 0), e.coords.length = g, e;\n  let b,\n      M,\n      w,\n      N,\n      G = 0,\n      T = 0,\n      F = T;\n\n  for (const i of a) {\n    if (i < u) continue;\n    let t = 0;\n    T = F, w = b = p(s, f[G]), N = M = I(s, f[G + 1]), m(e.coords, f, T, G, w, N), t++, G += g, T += d;\n\n    for (let n = 1; n < i; n++, G += g) w = p(s, f[G]), N = I(s, f[G + 1]), w === b && N === M || (m(e.coords, f, T, G, w - b, N - M), T += d, t++, b = w, M = N);\n\n    t >= u && (e.lengths.push(t), F = T);\n  }\n\n  return e.coords.length = F, e.coords.length ? e : null;\n}\n\nfunction le(e, t, n, o, r, s, c = n, l = o) {\n  if (e.lengths.length && (e.lengths.length = 0), e.coords.length && (e.coords.length = 0), !t || !t.coords.length) return null;\n  const u = h[r],\n        {\n    coords: f,\n    lengths: a\n  } = t,\n        g = i(n, o),\n        d = i(n && c, o && l),\n        m = y(n, o, c, l);\n  if (!a.length) return m(e.coords, f, 0, 0, f[0], f[1]), e.lengths.length && (e.lengths.length = 0), e.coords.length = g, e;\n  let p = 0;\n  const I = s * s;\n\n  for (const i of a) {\n    if (i < u) {\n      p += i * g;\n      continue;\n    }\n\n    const t = e.coords.length / d,\n          n = p,\n          o = p + (i - 1) * g;\n    m(e.coords, f, e.coords.length, n, f[n], f[n + 1]), ie(e.coords, f, g, I, m, n, o), m(e.coords, f, e.coords.length, o, f[o], f[o + 1]);\n    const r = e.coords.length / d - t;\n    r >= u ? e.lengths.push(r) : e.coords.length = t * d, p += i * g;\n  }\n\n  return e.coords.length ? e : null;\n}\n\nfunction ue(e, t, n, o) {\n  const r = e[t],\n        s = e[t + 1],\n        c = e[n],\n        l = e[n + 1],\n        u = e[o],\n        i = e[o + 1];\n  let f = c,\n      h = l,\n      a = u - f,\n      g = i - h;\n\n  if (0 !== a || 0 !== g) {\n    const e = ((r - f) * a + (s - h) * g) / (a * a + g * g);\n    e > 1 ? (f = u, h = i) : e > 0 && (f += a * e, h += g * e);\n  }\n\n  return a = r - f, g = s - h, a * a + g * g;\n}\n\nfunction ie(e, t, n, o, r, s, c) {\n  let l,\n      u = o,\n      i = 0;\n\n  for (let f = s + n; f < c; f += n) l = ue(t, f, s, c), l > u && (i = f, u = l);\n\n  u > o && (i - s > n && ie(e, t, n, o, r, s, i), r(e, t, e.length, i, t[i], t[i + 1]), c - i > n && ie(e, t, n, o, r, i, c));\n}\n\nfunction fe(e, t, n, o) {\n  if (!t || !t.coords || !t.coords.length) return null;\n  const r = i(n, o);\n  let s = Number.POSITIVE_INFINITY,\n      c = Number.POSITIVE_INFINITY,\n      l = Number.NEGATIVE_INFINITY,\n      u = Number.NEGATIVE_INFINITY;\n\n  if (t && t.coords) {\n    const e = t.coords;\n\n    for (let t = 0; t < e.length; t += r) {\n      const n = e[t],\n            o = e[t + 1];\n      s = Math.min(s, n), l = Math.max(l, n), c = Math.min(c, o), u = Math.max(u, o);\n    }\n  }\n\n  return e[0] = s, e[1] = c, e[2] = l, e[3] = u, e;\n}\n\nfunction he(e, t, n, o) {\n  const r = i(n, o),\n        {\n    lengths: s,\n    coords: c\n  } = t;\n  let l = Number.POSITIVE_INFINITY,\n      u = Number.POSITIVE_INFINITY,\n      f = Number.NEGATIVE_INFINITY,\n      h = Number.NEGATIVE_INFINITY,\n      a = 0;\n\n  for (const i of s) {\n    let e = c[a],\n        t = c[a + 1];\n    l = Math.min(e, l), u = Math.min(t, u), f = Math.max(e, f), h = Math.max(t, h), a += r;\n\n    for (let n = 1; n < i; n++, a += r) {\n      const n = c[a],\n            o = c[a + 1];\n      e += n, t += o, n < 0 && (l = Math.min(l, e)), n > 0 && (f = Math.max(f, e)), o < 0 ? u = Math.min(u, t) : o > 0 && (h = Math.max(h, t));\n    }\n  }\n\n  return e[0] = l, e[1] = u, e[2] = f, e[3] = h, e;\n}\n\nfunction ae(e, t, n, o, r) {\n  const {\n    coords: s,\n    lengths: c\n  } = t,\n        l = n ? o ? m : g : o ? g : a,\n        u = i(n, o);\n  if (!s.length) return e !== t && (e.lengths.length = 0, e.coords.length = 0), e;\n  if (!c.length) return l(e.coords, s, 0, 0, b(r, s[0]), M(r, s[1])), e !== t && (e.lengths.length = 0, e.coords.length = u), e;\n  const [f, h] = r.scale;\n  let d = 0;\n\n  for (let i = 0; i < c.length; i++) {\n    const t = c[i];\n    e.lengths[i] = t;\n    let n = b(r, s[d]),\n        o = M(r, s[d + 1]);\n    l(e.coords, s, d, d, n, o), d += u;\n\n    for (let r = 1; r < t; r++, d += u) n += s[d] * f, o -= s[d + 1] * h, l(e.coords, s, d, d, n, o);\n  }\n\n  return e !== t && (e.lengths.length = c.length, e.coords.length = s.length), e;\n}\n\nfunction ge(e, t, n, o, r, s) {\n  const c = i(n, o),\n        l = y(n, o, r, s),\n        u = t.coords;\n  e.coords.length = 0, e.lengths.length = 0, e.lengths.push(...t.lengths);\n\n  for (let i = 0; i < u.length; i += c) l(e.coords, u, e.coords.length, i, u[i], u[i + 1]);\n\n  return e;\n}\n\nfunction de(e, t, n, o, r) {\n  if (!t || !t.coords || !t.coords.length) return null;\n  const s = h[n],\n        {\n    coords: c,\n    lengths: l\n  } = t,\n        u = y(o, r, o, r),\n        f = i(o, r);\n  let a = 0,\n      g = 0,\n      d = 0,\n      m = 0;\n\n  for (const i of l) {\n    g = m, u(e.coords, c, g, a, c[a], c[a + 1]), a += f;\n    let t = c[a],\n        n = c[a + 1],\n        o = t,\n        r = n,\n        l = n / t;\n    g += f, u(e.coords, c, g, a, o, r), a += f;\n\n    for (let s = 2; s < i; s++) {\n      t = c[a], n = c[a + 1];\n      const s = n / t,\n            i = l === s || !isFinite(l) && !isFinite(s),\n            h = i && isFinite(s) ? l >= 0 && s >= 0 || l <= 0 && s <= 0 : r >= 0 && n >= 0 || r <= 0 && n <= 0;\n      i && h ? (o += t, r += n) : (o = t, r = n, g += f), u(e.coords, c, g, a, o, r), a += f, l = s;\n    }\n\n    g += f;\n    const h = (g - m) / f;\n    h >= s && (e.lengths[d] = h, m = g, d++);\n  }\n\n  return e.coords.length > m && (e.coords.length = m), e.lengths.length > d && (e.lengths.length = d), e.coords.length && e.lengths.length ? e : null;\n}\n\nfunction me(e, t, n, o) {\n  let r = 0,\n      s = e[o * t],\n      c = e[o * (t + 1)];\n\n  for (let l = 1; l < n; l++) {\n    const n = s + e[o * (t + l)],\n          u = c + e[o * (t + l) + 1],\n          i = (n - s) * (u + c);\n    s = n, c = u, r += i;\n  }\n\n  return .5 * r;\n}\n\nfunction ye(e, t) {\n  const {\n    coords: n,\n    lengths: o\n  } = e;\n  let r = 0,\n      s = 0;\n\n  for (let c = 0; c < o.length; c++) {\n    s += me(n, r, o[c], t), r += c;\n  }\n\n  return Math.abs(s);\n}\n\nfunction pe(e, t) {\n  const n = e.clone(),\n        o = e.coords,\n        r = e.lengths;\n  let s = 0;\n\n  for (let c = 0; c < r.length; c++) {\n    const e = r[c];\n    let l = o[t * s],\n        u = o[t * s + 1];\n\n    for (let r = 1; r < e; r++) {\n      const e = o[t * (s + r)],\n            c = o[t * (s + r) + 1],\n            i = e - l,\n            f = c - u;\n      n.coords[t * (s + r)] = i, n.coords[t * (s + r) + 1] = f, l = e, u = c;\n    }\n\n    s += e;\n  }\n\n  return n;\n}\n\nfunction Ie(e, t) {\n  const n = e.clone(),\n        o = e.coords,\n        r = e.lengths;\n  let s = 0;\n\n  for (let c = 0; c < r.length; c++) {\n    const e = r[c];\n    let l = o[t * s],\n        u = o[t * s + 1];\n\n    for (let r = 1; r < e; r++) {\n      const e = l + o[t * (s + r)],\n            c = u + o[t * (s + r) + 1];\n      n.coords[t * (s + r)] = e, n.coords[t * (s + r) + 1] = c, l = e, u = c;\n    }\n\n    s += e;\n  }\n\n  return n;\n}\n\nexport { J as convertFromFeature, oe as convertFromFeatureSet, K as convertFromFeatures, X as convertFromGeometry, Q as convertFromGraphics, _ as convertFromMultipoint, Y as convertFromMultipointFeatures, B as convertFromNestedArray, S as convertFromPoint, z as convertFromPointFeatures, C as convertFromPolygon, U as convertFromPolyline, L as convertFromPolylineFeatures, W as convertToFeature, ne as convertToFeatureSet, te as convertToFeatures, ee as convertToGeometry, V as convertToMultipoint, v as convertToMultipointFeatures, w as convertToPoint, $ as convertToPolygon, A as convertToPolyline, Ie as deltaDecodeGeometry, pe as deltaEncodeGeometry, le as generalizeOptimizedGeometry, fe as getBoundsOptimizedGeometry, ye as getQuantizedArea, he as getQuantizedBoundsOptimizedGeometry, me as getSignedQuantizedRingArea, se as quantizeOptimizedFeatureSet, ce as quantizeOptimizedGeometry, p as quantizeX, I as quantizeY, de as removeCollinearVectices, ge as removeZMValues, re as unquantizeOptimizedFeatureSet, ae as unquantizeOptimizedGeometry, b as unquantizeX, M as unquantizeY };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js"],"names":["e","t","isPoint","n","isPolygon","o","isPolyline","r","isMultipoint","s","c","l","u","i","f","getLogger","h","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","a","g","d","m","y","p","scale","translate","Math","round","I","b","M","w","Z","T","P","N","coords","x","G","z","F","k","j","geometry","attributes","push","E","S","v","V","length","points","hasZ","hasM","Y","_","lengths","O","A","paths","L","U","q","centroid","$","rings","R","C","B","D","H","J","K","error","Q","geometryType","insertAfter","groupId","W","te","X","ee","ne","objectIdFieldName","spatialReference","transform","fields","features","exceededTransferLimit","uniqueIdField","queryGeometry","queryGeometryType","oe","re","ae","se","weakClone","ce","le","ie","ue","fe","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","he","ge","de","isFinite","me","ye","abs","pe","clone","Ie","convertFromFeature","convertFromFeatureSet","convertFromFeatures","convertFromGeometry","convertFromGraphics","convertFromMultipoint","convertFromMultipointFeatures","convertFromNestedArray","convertFromPoint","convertFromPointFeatures","convertFromPolygon","convertFromPolyline","convertFromPolylineFeatures","convertToFeature","convertToFeatureSet","convertToFeatures","convertToGeometry","convertToMultipoint","convertToMultipointFeatures","convertToPoint","convertToPolygon","convertToPolyline","deltaDecodeGeometry","deltaEncodeGeometry","generalizeOptimizedGeometry","getBoundsOptimizedGeometry","getQuantizedArea","getQuantizedBoundsOptimizedGeometry","getSignedQuantizedRingArea","quantizeOptimizedFeatureSet","quantizeOptimizedGeometry","quantizeX","quantizeY","removeCollinearVectices","removeZMValues","unquantizeOptimizedFeatureSet","unquantizeOptimizedGeometry","unquantizeX","unquantizeY"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../core/Logger.js\";import{isPoint as n,isPolygon as o,isPolyline as r,isMultipoint as s}from\"../../geometry/support/jsonUtils.js\";import c from\"./OptimizedFeature.js\";import l from\"./OptimizedFeatureSet.js\";import u from\"./OptimizedGeometry.js\";function i(e,t){return e?t?4:3:t?3:2}const f=t.getLogger(\"esri.tasks.support.optimizedFeatureSet\"),h={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},a=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s},g=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2]},d=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+3]},m=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2],e[n+3]=t[o+3]};function y(e,t,n,o){if(e){if(n)return t&&o?m:g;if(t&&o)return d}else if(t&&o)return g;return a}function p({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function I({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function b({scale:e,translate:t},n){return n*e[0]+t[0]}function M({scale:e,translate:t},n){return t[1]-n*e[1]}function w(e,t,n){return e?t?n?Z(e):T(e):n?P(e):N(e):null}function N(e){const t=e.coords;return{x:t[0],y:t[1]}}function G(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function T(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function Z(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function k(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function j(e,t,n,o){let r=N;n&&o?r=Z:n?r=T:o&&(r=P);for(const s of t){const{geometry:t,attributes:n}=s,o=t?r(t):null;e.push({attributes:n,geometry:o})}return e}function E(e,t){return e&&t?k:e?F:t?x:G}function z(e,t,n,o,r){const s=E(n,o);for(const l of t){const{geometry:t,attributes:n}=l;let o;t&&(o=s(new u,t)),e.push(new c(o,n,null,n[r]))}return e}function S(e,t,n=E(null!=t.z,null!=t.m)){return n(e,t)}function v(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=V(t,n,o)),e.push({attributes:s,geometry:c})}return e}function V(e,t,n){if(!e)return null;const o=i(t,n),r=[];for(let s=0;s<e.coords.length;s+=o){const t=[];for(let n=0;n<o;n++)t.push(e.coords[s+n]);r.push(t)}return t?n?{points:r,hasZ:t,hasM:n}:{points:r,hasZ:t}:n?{points:r,hasM:n}:{points:r}}function Y(e,t,n,o,r){const s=i(n,o);for(const l of t){const t=l.geometry,n=l.attributes;let o;t&&(o=_(new u,t,s)),e.push(new c(o,n,null,n[r]))}return e}function _(e,t,n=i(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const o=e.coords;let r=0;for(const s of t.points)for(let e=0;e<n;e++)o[r++]=s[e];return e}function O(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=A(t,n,o)),e.push({attributes:s,geometry:c})}return e}function A(e,t,n){if(!e)return null;const o=i(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const u of s){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<o;e++)t.push(r[l++]);e.push(t)}c.push(e)}return t?n?{paths:c,hasZ:t,hasM:n}:{paths:c,hasZ:t}:n?{paths:c,hasM:n}:{paths:c}}function L(e,t,n,o,r){const s=i(n,o);for(const l of t){const t=l.geometry,n=l.attributes;let o;t&&(o=U(new u,t,s)),e.push(new c(o,n,null,n[r]))}return e}function U(e,t,n=i(t.hasZ,t.hasM)){const{lengths:o,coords:r}=e;let s=0;for(const c of t.paths){for(const e of c)for(let t=0;t<n;t++)r[s++]=e[t];o.push(c.length)}return e}function q(e,t,n,o){for(const r of t){const{geometry:t,attributes:s,centroid:c}=r;let l;if(t&&(l=$(t,n,o)),c){const t=N(c);e.push({attributes:s,centroid:t,geometry:l})}else e.push({attributes:s,geometry:l})}return e}function $(e,t,n){if(!e)return null;const o=i(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const u of s){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<o;e++)t.push(r[l++]);e.push(t)}c.push(e)}return t?n?{rings:c,hasZ:t,hasM:n}:{rings:c,hasZ:t}:n?{rings:c,hasM:n}:{rings:c}}function R(e,t,n,o,r){for(const s of t){const t=s.geometry,l=s.centroid,i=s.attributes;let f;t&&(f=C(new u,t,n,o)),l?e.push(new c(f,i,G(new u,l),i[r])):e.push(new c(f,i,null,i[r]))}return e}function C(e,t,n=t.hasZ,o=t.hasM){return B(e,t.rings,n,o),e}function B(e,t,n,o){const r=i(n,o),{lengths:s,coords:c}=e;let l=0;s.length=c.length=0;for(const u of t){for(const e of u)for(let t=0;t<r;t++)c[l++]=e[t];s.push(u.length)}return e}const D=[],H=[];function J(e,t,n,o,r){D[0]=e;const[s]=K(H,D,t,n,o,r);return D.length=H.length=0,s}function K(t,n,o,r,s,l){if(t.length=0,!o){for(const e of n){const n=e.attributes[l];t.push(new c(null,e.attributes,null,n))}return t}switch(o){case\"esriGeometryPoint\":return z(t,n,r,s,l);case\"esriGeometryMultipoint\":return Y(t,n,r,s,l);case\"esriGeometryPolyline\":return L(t,n,r,s,l);case\"esriGeometryPolygon\":return R(t,n,r,s,l);default:f.error(\"convertToFeatureSet:unknown-geometry\",new e(`Unable to parse unknown geometry type '${o}'`)),t.length=0}return t}function Q(t,n,o,r,s,c){const l=t.length;switch(o){case\"esriGeometryPoint\":z(t,n,r,s,c);break;case\"esriGeometryMultipoint\":Y(t,n,r,s,c);break;case\"esriGeometryPolyline\":L(t,n,r,s,c);break;case\"esriGeometryPolygon\":R(t,n,r,s,c);break;default:f.error(\"convertToFeatureSet:unknown-geometry\",new e(`Unable to parse unknown geometry type '${o}'`))}for(let e=0;e<n.length;e++)t[e+l].geometryType=o,t[e+l].insertAfter=n[e].insertAfter,t[e+l].groupId=n[e].groupId;return t}function W(e,t,n,o){H[0]=e,te(D,H,t,n,o);const r=D[0];return D.length=H.length=0,r}function X(t,c,l){if(!t)return null;const h=new u;if(\"hasZ\"in t&&null==c&&(c=t.hasZ),\"hasM\"in t&&null==l&&(l=t.hasM),n(t)){return E(null!=c?c:null!=t.z,null!=l?l:null!=t.m)(h,t)}return o(t)?C(h,t,c,l):r(t)?U(h,t,i(c,l)):s(t)?_(h,t,i(c,l)):void f.error(\"convertFromGeometry:unknown-geometry\",new e(`Unable to parse unknown geometry type '${t}'`))}function ee(t,n,o,r){const s=t&&(\"coords\"in t?t:t.geometry);if(!s)return null;switch(n){case\"esriGeometryPoint\":{let e=N;return o&&r?e=Z:o?e=T:r&&(e=P),e(s)}case\"esriGeometryMultipoint\":return V(s,o,r);case\"esriGeometryPolyline\":return A(s,o,r);case\"esriGeometryPolygon\":return $(s,o,r);default:return void f.error(\"convertToGeometry:unknown-geometry\",new e(`Unable to parse unknown geometry type '${n}'`))}}function te(t,n,o,r,s){switch(t.length=0,o){case\"esriGeometryPoint\":return j(t,n,r,s);case\"esriGeometryMultipoint\":return v(t,n,r,s);case\"esriGeometryPolyline\":return O(t,n,r,s);case\"esriGeometryPolygon\":return q(t,n,r,s);default:f.error(\"convertToFeatureSet:unknown-geometry\",new e(`Unable to parse unknown geometry type '${o}'`))}return t}function ne(e){const{objectIdFieldName:t,spatialReference:n,transform:o,fields:r,hasM:s,hasZ:c,features:l,geometryType:u,exceededTransferLimit:i,uniqueIdField:f,queryGeometry:h,queryGeometryType:a}=e,g={features:te([],l,u,c,s),fields:r,geometryType:u,objectIdFieldName:t,spatialReference:n,uniqueIdField:f,queryGeometry:ee(h,a,!1,!1)};return o&&(g.transform=o),i&&(g.exceededTransferLimit=i),s&&(g.hasM=s),c&&(g.hasZ=c),g}function oe(t,n){const o=new l,{hasM:r,hasZ:s,features:c,objectIdFieldName:u,spatialReference:i,geometryType:h,exceededTransferLimit:a,transform:g,fields:d}=t;return d&&(o.fields=d),o.geometryType=h,o.objectIdFieldName=u||n,o.spatialReference=i,o.objectIdFieldName?(c&&K(o.features,c,h,s,r,o.objectIdFieldName),a&&(o.exceededTransferLimit=a),r&&(o.hasM=r),s&&(o.hasZ=s),g&&(o.transform=g),o):(f.error(new e(\"optimized-features:invalid-objectIdFieldName\",\"objectIdFieldName is missing\")),o)}function re(e){const{transform:t,features:n,hasM:o,hasZ:r}=e;if(!t)return e;for(const s of n)s.geometry&&ae(s.geometry,s.geometry,o,r,t),s.centroid&&ae(s.centroid,s.centroid,o,r,t);return e.transform=null,e}function se(e,t){const{geometryType:n,features:o,hasM:r,hasZ:s}=t;if(!e)return t;for(let c=0;c<o.length;c++){const t=o[c],l=t.weakClone();l.geometry=new u,ce(l.geometry,t.geometry,r,s,n,e),t.centroid&&(l.centroid=new u,ce(l.centroid,t.centroid,r,s,\"esriGeometryPoint\",e)),o[c]=l}return t.transform=e,t}function ce(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=h[r],{coords:f,lengths:a}=t,g=i(n,o),d=i(n&&c,o&&l),m=y(n,o,c,l);if(!a.length)return m(e.coords,f,0,0,p(s,f[0]),I(s,f[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=g,e;let b,M,w,N,G=0,T=0,F=T;for(const i of a){if(i<u)continue;let t=0;T=F,w=b=p(s,f[G]),N=M=I(s,f[G+1]),m(e.coords,f,T,G,w,N),t++,G+=g,T+=d;for(let n=1;n<i;n++,G+=g)w=p(s,f[G]),N=I(s,f[G+1]),w===b&&N===M||(m(e.coords,f,T,G,w-b,N-M),T+=d,t++,b=w,M=N);t>=u&&(e.lengths.push(t),F=T)}return e.coords.length=F,e.coords.length?e:null}function le(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=h[r],{coords:f,lengths:a}=t,g=i(n,o),d=i(n&&c,o&&l),m=y(n,o,c,l);if(!a.length)return m(e.coords,f,0,0,f[0],f[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=g,e;let p=0;const I=s*s;for(const i of a){if(i<u){p+=i*g;continue}const t=e.coords.length/d,n=p,o=p+(i-1)*g;m(e.coords,f,e.coords.length,n,f[n],f[n+1]),ie(e.coords,f,g,I,m,n,o),m(e.coords,f,e.coords.length,o,f[o],f[o+1]);const r=e.coords.length/d-t;r>=u?e.lengths.push(r):e.coords.length=t*d,p+=i*g}return e.coords.length?e:null}function ue(e,t,n,o){const r=e[t],s=e[t+1],c=e[n],l=e[n+1],u=e[o],i=e[o+1];let f=c,h=l,a=u-f,g=i-h;if(0!==a||0!==g){const e=((r-f)*a+(s-h)*g)/(a*a+g*g);e>1?(f=u,h=i):e>0&&(f+=a*e,h+=g*e)}return a=r-f,g=s-h,a*a+g*g}function ie(e,t,n,o,r,s,c){let l,u=o,i=0;for(let f=s+n;f<c;f+=n)l=ue(t,f,s,c),l>u&&(i=f,u=l);u>o&&(i-s>n&&ie(e,t,n,o,r,s,i),r(e,t,e.length,i,t[i],t[i+1]),c-i>n&&ie(e,t,n,o,r,i,c))}function fe(e,t,n,o){if(!t||!t.coords||!t.coords.length)return null;const r=i(n,o);let s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=r){const n=e[t],o=e[t+1];s=Math.min(s,n),l=Math.max(l,n),c=Math.min(c,o),u=Math.max(u,o)}}return e[0]=s,e[1]=c,e[2]=l,e[3]=u,e}function he(e,t,n,o){const r=i(n,o),{lengths:s,coords:c}=t;let l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,a=0;for(const i of s){let e=c[a],t=c[a+1];l=Math.min(e,l),u=Math.min(t,u),f=Math.max(e,f),h=Math.max(t,h),a+=r;for(let n=1;n<i;n++,a+=r){const n=c[a],o=c[a+1];e+=n,t+=o,n<0&&(l=Math.min(l,e)),n>0&&(f=Math.max(f,e)),o<0?u=Math.min(u,t):o>0&&(h=Math.max(h,t))}}return e[0]=l,e[1]=u,e[2]=f,e[3]=h,e}function ae(e,t,n,o,r){const{coords:s,lengths:c}=t,l=n?o?m:g:o?g:a,u=i(n,o);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!c.length)return l(e.coords,s,0,0,b(r,s[0]),M(r,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;const[f,h]=r.scale;let d=0;for(let i=0;i<c.length;i++){const t=c[i];e.lengths[i]=t;let n=b(r,s[d]),o=M(r,s[d+1]);l(e.coords,s,d,d,n,o),d+=u;for(let r=1;r<t;r++,d+=u)n+=s[d]*f,o-=s[d+1]*h,l(e.coords,s,d,d,n,o)}return e!==t&&(e.lengths.length=c.length,e.coords.length=s.length),e}function ge(e,t,n,o,r,s){const c=i(n,o),l=y(n,o,r,s),u=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let i=0;i<u.length;i+=c)l(e.coords,u,e.coords.length,i,u[i],u[i+1]);return e}function de(e,t,n,o,r){if(!t||!t.coords||!t.coords.length)return null;const s=h[n],{coords:c,lengths:l}=t,u=y(o,r,o,r),f=i(o,r);let a=0,g=0,d=0,m=0;for(const i of l){g=m,u(e.coords,c,g,a,c[a],c[a+1]),a+=f;let t=c[a],n=c[a+1],o=t,r=n,l=n/t;g+=f,u(e.coords,c,g,a,o,r),a+=f;for(let s=2;s<i;s++){t=c[a],n=c[a+1];const s=n/t,i=l===s||!isFinite(l)&&!isFinite(s),h=i&&isFinite(s)?l>=0&&s>=0||l<=0&&s<=0:r>=0&&n>=0||r<=0&&n<=0;i&&h?(o+=t,r+=n):(o=t,r=n,g+=f),u(e.coords,c,g,a,o,r),a+=f,l=s}g+=f;const h=(g-m)/f;h>=s&&(e.lengths[d]=h,m=g,d++)}return e.coords.length>m&&(e.coords.length=m),e.lengths.length>d&&(e.lengths.length=d),e.coords.length&&e.lengths.length?e:null}function me(e,t,n,o){let r=0,s=e[o*t],c=e[o*(t+1)];for(let l=1;l<n;l++){const n=s+e[o*(t+l)],u=c+e[o*(t+l)+1],i=(n-s)*(u+c);s=n,c=u,r+=i}return.5*r}function ye(e,t){const{coords:n,lengths:o}=e;let r=0,s=0;for(let c=0;c<o.length;c++){s+=me(n,r,o[c],t),r+=c}return Math.abs(s)}function pe(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let c=0;c<r.length;c++){const e=r[c];let l=o[t*s],u=o[t*s+1];for(let r=1;r<e;r++){const e=o[t*(s+r)],c=o[t*(s+r)+1],i=e-l,f=c-u;n.coords[t*(s+r)]=i,n.coords[t*(s+r)+1]=f,l=e,u=c}s+=e}return n}function Ie(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let c=0;c<r.length;c++){const e=r[c];let l=o[t*s],u=o[t*s+1];for(let r=1;r<e;r++){const e=l+o[t*(s+r)],c=u+o[t*(s+r)+1];n.coords[t*(s+r)]=e,n.coords[t*(s+r)+1]=c,l=e,u=c}s+=e}return n}export{J as convertFromFeature,oe as convertFromFeatureSet,K as convertFromFeatures,X as convertFromGeometry,Q as convertFromGraphics,_ as convertFromMultipoint,Y as convertFromMultipointFeatures,B as convertFromNestedArray,S as convertFromPoint,z as convertFromPointFeatures,C as convertFromPolygon,U as convertFromPolyline,L as convertFromPolylineFeatures,W as convertToFeature,ne as convertToFeatureSet,te as convertToFeatures,ee as convertToGeometry,V as convertToMultipoint,v as convertToMultipointFeatures,w as convertToPoint,$ as convertToPolygon,A as convertToPolyline,Ie as deltaDecodeGeometry,pe as deltaEncodeGeometry,le as generalizeOptimizedGeometry,fe as getBoundsOptimizedGeometry,ye as getQuantizedArea,he as getQuantizedBoundsOptimizedGeometry,me as getSignedQuantizedRingArea,se as quantizeOptimizedFeatureSet,ce as quantizeOptimizedGeometry,p as quantizeX,I as quantizeY,de as removeCollinearVectices,ge as removeZMValues,re as unquantizeOptimizedFeatureSet,ae as unquantizeOptimizedGeometry,b as unquantizeX,M as unquantizeY};\n"]},"metadata":{},"sourceType":"module"}