{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { clamp as n } from \"../../core/mathUtils.js\";\nimport { isSome as t } from \"../../core/maybe.js\";\nimport { g as r, d as c, a as e, f as o, k as u, n as i, c as f, b as s } from \"../../chunks/vec3.js\";\nimport { c as a } from \"../../chunks/vec3f64.js\";\nimport { g } from \"../../chunks/sphere.js\";\nimport { sv4d as m, sv3d as h } from \"./vectorStacks.js\";\n\nfunction p(n = X) {\n  return [n[0], n[1], n[2], n[3]];\n}\n\nfunction j(n, t, r, c) {\n  return k(n, t, r, c, m.get());\n}\n\nfunction b(n, t = p()) {\n  return k(n[0], n[1], n[2], n[3], t);\n}\n\nfunction k(n, t, r, c, e = p()) {\n  return e[0] = n, e[1] = t, e[2] = r, e[3] = c, e;\n}\n\nfunction v(n, t, c) {\n  return r(c, n), c[3] = t, c;\n}\n\nfunction y(n, t, o) {\n  r(o, t);\n  const u = c(t, t);\n  return Math.abs(u - 1) > 1e-5 && u > 1e-12 && e(o, o, 1 / Math.sqrt(u)), z(o, n, o);\n}\n\nfunction M(n, t, r, c = p()) {\n  return B(o(h.get(), n, t), o(h.get(), r, t), n, c);\n}\n\nfunction d(n, t) {\n  return l(n, t, 0, 1, 2);\n}\n\nfunction l(n, t, r, e, f) {\n  if (n.count < 3) return !1;\n  n.getVec(r, x);\n  let s = e,\n      a = !1;\n\n  for (; s < n.count - 1 && !a;) n.getVec(s, q), s++, a = !u(x, q);\n\n  if (!a) return !1;\n\n  for (s = Math.max(s, f), a = !1; s < n.count && !a;) n.getVec(s, S), s++, o(U, x, q), i(U, U), o(w, q, S), i(w, w), a = !u(x, S) && !u(q, S) && Math.abs(c(U, w)) < V;\n\n  return a ? (M(x, q, S, t), !0) : (0 !== r || 1 !== e || 2 !== f) && l(n, t, 0, 1, 2);\n}\n\nconst V = .99619469809,\n      x = a(),\n      q = a(),\n      S = a(),\n      U = a(),\n      w = a();\n\nfunction z(n, t, r) {\n  return n !== r && b(n, r), r[3] = -c(W(r), t), r;\n}\n\nfunction A(n, t) {\n  return t[0] = -n[0], t[1] = -n[1], t[2] = -n[2], t[3] = -n[3], t;\n}\n\nfunction B(n, t, r, c) {\n  return y(r, f(S, t, n), c);\n}\n\nfunction C(n, t, r, c) {\n  return T(n, t, o(h.get(), r, t), Y, c);\n}\n\nfunction D(n, r, c) {\n  return !!t(r) && T(n, r.origin, r.direction, Z, c);\n}\n\nfunction E(n, t, r) {\n  return T(n, t.origin, t.vector, 0, r);\n}\n\nfunction F(n, t, r) {\n  return T(n, t.origin, t.vector, 1, r);\n}\n\nfunction G(n, t) {\n  return R(n, g(t)) - t[3] >= 0;\n}\n\nfunction H(n, t) {\n  return R(n, g(t)) + t[3] < 0;\n}\n\nfunction I(n, t) {\n  return R(n, t) >= 0;\n}\n\nfunction J(n, t) {\n  return R(n, t) < 0;\n}\n\nfunction K(n, t) {\n  const r = t[0],\n        c = t[1],\n        e = t[2],\n        o = t[3],\n        u = t[4],\n        i = t[5];\n  return n[0] * (n[0] > 0 ? r : o) + n[1] * (n[1] > 0 ? c : u) + n[2] * (n[2] > 0 ? e : i) + n[3] >= 0;\n}\n\nfunction L(n, t) {\n  const r = c(W(n), t.ray.direction),\n        e = -R(n, t.ray.origin);\n  if (e < 0 && r >= 0) return !1;\n  if (r > -1e-6 && r < 1e-6) return e > 0;\n  if ((e < 0 || r < 0) && !(e < 0 && r < 0)) return !0;\n  const o = e / r;\n  return r > 0 ? o < t.c1 && (t.c1 = o) : o > t.c0 && (t.c0 = o), t.c0 <= t.c1;\n}\n\nfunction N(n, t) {\n  const r = c(W(n), t.ray.direction),\n        e = -R(n, t.ray.origin);\n  if (r > -1e-6 && r < 1e-6) return e > 0;\n  const o = e / r;\n  return r > 0 ? o < t.c1 && (t.c1 = o) : o > t.c0 && (t.c0 = o), t.c0 <= t.c1;\n}\n\nfunction O(n, t, r) {\n  const c = e(h.get(), W(n), -n[3]),\n        u = P(n, o(h.get(), t, c), h.get());\n  return s(r, u, c), r;\n}\n\nfunction P(n, t, r) {\n  const u = e(h.get(), W(n), c(W(n), t));\n  return o(r, t, u), r;\n}\n\nfunction Q(n, t) {\n  return Math.abs(R(n, t));\n}\n\nfunction R(n, t) {\n  return c(W(n), t) + n[3];\n}\n\nfunction T(t, r, o, u, i) {\n  const f = c(W(t), o);\n  if (0 === f) return !1;\n  let a = -(c(W(t), r) + t[3]) / f;\n  return 1 & u && (a = n(a, 0, 1)), !(!(4 & u) && a < 0 || !(8 & u) && a > 1) && (s(i, r, e(i, o, a)), !0);\n}\n\nfunction W(n) {\n  return n;\n}\n\nconst X = [0, 0, 1, 0],\n      Y = 12,\n      Z = 8;\nexport { X as UP, L as clip, N as clipInfinite, b as copy, p as create, Q as distance, d as fromManyPoints, l as fromManyPointsSampleAt, v as fromNormalAndOffset, M as fromPoints, y as fromPositionAndNormal, k as fromValues, B as fromVectorsAndPoint, C as intersectLine, E as intersectLineSegment, F as intersectLineSegmentClamp, D as intersectRay, K as isAABBFullyInside, I as isPointInside, J as isPointOutside, G as isSphereFullyInside, H as isSphereFullyOutside, A as negate, W as normal, O as projectPoint, P as projectVector, z as setOffsetFromPoint, R as signedDistance, j as wrap };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/geometry/support/plane.js"],"names":["clamp","n","isSome","t","g","r","d","c","a","e","f","o","k","u","i","b","s","sv4d","m","sv3d","h","p","X","j","get","v","y","Math","abs","sqrt","z","M","B","l","count","getVec","x","q","max","S","U","w","V","W","A","C","T","Y","D","origin","direction","Z","E","vector","F","G","R","H","I","J","K","L","ray","c1","c0","N","O","P","Q","UP","clip","clipInfinite","copy","create","distance","fromManyPoints","fromManyPointsSampleAt","fromNormalAndOffset","fromPoints","fromPositionAndNormal","fromValues","fromVectorsAndPoint","intersectLine","intersectLineSegment","intersectLineSegmentClamp","intersectRay","isAABBFullyInside","isPointInside","isPointOutside","isSphereFullyInside","isSphereFullyOutside","negate","normal","projectPoint","projectVector","setOffsetFromPoint","signedDistance","wrap"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,KAAK,IAAIC,CAAhB,QAAsB,yBAAtB;AAAgD,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,qBAAvB;AAA6C,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBC,CAAC,IAAIC,CAA1B,EAA4BC,CAAC,IAAIC,CAAjC,EAAmCC,CAAC,IAAIC,CAAxC,EAA0CZ,CAAC,IAAIa,CAA/C,EAAiDP,CAAC,IAAIG,CAAtD,EAAwDK,CAAC,IAAIC,CAA7D,QAAmE,sBAAnE;AAA0F,SAAOT,CAAC,IAAIC,CAAZ,QAAkB,yBAAlB;AAA4C,SAAOJ,CAAP,QAAa,wBAAb;AAAsC,SAAOa,IAAI,IAAIC,CAAf,EAAiBC,IAAI,IAAIC,CAAzB,QAA+B,mBAA/B;;AAAmD,SAASC,CAAT,CAAWpB,CAAC,GAACqB,CAAb,EAAe;AAAC,SAAM,CAACrB,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWA,CAAC,CAAC,CAAD,CAAZ,EAAgBA,CAAC,CAAC,CAAD,CAAjB,CAAN;AAA4B;;AAAA,SAASsB,CAAT,CAAWtB,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,SAAOK,CAAC,CAACX,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASW,CAAC,CAACM,GAAF,EAAT,CAAR;AAA0B;;AAAA,SAAST,CAAT,CAAWd,CAAX,EAAaE,CAAC,GAACkB,CAAC,EAAhB,EAAmB;AAAC,SAAOT,CAAC,CAACX,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWA,CAAC,CAAC,CAAD,CAAZ,EAAgBA,CAAC,CAAC,CAAD,CAAjB,EAAqBE,CAArB,CAAR;AAAgC;;AAAA,SAASS,CAAT,CAAWX,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmBE,CAAC,GAACY,CAAC,EAAtB,EAAyB;AAAC,SAAOZ,CAAC,CAAC,CAAD,CAAD,GAAKR,CAAL,EAAOQ,CAAC,CAAC,CAAD,CAAD,GAAKN,CAAZ,EAAcM,CAAC,CAAC,CAAD,CAAD,GAAKJ,CAAnB,EAAqBI,CAAC,CAAC,CAAD,CAAD,GAAKF,CAA1B,EAA4BE,CAAnC;AAAqC;;AAAA,SAASgB,CAAT,CAAWxB,CAAX,EAAaE,CAAb,EAAeI,CAAf,EAAiB;AAAC,SAAOF,CAAC,CAACE,CAAD,EAAGN,CAAH,CAAD,EAAOM,CAAC,CAAC,CAAD,CAAD,GAAKJ,CAAZ,EAAcI,CAArB;AAAuB;;AAAA,SAASmB,CAAT,CAAWzB,CAAX,EAAaE,CAAb,EAAeQ,CAAf,EAAiB;AAACN,EAAAA,CAAC,CAACM,CAAD,EAAGR,CAAH,CAAD;AAAO,QAAMU,CAAC,GAACN,CAAC,CAACJ,CAAD,EAAGA,CAAH,CAAT;AAAe,SAAOwB,IAAI,CAACC,GAAL,CAASf,CAAC,GAAC,CAAX,IAAc,IAAd,IAAoBA,CAAC,GAAC,KAAtB,IAA6BJ,CAAC,CAACE,CAAD,EAAGA,CAAH,EAAK,IAAEgB,IAAI,CAACE,IAAL,CAAUhB,CAAV,CAAP,CAA9B,EAAmDiB,CAAC,CAACnB,CAAD,EAAGV,CAAH,EAAKU,CAAL,CAA3D;AAAmE;;AAAA,SAASoB,CAAT,CAAW9B,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAC,GAACc,CAAC,EAApB,EAAuB;AAAC,SAAOW,CAAC,CAACrB,CAAC,CAACS,CAAC,CAACI,GAAF,EAAD,EAASvB,CAAT,EAAWE,CAAX,CAAF,EAAgBQ,CAAC,CAACS,CAAC,CAACI,GAAF,EAAD,EAASnB,CAAT,EAAWF,CAAX,CAAjB,EAA+BF,CAA/B,EAAiCM,CAAjC,CAAR;AAA4C;;AAAA,SAASD,CAAT,CAAWL,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAO8B,CAAC,CAAChC,CAAD,EAAGE,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAAR;AAAoB;;AAAA,SAAS8B,CAAT,CAAWhC,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBI,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,MAAGT,CAAC,CAACiC,KAAF,GAAQ,CAAX,EAAa,OAAM,CAAC,CAAP;AAASjC,EAAAA,CAAC,CAACkC,MAAF,CAAS9B,CAAT,EAAW+B,CAAX;AAAc,MAAIpB,CAAC,GAACP,CAAN;AAAA,MAAQD,CAAC,GAAC,CAAC,CAAX;;AAAa,SAAKQ,CAAC,GAACf,CAAC,CAACiC,KAAF,GAAQ,CAAV,IAAa,CAAC1B,CAAnB,GAAsBP,CAAC,CAACkC,MAAF,CAASnB,CAAT,EAAWqB,CAAX,GAAcrB,CAAC,EAAf,EAAkBR,CAAC,GAAC,CAACK,CAAC,CAACuB,CAAD,EAAGC,CAAH,CAAtB;;AAA4B,MAAG,CAAC7B,CAAJ,EAAM,OAAM,CAAC,CAAP;;AAAS,OAAIQ,CAAC,GAACW,IAAI,CAACW,GAAL,CAAStB,CAAT,EAAWN,CAAX,CAAF,EAAgBF,CAAC,GAAC,CAAC,CAAvB,EAAyBQ,CAAC,GAACf,CAAC,CAACiC,KAAJ,IAAW,CAAC1B,CAArC,GAAwCP,CAAC,CAACkC,MAAF,CAASnB,CAAT,EAAWuB,CAAX,GAAcvB,CAAC,EAAf,EAAkBL,CAAC,CAAC6B,CAAD,EAAGJ,CAAH,EAAKC,CAAL,CAAnB,EAA2BvB,CAAC,CAAC0B,CAAD,EAAGA,CAAH,CAA5B,EAAkC7B,CAAC,CAAC8B,CAAD,EAAGJ,CAAH,EAAKE,CAAL,CAAnC,EAA2CzB,CAAC,CAAC2B,CAAD,EAAGA,CAAH,CAA5C,EAAkDjC,CAAC,GAAC,CAACK,CAAC,CAACuB,CAAD,EAAGG,CAAH,CAAF,IAAS,CAAC1B,CAAC,CAACwB,CAAD,EAAGE,CAAH,CAAX,IAAkBZ,IAAI,CAACC,GAAL,CAASrB,CAAC,CAACiC,CAAD,EAAGC,CAAH,CAAV,IAAiBC,CAAvF;;AAAyF,SAAOlC,CAAC,IAAEuB,CAAC,CAACK,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOpC,CAAP,CAAD,EAAW,CAAC,CAAd,IAAiB,CAAC,MAAIE,CAAJ,IAAO,MAAII,CAAX,IAAc,MAAIC,CAAnB,KAAuBuB,CAAC,CAAChC,CAAD,EAAGE,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAAjD;AAA6D;;AAAA,MAAMuC,CAAC,GAAC,YAAR;AAAA,MAAqBN,CAAC,GAAC5B,CAAC,EAAxB;AAAA,MAA2B6B,CAAC,GAAC7B,CAAC,EAA9B;AAAA,MAAiC+B,CAAC,GAAC/B,CAAC,EAApC;AAAA,MAAuCgC,CAAC,GAAChC,CAAC,EAA1C;AAAA,MAA6CiC,CAAC,GAACjC,CAAC,EAAhD;;AAAmD,SAASsB,CAAT,CAAW7B,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,SAAOJ,CAAC,KAAGI,CAAJ,IAAOU,CAAC,CAACd,CAAD,EAAGI,CAAH,CAAR,EAAcA,CAAC,CAAC,CAAD,CAAD,GAAK,CAACE,CAAC,CAACoC,CAAC,CAACtC,CAAD,CAAF,EAAMF,CAAN,CAArB,EAA8BE,CAArC;AAAuC;;AAAA,SAASuC,CAAT,CAAW3C,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOA,CAAC,CAAC,CAAD,CAAD,GAAK,CAACF,CAAC,CAAC,CAAD,CAAP,EAAWE,CAAC,CAAC,CAAD,CAAD,GAAK,CAACF,CAAC,CAAC,CAAD,CAAlB,EAAsBE,CAAC,CAAC,CAAD,CAAD,GAAK,CAACF,CAAC,CAAC,CAAD,CAA7B,EAAiCE,CAAC,CAAC,CAAD,CAAD,GAAK,CAACF,CAAC,CAAC,CAAD,CAAxC,EAA4CE,CAAnD;AAAqD;;AAAA,SAAS6B,CAAT,CAAW/B,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,SAAOmB,CAAC,CAACrB,CAAD,EAAGK,CAAC,CAAC6B,CAAD,EAAGpC,CAAH,EAAKF,CAAL,CAAJ,EAAYM,CAAZ,CAAR;AAAuB;;AAAA,SAASsC,CAAT,CAAW5C,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,SAAOuC,CAAC,CAAC7C,CAAD,EAAGE,CAAH,EAAKQ,CAAC,CAACS,CAAC,CAACI,GAAF,EAAD,EAASnB,CAAT,EAAWF,CAAX,CAAN,EAAoB4C,CAApB,EAAsBxC,CAAtB,CAAR;AAAiC;;AAAA,SAASyC,CAAT,CAAW/C,CAAX,EAAaI,CAAb,EAAeE,CAAf,EAAiB;AAAC,SAAM,CAAC,CAACJ,CAAC,CAACE,CAAD,CAAH,IAAQyC,CAAC,CAAC7C,CAAD,EAAGI,CAAC,CAAC4C,MAAL,EAAY5C,CAAC,CAAC6C,SAAd,EAAwBC,CAAxB,EAA0B5C,CAA1B,CAAf;AAA4C;;AAAA,SAAS6C,CAAT,CAAWnD,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,SAAOyC,CAAC,CAAC7C,CAAD,EAAGE,CAAC,CAAC8C,MAAL,EAAY9C,CAAC,CAACkD,MAAd,EAAqB,CAArB,EAAuBhD,CAAvB,CAAR;AAAkC;;AAAA,SAASiD,CAAT,CAAWrD,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,SAAOyC,CAAC,CAAC7C,CAAD,EAAGE,CAAC,CAAC8C,MAAL,EAAY9C,CAAC,CAACkD,MAAd,EAAqB,CAArB,EAAuBhD,CAAvB,CAAR;AAAkC;;AAAA,SAASkD,CAAT,CAAWtD,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOqD,CAAC,CAACvD,CAAD,EAAGG,CAAC,CAACD,CAAD,CAAJ,CAAD,GAAUA,CAAC,CAAC,CAAD,CAAX,IAAgB,CAAvB;AAAyB;;AAAA,SAASsD,CAAT,CAAWxD,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOqD,CAAC,CAACvD,CAAD,EAAGG,CAAC,CAACD,CAAD,CAAJ,CAAD,GAAUA,CAAC,CAAC,CAAD,CAAX,GAAe,CAAtB;AAAwB;;AAAA,SAASuD,CAAT,CAAWzD,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOqD,CAAC,CAACvD,CAAD,EAAGE,CAAH,CAAD,IAAQ,CAAf;AAAiB;;AAAA,SAASwD,CAAT,CAAW1D,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOqD,CAAC,CAACvD,CAAD,EAAGE,CAAH,CAAD,GAAO,CAAd;AAAgB;;AAAA,SAASyD,CAAT,CAAW3D,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAME,CAAC,GAACF,CAAC,CAAC,CAAD,CAAT;AAAA,QAAaI,CAAC,GAACJ,CAAC,CAAC,CAAD,CAAhB;AAAA,QAAoBM,CAAC,GAACN,CAAC,CAAC,CAAD,CAAvB;AAAA,QAA2BQ,CAAC,GAACR,CAAC,CAAC,CAAD,CAA9B;AAAA,QAAkCU,CAAC,GAACV,CAAC,CAAC,CAAD,CAArC;AAAA,QAAyCW,CAAC,GAACX,CAAC,CAAC,CAAD,CAA5C;AAAgD,SAAOF,CAAC,CAAC,CAAD,CAAD,IAAMA,CAAC,CAAC,CAAD,CAAD,GAAK,CAAL,GAAOI,CAAP,GAASM,CAAf,IAAkBV,CAAC,CAAC,CAAD,CAAD,IAAMA,CAAC,CAAC,CAAD,CAAD,GAAK,CAAL,GAAOM,CAAP,GAASM,CAAf,CAAlB,GAAoCZ,CAAC,CAAC,CAAD,CAAD,IAAMA,CAAC,CAAC,CAAD,CAAD,GAAK,CAAL,GAAOQ,CAAP,GAASK,CAAf,CAApC,GAAsDb,CAAC,CAAC,CAAD,CAAvD,IAA4D,CAAnE;AAAqE;;AAAA,SAAS4D,CAAT,CAAW5D,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAME,CAAC,GAACE,CAAC,CAACoC,CAAC,CAAC1C,CAAD,CAAF,EAAME,CAAC,CAAC2D,GAAF,CAAMZ,SAAZ,CAAT;AAAA,QAAgCzC,CAAC,GAAC,CAAC+C,CAAC,CAACvD,CAAD,EAAGE,CAAC,CAAC2D,GAAF,CAAMb,MAAT,CAApC;AAAqD,MAAGxC,CAAC,GAAC,CAAF,IAAKJ,CAAC,IAAE,CAAX,EAAa,OAAM,CAAC,CAAP;AAAS,MAAGA,CAAC,GAAC,CAAC,IAAH,IAASA,CAAC,GAAC,IAAd,EAAmB,OAAOI,CAAC,GAAC,CAAT;AAAW,MAAG,CAACA,CAAC,GAAC,CAAF,IAAKJ,CAAC,GAAC,CAAR,KAAY,EAAEI,CAAC,GAAC,CAAF,IAAKJ,CAAC,GAAC,CAAT,CAAf,EAA2B,OAAM,CAAC,CAAP;AAAS,QAAMM,CAAC,GAACF,CAAC,GAACJ,CAAV;AAAY,SAAOA,CAAC,GAAC,CAAF,GAAIM,CAAC,GAACR,CAAC,CAAC4D,EAAJ,KAAS5D,CAAC,CAAC4D,EAAF,GAAKpD,CAAd,CAAJ,GAAqBA,CAAC,GAACR,CAAC,CAAC6D,EAAJ,KAAS7D,CAAC,CAAC6D,EAAF,GAAKrD,CAAd,CAArB,EAAsCR,CAAC,CAAC6D,EAAF,IAAM7D,CAAC,CAAC4D,EAArD;AAAwD;;AAAA,SAASE,CAAT,CAAWhE,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAME,CAAC,GAACE,CAAC,CAACoC,CAAC,CAAC1C,CAAD,CAAF,EAAME,CAAC,CAAC2D,GAAF,CAAMZ,SAAZ,CAAT;AAAA,QAAgCzC,CAAC,GAAC,CAAC+C,CAAC,CAACvD,CAAD,EAAGE,CAAC,CAAC2D,GAAF,CAAMb,MAAT,CAApC;AAAqD,MAAG5C,CAAC,GAAC,CAAC,IAAH,IAASA,CAAC,GAAC,IAAd,EAAmB,OAAOI,CAAC,GAAC,CAAT;AAAW,QAAME,CAAC,GAACF,CAAC,GAACJ,CAAV;AAAY,SAAOA,CAAC,GAAC,CAAF,GAAIM,CAAC,GAACR,CAAC,CAAC4D,EAAJ,KAAS5D,CAAC,CAAC4D,EAAF,GAAKpD,CAAd,CAAJ,GAAqBA,CAAC,GAACR,CAAC,CAAC6D,EAAJ,KAAS7D,CAAC,CAAC6D,EAAF,GAAKrD,CAAd,CAArB,EAAsCR,CAAC,CAAC6D,EAAF,IAAM7D,CAAC,CAAC4D,EAArD;AAAwD;;AAAA,SAASG,CAAT,CAAWjE,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,QAAME,CAAC,GAACE,CAAC,CAACW,CAAC,CAACI,GAAF,EAAD,EAASmB,CAAC,CAAC1C,CAAD,CAAV,EAAc,CAACA,CAAC,CAAC,CAAD,CAAhB,CAAT;AAAA,QAA8BY,CAAC,GAACsD,CAAC,CAAClE,CAAD,EAAGU,CAAC,CAACS,CAAC,CAACI,GAAF,EAAD,EAASrB,CAAT,EAAWI,CAAX,CAAJ,EAAkBa,CAAC,CAACI,GAAF,EAAlB,CAAjC;AAA4D,SAAOR,CAAC,CAACX,CAAD,EAAGQ,CAAH,EAAKN,CAAL,CAAD,EAASF,CAAhB;AAAkB;;AAAA,SAAS8D,CAAT,CAAWlE,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,QAAMQ,CAAC,GAACJ,CAAC,CAACW,CAAC,CAACI,GAAF,EAAD,EAASmB,CAAC,CAAC1C,CAAD,CAAV,EAAcM,CAAC,CAACoC,CAAC,CAAC1C,CAAD,CAAF,EAAME,CAAN,CAAf,CAAT;AAAkC,SAAOQ,CAAC,CAACN,CAAD,EAAGF,CAAH,EAAKU,CAAL,CAAD,EAASR,CAAhB;AAAkB;;AAAA,SAAS+D,CAAT,CAAWnE,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOwB,IAAI,CAACC,GAAL,CAAS4B,CAAC,CAACvD,CAAD,EAAGE,CAAH,CAAV,CAAP;AAAwB;;AAAA,SAASqD,CAAT,CAAWvD,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOI,CAAC,CAACoC,CAAC,CAAC1C,CAAD,CAAF,EAAME,CAAN,CAAD,GAAUF,CAAC,CAAC,CAAD,CAAlB;AAAsB;;AAAA,SAAS6C,CAAT,CAAW3C,CAAX,EAAaE,CAAb,EAAeM,CAAf,EAAiBE,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,QAAMJ,CAAC,GAACH,CAAC,CAACoC,CAAC,CAACxC,CAAD,CAAF,EAAMQ,CAAN,CAAT;AAAkB,MAAG,MAAID,CAAP,EAAS,OAAM,CAAC,CAAP;AAAS,MAAIF,CAAC,GAAC,EAAED,CAAC,CAACoC,CAAC,CAACxC,CAAD,CAAF,EAAME,CAAN,CAAD,GAAUF,CAAC,CAAC,CAAD,CAAb,IAAkBO,CAAxB;AAA0B,SAAO,IAAEG,CAAF,KAAML,CAAC,GAACP,CAAC,CAACO,CAAD,EAAG,CAAH,EAAK,CAAL,CAAT,GAAkB,EAAE,EAAE,IAAEK,CAAJ,KAAQL,CAAC,GAAC,CAAV,IAAa,EAAE,IAAEK,CAAJ,KAAQL,CAAC,GAAC,CAAzB,MAA8BQ,CAAC,CAACF,CAAD,EAAGT,CAAH,EAAKI,CAAC,CAACK,CAAD,EAAGH,CAAH,EAAKH,CAAL,CAAN,CAAD,EAAgB,CAAC,CAA/C,CAAzB;AAA2E;;AAAA,SAASmC,CAAT,CAAW1C,CAAX,EAAa;AAAC,SAAOA,CAAP;AAAS;;AAAA,MAAMqB,CAAC,GAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAAR;AAAA,MAAkByB,CAAC,GAAC,EAApB;AAAA,MAAuBI,CAAC,GAAC,CAAzB;AAA2B,SAAO7B,CAAC,IAAI+C,EAAZ,EAAeR,CAAC,IAAIS,IAApB,EAAyBL,CAAC,IAAIM,YAA9B,EAA2CxD,CAAC,IAAIyD,IAAhD,EAAqDnD,CAAC,IAAIoD,MAA1D,EAAiEL,CAAC,IAAIM,QAAtE,EAA+EpE,CAAC,IAAIqE,cAApF,EAAmG1C,CAAC,IAAI2C,sBAAxG,EAA+HnD,CAAC,IAAIoD,mBAApI,EAAwJ9C,CAAC,IAAI+C,UAA7J,EAAwKpD,CAAC,IAAIqD,qBAA7K,EAAmMnE,CAAC,IAAIoE,UAAxM,EAAmNhD,CAAC,IAAIiD,mBAAxN,EAA4OpC,CAAC,IAAIqC,aAAjP,EAA+P9B,CAAC,IAAI+B,oBAApQ,EAAyR7B,CAAC,IAAI8B,yBAA9R,EAAwTpC,CAAC,IAAIqC,YAA7T,EAA0UzB,CAAC,IAAI0B,iBAA/U,EAAiW5B,CAAC,IAAI6B,aAAtW,EAAoX5B,CAAC,IAAI6B,cAAzX,EAAwYjC,CAAC,IAAIkC,mBAA7Y,EAAiahC,CAAC,IAAIiC,oBAAta,EAA2b9C,CAAC,IAAI+C,MAAhc,EAAuchD,CAAC,IAAIiD,MAA5c,EAAmd1B,CAAC,IAAI2B,YAAxd,EAAqe1B,CAAC,IAAI2B,aAA1e,EAAwfhE,CAAC,IAAIiE,kBAA7f,EAAghBvC,CAAC,IAAIwC,cAArhB,EAAoiBzE,CAAC,IAAI0E,IAAziB","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../core/mathUtils.js\";import{isSome as t}from\"../../core/maybe.js\";import{g as r,d as c,a as e,f as o,k as u,n as i,c as f,b as s}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{g}from\"../../chunks/sphere.js\";import{sv4d as m,sv3d as h}from\"./vectorStacks.js\";function p(n=X){return[n[0],n[1],n[2],n[3]]}function j(n,t,r,c){return k(n,t,r,c,m.get())}function b(n,t=p()){return k(n[0],n[1],n[2],n[3],t)}function k(n,t,r,c,e=p()){return e[0]=n,e[1]=t,e[2]=r,e[3]=c,e}function v(n,t,c){return r(c,n),c[3]=t,c}function y(n,t,o){r(o,t);const u=c(t,t);return Math.abs(u-1)>1e-5&&u>1e-12&&e(o,o,1/Math.sqrt(u)),z(o,n,o)}function M(n,t,r,c=p()){return B(o(h.get(),n,t),o(h.get(),r,t),n,c)}function d(n,t){return l(n,t,0,1,2)}function l(n,t,r,e,f){if(n.count<3)return!1;n.getVec(r,x);let s=e,a=!1;for(;s<n.count-1&&!a;)n.getVec(s,q),s++,a=!u(x,q);if(!a)return!1;for(s=Math.max(s,f),a=!1;s<n.count&&!a;)n.getVec(s,S),s++,o(U,x,q),i(U,U),o(w,q,S),i(w,w),a=!u(x,S)&&!u(q,S)&&Math.abs(c(U,w))<V;return a?(M(x,q,S,t),!0):(0!==r||1!==e||2!==f)&&l(n,t,0,1,2)}const V=.99619469809,x=a(),q=a(),S=a(),U=a(),w=a();function z(n,t,r){return n!==r&&b(n,r),r[3]=-c(W(r),t),r}function A(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function B(n,t,r,c){return y(r,f(S,t,n),c)}function C(n,t,r,c){return T(n,t,o(h.get(),r,t),Y,c)}function D(n,r,c){return!!t(r)&&T(n,r.origin,r.direction,Z,c)}function E(n,t,r){return T(n,t.origin,t.vector,0,r)}function F(n,t,r){return T(n,t.origin,t.vector,1,r)}function G(n,t){return R(n,g(t))-t[3]>=0}function H(n,t){return R(n,g(t))+t[3]<0}function I(n,t){return R(n,t)>=0}function J(n,t){return R(n,t)<0}function K(n,t){const r=t[0],c=t[1],e=t[2],o=t[3],u=t[4],i=t[5];return n[0]*(n[0]>0?r:o)+n[1]*(n[1]>0?c:u)+n[2]*(n[2]>0?e:i)+n[3]>=0}function L(n,t){const r=c(W(n),t.ray.direction),e=-R(n,t.ray.origin);if(e<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return e>0;if((e<0||r<0)&&!(e<0&&r<0))return!0;const o=e/r;return r>0?o<t.c1&&(t.c1=o):o>t.c0&&(t.c0=o),t.c0<=t.c1}function N(n,t){const r=c(W(n),t.ray.direction),e=-R(n,t.ray.origin);if(r>-1e-6&&r<1e-6)return e>0;const o=e/r;return r>0?o<t.c1&&(t.c1=o):o>t.c0&&(t.c0=o),t.c0<=t.c1}function O(n,t,r){const c=e(h.get(),W(n),-n[3]),u=P(n,o(h.get(),t,c),h.get());return s(r,u,c),r}function P(n,t,r){const u=e(h.get(),W(n),c(W(n),t));return o(r,t,u),r}function Q(n,t){return Math.abs(R(n,t))}function R(n,t){return c(W(n),t)+n[3]}function T(t,r,o,u,i){const f=c(W(t),o);if(0===f)return!1;let a=-(c(W(t),r)+t[3])/f;return 1&u&&(a=n(a,0,1)),!(!(4&u)&&a<0||!(8&u)&&a>1)&&(s(i,r,e(i,o,a)),!0)}function W(n){return n}const X=[0,0,1,0],Y=12,Z=8;export{X as UP,L as clip,N as clipInfinite,b as copy,p as create,Q as distance,d as fromManyPoints,l as fromManyPointsSampleAt,v as fromNormalAndOffset,M as fromPoints,y as fromPositionAndNormal,k as fromValues,B as fromVectorsAndPoint,C as intersectLine,E as intersectLineSegment,F as intersectLineSegmentClamp,D as intersectRay,K as isAABBFullyInside,I as isPointInside,J as isPointOutside,G as isSphereFullyInside,H as isSphereFullyOutside,A as negate,W as normal,O as projectPoint,P as projectVector,z as setOffsetFromPoint,R as signedDistance,j as wrap};\n"]},"metadata":{},"sourceType":"module"}