{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { getAssetUrl as t } from \"../assets.js\";\nimport i from \"../core/Error.js\";\nimport { JSONSupportMixin as r } from \"../core/JSONSupport.js\";\nimport { clone as o, fixJson as a } from \"../core/lang.js\";\nimport s from \"../core/Loadable.js\";\nimport { isSome as n } from \"../core/maybe.js\";\nimport { isDataProtocol as l, makeAbsolute as p } from \"../core/urlUtils.js\";\nimport { property as c } from \"../core/accessorSupport/decorators/property.js\";\nimport { ensureClass as d } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { reader as u } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as m } from \"../core/accessorSupport/decorators/subclass.js\";\nimport h from \"../geometry/Extent.js\";\nimport y from \"./Portal.js\";\nimport g from \"./PortalItemResource.js\";\nimport f from \"./PortalRating.js\";\nvar v;\nlet w = v = class extends r(s) {\n  constructor(e) {\n    super(e), this.access = null, this.accessInformation = null, this.apiKey = null, this.applicationProxies = null, this.avgRating = null, this.categories = null, this.created = null, this.culture = null, this.description = null, this.extent = null, this.groupCategories = null, this.id = null, this.itemControl = null, this.licenseInfo = null, this.modified = null, this.name = null, this.numComments = null, this.numRatings = null, this.numViews = null, this.owner = null, this.ownerFolder = null, this.portal = null, this.screenshots = null, this.size = null, this.snippet = null, this.sourceJSON = null, this.tags = null, this.title = null, this.type = null, this.typeKeywords = null, this.url = null;\n  }\n\n  static from(e) {\n    return d(v, e);\n  }\n\n  destroy() {\n    this.portal = null;\n  }\n\n  get displayName() {\n    const e = this.type,\n          t = this.typeKeywords || [];\n    let i = e;\n    return \"Feature Service\" === e || \"Feature Collection\" === e ? i = t.indexOf(\"Table\") > -1 ? \"Table\" : t.indexOf(\"Route Layer\") > -1 ? \"Route Layer\" : t.indexOf(\"Markup\") > -1 ? \"Markup\" : \"Feature Layer\" : \"Image Service\" === e ? i = t.indexOf(\"Elevation 3D Layer\") > -1 ? \"Elevation Layer\" : t.indexOf(\"Tiled Imagery\") > -1 ? \"Tiled Imagery Layer\" : \"Imagery Layer\" : \"Scene Service\" === e ? i = \"Scene Layer\" : \"Scene Package\" === e ? i = \"Scene Layer Package\" : \"Stream Service\" === e ? i = \"Feature Layer\" : \"Geoprocessing Service\" === e && this.portal && this.portal.isPortal ? i = t.indexOf(\"Web Tool\") > -1 ? \"Tool\" : \"Geoprocessing Service\" : \"Geocoding Service\" === e ? i = \"Locator\" : \"Geoenrichment Service\" === e ? i = \"GeoEnrichment Service\" : \"Microsoft Powerpoint\" === e ? i = \"Microsoft PowerPoint\" : \"GeoJson\" === e ? i = \"GeoJSON\" : \"Globe Service\" === e ? i = \"Globe Layer\" : \"Vector Tile Service\" === e ? i = \"Tile Layer\" : \"netCDF\" === e ? i = \"NetCDF\" : \"Map Service\" === e ? i = -1 === t.indexOf(\"Spatiotemporal\") && (t.indexOf(\"Hosted Service\") > -1 || t.indexOf(\"Tiled\") > -1) && -1 === t.indexOf(\"Relational\") ? \"Tile Layer\" : \"Map Image Layer\" : e && e.toLowerCase().indexOf(\"add in\") > -1 ? i = e.replace(/(add in)/gi, \"Add-In\") : \"datastore catalog service\" === e ? i = \"Big Data File Share\" : \"Compact Tile Package\" === e ? i = \"Tile Package (tpkx)\" : \"OGCFeatureServer\" === e && (i = \"OGC Feature Layer\"), i;\n  }\n\n  readExtent(e) {\n    return e && e.length ? new h(e[0][0], e[0][1], e[1][0], e[1][1]) : null;\n  }\n\n  get iconUrl() {\n    const e = this.type && this.type.toLowerCase() || \"\",\n          i = this.typeKeywords || [],\n          r = \"esri/images/portal/\",\n          o = \"16\";\n    let a,\n        s = !1,\n        n = !1,\n        l = !1,\n        p = !1,\n        c = !1,\n        d = !1;\n    return e.indexOf(\"service\") > 0 || \"feature collection\" === e || \"kml\" === e || \"wms\" === e || \"wmts\" === e || \"wfs\" === e ? (s = i.indexOf(\"Hosted Service\") > -1, \"feature service\" === e || \"feature collection\" === e || \"kml\" === e || \"wfs\" === e ? (n = i.indexOf(\"Table\") > -1, l = i.indexOf(\"Route Layer\") > -1, p = i.indexOf(\"Markup\") > -1, c = -1 !== i.indexOf(\"Spatiotemporal\"), d = -1 !== i.indexOf(\"UtilityNetwork\"), a = c && n ? \"spatiotemporaltable\" : n ? \"table\" : l ? \"routelayer\" : p ? \"markup\" : c ? \"spatiotemporal\" : s ? \"featureshosted\" : d ? \"utilitynetwork\" : \"features\") : a = \"map service\" === e || \"wms\" === e || \"wmts\" === e ? s || i.indexOf(\"Tiled\") > -1 || \"wmts\" === e ? \"maptiles\" : \"mapimages\" : \"scene service\" === e ? i.indexOf(\"Line\") > -1 ? \"sceneweblayerline\" : i.indexOf(\"3DObject\") > -1 ? \"sceneweblayermultipatch\" : i.indexOf(\"Point\") > -1 ? \"sceneweblayerpoint\" : i.indexOf(\"IntegratedMesh\") > -1 ? \"sceneweblayermesh\" : i.indexOf(\"PointCloud\") > -1 ? \"sceneweblayerpointcloud\" : i.indexOf(\"Polygon\") > -1 ? \"sceneweblayerpolygon\" : i.indexOf(\"Building\") > -1 ? \"sceneweblayerbuilding\" : i.indexOf(\"Voxel\") > -1 ? \"sceneweblayervoxel\" : \"sceneweblayer\" : \"image service\" === e ? i.indexOf(\"Elevation 3D Layer\") > -1 ? \"elevationlayer\" : i.indexOf(\"Tiled Imagery\") > -1 ? \"tiledimagerylayer\" : \"imagery\" : \"stream service\" === e ? \"streamlayer\" : \"vector tile service\" === e ? \"vectortile\" : \"datastore catalog service\" === e ? \"datastorecollection\" : \"geocoding service\" === e ? \"geocodeservice\" : \"geoprocessing service\" === e && i.indexOf(\"Web Tool\") > -1 && this.portal && this.portal.isPortal ? \"tool\" : \"layers\") : a = \"web map\" === e || \"cityengine web scene\" === e ? \"maps\" : \"web scene\" === e ? i.indexOf(\"ViewingMode-Local\") > -1 ? \"webscenelocal\" : \"websceneglobal\" : \"web mapping application\" === e || \"mobile application\" === e || \"application\" === e || \"operation view\" === e || \"desktop application\" === e ? \"apps\" : \"map document\" === e || \"map package\" === e || \"published map\" === e || \"scene document\" === e || \"globe document\" === e || \"basemap package\" === e || \"mobile basemap package\" === e || \"mobile map package\" === e || \"project package\" === e || \"project template\" === e || \"pro map\" === e || \"layout\" === e || \"layer\" === e && i.indexOf(\"ArcGIS Pro\") > -1 || \"explorer map\" === e && i.indexOf(\"Explorer Document\") ? \"mapsgray\" : \"service definition\" === e || \"csv\" === e || \"shapefile\" === e || \"cad drawing\" === e || \"geojson\" === e || \"360 vr experience\" === e || \"netcdf\" === e || \"administrative report\" === e ? \"datafiles\" : \"explorer add in\" === e || \"desktop add in\" === e || \"windows viewer add in\" === e || \"windows viewer configuration\" === e ? \"appsgray\" : \"arcgis pro add in\" === e || \"arcgis pro configuration\" === e ? \"addindesktop\" : \"rule package\" === e || \"file geodatabase\" === e || \"sqlite geodatabase\" === e || \"csv collection\" === e || \"kml collection\" === e || \"windows mobile package\" === e || \"map template\" === e || \"desktop application template\" === e || \"gml\" === e || \"arcpad package\" === e || \"code sample\" === e || \"form\" === e || \"document link\" === e || \"earth configuration\" === e || \"operations dashboard add in\" === e || \"rules package\" === e || \"image\" === e || \"workflow manager package\" === e || \"explorer map\" === e && i.indexOf(\"Explorer Mapping Application\") > -1 || i.indexOf(\"Document\") > -1 ? \"datafilesgray\" : \"network analysis service\" === e || \"geoprocessing service\" === e || \"geodata service\" === e || \"geometry service\" === e || \"geoprocessing package\" === e || \"locator package\" === e || \"geoprocessing sample\" === e || \"workflow manager service\" === e ? \"toolsgray\" : \"layer\" === e || \"layer package\" === e || \"explorer layer\" === e ? \"layersgray\" : \"scene package\" === e ? \"scenepackage\" : \"mobile scene package\" === e ? \"mobilescenepackage\" : \"tile package\" === e || \"compact tile package\" === e ? \"tilepackage\" : \"task file\" === e ? \"taskfile\" : \"report template\" === e ? \"report-template\" : \"statistical data collection\" === e ? \"statisticaldatacollection\" : \"insights workbook\" === e ? \"workbook\" : \"insights model\" === e ? \"insightsmodel\" : \"insights page\" === e ? \"insightspage\" : \"insights theme\" === e ? \"insightstheme\" : \"hub initiative\" === e ? \"hubinitiative\" : \"hubpage\" === e ? \"hubpage\" : \"hub event\" === e ? \"hubevent\" : \"hub site application\" === e ? \"hubsite\" : \"relational database connection\" === e ? \"relationaldatabaseconnection\" : \"big data file share\" === e ? \"datastorecollection\" : \"image collection\" === e ? \"imagecollection\" : \"style\" === e ? \"style\" : \"desktop style\" === e ? \"desktopstyle\" : \"dashboard\" === e ? \"dashboard\" : \"raster function template\" === e ? \"rasterprocessingtemplate\" : \"vector tile package\" === e ? \"vectortilepackage\" : \"ortho mapping project\" === e ? \"orthomappingproject\" : \"ortho mapping template\" === e ? \"orthomappingtemplate\" : \"solution\" === e ? \"solutions\" : \"geopackage\" === e ? \"geopackage\" : \"deep learning package\" === e ? \"deeplearningpackage\" : \"real time analytic\" === e ? \"realtimeanalytics\" : \"big data analytic\" === e ? \"bigdataanalytics\" : \"feed\" === e ? \"feed\" : \"excalibur imagery project\" === e ? \"excaliburimageryproject\" : \"notebook\" === e ? \"notebook\" : \"storymap\" === e ? \"storymap\" : \"survey123 add in\" === e ? \"survey123addin\" : \"mission\" === e ? \"mission\" : \"mission report\" === e ? \"missionreport\" : \"quickcapture project\" === e ? \"quickcaptureproject\" : \"pro report\" === e ? \"proreport\" : \"urban model\" === e ? \"urbanmodel\" : \"web experience\" === e ? \"experiencebuilder\" : \"web experience template\" === e ? \"webexperiencetemplate\" : \"workflow\" === e ? \"workflow\" : \"insights script\" === e ? \"insightsscript\" : \"kernel gateway connection\" === e ? \"kernelgatewayconnection\" : \"hub initiative template\" === e ? \"hubinitiativetemplate\" : \"storymap theme\" === e ? \"storymaptheme\" : \"knowledge graph\" === e ? \"knowledgegraph\" : \"native application\" === e ? \"nativeapp\" : \"native application installer\" === e ? \"nativeappinstaller\" : \"link chart\" === e ? \"linkchart\" : \"investigation\" === e ? \"investigation\" : \"ogcfeatureserver\" === e ? \"features\" : \"pro project\" === e ? \"proproject\" : \"insights workbook package\" === e ? \"insightsworkbookpackage\" : \"maps\", a ? t(r + a + o + \".png\") : null;\n  }\n\n  get isLayer() {\n    return [\"Map Service\", \"Feature Service\", \"Feature Collection\", \"Scene Service\", \"Image Service\", \"Stream Service\", \"Vector Tile Service\", \"WMTS\", \"WMS\"].indexOf(this.type) > -1;\n  }\n\n  get itemUrl() {\n    const e = this.get(\"portal.restUrl\");\n    return e ? e + \"/content/items/\" + this.id : null;\n  }\n\n  get thumbnailUrl() {\n    const e = this.itemUrl,\n          t = this.thumbnail;\n    return e && t ? this.portal._normalizeUrl(`${e}/info/${t}?f=json`) : null;\n  }\n\n  get userItemUrl() {\n    const e = this.get(\"portal.restUrl\");\n    if (!e) return null;\n    const t = this.owner || this.get(\"portal.user.username\");\n    if (!t) return null;\n    return `${e}/content/users/${this.ownerFolder ? `${t}/${this.ownerFolder}` : t}/items/${this.id}`;\n  }\n\n  load(e) {\n    this.portal || (this.portal = y.getDefault());\n    const t = this.portal.load(e).then(() => this.sourceJSON ? this.sourceJSON : this.id && this.itemUrl ? this.portal._request(this.itemUrl, {\n      signal: n(e) ? e.signal : null,\n      query: {\n        token: this.apiKey\n      }\n    }) : {}).then(e => {\n      this.sourceJSON = e, this.read(e);\n    });\n    return this.addResolvingPromise(t), Promise.resolve(this);\n  }\n\n  addRating(e) {\n    const t = {\n      method: \"post\",\n      query: {}\n    };\n    return e instanceof f && (e = e.rating), isNaN(e) || \"number\" != typeof e || (t.query.rating = e), this.portal._request(this.itemUrl + \"/addRating\", t).then(() => new f({\n      rating: e,\n      created: new Date()\n    }));\n  }\n\n  clone() {\n    const e = {\n      access: this.access,\n      accessInformation: this.accessInformation,\n      applicationProxies: o(this.applicationProxies),\n      avgRating: this.avgRating,\n      categories: o(this.categories),\n      created: o(this.created),\n      culture: this.culture,\n      description: this.description,\n      extent: o(this.extent),\n      groupCategories: o(this.groupCategories),\n      id: this.id,\n      itemControl: this.itemControl,\n      licenseInfo: this.licenseInfo,\n      modified: o(this.modified),\n      name: this.name,\n      numComments: this.numComments,\n      numRatings: this.numRatings,\n      numViews: this.numViews,\n      owner: this.owner,\n      ownerFolder: this.ownerFolder,\n      portal: this.portal,\n      screenshots: o(this.screenshots),\n      size: this.size,\n      snippet: this.snippet,\n      tags: o(this.tags),\n      thumbnail: this.thumbnail,\n      title: this.title,\n      type: this.type,\n      typeKeywords: o(this.typeKeywords),\n      url: this.url\n    };\n    return this.loaded && (e.loadStatus = \"loaded\"), new v({\n      sourceJSON: this.sourceJSON\n    }).set(e);\n  }\n\n  createPostQuery() {\n    const e = this.toJSON();\n\n    for (const t in e) \"tags\" === t && null !== e[t] && (e[t] = e[t].join(\", \")), \"typeKeywords\" === t && null !== e[t] && (e[t] = e[t].join(\", \")), \"extent\" === t && e[t] && (e[t] = JSON.stringify(e[t]));\n\n    return e;\n  }\n\n  deleteRating() {\n    return this.portal._request(this.itemUrl + \"/deleteRating\", {\n      method: \"post\"\n    }).then(() => {});\n  }\n\n  fetchData(e = \"json\", t) {\n    return this.portal._request(this.itemUrl + \"/data\", {\n      responseType: e,\n      ...t,\n      query: {\n        token: this.apiKey\n      }\n    });\n  }\n\n  fetchRating(e) {\n    return this.portal._request(this.itemUrl + \"/rating\", {\n      query: {\n        token: this.apiKey\n      },\n      ...e\n    }).then(e => null != e.rating ? (e.created = new Date(e.created), new f(e)) : null);\n  }\n\n  fetchRelatedItems(e, t) {\n    return this.portal._requestToTypedArray(this.itemUrl + \"/relatedItems\", {\n      query: { ...e,\n        token: this.apiKey\n      },\n      ...t\n    }, v);\n  }\n\n  getThumbnailUrl(e) {\n    let t = this.thumbnailUrl;\n    return t && e && (t += `&w=${e}`), t;\n  }\n\n  reload() {\n    return this.portal._request(this.itemUrl, {\n      cacheBust: !0,\n      query: {\n        token: this.apiKey\n      }\n    }).then(e => (this.sourceJSON = e, this.read(e), this));\n  }\n\n  update(e) {\n    return this.id ? this.load().then(() => this.portal._signIn()).then(() => {\n      const t = e && e.data,\n            i = {\n        method: \"post\"\n      };\n      i.query = this.createPostQuery();\n\n      for (const e in i.query) null === i.query[e] && (i.query[e] = \"\");\n\n      return i.query.clearEmptyFields = !0, null != t && (\"string\" == typeof t ? i.query.text = t : \"object\" == typeof t && (i.query.text = JSON.stringify(t))), this.portal._request(`${this.userItemUrl}/update`, i).then(() => this.reload());\n    }) : Promise.reject(new i(\"portal:item-does-not-exist\", \"The item does not exist yet and cannot be updated\"));\n  }\n\n  updateThumbnail(e) {\n    return this.id ? this.load().then(() => this.portal._signIn()).then(() => {\n      const t = e.thumbnail,\n            i = e.filename,\n            r = {\n        method: \"post\"\n      };\n      if (\"string\" == typeof t) l(t) ? r.query = {\n        data: t\n      } : r.query = {\n        url: p(t)\n      }, n(i) && (r.query.filename = i);else {\n        const e = new FormData();\n        n(i) ? e.append(\"file\", t, i) : e.append(\"file\", t), r.body = e;\n      }\n      return this.portal._request(`${this.userItemUrl}/updateThumbnail`, r).then(() => this.reload());\n    }) : Promise.reject(new i(\"portal:item-does-not-exist\", \"The item does not exist yet and cannot be updated\"));\n  }\n\n  async fetchResources(e = {}, t) {\n    return (await import(\"./support/resourceUtils.js\")).fetchResources(this, e, t);\n  }\n\n  async addResource(e, t, i) {\n    const r = await import(\"./support/resourceUtils.js\");\n    return e.portalItem = this, r.addOrUpdateResource(e, \"add\", t, i);\n  }\n\n  async removeResource(e, t) {\n    const r = await import(\"./support/resourceUtils.js\");\n    if (e.portalItem && e.portalItem.itemUrl !== this.itemUrl) throw new i(\"removeresource:portal-item-mismatch\", \"The portal item associated with the provided resource does not match the item\");\n    return r.removeResource(this, e, t);\n  }\n\n  async removeAllResources(e) {\n    return (await import(\"./support/resourceUtils.js\")).removeAllResources(this, e);\n  }\n\n  resourceFromPath(e) {\n    return new g({\n      portalItem: this,\n      path: e\n    });\n  }\n\n  toJSON() {\n    const e = this.extent,\n          t = {\n      created: this.created && this.created.getTime(),\n      description: this.description,\n      extent: e && [[e.xmin, e.ymin], [e.xmax, e.ymax]],\n      id: this.id,\n      modified: this.modified && this.modified.getTime(),\n      name: this.name,\n      owner: this.owner,\n      ownerFolder: this.ownerFolder,\n      snippet: this.snippet,\n      tags: this.tags,\n      thumbnail: this.thumbnail,\n      title: this.title,\n      type: this.type,\n      typeKeywords: this.typeKeywords,\n      url: this.url\n    };\n    return a(t);\n  }\n\n  static fromJSON(e) {\n    if (!e) return null;\n    if (e.declaredClass) throw new Error(\"JSON object is already hydrated\");\n    return new v({\n      sourceJSON: e\n    });\n  }\n\n  _getPostQuery() {\n    const e = this.toJSON();\n\n    for (const t in e) \"tags\" === t && null !== e[t] && (e[t] = e[t].join(\", \")), \"typeKeywords\" === t && null !== e[t] && (e[t] = e[t].join(\", \")), \"extent\" === t && e[t] && (e[t] = JSON.stringify(e[t]));\n\n    return e;\n  }\n\n};\ne([c({\n  type: [\"private\", \"shared\", \"org\", \"public\"]\n})], w.prototype, \"access\", void 0), e([c()], w.prototype, \"accessInformation\", void 0), e([c({\n  type: String\n})], w.prototype, \"apiKey\", void 0), e([c({\n  json: {\n    read: {\n      source: \"appProxies\"\n    }\n  }\n})], w.prototype, \"applicationProxies\", void 0), e([c()], w.prototype, \"avgRating\", void 0), e([c()], w.prototype, \"categories\", void 0), e([c({\n  type: Date\n})], w.prototype, \"created\", void 0), e([c()], w.prototype, \"culture\", void 0), e([c()], w.prototype, \"description\", void 0), e([c({\n  readOnly: !0\n})], w.prototype, \"displayName\", null), e([c({\n  type: h\n})], w.prototype, \"extent\", void 0), e([u(\"extent\")], w.prototype, \"readExtent\", null), e([c()], w.prototype, \"groupCategories\", void 0), e([c({\n  readOnly: !0\n})], w.prototype, \"iconUrl\", null), e([c()], w.prototype, \"id\", void 0), e([c({\n  readOnly: !0\n})], w.prototype, \"isLayer\", null), e([c()], w.prototype, \"itemControl\", void 0), e([c({\n  readOnly: !0\n})], w.prototype, \"itemUrl\", null), e([c()], w.prototype, \"licenseInfo\", void 0), e([c({\n  type: Date\n})], w.prototype, \"modified\", void 0), e([c()], w.prototype, \"name\", void 0), e([c()], w.prototype, \"numComments\", void 0), e([c()], w.prototype, \"numRatings\", void 0), e([c()], w.prototype, \"numViews\", void 0), e([c()], w.prototype, \"owner\", void 0), e([c()], w.prototype, \"ownerFolder\", void 0), e([c({\n  type: y\n})], w.prototype, \"portal\", void 0), e([c()], w.prototype, \"screenshots\", void 0), e([c()], w.prototype, \"size\", void 0), e([c()], w.prototype, \"snippet\", void 0), e([c()], w.prototype, \"sourceJSON\", void 0), e([c()], w.prototype, \"tags\", void 0), e([c()], w.prototype, \"thumbnail\", void 0), e([c({\n  readOnly: !0\n})], w.prototype, \"thumbnailUrl\", null), e([c()], w.prototype, \"title\", void 0), e([c()], w.prototype, \"type\", void 0), e([c()], w.prototype, \"typeKeywords\", void 0), e([c()], w.prototype, \"url\", void 0), e([c({\n  readOnly: !0\n})], w.prototype, \"userItemUrl\", null), w = v = e([m(\"esri.portal.PortalItem\")], w);\nvar b = w;\nexport default b;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/portal/PortalItem.js"],"names":["_","e","getAssetUrl","t","i","JSONSupportMixin","r","clone","o","fixJson","a","s","isSome","n","isDataProtocol","l","makeAbsolute","p","property","c","ensureClass","d","reader","u","subclass","m","h","y","g","f","v","w","constructor","access","accessInformation","apiKey","applicationProxies","avgRating","categories","created","culture","description","extent","groupCategories","id","itemControl","licenseInfo","modified","name","numComments","numRatings","numViews","owner","ownerFolder","portal","screenshots","size","snippet","sourceJSON","tags","title","type","typeKeywords","url","from","destroy","displayName","indexOf","isPortal","toLowerCase","replace","readExtent","length","iconUrl","isLayer","itemUrl","get","thumbnailUrl","thumbnail","_normalizeUrl","userItemUrl","load","getDefault","then","_request","signal","query","token","read","addResolvingPromise","Promise","resolve","addRating","method","rating","isNaN","Date","loaded","loadStatus","set","createPostQuery","toJSON","join","JSON","stringify","deleteRating","fetchData","responseType","fetchRating","fetchRelatedItems","_requestToTypedArray","getThumbnailUrl","reload","cacheBust","update","_signIn","data","clearEmptyFields","text","reject","updateThumbnail","filename","FormData","append","body","fetchResources","addResource","portalItem","addOrUpdateResource","removeResource","removeAllResources","resourceFromPath","path","getTime","xmin","ymin","xmax","ymax","fromJSON","declaredClass","Error","_getPostQuery","prototype","String","json","source","readOnly","b"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{getAssetUrl as t}from\"../assets.js\";import i from\"../core/Error.js\";import{JSONSupportMixin as r}from\"../core/JSONSupport.js\";import{clone as o,fixJson as a}from\"../core/lang.js\";import s from\"../core/Loadable.js\";import{isSome as n}from\"../core/maybe.js\";import{isDataProtocol as l,makeAbsolute as p}from\"../core/urlUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import{ensureClass as d}from\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import h from\"../geometry/Extent.js\";import y from\"./Portal.js\";import g from\"./PortalItemResource.js\";import f from\"./PortalRating.js\";var v;let w=v=class extends(r(s)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return d(v,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return\"Feature Service\"===e||\"Feature Collection\"===e?i=t.indexOf(\"Table\")>-1?\"Table\":t.indexOf(\"Route Layer\")>-1?\"Route Layer\":t.indexOf(\"Markup\")>-1?\"Markup\":\"Feature Layer\":\"Image Service\"===e?i=t.indexOf(\"Elevation 3D Layer\")>-1?\"Elevation Layer\":t.indexOf(\"Tiled Imagery\")>-1?\"Tiled Imagery Layer\":\"Imagery Layer\":\"Scene Service\"===e?i=\"Scene Layer\":\"Scene Package\"===e?i=\"Scene Layer Package\":\"Stream Service\"===e?i=\"Feature Layer\":\"Geoprocessing Service\"===e&&this.portal&&this.portal.isPortal?i=t.indexOf(\"Web Tool\")>-1?\"Tool\":\"Geoprocessing Service\":\"Geocoding Service\"===e?i=\"Locator\":\"Geoenrichment Service\"===e?i=\"GeoEnrichment Service\":\"Microsoft Powerpoint\"===e?i=\"Microsoft PowerPoint\":\"GeoJson\"===e?i=\"GeoJSON\":\"Globe Service\"===e?i=\"Globe Layer\":\"Vector Tile Service\"===e?i=\"Tile Layer\":\"netCDF\"===e?i=\"NetCDF\":\"Map Service\"===e?i=-1===t.indexOf(\"Spatiotemporal\")&&(t.indexOf(\"Hosted Service\")>-1||t.indexOf(\"Tiled\")>-1)&&-1===t.indexOf(\"Relational\")?\"Tile Layer\":\"Map Image Layer\":e&&e.toLowerCase().indexOf(\"add in\")>-1?i=e.replace(/(add in)/gi,\"Add-In\"):\"datastore catalog service\"===e?i=\"Big Data File Share\":\"Compact Tile Package\"===e?i=\"Tile Package (tpkx)\":\"OGCFeatureServer\"===e&&(i=\"OGC Feature Layer\"),i}readExtent(e){return e&&e.length?new h(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||\"\",i=this.typeKeywords||[],r=\"esri/images/portal/\",o=\"16\";let a,s=!1,n=!1,l=!1,p=!1,c=!1,d=!1;return e.indexOf(\"service\")>0||\"feature collection\"===e||\"kml\"===e||\"wms\"===e||\"wmts\"===e||\"wfs\"===e?(s=i.indexOf(\"Hosted Service\")>-1,\"feature service\"===e||\"feature collection\"===e||\"kml\"===e||\"wfs\"===e?(n=i.indexOf(\"Table\")>-1,l=i.indexOf(\"Route Layer\")>-1,p=i.indexOf(\"Markup\")>-1,c=-1!==i.indexOf(\"Spatiotemporal\"),d=-1!==i.indexOf(\"UtilityNetwork\"),a=c&&n?\"spatiotemporaltable\":n?\"table\":l?\"routelayer\":p?\"markup\":c?\"spatiotemporal\":s?\"featureshosted\":d?\"utilitynetwork\":\"features\"):a=\"map service\"===e||\"wms\"===e||\"wmts\"===e?s||i.indexOf(\"Tiled\")>-1||\"wmts\"===e?\"maptiles\":\"mapimages\":\"scene service\"===e?i.indexOf(\"Line\")>-1?\"sceneweblayerline\":i.indexOf(\"3DObject\")>-1?\"sceneweblayermultipatch\":i.indexOf(\"Point\")>-1?\"sceneweblayerpoint\":i.indexOf(\"IntegratedMesh\")>-1?\"sceneweblayermesh\":i.indexOf(\"PointCloud\")>-1?\"sceneweblayerpointcloud\":i.indexOf(\"Polygon\")>-1?\"sceneweblayerpolygon\":i.indexOf(\"Building\")>-1?\"sceneweblayerbuilding\":i.indexOf(\"Voxel\")>-1?\"sceneweblayervoxel\":\"sceneweblayer\":\"image service\"===e?i.indexOf(\"Elevation 3D Layer\")>-1?\"elevationlayer\":i.indexOf(\"Tiled Imagery\")>-1?\"tiledimagerylayer\":\"imagery\":\"stream service\"===e?\"streamlayer\":\"vector tile service\"===e?\"vectortile\":\"datastore catalog service\"===e?\"datastorecollection\":\"geocoding service\"===e?\"geocodeservice\":\"geoprocessing service\"===e&&i.indexOf(\"Web Tool\")>-1&&this.portal&&this.portal.isPortal?\"tool\":\"layers\"):a=\"web map\"===e||\"cityengine web scene\"===e?\"maps\":\"web scene\"===e?i.indexOf(\"ViewingMode-Local\")>-1?\"webscenelocal\":\"websceneglobal\":\"web mapping application\"===e||\"mobile application\"===e||\"application\"===e||\"operation view\"===e||\"desktop application\"===e?\"apps\":\"map document\"===e||\"map package\"===e||\"published map\"===e||\"scene document\"===e||\"globe document\"===e||\"basemap package\"===e||\"mobile basemap package\"===e||\"mobile map package\"===e||\"project package\"===e||\"project template\"===e||\"pro map\"===e||\"layout\"===e||\"layer\"===e&&i.indexOf(\"ArcGIS Pro\")>-1||\"explorer map\"===e&&i.indexOf(\"Explorer Document\")?\"mapsgray\":\"service definition\"===e||\"csv\"===e||\"shapefile\"===e||\"cad drawing\"===e||\"geojson\"===e||\"360 vr experience\"===e||\"netcdf\"===e||\"administrative report\"===e?\"datafiles\":\"explorer add in\"===e||\"desktop add in\"===e||\"windows viewer add in\"===e||\"windows viewer configuration\"===e?\"appsgray\":\"arcgis pro add in\"===e||\"arcgis pro configuration\"===e?\"addindesktop\":\"rule package\"===e||\"file geodatabase\"===e||\"sqlite geodatabase\"===e||\"csv collection\"===e||\"kml collection\"===e||\"windows mobile package\"===e||\"map template\"===e||\"desktop application template\"===e||\"gml\"===e||\"arcpad package\"===e||\"code sample\"===e||\"form\"===e||\"document link\"===e||\"earth configuration\"===e||\"operations dashboard add in\"===e||\"rules package\"===e||\"image\"===e||\"workflow manager package\"===e||\"explorer map\"===e&&i.indexOf(\"Explorer Mapping Application\")>-1||i.indexOf(\"Document\")>-1?\"datafilesgray\":\"network analysis service\"===e||\"geoprocessing service\"===e||\"geodata service\"===e||\"geometry service\"===e||\"geoprocessing package\"===e||\"locator package\"===e||\"geoprocessing sample\"===e||\"workflow manager service\"===e?\"toolsgray\":\"layer\"===e||\"layer package\"===e||\"explorer layer\"===e?\"layersgray\":\"scene package\"===e?\"scenepackage\":\"mobile scene package\"===e?\"mobilescenepackage\":\"tile package\"===e||\"compact tile package\"===e?\"tilepackage\":\"task file\"===e?\"taskfile\":\"report template\"===e?\"report-template\":\"statistical data collection\"===e?\"statisticaldatacollection\":\"insights workbook\"===e?\"workbook\":\"insights model\"===e?\"insightsmodel\":\"insights page\"===e?\"insightspage\":\"insights theme\"===e?\"insightstheme\":\"hub initiative\"===e?\"hubinitiative\":\"hubpage\"===e?\"hubpage\":\"hub event\"===e?\"hubevent\":\"hub site application\"===e?\"hubsite\":\"relational database connection\"===e?\"relationaldatabaseconnection\":\"big data file share\"===e?\"datastorecollection\":\"image collection\"===e?\"imagecollection\":\"style\"===e?\"style\":\"desktop style\"===e?\"desktopstyle\":\"dashboard\"===e?\"dashboard\":\"raster function template\"===e?\"rasterprocessingtemplate\":\"vector tile package\"===e?\"vectortilepackage\":\"ortho mapping project\"===e?\"orthomappingproject\":\"ortho mapping template\"===e?\"orthomappingtemplate\":\"solution\"===e?\"solutions\":\"geopackage\"===e?\"geopackage\":\"deep learning package\"===e?\"deeplearningpackage\":\"real time analytic\"===e?\"realtimeanalytics\":\"big data analytic\"===e?\"bigdataanalytics\":\"feed\"===e?\"feed\":\"excalibur imagery project\"===e?\"excaliburimageryproject\":\"notebook\"===e?\"notebook\":\"storymap\"===e?\"storymap\":\"survey123 add in\"===e?\"survey123addin\":\"mission\"===e?\"mission\":\"mission report\"===e?\"missionreport\":\"quickcapture project\"===e?\"quickcaptureproject\":\"pro report\"===e?\"proreport\":\"urban model\"===e?\"urbanmodel\":\"web experience\"===e?\"experiencebuilder\":\"web experience template\"===e?\"webexperiencetemplate\":\"workflow\"===e?\"workflow\":\"insights script\"===e?\"insightsscript\":\"kernel gateway connection\"===e?\"kernelgatewayconnection\":\"hub initiative template\"===e?\"hubinitiativetemplate\":\"storymap theme\"===e?\"storymaptheme\":\"knowledge graph\"===e?\"knowledgegraph\":\"native application\"===e?\"nativeapp\":\"native application installer\"===e?\"nativeappinstaller\":\"link chart\"===e?\"linkchart\":\"investigation\"===e?\"investigation\":\"ogcfeatureserver\"===e?\"features\":\"pro project\"===e?\"proproject\":\"insights workbook package\"===e?\"insightsworkbookpackage\":\"maps\",a?t(r+a+o+\".png\"):null}get isLayer(){return[\"Map Service\",\"Feature Service\",\"Feature Collection\",\"Scene Service\",\"Image Service\",\"Stream Service\",\"Vector Tile Service\",\"WMTS\",\"WMS\"].indexOf(this.type)>-1}get itemUrl(){const e=this.get(\"portal.restUrl\");return e?e+\"/content/items/\"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get(\"portal.restUrl\");if(!e)return null;const t=this.owner||this.get(\"portal.user.username\");if(!t)return null;return`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`}load(e){this.portal||(this.portal=y.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:n(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:\"post\",query:{}};return e instanceof f&&(e=e.rating),isNaN(e)||\"number\"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+\"/addRating\",t).then((()=>new f({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:o(this.applicationProxies),avgRating:this.avgRating,categories:o(this.categories),created:o(this.created),culture:this.culture,description:this.description,extent:o(this.extent),groupCategories:o(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:o(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:o(this.screenshots),size:this.size,snippet:this.snippet,tags:o(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:o(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus=\"loaded\"),new v({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)\"tags\"===t&&null!==e[t]&&(e[t]=e[t].join(\", \")),\"typeKeywords\"===t&&null!==e[t]&&(e[t]=e[t].join(\", \")),\"extent\"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+\"/deleteRating\",{method:\"post\"}).then((()=>{}))}fetchData(e=\"json\",t){return this.portal._request(this.itemUrl+\"/data\",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+\"/rating\",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new f(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+\"/relatedItems\",{query:{...e,token:this.apiKey},...t},v)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,i={method:\"post\"};i.query=this.createPostQuery();for(const e in i.query)null===i.query[e]&&(i.query[e]=\"\");return i.query.clearEmptyFields=!0,null!=t&&(\"string\"==typeof t?i.query.text=t:\"object\"==typeof t&&(i.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,i).then((()=>this.reload()))})):Promise.reject(new i(\"portal:item-does-not-exist\",\"The item does not exist yet and cannot be updated\"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,i=e.filename,r={method:\"post\"};if(\"string\"==typeof t)l(t)?r.query={data:t}:r.query={url:p(t)},n(i)&&(r.query.filename=i);else{const e=new FormData;n(i)?e.append(\"file\",t,i):e.append(\"file\",t),r.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new i(\"portal:item-does-not-exist\",\"The item does not exist yet and cannot be updated\"))}async fetchResources(e={},t){return(await import(\"./support/resourceUtils.js\")).fetchResources(this,e,t)}async addResource(e,t,i){const r=await import(\"./support/resourceUtils.js\");return e.portalItem=this,r.addOrUpdateResource(e,\"add\",t,i)}async removeResource(e,t){const r=await import(\"./support/resourceUtils.js\");if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new i(\"removeresource:portal-item-mismatch\",\"The portal item associated with the provided resource does not match the item\");return r.removeResource(this,e,t)}async removeAllResources(e){return(await import(\"./support/resourceUtils.js\")).removeAllResources(this,e)}resourceFromPath(e){return new g({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return a(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error(\"JSON object is already hydrated\");return new v({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)\"tags\"===t&&null!==e[t]&&(e[t]=e[t].join(\", \")),\"typeKeywords\"===t&&null!==e[t]&&(e[t]=e[t].join(\", \")),\"extent\"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};e([c({type:[\"private\",\"shared\",\"org\",\"public\"]})],w.prototype,\"access\",void 0),e([c()],w.prototype,\"accessInformation\",void 0),e([c({type:String})],w.prototype,\"apiKey\",void 0),e([c({json:{read:{source:\"appProxies\"}}})],w.prototype,\"applicationProxies\",void 0),e([c()],w.prototype,\"avgRating\",void 0),e([c()],w.prototype,\"categories\",void 0),e([c({type:Date})],w.prototype,\"created\",void 0),e([c()],w.prototype,\"culture\",void 0),e([c()],w.prototype,\"description\",void 0),e([c({readOnly:!0})],w.prototype,\"displayName\",null),e([c({type:h})],w.prototype,\"extent\",void 0),e([u(\"extent\")],w.prototype,\"readExtent\",null),e([c()],w.prototype,\"groupCategories\",void 0),e([c({readOnly:!0})],w.prototype,\"iconUrl\",null),e([c()],w.prototype,\"id\",void 0),e([c({readOnly:!0})],w.prototype,\"isLayer\",null),e([c()],w.prototype,\"itemControl\",void 0),e([c({readOnly:!0})],w.prototype,\"itemUrl\",null),e([c()],w.prototype,\"licenseInfo\",void 0),e([c({type:Date})],w.prototype,\"modified\",void 0),e([c()],w.prototype,\"name\",void 0),e([c()],w.prototype,\"numComments\",void 0),e([c()],w.prototype,\"numRatings\",void 0),e([c()],w.prototype,\"numViews\",void 0),e([c()],w.prototype,\"owner\",void 0),e([c()],w.prototype,\"ownerFolder\",void 0),e([c({type:y})],w.prototype,\"portal\",void 0),e([c()],w.prototype,\"screenshots\",void 0),e([c()],w.prototype,\"size\",void 0),e([c()],w.prototype,\"snippet\",void 0),e([c()],w.prototype,\"sourceJSON\",void 0),e([c()],w.prototype,\"tags\",void 0),e([c()],w.prototype,\"thumbnail\",void 0),e([c({readOnly:!0})],w.prototype,\"thumbnailUrl\",null),e([c()],w.prototype,\"title\",void 0),e([c()],w.prototype,\"type\",void 0),e([c()],w.prototype,\"typeKeywords\",void 0),e([c()],w.prototype,\"url\",void 0),e([c({readOnly:!0})],w.prototype,\"userItemUrl\",null),w=v=e([m(\"esri.portal.PortalItem\")],w);var b=w;export default b;\n"]},"metadata":{},"sourceType":"module"}