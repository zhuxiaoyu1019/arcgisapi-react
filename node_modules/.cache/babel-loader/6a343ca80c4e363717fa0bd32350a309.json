{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { glsl as e } from \"../../shaderModules/interfaces.js\";\n\nfunction t(t, i) {\n  t.vertex.uniforms.add(\"intrinsicWidth\", \"float\"), i.vvSize ? (t.attributes.add(\"sizeFeatureAttribute\", \"float\"), t.vertex.uniforms.add(\"vvSizeMinSize\", \"vec3\"), t.vertex.uniforms.add(\"vvSizeMaxSize\", \"vec3\"), t.vertex.uniforms.add(\"vvSizeOffset\", \"vec3\"), t.vertex.uniforms.add(\"vvSizeFactor\", \"vec3\"), t.vertex.code.add(e`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)) : (t.attributes.add(\"size\", \"float\"), t.vertex.code.add(e`float getSize(){\nreturn intrinsicWidth * size;\n}`)), i.vvOpacity ? (t.attributes.add(\"opacityFeatureAttribute\", \"float\"), t.vertex.constants.add(\"vvOpacityNumber\", \"int\", 8), t.vertex.code.add(e`uniform float vvOpacityValues[vvOpacityNumber];\nuniform float vvOpacityOpacities[vvOpacityNumber];\nfloat interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)) : t.vertex.code.add(e`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`), i.vvColor ? (t.attributes.add(\"colorFeatureAttribute\", \"float\"), t.vertex.constants.add(\"vvColorNumber\", \"int\", 8), t.vertex.code.add(e`uniform float vvColorValues[vvColorNumber];\nuniform vec4 vvColorColors[vvColorNumber];\nvec4 interpolateColor( float value ) {\nif (value <= vvColorValues[0]) {\nreturn vvColorColors[0];\n}\nfor (int i = 1; i < vvColorNumber; ++i) {\nif (vvColorValues[i] >= value) {\nfloat f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);\nreturn mix(vvColorColors[i-1], vvColorColors[i], f);\n}\n}\nreturn vvColorColors[vvColorNumber - 1];\n}\nvec4 getColor(){\nreturn applyOpacity(interpolateColor(colorFeatureAttribute));\n}`)) : (t.attributes.add(\"color\", \"vec4\"), t.vertex.code.add(e`vec4 getColor(){\nreturn applyOpacity(color);\n}`));\n}\n\nexport { t as RibbonVertexPosition };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js"],"names":["glsl","e","t","i","vertex","uniforms","add","vvSize","attributes","code","vvOpacity","constants","vvColor","RibbonVertexPosition"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAf,QAAqB,mCAArB;;AAAyD,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;AAACD,EAAAA,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,gBAAtB,EAAuC,OAAvC,GAAgDH,CAAC,CAACI,MAAF,IAAUL,CAAC,CAACM,UAAF,CAAaF,GAAb,CAAiB,sBAAjB,EAAwC,OAAxC,GAAiDJ,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,eAAtB,EAAsC,MAAtC,CAAjD,EAA+FJ,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,eAAtB,EAAsC,MAAtC,CAA/F,EAA6IJ,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,cAAtB,EAAqC,MAArC,CAA7I,EAA0LJ,CAAC,CAACE,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,cAAtB,EAAqC,MAArC,CAA1L,EAAuOJ,CAAC,CAACE,MAAF,CAASK,IAAT,CAAcH,GAAd,CAAkBL,CAAE;AAC9X;AACA,EAF0W,CAAjP,KAEnHC,CAAC,CAACM,UAAF,CAAaF,GAAb,CAAiB,MAAjB,EAAwB,OAAxB,GAAiCJ,CAAC,CAACE,MAAF,CAASK,IAAT,CAAcH,GAAd,CAAkBL,CAAE;AAC3D;AACA,EAFuC,CAFkF,CAAhD,EAIpEE,CAAC,CAACO,SAAF,IAAaR,CAAC,CAACM,UAAF,CAAaF,GAAb,CAAiB,yBAAjB,EAA2C,OAA3C,GAAoDJ,CAAC,CAACE,MAAF,CAASO,SAAT,CAAmBL,GAAnB,CAAuB,iBAAvB,EAAyC,KAAzC,EAA+C,CAA/C,CAApD,EAAsGJ,CAAC,CAACE,MAAF,CAASK,IAAT,CAAcH,GAAd,CAAkBL,CAAE;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAhBwH,CAAnH,IAgBAC,CAAC,CAACE,MAAF,CAASK,IAAT,CAAcH,GAAd,CAAkBL,CAAE;AACzB;AACA,EAFK,CApBoE,EAsBrEE,CAAC,CAACS,OAAF,IAAWV,CAAC,CAACM,UAAF,CAAaF,GAAb,CAAiB,uBAAjB,EAAyC,OAAzC,GAAkDJ,CAAC,CAACE,MAAF,CAASO,SAAT,CAAmBL,GAAnB,CAAuB,eAAvB,EAAuC,KAAvC,EAA6C,CAA7C,CAAlD,EAAkGJ,CAAC,CAACE,MAAF,CAASK,IAAT,CAAcH,GAAd,CAAkBL,CAAE;AACrI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAhBiH,CAA7G,KAgBEC,CAAC,CAACM,UAAF,CAAaF,GAAb,CAAiB,OAAjB,EAAyB,MAAzB,GAAiCJ,CAAC,CAACE,MAAF,CAASK,IAAT,CAAcH,GAAd,CAAkBL,CAAE;AAC3D;AACA,EAFuC,CAhBnC,CAtBqE;AAwCpE;;AAAA,SAAOC,CAAC,IAAIW,oBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,i){t.vertex.uniforms.add(\"intrinsicWidth\",\"float\"),i.vvSize?(t.attributes.add(\"sizeFeatureAttribute\",\"float\"),t.vertex.uniforms.add(\"vvSizeMinSize\",\"vec3\"),t.vertex.uniforms.add(\"vvSizeMaxSize\",\"vec3\"),t.vertex.uniforms.add(\"vvSizeOffset\",\"vec3\"),t.vertex.uniforms.add(\"vvSizeFactor\",\"vec3\"),t.vertex.code.add(e`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(t.attributes.add(\"size\",\"float\"),t.vertex.code.add(e`float getSize(){\nreturn intrinsicWidth * size;\n}`)),i.vvOpacity?(t.attributes.add(\"opacityFeatureAttribute\",\"float\"),t.vertex.constants.add(\"vvOpacityNumber\",\"int\",8),t.vertex.code.add(e`uniform float vvOpacityValues[vvOpacityNumber];\nuniform float vvOpacityOpacities[vvOpacityNumber];\nfloat interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):t.vertex.code.add(e`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),i.vvColor?(t.attributes.add(\"colorFeatureAttribute\",\"float\"),t.vertex.constants.add(\"vvColorNumber\",\"int\",8),t.vertex.code.add(e`uniform float vvColorValues[vvColorNumber];\nuniform vec4 vvColorColors[vvColorNumber];\nvec4 interpolateColor( float value ) {\nif (value <= vvColorValues[0]) {\nreturn vvColorColors[0];\n}\nfor (int i = 1; i < vvColorNumber; ++i) {\nif (vvColorValues[i] >= value) {\nfloat f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);\nreturn mix(vvColorColors[i-1], vvColorColors[i], f);\n}\n}\nreturn vvColorColors[vvColorNumber - 1];\n}\nvec4 getColor(){\nreturn applyOpacity(interpolateColor(colorFeatureAttribute));\n}`)):(t.attributes.add(\"color\",\"vec4\"),t.vertex.code.add(e`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{t as RibbonVertexPosition};\n"]},"metadata":{},"sourceType":"module"}