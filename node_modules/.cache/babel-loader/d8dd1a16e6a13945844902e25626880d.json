{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Accessor.js\";\nimport s from \"../core/Collection.js\";\nimport r from \"../core/Handles.js\";\nimport { when as i } from \"../core/watchUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { subclass as o } from \"../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./support/GroundViewElevationSampler.js\";\nlet p = class extends t {\n  constructor(e) {\n    super(e), this.handles = new r(), this.view = null, this.layerViews = new s();\n  }\n\n  initialize() {\n    this.handles.add(i(this, \"view.map.ground\", e => e.load())), this.handles.add(this.layerViews.on(\"after-changes\", () => this.layerViewsAfterChangesHandler()));\n  }\n\n  destroy() {\n    this._set(\"view\", null), this.handles && (this.handles.destroy(), this.handles = null);\n  }\n\n  get elevationSampler() {\n    return this.view ? \"2d\" === this.view.type ? null : this.view.ready && this.view.basemapTerrain && this.view.basemapTerrain.ready ? new n({\n      view: this.view\n    }) : null : null;\n  }\n\n  get updating() {\n    return !this.suspended && this.layerViews.some(e => e.updating);\n  }\n\n  get suspended() {\n    return !this.view || this.view.suspended;\n  }\n\n  layerViewsAfterChangesHandler() {\n    this.handles.remove(\"updating\"), this.handles.add(this.layerViews.map(e => e.watch(\"updating\", () => this.updateUpdating(), !0)).toArray(), \"updating\"), this.updateUpdating();\n  }\n\n  updateUpdating() {\n    this.notifyChange(\"updating\");\n  }\n\n};\ne([a({\n  readOnly: !0\n})], p.prototype, \"elevationSampler\", null), e([a({\n  type: Boolean,\n  readOnly: !0\n})], p.prototype, \"updating\", null), e([a({\n  constructOnly: !0\n})], p.prototype, \"view\", void 0), e([a({\n  type: s,\n  readOnly: !0\n})], p.prototype, \"layerViews\", void 0), e([a({\n  readOnly: !0\n})], p.prototype, \"suspended\", null), p = e([o(\"esri.views.GroundView\")], p);\nvar l = p;\nexport default l;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/GroundView.js"],"names":["_","e","t","s","r","when","i","property","a","subclass","o","n","p","constructor","handles","view","layerViews","initialize","add","load","on","layerViewsAfterChangesHandler","destroy","_set","elevationSampler","type","ready","basemapTerrain","updating","suspended","some","remove","map","watch","updateUpdating","toArray","notifyChange","readOnly","prototype","Boolean","constructOnly","l"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import s from\"../core/Collection.js\";import r from\"../core/Handles.js\";import{when as i}from\"../core/watchUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"./support/GroundViewElevationSampler.js\";let p=class extends t{constructor(e){super(e),this.handles=new r,this.view=null,this.layerViews=new s}initialize(){this.handles.add(i(this,\"view.map.ground\",(e=>e.load()))),this.handles.add(this.layerViews.on(\"after-changes\",(()=>this.layerViewsAfterChangesHandler())))}destroy(){this._set(\"view\",null),this.handles&&(this.handles.destroy(),this.handles=null)}get elevationSampler(){return this.view?\"2d\"===this.view.type?null:this.view.ready&&this.view.basemapTerrain&&this.view.basemapTerrain.ready?new n({view:this.view}):null:null}get updating(){return!this.suspended&&this.layerViews.some((e=>e.updating))}get suspended(){return!this.view||this.view.suspended}layerViewsAfterChangesHandler(){this.handles.remove(\"updating\"),this.handles.add(this.layerViews.map((e=>e.watch(\"updating\",(()=>this.updateUpdating()),!0))).toArray(),\"updating\"),this.updateUpdating()}updateUpdating(){this.notifyChange(\"updating\")}};e([a({readOnly:!0})],p.prototype,\"elevationSampler\",null),e([a({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([a({constructOnly:!0})],p.prototype,\"view\",void 0),e([a({type:s,readOnly:!0})],p.prototype,\"layerViews\",void 0),e([a({readOnly:!0})],p.prototype,\"suspended\",null),p=e([o(\"esri.views.GroundView\")],p);var l=p;export default l;\n"]},"metadata":{},"sourceType":"module"}