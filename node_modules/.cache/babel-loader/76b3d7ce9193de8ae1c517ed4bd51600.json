{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../chunks/tslib.es6.js\";\nimport { property as e } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { subclass as t } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { substitute as r } from \"../intl/substitute.js\";\nimport o from \"../widgets/Widget.js\";\nimport { storeNode as i } from \"../widgets/support/widgetUtils.js\";\nimport { messageBundle as n } from \"../widgets/support/decorators/messageBundle.js\";\nimport { tsx as u } from \"../widgets/support/jsxFactory.js\";\nconst l = {\n  base: \"esri-identity-form\",\n  group: \"esri-identity-form__group\",\n  label: \"esri-identity-form__label\",\n  footer: \"esri-identity-form__footer\",\n  esriInput: \"esri-input\",\n  esriButton: \"esri-button\",\n  esriButtonSecondary: \"esri-button--secondary\"\n},\n      p = \"ArcGIS Online\";\nlet a = class extends o {\n  constructor(s, e) {\n    super(s, e), this._usernameInputNode = null, this._passwordInputNode = null, this.messages = null, this.signingIn = !1, this.server = null, this.resource = null, this.error = null, this.oAuthPrompt = !1;\n  }\n\n  render() {\n    const {\n      error: s,\n      server: e,\n      resource: t,\n      signingIn: o,\n      oAuthPrompt: n,\n      messages: a\n    } = this,\n          d = u(\"div\", {\n      class: l.group\n    }, r(n ? a.oAuthInfo : a.info, {\n      server: /\\.arcgis\\.com/i.test(e) ? p : e,\n      resource: `(${t || a.lblItem})`\n    })),\n          c = n ? null : u(\"div\", {\n      class: l.group,\n      key: \"username\"\n    }, u(\"label\", {\n      class: l.label\n    }, a.lblUser, u(\"input\", {\n      value: \"\",\n      required: !0,\n      autocomplete: \"off\",\n      spellcheck: !1,\n      type: \"text\",\n      bind: this,\n      afterCreate: i,\n      \"data-node-ref\": \"_usernameInputNode\",\n      class: l.esriInput\n    }))),\n          m = n ? null : u(\"div\", {\n      class: l.group,\n      key: \"password\"\n    }, u(\"label\", {\n      class: l.label\n    }, a.lblPwd, u(\"input\", {\n      value: \"\",\n      required: !0,\n      type: \"password\",\n      bind: this,\n      afterCreate: i,\n      \"data-node-ref\": \"_passwordInputNode\",\n      class: l.esriInput\n    }))),\n          h = u(\"div\", {\n      class: this.classes(l.group, l.footer)\n    }, u(\"input\", {\n      type: \"submit\",\n      disabled: !!o,\n      value: o ? a.lblSigning : a.lblOk,\n      class: l.esriButton\n    }), u(\"input\", {\n      type: \"button\",\n      value: a.lblCancel,\n      bind: this,\n      onclick: this._cancel,\n      class: this.classes(l.esriButton, l.esriButtonSecondary)\n    })),\n          g = s ? u(\"div\", null, s.details && s.details.httpStatus ? a.invalidUser : a.noAuthService) : null;\n    return u(\"form\", {\n      class: l.base,\n      bind: this,\n      onsubmit: this._submit\n    }, d, g, c, m, h);\n  }\n\n  _cancel() {\n    this._set(\"signingIn\", !1), this._usernameInputNode && (this._usernameInputNode.value = \"\"), this._passwordInputNode && (this._passwordInputNode.value = \"\"), this.emit(\"cancel\");\n  }\n\n  _submit(s) {\n    s.preventDefault(), this._set(\"signingIn\", !0);\n    const e = this.oAuthPrompt ? {} : {\n      username: this._usernameInputNode && this._usernameInputNode.value,\n      password: this._passwordInputNode && this._passwordInputNode.value\n    };\n    this.emit(\"submit\", e);\n  }\n\n};\ns([e(), n(\"esri/identity/t9n/identity\")], a.prototype, \"messages\", void 0), s([e()], a.prototype, \"signingIn\", void 0), s([e()], a.prototype, \"server\", void 0), s([e()], a.prototype, \"resource\", void 0), s([e()], a.prototype, \"error\", void 0), s([e()], a.prototype, \"oAuthPrompt\", void 0), a = s([t(\"esri.identity.IdentityForm\")], a);\nvar d = a;\nexport default d;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/identity/IdentityForm.js"],"names":["_","s","property","e","subclass","t","substitute","r","o","storeNode","i","messageBundle","n","tsx","u","l","base","group","label","footer","esriInput","esriButton","esriButtonSecondary","p","a","constructor","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","error","oAuthPrompt","render","d","class","oAuthInfo","info","test","lblItem","c","key","lblUser","value","required","autocomplete","spellcheck","type","bind","afterCreate","m","lblPwd","h","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","g","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","preventDefault","username","password","prototype"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import{substitute as r}from\"../intl/substitute.js\";import o from\"../widgets/Widget.js\";import{storeNode as i}from\"../widgets/support/widgetUtils.js\";import{messageBundle as n}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as u}from\"../widgets/support/jsxFactory.js\";const l={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},p=\"ArcGIS Online\";let a=class extends o{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n,messages:a}=this,d=u(\"div\",{class:l.group},r(n?a.oAuthInfo:a.info,{server:/\\.arcgis\\.com/i.test(e)?p:e,resource:`(${t||a.lblItem})`})),c=n?null:u(\"div\",{class:l.group,key:\"username\"},u(\"label\",{class:l.label},a.lblUser,u(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:i,\"data-node-ref\":\"_usernameInputNode\",class:l.esriInput}))),m=n?null:u(\"div\",{class:l.group,key:\"password\"},u(\"label\",{class:l.label},a.lblPwd,u(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:i,\"data-node-ref\":\"_passwordInputNode\",class:l.esriInput}))),h=u(\"div\",{class:this.classes(l.group,l.footer)},u(\"input\",{type:\"submit\",disabled:!!o,value:o?a.lblSigning:a.lblOk,class:l.esriButton}),u(\"input\",{type:\"button\",value:a.lblCancel,bind:this,onclick:this._cancel,class:this.classes(l.esriButton,l.esriButtonSecondary)})),g=s?u(\"div\",null,s.details&&s.details.httpStatus?a.invalidUser:a.noAuthService):null;return u(\"form\",{class:l.base,bind:this,onsubmit:this._submit},d,g,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),n(\"esri/identity/t9n/identity\")],a.prototype,\"messages\",void 0),s([e()],a.prototype,\"signingIn\",void 0),s([e()],a.prototype,\"server\",void 0),s([e()],a.prototype,\"resource\",void 0),s([e()],a.prototype,\"error\",void 0),s([e()],a.prototype,\"oAuthPrompt\",void 0),a=s([t(\"esri.identity.IdentityForm\")],a);var d=a;export default d;\n"]},"metadata":{},"sourceType":"module"}