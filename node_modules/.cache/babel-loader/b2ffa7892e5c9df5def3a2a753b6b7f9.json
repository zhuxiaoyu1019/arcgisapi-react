{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { unwrapOr as e } from \"../../../../../core/maybe.js\";\nimport { isHostedAgolService as r } from \"../../../../../layers/support/arcgisLayerUrl.js\";\nimport { DrillDownFeatureSource as t } from \"./DrillDownFeatureSource.js\";\nimport { GeoEventSource as o } from \"./GeoEventSource.js\";\nimport { PagedFeatureSource as n } from \"./PagedFeatureSource.js\";\nimport { SnapshotFeatureSource as s } from \"./SnapshotFeatureSource.js\";\n\nfunction a(e, r, a, u, i, p) {\n  const f = c(e, r, a, u, i, p);\n\n  switch (f.type) {\n    case \"feature\":\n      switch (f.origin) {\n        case \"hosted\":\n        case \"local\":\n          return new n(f);\n\n        case \"snapshot\":\n          return new s(f);\n\n        case \"unknown\":\n          return new t(f);\n      }\n\n    case \"geoevent\":\n      return new o(f);\n  }\n}\n\nfunction c(t, o, n, s, a, c) {\n  switch (t.type) {\n    case \"snapshot\":\n      return {\n        type: \"feature\",\n        origin: \"snapshot\",\n        featureCount: e(t.featureCount, 0),\n        serviceInfo: t,\n        onMessage: s,\n        outSR: o,\n        tileInfoView: n,\n        canAcceptRequest: a,\n        store: c\n      };\n\n    case \"stream\":\n      return {\n        type: \"geoevent\",\n        serviceInfo: t,\n        onMessage: s,\n        outSR: o,\n        canAcceptRequest: a\n      };\n\n    case \"memory\":\n    case \"on-demand\":\n      return {\n        type: \"feature\",\n        serviceInfo: t,\n        onMessage: s,\n        outSR: o,\n        origin: u(t.source),\n        tileInfoView: n,\n        canAcceptRequest: a\n      };\n  }\n\n  function u(e) {\n    return Array.isArray(e) ? \"local\" : \"path\" in e && r(e.path) ? \"hosted\" : \"unknown\";\n  }\n}\n\nexport { a as createSource };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js"],"names":["unwrapOr","e","isHostedAgolService","r","DrillDownFeatureSource","t","GeoEventSource","o","PagedFeatureSource","n","SnapshotFeatureSource","s","a","u","i","p","f","c","type","origin","featureCount","serviceInfo","onMessage","outSR","tileInfoView","canAcceptRequest","store","source","Array","isArray","path","createSource"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,QAAQ,IAAIC,CAAnB,QAAyB,8BAAzB;AAAwD,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,iDAApC;AAAsF,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,6BAAvC;AAAqE,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,qBAA/B;AAAqD,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,yBAAnC;AAA6D,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,4BAAtC;;AAAmE,SAASC,CAAT,CAAWX,CAAX,EAAaE,CAAb,EAAeS,CAAf,EAAiBC,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuB;AAAC,QAAMC,CAAC,GAACC,CAAC,CAAChB,CAAD,EAAGE,CAAH,EAAKS,CAAL,EAAOC,CAAP,EAASC,CAAT,EAAWC,CAAX,CAAT;;AAAuB,UAAOC,CAAC,CAACE,IAAT;AAAe,SAAI,SAAJ;AAAc,cAAOF,CAAC,CAACG,MAAT;AAAiB,aAAI,QAAJ;AAAa,aAAI,OAAJ;AAAY,iBAAO,IAAIV,CAAJ,CAAMO,CAAN,CAAP;;AAAgB,aAAI,UAAJ;AAAe,iBAAO,IAAIL,CAAJ,CAAMK,CAAN,CAAP;;AAAgB,aAAI,SAAJ;AAAc,iBAAO,IAAIX,CAAJ,CAAMW,CAAN,CAAP;AAAvG;;AAAuH,SAAI,UAAJ;AAAe,aAAO,IAAIT,CAAJ,CAAMS,CAAN,CAAP;AAAnK;AAAoL;;AAAA,SAASC,CAAT,CAAWZ,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmBC,CAAnB,EAAqBK,CAArB,EAAuB;AAAC,UAAOZ,CAAC,CAACa,IAAT;AAAe,SAAI,UAAJ;AAAe,aAAM;AAACA,QAAAA,IAAI,EAAC,SAAN;AAAgBC,QAAAA,MAAM,EAAC,UAAvB;AAAkCC,QAAAA,YAAY,EAACnB,CAAC,CAACI,CAAC,CAACe,YAAH,EAAgB,CAAhB,CAAhD;AAAmEC,QAAAA,WAAW,EAAChB,CAA/E;AAAiFiB,QAAAA,SAAS,EAACX,CAA3F;AAA6FY,QAAAA,KAAK,EAAChB,CAAnG;AAAqGiB,QAAAA,YAAY,EAACf,CAAlH;AAAoHgB,QAAAA,gBAAgB,EAACb,CAArI;AAAuIc,QAAAA,KAAK,EAACT;AAA7I,OAAN;;AAAsJ,SAAI,QAAJ;AAAa,aAAM;AAACC,QAAAA,IAAI,EAAC,UAAN;AAAiBG,QAAAA,WAAW,EAAChB,CAA7B;AAA+BiB,QAAAA,SAAS,EAACX,CAAzC;AAA2CY,QAAAA,KAAK,EAAChB,CAAjD;AAAmDkB,QAAAA,gBAAgB,EAACb;AAApE,OAAN;;AAA6E,SAAI,QAAJ;AAAa,SAAI,WAAJ;AAAgB,aAAM;AAACM,QAAAA,IAAI,EAAC,SAAN;AAAgBG,QAAAA,WAAW,EAAChB,CAA5B;AAA8BiB,QAAAA,SAAS,EAACX,CAAxC;AAA0CY,QAAAA,KAAK,EAAChB,CAAhD;AAAkDY,QAAAA,MAAM,EAACN,CAAC,CAACR,CAAC,CAACsB,MAAH,CAA1D;AAAqEH,QAAAA,YAAY,EAACf,CAAlF;AAAoFgB,QAAAA,gBAAgB,EAACb;AAArG,OAAN;AAA3S;;AAAyZ,WAASC,CAAT,CAAWZ,CAAX,EAAa;AAAC,WAAO2B,KAAK,CAACC,OAAN,CAAc5B,CAAd,IAAiB,OAAjB,GAAyB,UAASA,CAAT,IAAYE,CAAC,CAACF,CAAC,CAAC6B,IAAH,CAAb,GAAsB,QAAtB,GAA+B,SAA/D;AAAyE;AAAC;;AAAA,SAAOlB,CAAC,IAAImB,YAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e}from\"../../../../../core/maybe.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{DrillDownFeatureSource as t}from\"./DrillDownFeatureSource.js\";import{GeoEventSource as o}from\"./GeoEventSource.js\";import{PagedFeatureSource as n}from\"./PagedFeatureSource.js\";import{SnapshotFeatureSource as s}from\"./SnapshotFeatureSource.js\";function a(e,r,a,u,i,p){const f=c(e,r,a,u,i,p);switch(f.type){case\"feature\":switch(f.origin){case\"hosted\":case\"local\":return new n(f);case\"snapshot\":return new s(f);case\"unknown\":return new t(f)}case\"geoevent\":return new o(f)}}function c(t,o,n,s,a,c){switch(t.type){case\"snapshot\":return{type:\"feature\",origin:\"snapshot\",featureCount:e(t.featureCount,0),serviceInfo:t,onMessage:s,outSR:o,tileInfoView:n,canAcceptRequest:a,store:c};case\"stream\":return{type:\"geoevent\",serviceInfo:t,onMessage:s,outSR:o,canAcceptRequest:a};case\"memory\":case\"on-demand\":return{type:\"feature\",serviceInfo:t,onMessage:s,outSR:o,origin:u(t.source),tileInfoView:n,canAcceptRequest:a}}function u(e){return Array.isArray(e)?\"local\":\"path\"in e&&r(e.path)?\"hosted\":\"unknown\"}}export{a as createSource};\n"]},"metadata":{},"sourceType":"module"}