{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { DragEventSeparator as t } from \"../DragEventSeparator.js\";\nimport { InputHandler as e } from \"../InputHandler.js\";\n\nclass a extends e {\n  constructor(e = 20, a = 40) {\n    super(!1), this._threshold = e, this._maxDelta = a, this.state = \"ready\", this.emittedArtificalEnd2 = !1, this._vertical = this.registerOutgoing(\"vertical-two-finger-drag\"), this._artificalDrag = this.registerOutgoing(\"drag\"), this.dragEventSeparator = new t({\n      start: (t, e) => this.observeStart(t, e),\n      update: (t, e, a) => this.observeUpdate(t, e, a),\n      end: (t, e) => this.observeEnd(e)\n    }), this.registerIncoming(\"drag\", t => this.dragEventSeparator.handle(t));\n  }\n\n  get failed() {\n    return \"failed\" === this.state;\n  }\n\n  observeStart(t, e) {\n    1 === t && this.emittedArtificalEnd2 && (this.emittedArtificalEnd2 = !1, this._artificalDrag.emit({\n      action: \"start\",\n      button: e.data.button,\n      buttons: e.data.buttons,\n      pointerType: e.data.pointerType,\n      timestamp: e.data.timestamp,\n      pointers: e.data.pointers,\n      pointer: e.data.pointer,\n      angle: e.data.angle,\n      radius: e.data.radius,\n      center: e.data.center\n    }), e.stopPropagation()), this.state = 2 === t ? \"ready\" : \"failed\";\n  }\n\n  observeUpdate(t, e, a) {\n    if (\"failed\" !== this.state && 2 === t) return \"active\" === this.state ? (this._vertical.emit({\n      delta: e.data.center.y - this._thresholdReachedCenter.y,\n      action: \"update\"\n    }), void e.stopPropagation()) : void (this.checkMovementWithinLimits(e.data, a.data) ? this.checkVerticalThresholdReached(e.data, a.data) && (this.state = \"active\", this.emittedArtificalEnd2 = !0, this._thresholdReachedCenter = e.data.center, this._artificalDrag.emit({\n      action: \"end\",\n      button: e.data.button,\n      buttons: e.data.buttons,\n      pointerType: e.data.pointerType,\n      timestamp: e.data.timestamp,\n      pointers: e.data.pointers,\n      pointer: e.data.pointer,\n      angle: e.data.angle,\n      radius: e.data.radius,\n      center: e.data.center\n    }), this._vertical.emit({\n      delta: e.data.center.y - this._thresholdReachedCenter.y,\n      action: \"begin\"\n    }), e.stopPropagation()) : this.state = \"failed\");\n  }\n\n  observeEnd(t) {\n    \"active\" === this.state && (this._vertical.emit({\n      delta: t.data.center.y - this._thresholdReachedCenter.y,\n      action: \"end\"\n    }), this.state = \"ready\", t.stopPropagation());\n  }\n\n  checkMovementWithinLimits(t, e) {\n    let a = -1 / 0,\n        i = 1 / 0,\n        r = -1 / 0,\n        s = 1 / 0;\n    e.pointers.forEach(t => {\n      a = Math.max(a, t.x), i = Math.min(i, t.x), r = Math.max(r, t.y), s = Math.min(s, t.y);\n    });\n    let n = -1 / 0,\n        h = 1 / 0,\n        d = -1 / 0,\n        o = 1 / 0;\n    t.pointers.forEach(t => {\n      n = Math.max(n, t.x), h = Math.min(h, t.x), d = Math.max(d, t.y), o = Math.min(o, t.y);\n    });\n    const c = a - i,\n          l = r - s,\n          p = n - h,\n          m = d - o;\n    return Math.abs(t.center.x - e.center.x) < this._threshold && Math.abs(p - c) <= this._maxDelta && Math.abs(m - l) <= this._maxDelta;\n  }\n\n  checkVerticalThresholdReached(t, e) {\n    let a = Math.abs(t.center.y - e.center.y);\n    return t.pointers.forEach((t, i) => {\n      const r = e.pointers.get(i);\n      a = Math.min(a, Math.abs(t.y - r.y));\n    }), a >= this._threshold;\n  }\n\n}\n\nexport { a as VerticalTwoFingerDrag };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/input/recognizers/VerticalTwoFingerDrag.js"],"names":["DragEventSeparator","t","InputHandler","e","a","constructor","_threshold","_maxDelta","state","emittedArtificalEnd2","_vertical","registerOutgoing","_artificalDrag","dragEventSeparator","start","observeStart","update","observeUpdate","end","observeEnd","registerIncoming","handle","failed","emit","action","button","data","buttons","pointerType","timestamp","pointers","pointer","angle","radius","center","stopPropagation","delta","y","_thresholdReachedCenter","checkMovementWithinLimits","checkVerticalThresholdReached","i","r","s","forEach","Math","max","x","min","n","h","d","o","c","l","p","m","abs","get","VerticalTwoFingerDrag"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{DragEventSeparator as t}from\"../DragEventSeparator.js\";import{InputHandler as e}from\"../InputHandler.js\";class a extends e{constructor(e=20,a=40){super(!1),this._threshold=e,this._maxDelta=a,this.state=\"ready\",this.emittedArtificalEnd2=!1,this._vertical=this.registerOutgoing(\"vertical-two-finger-drag\"),this._artificalDrag=this.registerOutgoing(\"drag\"),this.dragEventSeparator=new t({start:(t,e)=>this.observeStart(t,e),update:(t,e,a)=>this.observeUpdate(t,e,a),end:(t,e)=>this.observeEnd(e)}),this.registerIncoming(\"drag\",(t=>this.dragEventSeparator.handle(t)))}get failed(){return\"failed\"===this.state}observeStart(t,e){1===t&&this.emittedArtificalEnd2&&(this.emittedArtificalEnd2=!1,this._artificalDrag.emit({action:\"start\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),e.stopPropagation()),this.state=2===t?\"ready\":\"failed\"}observeUpdate(t,e,a){if(\"failed\"!==this.state&&2===t)return\"active\"===this.state?(this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"update\"}),void e.stopPropagation()):void(this.checkMovementWithinLimits(e.data,a.data)?this.checkVerticalThresholdReached(e.data,a.data)&&(this.state=\"active\",this.emittedArtificalEnd2=!0,this._thresholdReachedCenter=e.data.center,this._artificalDrag.emit({action:\"end\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"begin\"}),e.stopPropagation()):this.state=\"failed\")}observeEnd(t){\"active\"===this.state&&(this._vertical.emit({delta:t.data.center.y-this._thresholdReachedCenter.y,action:\"end\"}),this.state=\"ready\",t.stopPropagation())}checkMovementWithinLimits(t,e){let a=-1/0,i=1/0,r=-1/0,s=1/0;e.pointers.forEach((t=>{a=Math.max(a,t.x),i=Math.min(i,t.x),r=Math.max(r,t.y),s=Math.min(s,t.y)}));let n=-1/0,h=1/0,d=-1/0,o=1/0;t.pointers.forEach((t=>{n=Math.max(n,t.x),h=Math.min(h,t.x),d=Math.max(d,t.y),o=Math.min(o,t.y)}));const c=a-i,l=r-s,p=n-h,m=d-o;return Math.abs(t.center.x-e.center.x)<this._threshold&&Math.abs(p-c)<=this._maxDelta&&Math.abs(m-l)<=this._maxDelta}checkVerticalThresholdReached(t,e){let a=Math.abs(t.center.y-e.center.y);return t.pointers.forEach(((t,i)=>{const r=e.pointers.get(i);a=Math.min(a,Math.abs(t.y-r.y))})),a>=this._threshold}}export{a as VerticalTwoFingerDrag};\n"]},"metadata":{},"sourceType":"module"}