{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../chunks/tslib.es6.js\";\nimport t from \"./Error.js\";\nimport { EsriPromise as s } from \"./Promise.js\";\nimport { onAbortOrThrow as r, createAbortController as e, onAbort as l } from \"./promiseUtils.js\";\nimport a from \"./Warning.js\";\nimport { property as i } from \"./accessorSupport/decorators/property.js\";\nimport { subclass as n } from \"./accessorSupport/decorators/subclass.js\";\n\nconst d = \"not-loaded\",\n      u = \"loading\",\n      c = \"failed\",\n      h = \"loaded\",\n      p = s => {\n  let p = class extends s {\n    constructor(...o) {\n      super(...o), this._loadController = null, this.loadError = null, this.loadStatus = \"not-loaded\", this._set(\"loadWarnings\", []), this.addResolvingPromise(new Promise(o => {\n        const s = this.load.bind(this);\n\n        this.load = a => {\n          const i = new Promise((o, s) => {\n            const e = r(a, s);\n            this.destroyed && s(new t(\"load:instance-destroyed\", `Instance of '${this.declaredClass || this.constructor.name}' is already destroyed`, {\n              instance: this\n            })), this._promiseProps.when(o, s).finally(() => {\n              e && e.remove();\n            });\n          });\n\n          if (this.loadStatus === d) {\n            this._set(\"loadStatus\", u);\n\n            const o = this._loadController = e();\n            s({\n              signal: o.signal\n            }), l(o.signal, () => {\n              this._promiseProps.abort();\n            });\n          }\n\n          return o(), i;\n        };\n      })), this.when(() => {\n        this._set(\"loadStatus\", h), this._loadController = null;\n      }, o => {\n        this._set(\"loadStatus\", c), this._set(\"loadError\", o), this._loadController = null;\n      });\n    }\n\n    get loaded() {\n      return this.loadStatus === h;\n    }\n\n    get loadWarnings() {\n      return this._get(\"loadWarnings\");\n    }\n\n    load() {\n      return null;\n    }\n\n    cancelLoad() {\n      var o;\n      return this.isFulfilled() || (this._set(\"loadError\", new t(\"load:cancelled\", \"Cancelled\")), null == (o = this._loadController) || o.abort()), this;\n    }\n\n  };\n  return o([i({\n    readOnly: !0\n  })], p.prototype, \"loaded\", null), o([i({\n    readOnly: !0\n  })], p.prototype, \"loadError\", void 0), o([i()], p.prototype, \"loadStatus\", void 0), o([i({\n    type: [a],\n    readOnly: !0\n  })], p.prototype, \"loadWarnings\", null), p = o([n(\"esri.core.Loadable\")], p), p;\n};\n\nlet m = class extends p(s) {};\nm = o([n(\"esri.core.Loadable\")], m), function (o) {\n  function t(o) {\n    return !(!o || !o.load);\n  }\n\n  o.LoadableMixin = p, o.isLoadable = t;\n}(m || (m = {}));\nvar f = m;\nexport default f;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/core/Loadable.js"],"names":["_","o","t","EsriPromise","s","onAbortOrThrow","r","createAbortController","e","onAbort","l","a","property","i","subclass","n","d","u","c","h","p","constructor","_loadController","loadError","loadStatus","_set","addResolvingPromise","Promise","load","bind","destroyed","declaredClass","name","instance","_promiseProps","when","finally","remove","signal","abort","loaded","loadWarnings","_get","cancelLoad","isFulfilled","readOnly","prototype","type","m","LoadableMixin","isLoadable","f"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import t from\"./Error.js\";import{EsriPromise as s}from\"./Promise.js\";import{onAbortOrThrow as r,createAbortController as e,onAbort as l}from\"./promiseUtils.js\";import a from\"./Warning.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import{subclass as n}from\"./accessorSupport/decorators/subclass.js\";const d=\"not-loaded\",u=\"loading\",c=\"failed\",h=\"loaded\",p=s=>{let p=class extends s{constructor(...o){super(...o),this._loadController=null,this.loadError=null,this.loadStatus=\"not-loaded\",this._set(\"loadWarnings\",[]),this.addResolvingPromise(new Promise((o=>{const s=this.load.bind(this);this.load=a=>{const i=new Promise(((o,s)=>{const e=r(a,s);this.destroyed&&s(new t(\"load:instance-destroyed\",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(o,s).finally((()=>{e&&e.remove()}))}));if(this.loadStatus===d){this._set(\"loadStatus\",u);const o=this._loadController=e();s({signal:o.signal}),l(o.signal,(()=>{this._promiseProps.abort()}))}return o(),i}}))),this.when((()=>{this._set(\"loadStatus\",h),this._loadController=null}),(o=>{this._set(\"loadStatus\",c),this._set(\"loadError\",o),this._loadController=null}))}get loaded(){return this.loadStatus===h}get loadWarnings(){return this._get(\"loadWarnings\")}load(){return null}cancelLoad(){var o;return this.isFulfilled()||(this._set(\"loadError\",new t(\"load:cancelled\",\"Cancelled\")),null==(o=this._loadController)||o.abort()),this}};return o([i({readOnly:!0})],p.prototype,\"loaded\",null),o([i({readOnly:!0})],p.prototype,\"loadError\",void 0),o([i()],p.prototype,\"loadStatus\",void 0),o([i({type:[a],readOnly:!0})],p.prototype,\"loadWarnings\",null),p=o([n(\"esri.core.Loadable\")],p),p};let m=class extends(p(s)){};m=o([n(\"esri.core.Loadable\")],m),function(o){function t(o){return!(!o||!o.load)}o.LoadableMixin=p,o.isLoadable=t}(m||(m={}));var f=m;export default f;\n"]},"metadata":{},"sourceType":"module"}