{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t {\n  constructor() {\n    this.source = !1, this.targets = {\n      feature: !1,\n      aggregate: !1\n    }, this.storage = {\n      filters: !1,\n      data: !1\n    }, this.mesh = !1, this.queryFilter = !1, this.why = {\n      mesh: [],\n      source: []\n    };\n  }\n\n  static create(e) {\n    const s = new t();\n\n    for (const t in e) {\n      const r = e[t];\n      if (\"object\" == typeof r) for (const e in r) {\n        const a = r[e];\n        s[t][e] = a;\n      }\n      s[t] = r;\n    }\n\n    return s;\n  }\n\n  static empty() {\n    return t.create({});\n  }\n\n  static all() {\n    return t.create({\n      source: !0,\n      targets: {\n        feature: !0,\n        aggregate: !0\n      },\n      storage: {\n        filters: !0,\n        data: !0\n      },\n      mesh: !0\n    });\n  }\n\n  unset(t) {\n    t.source && (this.source = !1), t.targets.feature && (this.targets.feature = !1), t.targets.aggregate && (this.targets.aggregate = !1), t.storage.filters && (this.storage.filters = !1), t.storage.data && (this.storage.data = !1), t.mesh && (this.mesh = !1), t.queryFilter && (this.queryFilter = !1);\n  }\n\n  any() {\n    return this.source || this.mesh || this.storage.filters || this.storage.data || this.targets.feature || this.targets.aggregate || this.queryFilter;\n  }\n\n  describe() {\n    let t = 0,\n        e = \"\";\n\n    if (this.mesh) {\n      t += 20, e += \"-> (20) Mesh needs update\\n\";\n\n      for (const t of this.why.mesh) e += `    + ${t}\\n`;\n    }\n\n    if (this.source) {\n      t += 10, e += \"-> (10) The source needs update\\n\";\n\n      for (const t of this.why.source) e += `    + ${t}\\n`;\n    }\n\n    this.targets.feature && (t += 5, e += \"-> (5) Feature target parameters changed\\n\"), this.storage.filters && (t += 5, e += \"-> (5) Feature filter parameters changed\\n\"), this.targets.aggregate && (t += 4, e += \"-> (4) Aggregate target parameters changed\\n\"), this.storage.data && (t += 1, e += \"-> (1) Texture storage parameters changed\");\n    const s = t < 5 ? \"Fastest\" : t < 10 ? \"Fast\" : t < 15 ? \"Moderate\" : t < 20 ? \"Slow\" : \"Very Slow\";\n    console.debug(`Applying ${s} update of cost ${t}/45 `), console.debug(e);\n  }\n\n  toJSON() {\n    return {\n      queryFilter: this.queryFilter,\n      source: this.source,\n      targets: this.targets,\n      storage: this.storage,\n      mesh: this.mesh\n    };\n  }\n\n}\n\nexport { t as UpdateToken };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js"],"names":["t","constructor","source","targets","feature","aggregate","storage","filters","data","mesh","queryFilter","why","create","e","s","r","a","empty","all","unset","any","describe","console","debug","toJSON","UpdateToken"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.source=!1,this.targets={feature:!1,aggregate:!1},this.storage={filters:!1,data:!1},this.mesh=!1,this.queryFilter=!1,this.why={mesh:[],source:[]}}static create(e){const s=new t;for(const t in e){const r=e[t];if(\"object\"==typeof r)for(const e in r){const a=r[e];s[t][e]=a}s[t]=r}return s}static empty(){return t.create({})}static all(){return t.create({source:!0,targets:{feature:!0,aggregate:!0},storage:{filters:!0,data:!0},mesh:!0})}unset(t){t.source&&(this.source=!1),t.targets.feature&&(this.targets.feature=!1),t.targets.aggregate&&(this.targets.aggregate=!1),t.storage.filters&&(this.storage.filters=!1),t.storage.data&&(this.storage.data=!1),t.mesh&&(this.mesh=!1),t.queryFilter&&(this.queryFilter=!1)}any(){return this.source||this.mesh||this.storage.filters||this.storage.data||this.targets.feature||this.targets.aggregate||this.queryFilter}describe(){let t=0,e=\"\";if(this.mesh){t+=20,e+=\"-> (20) Mesh needs update\\n\";for(const t of this.why.mesh)e+=`    + ${t}\\n`}if(this.source){t+=10,e+=\"-> (10) The source needs update\\n\";for(const t of this.why.source)e+=`    + ${t}\\n`}this.targets.feature&&(t+=5,e+=\"-> (5) Feature target parameters changed\\n\"),this.storage.filters&&(t+=5,e+=\"-> (5) Feature filter parameters changed\\n\"),this.targets.aggregate&&(t+=4,e+=\"-> (4) Aggregate target parameters changed\\n\"),this.storage.data&&(t+=1,e+=\"-> (1) Texture storage parameters changed\");const s=t<5?\"Fastest\":t<10?\"Fast\":t<15?\"Moderate\":t<20?\"Slow\":\"Very Slow\";console.debug(`Applying ${s} update of cost ${t}/45 `),console.debug(e)}toJSON(){return{queryFilter:this.queryFilter,source:this.source,targets:this.targets,storage:this.storage,mesh:this.mesh}}}export{t as UpdateToken};\n"]},"metadata":{},"sourceType":"module"}