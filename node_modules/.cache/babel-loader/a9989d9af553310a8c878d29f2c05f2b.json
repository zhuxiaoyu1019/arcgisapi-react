{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e, l) {\n  return Number(e.toFixed(l));\n}\n\nfunction l(e) {\n  const l = u(e),\n        t = [],\n        n = l.uniqueValues.length;\n\n  for (let a = 0; a < n; a++) {\n    const e = l.uniqueValues[a],\n          n = l.valueFrequency[a],\n          u = e.toString();\n    t.push({\n      value: e,\n      count: n,\n      label: u\n    });\n  }\n\n  return {\n    uniqueValues: t\n  };\n}\n\nfunction t(e) {\n  const {\n    normalizationTotal: l\n  } = e;\n  return {\n    classBreaks: n(e),\n    normalizationTotal: l\n  };\n}\n\nfunction n(l) {\n  const t = l.definition,\n        {\n    classificationMethod: n,\n    breakCount: o,\n    normalizationType: r,\n    definedInterval: h\n  } = t,\n        m = [];\n  let b = l.values;\n  if (0 === b.length) return [];\n  b = b.sort((e, l) => e - l);\n  const V = b[0],\n        p = b[b.length - 1];\n  if (\"equal-interval\" === n) {\n    if (b.length >= o) {\n      const l = (p - V) / o;\n      let t = V;\n\n      for (let n = 1; n < o; n++) {\n        const u = e(V + n * l, 6);\n        m.push({\n          minValue: t,\n          maxValue: u,\n          label: a(t, u, r)\n        }), t = u;\n      }\n\n      m.push({\n        minValue: t,\n        maxValue: p,\n        label: a(t, p, r)\n      });\n    } else b.forEach(e => {\n      m.push({\n        minValue: e,\n        maxValue: e,\n        label: a(e, e, r)\n      });\n    });\n  } else if (\"natural-breaks\" === n) {\n    const t = u(b),\n          n = l.valueFrequency || t.valueFrequency,\n          i = s(t.uniqueValues, n, o);\n    let c = V;\n\n    for (let l = 1; l < o; l++) if (t.uniqueValues.length > l) {\n      const n = e(t.uniqueValues[i[l]], 6);\n      m.push({\n        minValue: c,\n        maxValue: n,\n        label: a(c, n, r)\n      }), c = n;\n    }\n\n    m.push({\n      minValue: c,\n      maxValue: p,\n      label: a(c, p, r)\n    });\n  } else if (\"quantile\" === n) {\n    if (b.length >= o && V !== p) {\n      let e = V,\n          l = Math.ceil(b.length / o),\n          t = 0;\n\n      for (let n = 1; n < o; n++) {\n        let u = l + t - 1;\n        u > b.length && (u = b.length - 1), u < 0 && (u = 0), m.push({\n          minValue: e,\n          maxValue: b[u],\n          label: a(e, b[u], r)\n        }), e = b[u], t += l, l = Math.ceil((b.length - t) / (o - n));\n      }\n\n      m.push({\n        minValue: e,\n        maxValue: p,\n        label: a(e, p, r)\n      });\n    } else {\n      let e = -1;\n\n      for (let l = 0; l < b.length; l++) {\n        const t = b[l];\n        t !== e && (e = t, m.push({\n          minValue: e,\n          maxValue: t,\n          label: a(e, t, r)\n        }), e = t);\n      }\n    }\n  } else if (\"standard-deviation\" === n) {\n    const l = c(b),\n          t = f(b, l);\n    if (0 === t) m.push({\n      minValue: b[0],\n      maxValue: b[0],\n      label: a(b[0], b[0], r)\n    });else {\n      const n = i(V, p, o, l, t) * t;\n      let u = 0,\n          s = V;\n\n      for (let t = o; t >= 1; t--) {\n        const o = e(l - (t - .5) * n, 6);\n        m.push({\n          minValue: s,\n          maxValue: o,\n          label: a(s, o, r)\n        }), s = o, u++;\n      }\n\n      let c = e(l + .5 * n, 6);\n      m.push({\n        minValue: s,\n        maxValue: c,\n        label: a(s, c, r)\n      }), s = c, u++;\n\n      for (let t = 1; t <= o; t++) c = u === 2 * o ? p : e(l + (t + .5) * n, 6), m.push({\n        minValue: s,\n        maxValue: c,\n        label: a(s, c, r)\n      }), s = c, u++;\n    }\n  } else if (\"defined-interval\" === n) {\n    if (!h) return m;\n    const l = b[0],\n          t = b[b.length - 1],\n          n = Math.ceil((t - l) / h);\n    let u = l;\n\n    for (let s = 1; s < n; s++) {\n      const t = e(l + s * h, 6);\n      m.push({\n        minValue: u,\n        maxValue: t,\n        label: a(u, t, r)\n      }), u = t;\n    }\n\n    m.push({\n      minValue: u,\n      maxValue: t,\n      label: a(u, t, r)\n    });\n  }\n  return m;\n}\n\nfunction a(e, l, t) {\n  let n = null;\n  return n = e === l ? t && \"percent-of-total\" === t ? e + \"%\" : e.toString() : t && \"percent-of-total\" === t ? e + \"% - \" + l + \"%\" : e + \" - \" + l, n;\n}\n\nfunction u(e) {\n  const l = [],\n        t = [];\n  let n = Number.MIN_VALUE,\n      a = 1,\n      u = -1;\n\n  for (let s = 0; s < e.length; s++) {\n    const o = e[s];\n    o === n ? (a++, t[u] = a) : null !== o && (l.push(o), n = o, a = 1, t.push(a), u++);\n  }\n\n  return {\n    uniqueValues: l,\n    valueFrequency: t\n  };\n}\n\nfunction s(e, l, t) {\n  const n = e.length,\n        a = [];\n  t > n && (t = n);\n\n  for (let s = 0; s < t; s++) a.push(Math.round(s * n / t - 1));\n\n  a.push(n - 1);\n  let u = o(a, e, l, t);\n  return r(u.mean, u.sdcm, a, e, l, t) && (u = o(a, e, l, t)), a;\n}\n\nfunction o(e, l, t, n) {\n  let a = [],\n      u = [],\n      s = [],\n      o = 0;\n  const r = [],\n        i = [];\n\n  for (let b = 0; b < n; b++) {\n    const n = h(b, e, l, t);\n    r.push(n.sbMean), i.push(n.sbSdcm), o += i[b];\n  }\n\n  let c,\n      f = o,\n      m = !0;\n\n  for (; m || o < f;) {\n    m = !1, a = [];\n\n    for (let l = 0; l < n; l++) a.push(e[l]);\n\n    for (let t = 0; t < n; t++) for (let a = e[t] + 1; a <= e[t + 1]; a++) if (c = l[a], t > 0 && a !== e[t + 1] && Math.abs(c - r[t]) > Math.abs(c - r[t - 1])) e[t] = a;else if (t < n - 1 && e[t] !== a - 1 && Math.abs(c - r[t]) > Math.abs(c - r[t + 1])) {\n      e[t + 1] = a - 1;\n      break;\n    }\n\n    f = o, o = 0, u = [], s = [];\n\n    for (let a = 0; a < n; a++) {\n      u.push(r[a]), s.push(i[a]);\n      const n = h(a, e, l, t);\n      r[a] = n.sbMean, i[a] = n.sbSdcm, o += i[a];\n    }\n  }\n\n  if (o > f) {\n    for (let l = 0; l < n; l++) e[l] = a[l], r[l] = u[l], i[l] = s[l];\n\n    o = f;\n  }\n\n  return {\n    mean: r,\n    sdcm: i\n  };\n}\n\nfunction r(e, l, t, n, a, u) {\n  let s = 0,\n      o = 0,\n      r = 0,\n      i = 0,\n      c = !0;\n\n  for (let f = 0; f < 2 && c; f++) {\n    0 === f && (c = !1);\n\n    for (let f = 0; f < u - 1; f++) for (; t[f + 1] + 1 !== t[f + 2];) {\n      t[f + 1] = t[f + 1] + 1;\n      const u = h(f, t, n, a);\n      r = u.sbMean, s = u.sbSdcm;\n      const m = h(f + 1, t, n, a);\n\n      if (i = m.sbMean, o = m.sbSdcm, !(s + o < l[f] + l[f + 1])) {\n        t[f + 1] = t[f + 1] - 1;\n        break;\n      }\n\n      l[f] = s, l[f + 1] = o, e[f] = r, e[f + 1] = i, c = !0;\n    }\n\n    for (let f = u - 1; f > 0; f--) for (; t[f] !== t[f - 1] + 1;) {\n      t[f] = t[f] - 1;\n      const u = h(f - 1, t, n, a);\n      r = u.sbMean, s = u.sbSdcm;\n      const m = h(f, t, n, a);\n\n      if (i = m.sbMean, o = m.sbSdcm, !(s + o < l[f - 1] + l[f])) {\n        t[f] = t[f] + 1;\n        break;\n      }\n\n      l[f - 1] = s, l[f] = o, e[f - 1] = r, e[f] = i, c = !0;\n    }\n  }\n\n  return c;\n}\n\nfunction i(e, l, t, n, a) {\n  let u = Math.max(n - e, l - n) / a / t;\n  return u = u >= 1 ? 1 : u >= .5 ? .5 : .25, u;\n}\n\nfunction c(e) {\n  let l = 0;\n\n  for (let t = 0; t < e.length; t++) l += e[t];\n\n  return l /= e.length, l;\n}\n\nfunction f(e, l) {\n  let t = 0;\n\n  for (let n = 0; n < e.length; n++) {\n    const a = e[n];\n    t += (a - l) * (a - l);\n  }\n\n  t /= e.length;\n  return Math.sqrt(t);\n}\n\nfunction h(e, l, t, n) {\n  let a = 0,\n      u = 0;\n\n  for (let r = l[e] + 1; r <= l[e + 1]; r++) {\n    const e = n[r];\n    a += t[r] * e, u += e;\n  }\n\n  u <= 0 && console.log(\"Exception in Natural Breaks calculation\");\n  const s = a / u;\n  let o = 0;\n\n  for (let r = l[e] + 1; r <= l[e + 1]; r++) o += n[r] * (t[r] - s) ** 2;\n\n  return {\n    sbMean: s,\n    sbSdcm: o\n  };\n}\n\nexport { t as createGenerateRendererClassBreaks, l as createGenerateRendererUniqueValues };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/rest/support/generateRendererUtils.js"],"names":["e","l","Number","toFixed","u","t","n","uniqueValues","length","a","valueFrequency","toString","push","value","count","label","normalizationTotal","classBreaks","definition","classificationMethod","breakCount","o","normalizationType","r","definedInterval","h","m","b","values","sort","V","p","minValue","maxValue","forEach","i","s","c","Math","ceil","f","MIN_VALUE","round","mean","sdcm","sbMean","sbSdcm","abs","max","sqrt","console","log","createGenerateRendererClassBreaks","createGenerateRendererUniqueValues"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,l){return Number(e.toFixed(l))}function l(e){const l=u(e),t=[],n=l.uniqueValues.length;for(let a=0;a<n;a++){const e=l.uniqueValues[a],n=l.valueFrequency[a],u=e.toString();t.push({value:e,count:n,label:u})}return{uniqueValues:t}}function t(e){const{normalizationTotal:l}=e;return{classBreaks:n(e),normalizationTotal:l}}function n(l){const t=l.definition,{classificationMethod:n,breakCount:o,normalizationType:r,definedInterval:h}=t,m=[];let b=l.values;if(0===b.length)return[];b=b.sort(((e,l)=>e-l));const V=b[0],p=b[b.length-1];if(\"equal-interval\"===n)if(b.length>=o){const l=(p-V)/o;let t=V;for(let n=1;n<o;n++){const u=e(V+n*l,6);m.push({minValue:t,maxValue:u,label:a(t,u,r)}),t=u}m.push({minValue:t,maxValue:p,label:a(t,p,r)})}else b.forEach((e=>{m.push({minValue:e,maxValue:e,label:a(e,e,r)})}));else if(\"natural-breaks\"===n){const t=u(b),n=l.valueFrequency||t.valueFrequency,i=s(t.uniqueValues,n,o);let c=V;for(let l=1;l<o;l++)if(t.uniqueValues.length>l){const n=e(t.uniqueValues[i[l]],6);m.push({minValue:c,maxValue:n,label:a(c,n,r)}),c=n}m.push({minValue:c,maxValue:p,label:a(c,p,r)})}else if(\"quantile\"===n)if(b.length>=o&&V!==p){let e=V,l=Math.ceil(b.length/o),t=0;for(let n=1;n<o;n++){let u=l+t-1;u>b.length&&(u=b.length-1),u<0&&(u=0),m.push({minValue:e,maxValue:b[u],label:a(e,b[u],r)}),e=b[u],t+=l,l=Math.ceil((b.length-t)/(o-n))}m.push({minValue:e,maxValue:p,label:a(e,p,r)})}else{let e=-1;for(let l=0;l<b.length;l++){const t=b[l];t!==e&&(e=t,m.push({minValue:e,maxValue:t,label:a(e,t,r)}),e=t)}}else if(\"standard-deviation\"===n){const l=c(b),t=f(b,l);if(0===t)m.push({minValue:b[0],maxValue:b[0],label:a(b[0],b[0],r)});else{const n=i(V,p,o,l,t)*t;let u=0,s=V;for(let t=o;t>=1;t--){const o=e(l-(t-.5)*n,6);m.push({minValue:s,maxValue:o,label:a(s,o,r)}),s=o,u++}let c=e(l+.5*n,6);m.push({minValue:s,maxValue:c,label:a(s,c,r)}),s=c,u++;for(let t=1;t<=o;t++)c=u===2*o?p:e(l+(t+.5)*n,6),m.push({minValue:s,maxValue:c,label:a(s,c,r)}),s=c,u++}}else if(\"defined-interval\"===n){if(!h)return m;const l=b[0],t=b[b.length-1],n=Math.ceil((t-l)/h);let u=l;for(let s=1;s<n;s++){const t=e(l+s*h,6);m.push({minValue:u,maxValue:t,label:a(u,t,r)}),u=t}m.push({minValue:u,maxValue:t,label:a(u,t,r)})}return m}function a(e,l,t){let n=null;return n=e===l?t&&\"percent-of-total\"===t?e+\"%\":e.toString():t&&\"percent-of-total\"===t?e+\"% - \"+l+\"%\":e+\" - \"+l,n}function u(e){const l=[],t=[];let n=Number.MIN_VALUE,a=1,u=-1;for(let s=0;s<e.length;s++){const o=e[s];o===n?(a++,t[u]=a):null!==o&&(l.push(o),n=o,a=1,t.push(a),u++)}return{uniqueValues:l,valueFrequency:t}}function s(e,l,t){const n=e.length,a=[];t>n&&(t=n);for(let s=0;s<t;s++)a.push(Math.round(s*n/t-1));a.push(n-1);let u=o(a,e,l,t);return r(u.mean,u.sdcm,a,e,l,t)&&(u=o(a,e,l,t)),a}function o(e,l,t,n){let a=[],u=[],s=[],o=0;const r=[],i=[];for(let b=0;b<n;b++){const n=h(b,e,l,t);r.push(n.sbMean),i.push(n.sbSdcm),o+=i[b]}let c,f=o,m=!0;for(;m||o<f;){m=!1,a=[];for(let l=0;l<n;l++)a.push(e[l]);for(let t=0;t<n;t++)for(let a=e[t]+1;a<=e[t+1];a++)if(c=l[a],t>0&&a!==e[t+1]&&Math.abs(c-r[t])>Math.abs(c-r[t-1]))e[t]=a;else if(t<n-1&&e[t]!==a-1&&Math.abs(c-r[t])>Math.abs(c-r[t+1])){e[t+1]=a-1;break}f=o,o=0,u=[],s=[];for(let a=0;a<n;a++){u.push(r[a]),s.push(i[a]);const n=h(a,e,l,t);r[a]=n.sbMean,i[a]=n.sbSdcm,o+=i[a]}}if(o>f){for(let l=0;l<n;l++)e[l]=a[l],r[l]=u[l],i[l]=s[l];o=f}return{mean:r,sdcm:i}}function r(e,l,t,n,a,u){let s=0,o=0,r=0,i=0,c=!0;for(let f=0;f<2&&c;f++){0===f&&(c=!1);for(let f=0;f<u-1;f++)for(;t[f+1]+1!==t[f+2];){t[f+1]=t[f+1]+1;const u=h(f,t,n,a);r=u.sbMean,s=u.sbSdcm;const m=h(f+1,t,n,a);if(i=m.sbMean,o=m.sbSdcm,!(s+o<l[f]+l[f+1])){t[f+1]=t[f+1]-1;break}l[f]=s,l[f+1]=o,e[f]=r,e[f+1]=i,c=!0}for(let f=u-1;f>0;f--)for(;t[f]!==t[f-1]+1;){t[f]=t[f]-1;const u=h(f-1,t,n,a);r=u.sbMean,s=u.sbSdcm;const m=h(f,t,n,a);if(i=m.sbMean,o=m.sbSdcm,!(s+o<l[f-1]+l[f])){t[f]=t[f]+1;break}l[f-1]=s,l[f]=o,e[f-1]=r,e[f]=i,c=!0}}return c}function i(e,l,t,n,a){let u=Math.max(n-e,l-n)/a/t;return u=u>=1?1:u>=.5?.5:.25,u}function c(e){let l=0;for(let t=0;t<e.length;t++)l+=e[t];return l/=e.length,l}function f(e,l){let t=0;for(let n=0;n<e.length;n++){const a=e[n];t+=(a-l)*(a-l)}t/=e.length;return Math.sqrt(t)}function h(e,l,t,n){let a=0,u=0;for(let r=l[e]+1;r<=l[e+1];r++){const e=n[r];a+=t[r]*e,u+=e}u<=0&&console.log(\"Exception in Natural Breaks calculation\");const s=a/u;let o=0;for(let r=l[e]+1;r<=l[e+1];r++)o+=n[r]*(t[r]-s)**2;return{sbMean:s,sbSdcm:o}}export{t as createGenerateRendererClassBreaks,l as createGenerateRendererUniqueValues};\n"]},"metadata":{},"sourceType":"module"}