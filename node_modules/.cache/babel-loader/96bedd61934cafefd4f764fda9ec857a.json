{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../Graphic.js\";\nimport r from \"../../../core/Accessor.js\";\nimport { HandleOwnerMixin as o } from \"../../../core/HandleOwner.js\";\nimport { init as s } from \"../../../core/watchUtils.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { graphicCallback as c } from \"../support/featureUtils.js\";\nlet n = class extends o(r) {\n  constructor(t) {\n    super(t), this._loadingPromise = null, this.created = null, this.creator = null, this.destroyer = null, this.graphic = null, this.handles.add(s(this, \"creator\", t => {\n      this._destroyContent(), this._createContent(t);\n    }));\n  }\n\n  destroy() {\n    this._destroyContent();\n  }\n\n  get state() {\n    return this._loadingPromise ? \"loading\" : \"ready\";\n  }\n\n  _destroyContent() {\n    const {\n      created: t,\n      graphic: e,\n      destroyer: r\n    } = this;\n    t && (c(r, {\n      graphic: e\n    }).catch(() => null), this._set(\"created\", null));\n  }\n\n  async _createContent(t) {\n    const {\n      graphic: e\n    } = this,\n          r = c(t, {\n      graphic: e\n    }).catch(() => null);\n    this._loadingPromise = r, this.notifyChange(\"state\");\n    const o = await r;\n    r === this._loadingPromise && (this._loadingPromise = null, this.notifyChange(\"state\"), this._set(\"created\", o));\n  }\n\n};\nt([i({\n  readOnly: !0\n})], n.prototype, \"created\", void 0), t([i()], n.prototype, \"creator\", void 0), t([i()], n.prototype, \"destroyer\", void 0), t([i({\n  type: e\n})], n.prototype, \"graphic\", void 0), t([i({\n  readOnly: !0\n})], n.prototype, \"state\", null), n = t([a(\"esri.widgets.Feature.FeatureContent.FeatureContentViewModel\")], n);\nvar p = n;\nexport default p;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/widgets/Feature/FeatureContent/FeatureContentViewModel.js"],"names":["_","t","e","r","HandleOwnerMixin","o","init","s","property","i","subclass","a","graphicCallback","c","n","constructor","_loadingPromise","created","creator","destroyer","graphic","handles","add","_destroyContent","_createContent","destroy","state","catch","_set","notifyChange","readOnly","prototype","type","p"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{HandleOwnerMixin as o}from\"../../../core/HandleOwner.js\";import{init as s}from\"../../../core/watchUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{graphicCallback as c}from\"../support/featureUtils.js\";let n=class extends(o(r)){constructor(t){super(t),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(s(this,\"creator\",(t=>{this._destroyContent(),this._createContent(t)})))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?\"loading\":\"ready\"}_destroyContent(){const{created:t,graphic:e,destroyer:r}=this;t&&(c(r,{graphic:e}).catch((()=>null)),this._set(\"created\",null))}async _createContent(t){const{graphic:e}=this,r=c(t,{graphic:e}).catch((()=>null));this._loadingPromise=r,this.notifyChange(\"state\");const o=await r;r===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange(\"state\"),this._set(\"created\",o))}};t([i({readOnly:!0})],n.prototype,\"created\",void 0),t([i()],n.prototype,\"creator\",void 0),t([i()],n.prototype,\"destroyer\",void 0),t([i({type:e})],n.prototype,\"graphic\",void 0),t([i({readOnly:!0})],n.prototype,\"state\",null),n=t([a(\"esri.widgets.Feature.FeatureContent.FeatureContentViewModel\")],n);var p=n;export default p;\n"]},"metadata":{},"sourceType":"module"}