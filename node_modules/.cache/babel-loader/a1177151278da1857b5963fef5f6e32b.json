{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isFinite as t } from \"../../../../core/mathUtils.js\";\nimport { isSome as e, isNone as r } from \"../../../../core/maybe.js\";\nimport { r as n, b as o, j as i } from \"../../../../chunks/mat4.js\";\nimport { c as s } from \"../../../../chunks/mat4f64.js\";\nimport { f as u } from \"../../../../chunks/vec2f64.js\";\nimport { O as a, d as m } from \"../../../../chunks/vec3f64.js\";\nimport { s as l } from \"../../../../chunks/vec4.js\";\nimport { d as c, O as f } from \"../../../../chunks/vec4f64.js\";\nimport { projectPoint as p } from \"../../../../geometry/projection.js\";\nimport { isPoint as h, maximumDimension as g } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as y } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { ringsCentroid as d } from \"../../../../geometry/support/centroid.js\";\nimport { getPointOnPath as j, getPathLength as x } from \"../../../../geometry/support/coordsUtils.js\";\nimport { makeDehydratedPoint as b } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport { isHydratedGeometry as v, clonePoint as w } from \"../../../../layers/graphics/hydratedFeatures.js\";\n\nfunction R(t, e) {\n  if (\"point\" === t.type) return F(t, e, !1);\n  if (v(t)) switch (t.type) {\n    case \"extent\":\n      return F(t.center, e, !1);\n\n    case \"polygon\":\n      return F(t.centroid, e, !1);\n\n    case \"polyline\":\n      return F(k(t), e, !0);\n\n    case \"mesh\":\n      return F(t.origin, e, !1);\n  } else switch (t.type) {\n    case \"extent\":\n      return F(M(t), e, !0);\n\n    case \"polygon\":\n      return F(A(t), e, !0);\n\n    case \"polyline\":\n      return F(k(t), e, !0);\n  }\n}\n\nfunction k(t) {\n  const e = t.paths[0];\n  if (!e || 0 === e.length) return null;\n  const r = j(e, x(e) / 2);\n  return b(r[0], r[1], r[2], t.spatialReference);\n}\n\nfunction M(e) {\n  const r = t(e.zmin);\n  return b(.5 * (e.xmax + e.xmin), .5 * (e.ymax + e.ymin), r ? .5 * (e.zmax + e.zmin) : void 0, e.spatialReference);\n}\n\nfunction A(t) {\n  const e = t.rings[0];\n  if (!e || 0 === e.length) return null;\n  const r = d(t.rings, t.hasZ);\n  return b(r[0], r[1], r[2], t.spatialReference);\n}\n\nfunction F(t, e, r) {\n  const n = r ? t : w(t);\n  return e && t ? p(t, n, e) ? n : null : n;\n}\n\nfunction P(t, e, r, n = 0) {\n  if (t) {\n    e || (e = y());\n    const o = t;\n    let i = .5 * o.width * (r - 1),\n        s = .5 * o.height * (r - 1);\n    return o.width < 1e-7 * o.height ? i += s / 20 : o.height < 1e-7 * o.width && (s += i / 20), l(e, o.xmin - i - n, o.ymin - s - n, o.xmax + i + n, o.ymax + s + n), e;\n  }\n\n  return null;\n}\n\nfunction z(t, e) {\n  for (let r = 0; r < t.geometries.length; ++r) {\n    const n = t.geometries[r].getMutableAttribute(\"auxpos1\");\n    n && n.data[3] !== e && (n.data[3] = e, t.geometryVertexAttrsUpdated(r));\n  }\n}\n\nfunction B(t, r) {\n  const n = c(f);\n  return e(t) && (n[0] = t[0], n[1] = t[1], n[2] = t[2]), e(r) ? n[3] = r : e(t) && t.length > 3 && (n[3] = t[3]), n;\n}\n\nfunction D(t, r, n, o, i, s = [0, 0, 0, 0]) {\n  for (let u = 0; u < 3; ++u) e(t) && null != t[u] ? s[u] = t[u] : e(n) && null != n[u] ? s[u] = n[u] : s[u] = i[u];\n\n  return e(r) ? s[3] = r : e(o) ? s[3] = o : s[3] = i[3], s;\n}\n\nfunction I(t = a, e, n, o = 1) {\n  const i = new Array(3);\n  if (r(e) || r(n)) i[0] = 1, i[1] = 1, i[2] = 1;else {\n    let r,\n        o = 0;\n\n    for (let s = 2; s >= 0; s--) {\n      const u = t[s];\n      let a;\n      const m = null != u,\n            l = 0 === s && !r && !m,\n            c = n[s];\n      \"symbol-value\" === u || l ? a = 0 !== c ? e[s] / c : 1 : m && \"proportional\" !== u && isFinite(u) && (a = 0 !== c ? u / c : 1), null != a && (i[s] = a, r = a, o = Math.max(o, Math.abs(a)));\n    }\n\n    for (let t = 2; t >= 0; t--) null == i[t] ? i[t] = r : 0 === i[t] && (i[t] = .001 * o);\n  }\n\n  for (let r = 2; r >= 0; r--) i[r] /= o;\n\n  return m(i);\n}\n\nfunction U(t) {\n  return null != t.isPrimitive;\n}\n\nfunction O(t) {\n  return U(t) && (t = [t.width, t.depth, t.height]), S(t) ? null : \"Symbol sizes may not be negative values\";\n}\n\nfunction S(t) {\n  if (Array.isArray(t)) {\n    for (const e of t) if (!S(e)) return !1;\n\n    return !0;\n  }\n\n  return null == t || t >= 0;\n}\n\nfunction V(t, e, r, u = s()) {\n  const a = t || 0,\n        m = e || 0,\n        l = r || 0;\n  return 0 !== a && n(u, u, -a / 180 * Math.PI), 0 !== m && o(u, u, m / 180 * Math.PI), 0 !== l && i(u, u, l / 180 * Math.PI), u;\n}\n\nfunction Z(t, e) {\n  return null != e.minDemResolution ? e.minDemResolution : h(t) ? e.minDemResolutionForPoints : .01 * g(t);\n}\n\nconst q = {\n  \"bottom-left\": u(0, 0),\n  bottom: u(.5, 0),\n  \"bottom-right\": u(1, 0),\n  left: u(0, .5),\n  center: u(.5, .5),\n  right: u(1, .5),\n  \"top-left\": u(0, 1),\n  top: u(.5, 1),\n  \"top-right\": u(1, 1)\n};\nexport { R as computeCentroid, V as computeObjectRotation, I as computeObjectScale, Z as demResolutionForBoundingBox, P as enlargeExtent, S as isValidSize, B as mixinColorAndOpacity, q as namedAnchorToHUDMaterialAnchorPos, D as overrideColor, z as updateVertexAttributeAuxpos1w, O as validateSymbolLayerSize };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js"],"names":["isFinite","t","isSome","e","isNone","r","n","b","o","j","i","c","s","f","u","O","a","d","m","l","projectPoint","p","isPoint","h","maximumDimension","g","create","y","ringsCentroid","getPointOnPath","getPathLength","x","makeDehydratedPoint","isHydratedGeometry","v","clonePoint","w","R","type","F","center","centroid","k","origin","M","A","paths","length","spatialReference","zmin","xmax","xmin","ymax","ymin","zmax","rings","hasZ","P","width","height","z","geometries","getMutableAttribute","data","geometryVertexAttrsUpdated","B","D","I","Array","Math","max","abs","U","isPrimitive","depth","S","isArray","V","PI","Z","minDemResolution","minDemResolutionForPoints","q","bottom","left","right","top","computeCentroid","computeObjectRotation","computeObjectScale","demResolutionForBoundingBox","enlargeExtent","isValidSize","mixinColorAndOpacity","namedAnchorToHUDMaterialAnchorPos","overrideColor","updateVertexAttributeAuxpos1w","validateSymbolLayerSize"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isFinite as t}from\"../../../../core/mathUtils.js\";import{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{r as n,b as o,j as i}from\"../../../../chunks/mat4.js\";import{c as s}from\"../../../../chunks/mat4f64.js\";import{f as u}from\"../../../../chunks/vec2f64.js\";import{O as a,d as m}from\"../../../../chunks/vec3f64.js\";import{s as l}from\"../../../../chunks/vec4.js\";import{d as c,O as f}from\"../../../../chunks/vec4f64.js\";import{projectPoint as p}from\"../../../../geometry/projection.js\";import{isPoint as h,maximumDimension as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{ringsCentroid as d}from\"../../../../geometry/support/centroid.js\";import{getPointOnPath as j,getPathLength as x}from\"../../../../geometry/support/coordsUtils.js\";import{makeDehydratedPoint as b}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{isHydratedGeometry as v,clonePoint as w}from\"../../../../layers/graphics/hydratedFeatures.js\";function R(t,e){if(\"point\"===t.type)return F(t,e,!1);if(v(t))switch(t.type){case\"extent\":return F(t.center,e,!1);case\"polygon\":return F(t.centroid,e,!1);case\"polyline\":return F(k(t),e,!0);case\"mesh\":return F(t.origin,e,!1)}else switch(t.type){case\"extent\":return F(M(t),e,!0);case\"polygon\":return F(A(t),e,!0);case\"polyline\":return F(k(t),e,!0)}}function k(t){const e=t.paths[0];if(!e||0===e.length)return null;const r=j(e,x(e)/2);return b(r[0],r[1],r[2],t.spatialReference)}function M(e){const r=t(e.zmin);return b(.5*(e.xmax+e.xmin),.5*(e.ymax+e.ymin),r?.5*(e.zmax+e.zmin):void 0,e.spatialReference)}function A(t){const e=t.rings[0];if(!e||0===e.length)return null;const r=d(t.rings,t.hasZ);return b(r[0],r[1],r[2],t.spatialReference)}function F(t,e,r){const n=r?t:w(t);return e&&t?p(t,n,e)?n:null:n}function P(t,e,r,n=0){if(t){e||(e=y());const o=t;let i=.5*o.width*(r-1),s=.5*o.height*(r-1);return o.width<1e-7*o.height?i+=s/20:o.height<1e-7*o.width&&(s+=i/20),l(e,o.xmin-i-n,o.ymin-s-n,o.xmax+i+n,o.ymax+s+n),e}return null}function z(t,e){for(let r=0;r<t.geometries.length;++r){const n=t.geometries[r].getMutableAttribute(\"auxpos1\");n&&n.data[3]!==e&&(n.data[3]=e,t.geometryVertexAttrsUpdated(r))}}function B(t,r){const n=c(f);return e(t)&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),e(r)?n[3]=r:e(t)&&t.length>3&&(n[3]=t[3]),n}function D(t,r,n,o,i,s=[0,0,0,0]){for(let u=0;u<3;++u)e(t)&&null!=t[u]?s[u]=t[u]:e(n)&&null!=n[u]?s[u]=n[u]:s[u]=i[u];return e(r)?s[3]=r:e(o)?s[3]=o:s[3]=i[3],s}function I(t=a,e,n,o=1){const i=new Array(3);if(r(e)||r(n))i[0]=1,i[1]=1,i[2]=1;else{let r,o=0;for(let s=2;s>=0;s--){const u=t[s];let a;const m=null!=u,l=0===s&&!r&&!m,c=n[s];\"symbol-value\"===u||l?a=0!==c?e[s]/c:1:m&&\"proportional\"!==u&&isFinite(u)&&(a=0!==c?u/c:1),null!=a&&(i[s]=a,r=a,o=Math.max(o,Math.abs(a)))}for(let t=2;t>=0;t--)null==i[t]?i[t]=r:0===i[t]&&(i[t]=.001*o)}for(let r=2;r>=0;r--)i[r]/=o;return m(i)}function U(t){return null!=t.isPrimitive}function O(t){return U(t)&&(t=[t.width,t.depth,t.height]),S(t)?null:\"Symbol sizes may not be negative values\"}function S(t){if(Array.isArray(t)){for(const e of t)if(!S(e))return!1;return!0}return null==t||t>=0}function V(t,e,r,u=s()){const a=t||0,m=e||0,l=r||0;return 0!==a&&n(u,u,-a/180*Math.PI),0!==m&&o(u,u,m/180*Math.PI),0!==l&&i(u,u,l/180*Math.PI),u}function Z(t,e){return null!=e.minDemResolution?e.minDemResolution:h(t)?e.minDemResolutionForPoints:.01*g(t)}const q={\"bottom-left\":u(0,0),bottom:u(.5,0),\"bottom-right\":u(1,0),left:u(0,.5),center:u(.5,.5),right:u(1,.5),\"top-left\":u(0,1),top:u(.5,1),\"top-right\":u(1,1)};export{R as computeCentroid,V as computeObjectRotation,I as computeObjectScale,Z as demResolutionForBoundingBox,P as enlargeExtent,S as isValidSize,B as mixinColorAndOpacity,q as namedAnchorToHUDMaterialAnchorPos,D as overrideColor,z as updateVertexAttributeAuxpos1w,O as validateSymbolLayerSize};\n"]},"metadata":{},"sourceType":"module"}