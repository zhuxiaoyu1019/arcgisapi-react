{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { unwrapOr as e, isSome as t } from \"../../../core/maybe.js\";\nimport { VectorTile as n } from \"../../2d/engine/vectorTiles/VectorTile.js\";\nimport { ImageWithType as l } from \"../support/StreamDataLoader.js\";\nimport i from \"./RasterTile.js\";\nimport { t as o } from \"../../../chunks/terrainUtilsPlanar.js\";\nimport { t as r } from \"../../../chunks/terrainUtilsSpherical.js\";\nimport u from \"./TileTexture.js\";\nconst a = {\n  1: r,\n  2: o\n};\n\nfunction f(e, t) {\n  e || console.warn(\"Terrain: \" + t);\n}\n\nconst c = 1.2,\n      s = 80 / 180 * Math.PI,\n      d = 110 / 180 * Math.PI;\n\nfunction m(n, l, i) {\n  const o = a[n.viewingMode];\n  let r;\n  if (o.isInsideExtent(n, l)) r = e(n.getElevation(l[0], l[1], l[1], n.spatialReference), 0);else {\n    if (!o.isInsideExtent(n, l, c)) return 0;\n    const e = n.getTileWithElevation(l[0], l[1], l[1], n.spatialReference);\n    r = .5 * ((t(e) ? e.elevationBounds[0] : n.elevationBounds.min) + (t(e) ? e.elevationBounds[1] : n.elevationBounds.max));\n    const i = o.tiltToExtentEdge(n, l, r);\n    if (i > s && i < d) return 0;\n  }\n  const u = l[2] - r;\n  return Math.abs(u) < i ? 0 : u < 0 ? -1 : 1;\n}\n\nfunction v(e) {\n  return x(e) ? {\n    fullExtent: e.fullExtent,\n    minScale: e.layer.minScale,\n    maxScale: e.layer.maxScale,\n    tilemapCache: null\n  } : e.layer;\n}\n\nfunction p(e) {\n  return \"vector-tile\" === (null == e ? void 0 : e.type);\n}\n\nfunction I(e) {\n  return \"imagery-tile\" === (null == e ? void 0 : e.type) || \"wcs\" === (null == e ? void 0 : e.type);\n}\n\nfunction x(e) {\n  return \"imagery-tile-3d\" === (null == e ? void 0 : e.type);\n}\n\nfunction y(e) {\n  return \"tile-3d\" === (null == e ? void 0 : e.type);\n}\n\nfunction E(e) {\n  return \"vector-tile-3d\" === (null == e ? void 0 : e.type);\n}\n\nfunction T(e) {\n  return \"wmts-3d\" === (null == e ? void 0 : e.type);\n}\n\nfunction h(e) {\n  return \"elevation-3d\" === (null == e ? void 0 : e.type);\n}\n\nfunction g(e) {\n  return e && (y(e) || x(e) || h(e) || E(e) || T(e));\n}\n\nfunction L(e) {\n  var t;\n  return (null == e || null == (t = e.sourceLayerInfo) ? void 0 : t.data) instanceof i;\n}\n\nfunction S(e) {\n  var t;\n  return (null == e || null == (t = e.sourceLayerInfo) ? void 0 : t.data) instanceof n;\n}\n\nfunction M(e) {\n  var t;\n  return (null == e || null == (t = e.sourceLayerInfo) ? void 0 : t.data) instanceof u;\n}\n\nfunction j(e) {\n  var t;\n  const n = null == e || null == (t = e.sourceLayerInfo) ? void 0 : t.data;\n  return n instanceof HTMLImageElement || n instanceof l || n instanceof HTMLCanvasElement || n instanceof ImageData;\n}\n\nfunction w(e) {\n  return t(e) && \"release\" in e && e.release(), null;\n}\n\nfunction b(e) {\n  return e.fetchTile && !1 !== e.hasOverriddenFetchTile;\n}\n\nfunction B(e, t, n, l) {\n  return a[l].checkIfTileInfoSupportedForViewSR(e, n, t);\n}\n\nfunction C(e, t, n) {\n  let l, i;\n\n  if (\"wmts\" === e.type) {\n    const o = e.activeLayer;\n\n    if (o) {\n      const e = o.tileMatrixSet;\n      if (e) l = e.tileInfo, i = e.fullExtent;else {\n        const e = o.tileMatrixSets;\n\n        if (e) {\n          const l = e.find(e => null == B(e.tileInfo, e.fullExtent, t, n));\n          if (l) return {\n            tileInfo: l.tileInfo,\n            fullExtent: l.fullExtent\n          };\n        }\n      }\n    }\n  } else i = I(e) ? e.getCompatibleFullExtent(t) : e.fullExtent, l = p(e) && !R.force512VTL ? e.compatibleTileInfo256 : I(e) ? e.getCompatibleTileInfo(t, i, 2 === n) : e.tileInfo;\n\n  return l && i && null == B(l, i, t, n) ? {\n    tileInfo: l,\n    fullExtent: i\n  } : {\n    tileInfo: null,\n    fullExtent: null\n  };\n}\n\nconst R = {\n  force512VTL: !1\n};\nexport { B as checkIfTileInfoSupportedForView, m as computeSkirtScale, v as getLayerWithExtentRange, C as getTiledLayerInfo, h as isElevationLayerView, x as isImageryTileLayerView, L as isImageryTileRenderInfo, I as isProjectableRasterLayer, j as isRasterTileRenderInfo, g as isSurfaceLayerView, M as isTextureTileRenderInfo, y as isTileLayerView, p as isVectorTileLayer, E as isVectorTileLayerView, S as isVectorTileRenderInfo, T as isWMTSLayerView, w as releaseTileData, R as test, b as useFetchTileForLayer, f as weakAssert };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js"],"names":["unwrapOr","e","isSome","t","VectorTile","n","ImageWithType","l","i","o","r","u","a","f","console","warn","c","s","Math","PI","d","m","viewingMode","isInsideExtent","getElevation","spatialReference","getTileWithElevation","elevationBounds","min","max","tiltToExtentEdge","abs","v","x","fullExtent","minScale","layer","maxScale","tilemapCache","p","type","I","y","E","T","h","g","L","sourceLayerInfo","data","S","M","j","HTMLImageElement","HTMLCanvasElement","ImageData","w","release","b","fetchTile","hasOverriddenFetchTile","B","checkIfTileInfoSupportedForViewSR","C","activeLayer","tileMatrixSet","tileInfo","tileMatrixSets","find","getCompatibleFullExtent","R","force512VTL","compatibleTileInfo256","getCompatibleTileInfo","checkIfTileInfoSupportedForView","computeSkirtScale","getLayerWithExtentRange","getTiledLayerInfo","isElevationLayerView","isImageryTileLayerView","isImageryTileRenderInfo","isProjectableRasterLayer","isRasterTileRenderInfo","isSurfaceLayerView","isTextureTileRenderInfo","isTileLayerView","isVectorTileLayer","isVectorTileLayerView","isVectorTileRenderInfo","isWMTSLayerView","releaseTileData","test","useFetchTileForLayer","weakAssert"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e,isSome as t}from\"../../../core/maybe.js\";import{VectorTile as n}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{ImageWithType as l}from\"../support/StreamDataLoader.js\";import i from\"./RasterTile.js\";import{t as o}from\"../../../chunks/terrainUtilsPlanar.js\";import{t as r}from\"../../../chunks/terrainUtilsSpherical.js\";import u from\"./TileTexture.js\";const a={1:r,2:o};function f(e,t){e||console.warn(\"Terrain: \"+t)}const c=1.2,s=80/180*Math.PI,d=110/180*Math.PI;function m(n,l,i){const o=a[n.viewingMode];let r;if(o.isInsideExtent(n,l))r=e(n.getElevation(l[0],l[1],l[1],n.spatialReference),0);else{if(!o.isInsideExtent(n,l,c))return 0;const e=n.getTileWithElevation(l[0],l[1],l[1],n.spatialReference);r=.5*((t(e)?e.elevationBounds[0]:n.elevationBounds.min)+(t(e)?e.elevationBounds[1]:n.elevationBounds.max));const i=o.tiltToExtentEdge(n,l,r);if(i>s&&i<d)return 0}const u=l[2]-r;return Math.abs(u)<i?0:u<0?-1:1}function v(e){return x(e)?{fullExtent:e.fullExtent,minScale:e.layer.minScale,maxScale:e.layer.maxScale,tilemapCache:null}:e.layer}function p(e){return\"vector-tile\"===(null==e?void 0:e.type)}function I(e){return\"imagery-tile\"===(null==e?void 0:e.type)||\"wcs\"===(null==e?void 0:e.type)}function x(e){return\"imagery-tile-3d\"===(null==e?void 0:e.type)}function y(e){return\"tile-3d\"===(null==e?void 0:e.type)}function E(e){return\"vector-tile-3d\"===(null==e?void 0:e.type)}function T(e){return\"wmts-3d\"===(null==e?void 0:e.type)}function h(e){return\"elevation-3d\"===(null==e?void 0:e.type)}function g(e){return e&&(y(e)||x(e)||h(e)||E(e)||T(e))}function L(e){var t;return(null==e||null==(t=e.sourceLayerInfo)?void 0:t.data)instanceof i}function S(e){var t;return(null==e||null==(t=e.sourceLayerInfo)?void 0:t.data)instanceof n}function M(e){var t;return(null==e||null==(t=e.sourceLayerInfo)?void 0:t.data)instanceof u}function j(e){var t;const n=null==e||null==(t=e.sourceLayerInfo)?void 0:t.data;return n instanceof HTMLImageElement||n instanceof l||n instanceof HTMLCanvasElement||n instanceof ImageData}function w(e){return t(e)&&\"release\"in e&&e.release(),null}function b(e){return e.fetchTile&&!1!==e.hasOverriddenFetchTile}function B(e,t,n,l){return a[l].checkIfTileInfoSupportedForViewSR(e,n,t)}function C(e,t,n){let l,i;if(\"wmts\"===e.type){const o=e.activeLayer;if(o){const e=o.tileMatrixSet;if(e)l=e.tileInfo,i=e.fullExtent;else{const e=o.tileMatrixSets;if(e){const l=e.find((e=>null==B(e.tileInfo,e.fullExtent,t,n)));if(l)return{tileInfo:l.tileInfo,fullExtent:l.fullExtent}}}}}else i=I(e)?e.getCompatibleFullExtent(t):e.fullExtent,l=p(e)&&!R.force512VTL?e.compatibleTileInfo256:I(e)?e.getCompatibleTileInfo(t,i,2===n):e.tileInfo;return l&&i&&null==B(l,i,t,n)?{tileInfo:l,fullExtent:i}:{tileInfo:null,fullExtent:null}}const R={force512VTL:!1};export{B as checkIfTileInfoSupportedForView,m as computeSkirtScale,v as getLayerWithExtentRange,C as getTiledLayerInfo,h as isElevationLayerView,x as isImageryTileLayerView,L as isImageryTileRenderInfo,I as isProjectableRasterLayer,j as isRasterTileRenderInfo,g as isSurfaceLayerView,M as isTextureTileRenderInfo,y as isTileLayerView,p as isVectorTileLayer,E as isVectorTileLayerView,S as isVectorTileRenderInfo,T as isWMTSLayerView,w as releaseTileData,R as test,b as useFetchTileForLayer,f as weakAssert};\n"]},"metadata":{},"sourceType":"module"}