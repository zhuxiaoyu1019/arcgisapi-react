{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Graphic.js\";\nimport r from \"../../../core/Logger.js\";\nimport { isSome as i, isNone as s, destroyMaybe as o } from \"../../../core/maybe.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { WhereClause as a } from \"../../../core/sql/WhereClause.js\";\nimport u from \"../../../rest/support/Query.js\";\nimport { I3SMeshView3D as d } from \"./I3SMeshView3D.js\";\nimport { LayerView3D as h } from \"./LayerView3D.js\";\nimport { createInteractiveEditSession as p, processAttributeEdits as c } from \"./i3s/attributeEditing.js\";\nimport { createGetFeatureExtent as y } from \"./i3s/I3SGeometryUtil.js\";\nimport { I3SMeshViewFilter as f } from \"./i3s/I3SMeshViewFilter.js\";\nimport g from \"./i3s/I3SQueryEngine.js\";\nimport { I3SQueryFeatureAdapter as m } from \"./i3s/I3SQueryFeatureAdapter.js\";\nimport F from \"./i3s/I3SQueryFeatureStore.js\";\nimport { getIndexCrs as v } from \"./i3s/I3SUtil.js\";\nimport { DefinitionExpressionSceneLayerView as w } from \"./support/DefinitionExpressionSceneLayerView.js\";\nimport { defineFieldProperties as _ } from \"./support/fieldProperties.js\";\nimport { getFloorFilterClause as S } from \"./support/floorFilterUtils.js\";\nimport { PopupSceneLayerView as j } from \"./support/PopupSceneLayerView.js\";\nimport { SceneLayerViewRequiredFields as E } from \"./support/SceneLayerViewRequiredFields.js\";\nimport { updatingProgress as I } from \"../support/updatingProperties.js\";\nimport b from \"../../layers/SceneLayerView.js\";\nimport x from \"../../layers/support/FeatureFilter.js\";\nimport { TaskPriority as C } from \"../../support/Scheduler.js\";\n\nconst Q = r.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),\n      q = _();\n\nlet D = class extends d(w(j(h(b)))) {\n  constructor() {\n    super(...arguments), this.type = \"scene-layer-3d\", this.lodFactor = 1, this.progressiveLoadFactor = 1, this._elevationContext = \"scene\", this._isIntegratedMesh = !1, this._supportsLabeling = !0, this._interactiveEditingSessions = new Map(), this._queryEngine = null;\n  }\n\n  get filter() {\n    return i(this.viewFilter) ? this.viewFilter.filter : null;\n  }\n\n  set filter(e) {\n    !s(e) && f.checkSupport(e) ? i(this.viewFilter) ? this.viewFilter.filter = e : this.viewFilter = new f({\n      filter: e,\n      layerFieldsIndex: this.layer.fieldsIndex,\n      loadAsyncModule: e => this._loadAsyncModule(e),\n      applyFilters: () => this._applyFilters(!0),\n      addSqlFilter: (e, t) => this.addSqlFilter(e, t, this.logError)\n    }) : this.viewFilter = null;\n  }\n\n  get requiredFields() {\n    var e, t;\n    return null != (e = null == (t = this.fieldsHelper) ? void 0 : t.requiredFields) ? e : [];\n  }\n\n  get floorFilterClause() {\n    const e = S(this);\n    return i(e) ? a.create(e, this.layer.fieldsIndex) : null;\n  }\n\n  get lodCrossfadeinDuration() {\n    var e, t;\n    return null != (e = null == (t = this.view) ? void 0 : t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeinDuration) ? e : 0;\n  }\n\n  get lodCrossfadeoutDuration() {\n    var e, t;\n    return null != (e = null == (t = this.view) ? void 0 : t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeoutDuration) ? e : 0;\n  }\n\n  get lodCrossfadeUncoveredDuration() {\n    var e, t;\n    return null != (e = null == (t = this.view) ? void 0 : t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeUncoveredDuration) ? e : 0;\n  }\n\n  initialize() {\n    this.fieldsHelper = new E({\n      layerView: this\n    }), this.updatingHandles.add(this.layer, \"rangeInfos\", e => this._rangeInfosChanged(e), 2), this.updatingHandles.add(this.layer, \"renderer\", e => this.updatingHandles.addPromise(this._rendererChange(e)), 2);\n\n    for (const e of [\"parsedDefinitionExpression\", \"filter\", \"viewFilter.parsedWhereClause\", \"viewFilter.parsedGeometry\", \"viewFilter.sortedObjectIds\", \"floorFilterClause\"]) this.updatingHandles.add(this, e, () => this._filterChange());\n\n    for (const e of [\"filter\", \"viewFilter.parsedGeometry\"]) this.updatingHandles.add(this, e, () => this._geometryFilterChange());\n\n    this.handles.add(this.layer.on(\"apply-edits\", e => this.updatingHandles.addPromise(e.result))), this.handles.add(this.layer.on(\"edits\", e => this._handleEdits(e)));\n  }\n\n  destroy() {\n    this.fieldsHelper = o(this.fieldsHelper);\n  }\n\n  _rangeInfosChanged(e) {\n    null != e && e.length > 0 && Q.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\");\n  }\n\n  createQuery() {\n    const e = {\n      outFields: [\"*\"],\n      returnGeometry: !1,\n      outSpatialReference: this.view.spatialReference\n    };\n    return i(this.filter) ? this.filter.createQuery(e) : new u(e);\n  }\n\n  queryExtent(e, t) {\n    return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e), null == t ? void 0 : t.signal);\n  }\n\n  queryFeatureCount(e, t) {\n    return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e), null == t ? void 0 : t.signal);\n  }\n\n  queryFeatures(e, t) {\n    return this._ensureQueryEngine().executeQuery(this._ensureQuery(e), null == t ? void 0 : t.signal).then(e => {\n      if (null == e || !e.features) return e;\n      const t = this.layer;\n\n      for (const r of e.features) r.layer = t, r.sourceLayer = t;\n\n      return e;\n    });\n  }\n\n  queryObjectIds(e, t) {\n    return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e), null == t ? void 0 : t.signal);\n  }\n\n  _ensureQueryEngine() {\n    return this._queryEngine || (this._queryEngine = this._createQueryEngine()), this._queryEngine;\n  }\n\n  _createQueryEngine() {\n    const e = y(this.view.spatialReference, this.view.renderSpatialReference, this._collection);\n    return new g({\n      layerView: this,\n      priority: C.FEATURE_QUERY_ENGINE,\n      spatialIndex: new F({\n        featureAdapter: new m({\n          objectIdField: this.layer.objectIdField,\n          attributeStorageInfo: this.layer.attributeStorageInfo,\n          getFeatureExtent: e\n        }),\n        forAllFeatures: (e, t) => this._forAllFeatures((t, r, i) => e({\n          id: t,\n          index: r,\n          meta: i\n        }), t, 2),\n        getFeatureExtent: e,\n        sourceSpatialReference: v(this.layer),\n        viewSpatialReference: this.view.spatialReference\n      })\n    });\n  }\n\n  highlight(e) {\n    const t = this._highlights;\n\n    if (e instanceof u) {\n      const {\n        set: r,\n        handle: i\n      } = t.acquireSet();\n      return this.queryObjectIds(e).then(e => t.setFeatureIds(r, e)), i;\n    }\n\n    return super.highlight(e);\n  }\n\n  createInteractiveEditSession(e) {\n    return p(this.attributeEditingContext, e);\n  }\n\n  _createLayerGraphic(e) {\n    const r = new t(null, null, e);\n    return r.layer = this.layer, r.sourceLayer = this.layer, r;\n  }\n\n  canResume() {\n    return super.canResume() && (!this._controller || this._controller.rootNodeVisible);\n  }\n\n  getFilters() {\n    const e = super.getFilters();\n    return this.floorFilterClause && this.addSqlFilter(e, this.floorFilterClause, this.logError), this.addSqlFilter(e, this.parsedDefinitionExpression, this.logError), i(this.viewFilter) && this.viewFilter.addFilters(e, this.view, this._controller.crsIndex, this._collection), e;\n  }\n\n  _ensureQuery(e) {\n    return this._addDefinitionExpressionToQuery(s(e) ? this.createQuery() : u.from(e));\n  }\n\n  get attributeEditingContext() {\n    return {\n      sessions: this._interactiveEditingSessions,\n      fieldsIndex: this.layer.fieldsIndex,\n      objectIdField: this._getObjectIdField(),\n      forEachNode: e => this._forAllNodes(t => i(t) ? e(t.node, t.featureIds) : null),\n      attributeStorageInfo: this.i3slayer.attributeStorageInfo,\n      attributeOverrides: this.attributeOverrides,\n      getAttributeData: e => this.getAttributeData(e),\n      setAttributeData: (e, t) => this.setAttributeData(e, t),\n      clearMemCache: () => this.clearMemCache()\n    };\n  }\n\n  _handleEdits(e) {\n    c(this.attributeEditingContext, e);\n  }\n\n  get hasGeometryFilter() {\n    const e = this.viewFilter;\n    return i(e) && i(e.parsedGeometry);\n  }\n\n  computeNodeFiltering(e) {\n    const t = this.viewFilter;\n    return s(t) || t.isMBSGeoemtryVisible(e, this.view.spatialReference, this._controller.crsIndex) ? 0 : 1;\n  }\n\n};\ne([n({\n  aliasOf: \"layer\"\n})], D.prototype, \"i3slayer\", void 0), e([n()], D.prototype, \"suspended\", void 0), e([n(I)], D.prototype, \"updatingProgress\", void 0), e([n({\n  type: x\n})], D.prototype, \"filter\", null), e([n()], D.prototype, \"viewFilter\", void 0), e([n(q.requiredFields)], D.prototype, \"requiredFields\", null), e([n(q.availableFields)], D.prototype, \"availableFields\", void 0), e([n()], D.prototype, \"fieldsHelper\", void 0), e([n()], D.prototype, \"floorFilterClause\", null), e([n({\n  readOnly: !0,\n  aliasOf: \"view.qualitySettings.sceneService.3dObject.lodFactor\"\n})], D.prototype, \"lodFactor\", void 0), e([n({\n  readOnly: !0,\n  aliasOf: \"_controller.updatingProgress\"\n})], D.prototype, \"updatingProgressValue\", void 0), D = e([l(\"esri.views.3d.layers.SceneLayerView3D\")], D);\nvar O = D;\nexport default O;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js"],"names":["_","e","t","r","isSome","i","isNone","s","destroyMaybe","o","property","n","subclass","l","WhereClause","a","u","I3SMeshView3D","d","LayerView3D","h","createInteractiveEditSession","p","processAttributeEdits","c","createGetFeatureExtent","y","I3SMeshViewFilter","f","g","I3SQueryFeatureAdapter","m","F","getIndexCrs","v","DefinitionExpressionSceneLayerView","w","defineFieldProperties","getFloorFilterClause","S","PopupSceneLayerView","j","SceneLayerViewRequiredFields","E","updatingProgress","I","b","x","TaskPriority","C","Q","getLogger","q","D","constructor","arguments","type","lodFactor","progressiveLoadFactor","_elevationContext","_isIntegratedMesh","_supportsLabeling","_interactiveEditingSessions","Map","_queryEngine","filter","viewFilter","checkSupport","layerFieldsIndex","layer","fieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","logError","requiredFields","fieldsHelper","floorFilterClause","create","lodCrossfadeinDuration","view","qualitySettings","sceneService","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","initialize","layerView","updatingHandles","add","_rangeInfosChanged","addPromise","_rendererChange","_filterChange","_geometryFilterChange","handles","on","result","_handleEdits","destroy","length","warn","createQuery","outFields","returnGeometry","outSpatialReference","spatialReference","queryExtent","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","queryFeatureCount","executeQueryForCount","queryFeatures","executeQuery","then","features","sourceLayer","queryObjectIds","executeQueryForIds","_createQueryEngine","renderSpatialReference","_collection","priority","FEATURE_QUERY_ENGINE","spatialIndex","featureAdapter","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","sourceSpatialReference","viewSpatialReference","highlight","_highlights","set","handle","acquireSet","setFeatureIds","attributeEditingContext","_createLayerGraphic","canResume","_controller","rootNodeVisible","getFilters","parsedDefinitionExpression","addFilters","crsIndex","_addDefinitionExpressionToQuery","from","sessions","_getObjectIdField","forEachNode","_forAllNodes","node","featureIds","i3slayer","attributeOverrides","getAttributeData","setAttributeData","clearMemCache","hasGeometryFilter","parsedGeometry","computeNodeFiltering","isMBSGeoemtryVisible","aliasOf","prototype","availableFields","readOnly","O"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isSome as i,isNone as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import u from\"../../../rest/support/Query.js\";import{I3SMeshView3D as d}from\"./I3SMeshView3D.js\";import{LayerView3D as h}from\"./LayerView3D.js\";import{createInteractiveEditSession as p,processAttributeEdits as c}from\"./i3s/attributeEditing.js\";import{createGetFeatureExtent as y}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as f}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as m}from\"./i3s/I3SQueryFeatureAdapter.js\";import F from\"./i3s/I3SQueryFeatureStore.js\";import{getIndexCrs as v}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as w}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as _}from\"./support/fieldProperties.js\";import{getFloorFilterClause as S}from\"./support/floorFilterUtils.js\";import{PopupSceneLayerView as j}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as E}from\"./support/SceneLayerViewRequiredFields.js\";import{updatingProgress as I}from\"../support/updatingProperties.js\";import b from\"../../layers/SceneLayerView.js\";import x from\"../../layers/support/FeatureFilter.js\";import{TaskPriority as C}from\"../../support/Scheduler.js\";const Q=r.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),q=_();let D=class extends(d(w(j(h(b))))){constructor(){super(...arguments),this.type=\"scene-layer-3d\",this.lodFactor=1,this.progressiveLoadFactor=1,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!0,this._interactiveEditingSessions=new Map,this._queryEngine=null}get filter(){return i(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!s(e)&&f.checkSupport(e)?i(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new f({filter:e,layerFieldsIndex:this.layer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,t)=>this.addSqlFilter(e,t,this.logError)}):this.viewFilter=null}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get floorFilterClause(){const e=S(this);return i(e)?a.create(e,this.layer.fieldsIndex):null}get lodCrossfadeinDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeinDuration)?e:0}get lodCrossfadeoutDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeoutDuration)?e:0}get lodCrossfadeUncoveredDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeUncoveredDuration)?e:0}initialize(){this.fieldsHelper=new E({layerView:this}),this.updatingHandles.add(this.layer,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(this.layer,\"renderer\",(e=>this.updatingHandles.addPromise(this._rendererChange(e))),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\",\"floorFilterClause\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));for(const e of[\"filter\",\"viewFilter.parsedGeometry\"])this.updatingHandles.add(this,e,(()=>this._geometryFilterChange()));this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e))))}destroy(){this.fieldsHelper=o(this.fieldsHelper)}_rangeInfosChanged(e){null!=e&&e.length>0&&Q.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return i(this.filter)?this.filter.createQuery(e):new u(e)}queryExtent(e,t){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatures(e,t){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==t?void 0:t.signal).then((e=>{if(null==e||!e.features)return e;const t=this.layer;for(const r of e.features)r.layer=t,r.sourceLayer=t;return e}))}queryObjectIds(e,t){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQueryEngine(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=y(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:C.FEATURE_QUERY_ENGINE,spatialIndex:new F({featureAdapter:new m({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,t)=>this._forAllFeatures(((t,r,i)=>e({id:t,index:r,meta:i})),t,2),getFeatureExtent:e,sourceSpatialReference:v(this.layer),viewSpatialReference:this.view.spatialReference})})}highlight(e){const t=this._highlights;if(e instanceof u){const{set:r,handle:i}=t.acquireSet();return this.queryObjectIds(e).then((e=>t.setFeatureIds(r,e))),i}return super.highlight(e)}createInteractiveEditSession(e){return p(this.attributeEditingContext,e)}_createLayerGraphic(e){const r=new t(null,null,e);return r.layer=this.layer,r.sourceLayer=this.layer,r}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}getFilters(){const e=super.getFilters();return this.floorFilterClause&&this.addSqlFilter(e,this.floorFilterClause,this.logError),this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),i(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}_ensureQuery(e){return this._addDefinitionExpressionToQuery(s(e)?this.createQuery():u.from(e))}get attributeEditingContext(){return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:this._getObjectIdField(),forEachNode:e=>this._forAllNodes((t=>i(t)?e(t.node,t.featureIds):null)),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this.attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,t)=>this.setAttributeData(e,t),clearMemCache:()=>this.clearMemCache()}}_handleEdits(e){c(this.attributeEditingContext,e)}get hasGeometryFilter(){const e=this.viewFilter;return i(e)&&i(e.parsedGeometry)}computeNodeFiltering(e){const t=this.viewFilter;return s(t)||t.isMBSGeoemtryVisible(e,this.view.spatialReference,this._controller.crsIndex)?0:1}};e([n({aliasOf:\"layer\"})],D.prototype,\"i3slayer\",void 0),e([n()],D.prototype,\"suspended\",void 0),e([n(I)],D.prototype,\"updatingProgress\",void 0),e([n({type:x})],D.prototype,\"filter\",null),e([n()],D.prototype,\"viewFilter\",void 0),e([n(q.requiredFields)],D.prototype,\"requiredFields\",null),e([n(q.availableFields)],D.prototype,\"availableFields\",void 0),e([n()],D.prototype,\"fieldsHelper\",void 0),e([n()],D.prototype,\"floorFilterClause\",null),e([n({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],D.prototype,\"lodFactor\",void 0),e([n({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],D.prototype,\"updatingProgressValue\",void 0),D=e([l(\"esri.views.3d.layers.SceneLayerView3D\")],D);var O=D;export default O;\n"]},"metadata":{},"sourceType":"module"}