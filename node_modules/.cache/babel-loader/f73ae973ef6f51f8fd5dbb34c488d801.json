{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport h from \"../webgl/Rect.js\";\n\nclass e {\n  constructor(e, t) {\n    this._width = 0, this._height = 0, this._free = [], this._width = e, this._height = t, this._free.push(new h(0, 0, e, t));\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  allocate(e, t) {\n    if (e > this._width || t > this._height) return new h();\n    let i = null,\n        s = -1;\n\n    for (let h = 0; h < this._free.length; ++h) {\n      const w = this._free[h];\n      e <= w.width && t <= w.height && (null === i || w.y <= i.y && w.x <= i.x) && (i = w, s = h);\n    }\n\n    return null === i ? new h() : (this._free.splice(s, 1), i.width < i.height ? (i.width > e && this._free.push(new h(i.x + e, i.y, i.width - e, t)), i.height > t && this._free.push(new h(i.x, i.y + t, i.width, i.height - t))) : (i.width > e && this._free.push(new h(i.x + e, i.y, i.width - e, i.height)), i.height > t && this._free.push(new h(i.x, i.y + t, e, i.height - t))), new h(i.x, i.y, e, t));\n  }\n\n  release(h) {\n    for (let e = 0; e < this._free.length; ++e) {\n      const t = this._free[e];\n      if (t.y === h.y && t.height === h.height && t.x + t.width === h.x) t.width += h.width;else if (t.x === h.x && t.width === h.width && t.y + t.height === h.y) t.height += h.height;else if (h.y === t.y && h.height === t.height && h.x + h.width === t.x) t.x = h.x, t.width += h.width;else {\n        if (h.x !== t.x || h.width !== t.width || h.y + h.height !== t.y) continue;\n        t.y = h.y, t.height += h.height;\n      }\n      this._free.splice(e, 1), this.release(h);\n    }\n\n    this._free.push(h);\n  }\n\n}\n\nexport default e;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js"],"names":["h","e","constructor","t","_width","_height","_free","push","width","height","allocate","i","s","length","w","y","x","splice","release"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}export default e;\n"]},"metadata":{},"sourceType":"module"}