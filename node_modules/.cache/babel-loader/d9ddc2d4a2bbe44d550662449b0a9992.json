{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { a as t } from \"../../chunks/vec3.js\";\n\nfunction n(t) {\n  let n = t * t;\n  return t < 0 && (n *= -1), n;\n}\n\nfunction a(t) {\n  return t.translation[0] = 0, t.translation[1] = 0, t.translation[2] = 0, t.heading = 0, t.tilt = 0, t;\n}\n\nfunction i(a, i, o) {\n  const s = o,\n        e = a.state,\n        r = a.device,\n        l = \"forward-down\" === i.tiltDirection ? 1 : -1,\n        c = 1;\n  return \"standard\" === r.deviceType ? (s.translation[0] = n(e.axes[0]), s.translation[1] = n(e.axes[1]), s.translation[2] = n(e.buttons[7]) - n(e.buttons[6]), s.heading = n(e.axes[2]), s.tilt = n(e.axes[3])) : \"spacemouse\" === r.deviceType && (s.translation[0] = 1.2 * n(e.axes[0]), s.translation[1] = 1.2 * n(e.axes[1]), s.translation[2] = 2 * -n(e.axes[2]), s.heading = 1.2 * n(e.axes[5]), s.tilt = 1.2 * n(e.axes[3])), s.tilt *= l, t(s.translation, s.translation, c), s;\n}\n\nfunction o(t, n) {\n  const a = n;\n  return a.translation[0] = t[1] - t[0], a.translation[1] = t[3] - t[2], a.translation[2] = t[4] - t[5], a.heading = t[7] - t[6], a.tilt = t[8] - t[9], a.zoom = t[10] - t[11], a;\n}\n\nfunction s(t) {\n  return 0 === t.translation[0] && 0 === t.translation[1] && 0 === t.translation[2] && 0 === t.heading && 0 === t.tilt && 0 === t.zoom;\n}\n\nexport { i as extractTransformation, o as extractTransformationKeyboard, s as isZeroTransformation, n as quadraticAccentuation, a as resetTransformation };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/navigation/gamepadAndKeyboardUtils.js"],"names":["a","t","n","translation","heading","tilt","i","o","s","e","state","r","device","l","tiltDirection","c","deviceType","axes","buttons","zoom","extractTransformation","extractTransformationKeyboard","isZeroTransformation","quadraticAccentuation","resetTransformation"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,sBAAlB;;AAAyC,SAASC,CAAT,CAAWD,CAAX,EAAa;AAAC,MAAIC,CAAC,GAACD,CAAC,GAACA,CAAR;AAAU,SAAOA,CAAC,GAAC,CAAF,KAAMC,CAAC,IAAE,CAAC,CAAV,GAAaA,CAApB;AAAsB;;AAAA,SAASF,CAAT,CAAWC,CAAX,EAAa;AAAC,SAAOA,CAAC,CAACE,WAAF,CAAc,CAAd,IAAiB,CAAjB,EAAmBF,CAAC,CAACE,WAAF,CAAc,CAAd,IAAiB,CAApC,EAAsCF,CAAC,CAACE,WAAF,CAAc,CAAd,IAAiB,CAAvD,EAAyDF,CAAC,CAACG,OAAF,GAAU,CAAnE,EAAqEH,CAAC,CAACI,IAAF,GAAO,CAA5E,EAA8EJ,CAArF;AAAuF;;AAAA,SAASK,CAAT,CAAWN,CAAX,EAAaM,CAAb,EAAeC,CAAf,EAAiB;AAAC,QAAMC,CAAC,GAACD,CAAR;AAAA,QAAUE,CAAC,GAACT,CAAC,CAACU,KAAd;AAAA,QAAoBC,CAAC,GAACX,CAAC,CAACY,MAAxB;AAAA,QAA+BC,CAAC,GAAC,mBAAiBP,CAAC,CAACQ,aAAnB,GAAiC,CAAjC,GAAmC,CAAC,CAArE;AAAA,QAAuEC,CAAC,GAAC,CAAzE;AAA2E,SAAM,eAAaJ,CAAC,CAACK,UAAf,IAA2BR,CAAC,CAACL,WAAF,CAAc,CAAd,IAAiBD,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAlB,EAA8BT,CAAC,CAACL,WAAF,CAAc,CAAd,IAAiBD,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAhD,EAA4DT,CAAC,CAACL,WAAF,CAAc,CAAd,IAAiBD,CAAC,CAACO,CAAC,CAACS,OAAF,CAAU,CAAV,CAAD,CAAD,GAAgBhB,CAAC,CAACO,CAAC,CAACS,OAAF,CAAU,CAAV,CAAD,CAA9F,EAA6GV,CAAC,CAACJ,OAAF,GAAUF,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAxH,EAAoIT,CAAC,CAACH,IAAF,GAAOH,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAvK,IAAoL,iBAAeN,CAAC,CAACK,UAAjB,KAA8BR,CAAC,CAACL,WAAF,CAAc,CAAd,IAAiB,MAAID,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAtB,EAAkCT,CAAC,CAACL,WAAF,CAAc,CAAd,IAAiB,MAAID,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAxD,EAAoET,CAAC,CAACL,WAAF,CAAc,CAAd,IAAiB,IAAE,CAACD,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAAzF,EAAqGT,CAAC,CAACJ,OAAF,GAAU,MAAIF,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAApH,EAAgIT,CAAC,CAACH,IAAF,GAAO,MAAIH,CAAC,CAACO,CAAC,CAACQ,IAAF,CAAO,CAAP,CAAD,CAA1K,CAApL,EAA2WT,CAAC,CAACH,IAAF,IAAQQ,CAAnX,EAAqXZ,CAAC,CAACO,CAAC,CAACL,WAAH,EAAeK,CAAC,CAACL,WAAjB,EAA6BY,CAA7B,CAAtX,EAAsZP,CAA5Z;AAA8Z;;AAAA,SAASD,CAAT,CAAWN,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAMF,CAAC,GAACE,CAAR;AAAU,SAAOF,CAAC,CAACG,WAAF,CAAc,CAAd,IAAiBF,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAvB,EAA2BD,CAAC,CAACG,WAAF,CAAc,CAAd,IAAiBF,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAlD,EAAsDD,CAAC,CAACG,WAAF,CAAc,CAAd,IAAiBF,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAA7E,EAAiFD,CAAC,CAACI,OAAF,GAAUH,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAjG,EAAqGD,CAAC,CAACK,IAAF,GAAOJ,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAlH,EAAsHD,CAAC,CAACmB,IAAF,GAAOlB,CAAC,CAAC,EAAD,CAAD,GAAMA,CAAC,CAAC,EAAD,CAApI,EAAyID,CAAhJ;AAAkJ;;AAAA,SAASQ,CAAT,CAAWP,CAAX,EAAa;AAAC,SAAO,MAAIA,CAAC,CAACE,WAAF,CAAc,CAAd,CAAJ,IAAsB,MAAIF,CAAC,CAACE,WAAF,CAAc,CAAd,CAA1B,IAA4C,MAAIF,CAAC,CAACE,WAAF,CAAc,CAAd,CAAhD,IAAkE,MAAIF,CAAC,CAACG,OAAxE,IAAiF,MAAIH,CAAC,CAACI,IAAvF,IAA6F,MAAIJ,CAAC,CAACkB,IAA1G;AAA+G;;AAAA,SAAOb,CAAC,IAAIc,qBAAZ,EAAkCb,CAAC,IAAIc,6BAAvC,EAAqEb,CAAC,IAAIc,oBAA1E,EAA+FpB,CAAC,IAAIqB,qBAApG,EAA0HvB,CAAC,IAAIwB,mBAA/H","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../chunks/vec3.js\";function n(t){let n=t*t;return t<0&&(n*=-1),n}function a(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function i(a,i,o){const s=o,e=a.state,r=a.device,l=\"forward-down\"===i.tiltDirection?1:-1,c=1;return\"standard\"===r.deviceType?(s.translation[0]=n(e.axes[0]),s.translation[1]=n(e.axes[1]),s.translation[2]=n(e.buttons[7])-n(e.buttons[6]),s.heading=n(e.axes[2]),s.tilt=n(e.axes[3])):\"spacemouse\"===r.deviceType&&(s.translation[0]=1.2*n(e.axes[0]),s.translation[1]=1.2*n(e.axes[1]),s.translation[2]=2*-n(e.axes[2]),s.heading=1.2*n(e.axes[5]),s.tilt=1.2*n(e.axes[3])),s.tilt*=l,t(s.translation,s.translation,c),s}function o(t,n){const a=n;return a.translation[0]=t[1]-t[0],a.translation[1]=t[3]-t[2],a.translation[2]=t[4]-t[5],a.heading=t[7]-t[6],a.tilt=t[8]-t[9],a.zoom=t[10]-t[11],a}function s(t){return 0===t.translation[0]&&0===t.translation[1]&&0===t.translation[2]&&0===t.heading&&0===t.tilt&&0===t.zoom}export{i as extractTransformation,o as extractTransformationKeyboard,s as isZeroTransformation,n as quadraticAccentuation,a as resetTransformation};\n"]},"metadata":{},"sourceType":"module"}