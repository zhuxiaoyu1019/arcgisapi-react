{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../../../layers/support/TileInfo.js\";\nconst l = 1e-6;\n\nfunction s(e, s) {\n  if (e === s) return !0;\n  if (!e && null != s) return !1;\n  if (null != e && !s) return !1;\n  if (!e.spatialReference.equals(s.spatialReference) || e.dpi !== s.dpi) return !1;\n  const o = e.origin,\n        r = s.origin;\n  if (Math.abs(o.x - r.x) >= l || Math.abs(o.y - r.y) >= l) return !1;\n  let n, t;\n  e.lods[0].scale > s.lods[0].scale ? (n = e, t = s) : (t = e, n = s);\n\n  for (let i = n.lods[0].scale; i >= t.lods[t.lods.length - 1].scale - l; i /= 2) if (Math.abs(i - t.lods[0].scale) < l) return !0;\n\n  return !1;\n}\n\nfunction o(l, s) {\n  if (l === s) return l;\n  if (!l && null != s) return s;\n  if (null != l && !s) return l;\n  const o = l.size[0],\n        r = l.format,\n        n = l.dpi,\n        t = {\n    x: l.origin.x,\n    y: l.origin.y\n  },\n        i = l.spatialReference.toJSON(),\n        a = l.lods[0].scale > s.lods[0].scale ? l.lods[0] : s.lods[0],\n        d = l.lods[l.lods.length - 1].scale <= s.lods[s.lods.length - 1].scale ? l.lods[l.lods.length - 1] : s.lods[s.lods.length - 1],\n        f = a.scale,\n        u = a.resolution,\n        c = d.scale,\n        p = [];\n  let g = f,\n      h = u,\n      x = 0;\n\n  for (; g > c;) p.push({\n    level: x,\n    resolution: h,\n    scale: g\n  }), x++, g /= 2, h /= 2;\n\n  return new e({\n    size: [o, o],\n    dpi: n,\n    format: r || \"pbf\",\n    origin: t,\n    lods: p,\n    spatialReference: i\n  });\n}\n\nexport { s as areSchemasOverlapping, o as unionTileInfos };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/2d/engine/vectorTiles/tileInfoUtils.js"],"names":["e","l","s","spatialReference","equals","dpi","o","origin","r","Math","abs","x","y","n","t","lods","scale","i","length","size","format","toJSON","a","d","f","u","resolution","c","p","g","h","push","level","areSchemasOverlapping","unionTileInfos"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/TileInfo.js\";const l=1e-6;function s(e,s){if(e===s)return!0;if(!e&&null!=s)return!1;if(null!=e&&!s)return!1;if(!e.spatialReference.equals(s.spatialReference)||e.dpi!==s.dpi)return!1;const o=e.origin,r=s.origin;if(Math.abs(o.x-r.x)>=l||Math.abs(o.y-r.y)>=l)return!1;let n,t;e.lods[0].scale>s.lods[0].scale?(n=e,t=s):(t=e,n=s);for(let i=n.lods[0].scale;i>=t.lods[t.lods.length-1].scale-l;i/=2)if(Math.abs(i-t.lods[0].scale)<l)return!0;return!1}function o(l,s){if(l===s)return l;if(!l&&null!=s)return s;if(null!=l&&!s)return l;const o=l.size[0],r=l.format,n=l.dpi,t={x:l.origin.x,y:l.origin.y},i=l.spatialReference.toJSON(),a=l.lods[0].scale>s.lods[0].scale?l.lods[0]:s.lods[0],d=l.lods[l.lods.length-1].scale<=s.lods[s.lods.length-1].scale?l.lods[l.lods.length-1]:s.lods[s.lods.length-1],f=a.scale,u=a.resolution,c=d.scale,p=[];let g=f,h=u,x=0;for(;g>c;)p.push({level:x,resolution:h,scale:g}),x++,g/=2,h/=2;return new e({size:[o,o],dpi:n,format:r||\"pbf\",origin:t,lods:p,spatialReference:i})}export{s as areSchemasOverlapping,o as unionTileInfos};\n"]},"metadata":{},"sourceType":"module"}