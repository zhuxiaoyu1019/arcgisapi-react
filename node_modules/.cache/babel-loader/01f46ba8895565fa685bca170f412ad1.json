{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { d as t } from \"../../../chunks/vec2.js\";\nimport { getAltitudeConstraintError as r, applyAltitudeConstraint as o } from \"./constraintUtils/altitude.js\";\nexport { applyAltitudeConstraint, getAltitudeConstraintError } from \"./constraintUtils/altitude.js\";\nimport { hasConstraintType as n } from \"./constraintUtils/common.js\";\nimport { getDistanceConstraintError as i, applyDistanceConstraint as e } from \"./constraintUtils/distance.js\";\nexport { applyDistanceConstraint, getDistanceConstraintError } from \"./constraintUtils/distance.js\";\nimport { applySurfaceCollisionConstraint as s } from \"./constraintUtils/surfaceCollision.js\";\nexport { applySurfaceCollisionConstraint } from \"./constraintUtils/surfaceCollision.js\";\nimport { applyTiltConstraint as a, getTiltConstraintError as c } from \"./constraintUtils/tilt.js\";\nexport { applyTiltConstraint, getTiltConstraintError } from \"./constraintUtils/tilt.js\";\nimport { inOutCubic as l } from \"../../animation/easing.js\";\n\nfunction p(t, r, o = d, i = r) {\n  let e = !1;\n  i !== r && i.copyFrom(r), i.computeUp(t.state.viewingMode);\n\n  for (let s = 0; s < j; s++) {\n    let r = 0;\n\n    for (const s of y) if (n(o.selection, s.type)) {\n      const n = Math.abs(s.error(t, i, o));\n      s.apply(t, i, o) && (e = !0, r += n);\n    }\n\n    if (0 === r) break;\n  }\n\n  const a = n(o.selection, 8),\n        c = m(o.interactionType, t);\n  return a && s(t, i, c) && (e = !0), e && i.computeUp(t.state.viewingMode), e;\n}\n\nfunction m(t, r) {\n  switch (t) {\n    case 4:\n      return 1;\n\n    case 5:\n      return r.state.isGlobal ? 2 : 1;\n\n    default:\n      return 0;\n  }\n}\n\nfunction f(r, o) {\n  const n = \"number\" == typeof r ? r : t(r, o),\n        i = Math.min(1, n / 150);\n  return l(i);\n}\n\nfunction u(t, r, o) {\n  return c(t, r, o) * r.distance;\n}\n\nconst y = [{\n  type: 1,\n  error: u,\n  apply: a\n}, {\n  type: 2,\n  error: r,\n  apply: o\n}, {\n  type: 4,\n  error: i,\n  apply: e\n}],\n      d = {\n  selection: 15,\n  interactionType: 0,\n  interactionFactor: 0,\n  interactionStartCamera: null,\n  interactionDirection: null,\n  tiltMode: 0\n},\n      j = 5;\nexport { p as applyAll, f as pixelDistanceToInteractionFactor };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/views/3d/camera/constraintUtils.js"],"names":["d","t","getAltitudeConstraintError","r","applyAltitudeConstraint","o","hasConstraintType","n","getDistanceConstraintError","i","applyDistanceConstraint","e","applySurfaceCollisionConstraint","s","applyTiltConstraint","a","getTiltConstraintError","c","inOutCubic","l","p","copyFrom","computeUp","state","viewingMode","j","y","selection","type","Math","abs","error","apply","m","interactionType","isGlobal","f","min","u","distance","interactionFactor","interactionStartCamera","interactionDirection","tiltMode","applyAll","pixelDistanceToInteractionFactor"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,yBAAlB;AAA4C,SAAOC,0BAA0B,IAAIC,CAArC,EAAuCC,uBAAuB,IAAIC,CAAlE,QAAwE,+BAAxE;AAAwG,SAAOD,uBAAP,EAA+BF,0BAA/B,QAA8D,+BAA9D;AAA8F,SAAOI,iBAAiB,IAAIC,CAA5B,QAAkC,6BAAlC;AAAgE,SAAOC,0BAA0B,IAAIC,CAArC,EAAuCC,uBAAuB,IAAIC,CAAlE,QAAwE,+BAAxE;AAAwG,SAAOD,uBAAP,EAA+BF,0BAA/B,QAA8D,+BAA9D;AAA8F,SAAOI,+BAA+B,IAAIC,CAA1C,QAAgD,uCAAhD;AAAwF,SAAOD,+BAAP,QAA2C,uCAA3C;AAAmF,SAAOE,mBAAmB,IAAIC,CAA9B,EAAgCC,sBAAsB,IAAIC,CAA1D,QAAgE,2BAAhE;AAA4F,SAAOH,mBAAP,EAA2BE,sBAA3B,QAAsD,2BAAtD;AAAkF,SAAOE,UAAU,IAAIC,CAArB,QAA2B,2BAA3B;;AAAuD,SAASC,CAAT,CAAWnB,CAAX,EAAaE,CAAb,EAAeE,CAAC,GAACL,CAAjB,EAAmBS,CAAC,GAACN,CAArB,EAAuB;AAAC,MAAIQ,CAAC,GAAC,CAAC,CAAP;AAASF,EAAAA,CAAC,KAAGN,CAAJ,IAAOM,CAAC,CAACY,QAAF,CAAWlB,CAAX,CAAP,EAAqBM,CAAC,CAACa,SAAF,CAAYrB,CAAC,CAACsB,KAAF,CAAQC,WAApB,CAArB;;AAAsD,OAAI,IAAIX,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACY,CAAd,EAAgBZ,CAAC,EAAjB,EAAoB;AAAC,QAAIV,CAAC,GAAC,CAAN;;AAAQ,SAAI,MAAMU,CAAV,IAAea,CAAf,EAAiB,IAAGnB,CAAC,CAACF,CAAC,CAACsB,SAAH,EAAad,CAAC,CAACe,IAAf,CAAJ,EAAyB;AAAC,YAAMrB,CAAC,GAACsB,IAAI,CAACC,GAAL,CAASjB,CAAC,CAACkB,KAAF,CAAQ9B,CAAR,EAAUQ,CAAV,EAAYJ,CAAZ,CAAT,CAAR;AAAiCQ,MAAAA,CAAC,CAACmB,KAAF,CAAQ/B,CAAR,EAAUQ,CAAV,EAAYJ,CAAZ,MAAiBM,CAAC,GAAC,CAAC,CAAH,EAAKR,CAAC,IAAEI,CAAzB;AAA4B;;AAAA,QAAG,MAAIJ,CAAP,EAAS;AAAM;;AAAA,QAAMY,CAAC,GAACR,CAAC,CAACF,CAAC,CAACsB,SAAH,EAAa,CAAb,CAAT;AAAA,QAAyBV,CAAC,GAACgB,CAAC,CAAC5B,CAAC,CAAC6B,eAAH,EAAmBjC,CAAnB,CAA5B;AAAkD,SAAOc,CAAC,IAAEF,CAAC,CAACZ,CAAD,EAAGQ,CAAH,EAAKQ,CAAL,CAAJ,KAAcN,CAAC,GAAC,CAAC,CAAjB,GAAoBA,CAAC,IAAEF,CAAC,CAACa,SAAF,CAAYrB,CAAC,CAACsB,KAAF,CAAQC,WAApB,CAAvB,EAAwDb,CAA/D;AAAiE;;AAAA,SAASsB,CAAT,CAAWhC,CAAX,EAAaE,CAAb,EAAe;AAAC,UAAOF,CAAP;AAAU,SAAK,CAAL;AAAO,aAAO,CAAP;;AAAS,SAAK,CAAL;AAAO,aAAOE,CAAC,CAACoB,KAAF,CAAQY,QAAR,GAAiB,CAAjB,GAAmB,CAA1B;;AAA4B;AAAQ,aAAO,CAAP;AAArE;AAA+E;;AAAA,SAASC,CAAT,CAAWjC,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAME,CAAC,GAAC,YAAU,OAAOJ,CAAjB,GAAmBA,CAAnB,GAAqBF,CAAC,CAACE,CAAD,EAAGE,CAAH,CAA9B;AAAA,QAAoCI,CAAC,GAACoB,IAAI,CAACQ,GAAL,CAAS,CAAT,EAAW9B,CAAC,GAAC,GAAb,CAAtC;AAAwD,SAAOY,CAAC,CAACV,CAAD,CAAR;AAAY;;AAAA,SAAS6B,CAAT,CAAWrC,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;AAAC,SAAOY,CAAC,CAAChB,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAD,GAASF,CAAC,CAACoC,QAAlB;AAA2B;;AAAA,MAAMb,CAAC,GAAC,CAAC;AAACE,EAAAA,IAAI,EAAC,CAAN;AAAQG,EAAAA,KAAK,EAACO,CAAd;AAAgBN,EAAAA,KAAK,EAACjB;AAAtB,CAAD,EAA0B;AAACa,EAAAA,IAAI,EAAC,CAAN;AAAQG,EAAAA,KAAK,EAAC5B,CAAd;AAAgB6B,EAAAA,KAAK,EAAC3B;AAAtB,CAA1B,EAAmD;AAACuB,EAAAA,IAAI,EAAC,CAAN;AAAQG,EAAAA,KAAK,EAACtB,CAAd;AAAgBuB,EAAAA,KAAK,EAACrB;AAAtB,CAAnD,CAAR;AAAA,MAAqFX,CAAC,GAAC;AAAC2B,EAAAA,SAAS,EAAC,EAAX;AAAcO,EAAAA,eAAe,EAAC,CAA9B;AAAgCM,EAAAA,iBAAiB,EAAC,CAAlD;AAAoDC,EAAAA,sBAAsB,EAAC,IAA3E;AAAgFC,EAAAA,oBAAoB,EAAC,IAArG;AAA0GC,EAAAA,QAAQ,EAAC;AAAnH,CAAvF;AAAA,MAA6MlB,CAAC,GAAC,CAA/M;AAAiN,SAAOL,CAAC,IAAIwB,QAAZ,EAAqBR,CAAC,IAAIS,gCAA1B","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{d as t}from\"../../../chunks/vec2.js\";import{getAltitudeConstraintError as r,applyAltitudeConstraint as o}from\"./constraintUtils/altitude.js\";export{applyAltitudeConstraint,getAltitudeConstraintError}from\"./constraintUtils/altitude.js\";import{hasConstraintType as n}from\"./constraintUtils/common.js\";import{getDistanceConstraintError as i,applyDistanceConstraint as e}from\"./constraintUtils/distance.js\";export{applyDistanceConstraint,getDistanceConstraintError}from\"./constraintUtils/distance.js\";import{applySurfaceCollisionConstraint as s}from\"./constraintUtils/surfaceCollision.js\";export{applySurfaceCollisionConstraint}from\"./constraintUtils/surfaceCollision.js\";import{applyTiltConstraint as a,getTiltConstraintError as c}from\"./constraintUtils/tilt.js\";export{applyTiltConstraint,getTiltConstraintError}from\"./constraintUtils/tilt.js\";import{inOutCubic as l}from\"../../animation/easing.js\";function p(t,r,o=d,i=r){let e=!1;i!==r&&i.copyFrom(r),i.computeUp(t.state.viewingMode);for(let s=0;s<j;s++){let r=0;for(const s of y)if(n(o.selection,s.type)){const n=Math.abs(s.error(t,i,o));s.apply(t,i,o)&&(e=!0,r+=n)}if(0===r)break}const a=n(o.selection,8),c=m(o.interactionType,t);return a&&s(t,i,c)&&(e=!0),e&&i.computeUp(t.state.viewingMode),e}function m(t,r){switch(t){case 4:return 1;case 5:return r.state.isGlobal?2:1;default:return 0}}function f(r,o){const n=\"number\"==typeof r?r:t(r,o),i=Math.min(1,n/150);return l(i)}function u(t,r,o){return c(t,r,o)*r.distance}const y=[{type:1,error:u,apply:a},{type:2,error:r,apply:o},{type:4,error:i,apply:e}],d={selection:15,interactionType:0,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:0},j=5;export{p as applyAll,f as pixelDistanceToInteractionFactor};\n"]},"metadata":{},"sourceType":"module"}