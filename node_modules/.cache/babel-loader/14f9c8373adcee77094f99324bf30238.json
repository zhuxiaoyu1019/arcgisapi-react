{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { Milliseconds as t, MillisecondsFromSeconds as i } from \"../../../core/time.js\";\nimport { inOutCoastQuad as e, outExpo as n } from \"../easing.js\";\nimport { Definition as a } from \"./Definition.js\";\nimport { defaultSettings as s } from \"./Settings.js\";\nimport { Path as o } from \"./apex/Path.js\";\nconst r = {\n  zoom: 0,\n  pan: 0,\n  rotate: 0\n};\n\nclass m {\n  constructor(i) {\n    this.createCamera = i, this._time = t(0), this.definition = new a(i), this.path = new o();\n  }\n\n  get time() {\n    return this._time;\n  }\n\n  update(t, a, s) {\n    this.definition.update(t, a, s), this.path.update(this.definition, s), this._time = this._applyTimeSettings(i(this.path.time), s), this._easing = s.easing ? s.easing : this._time >= 1e3 ? e : n;\n  }\n\n  cameraAt(t, i) {\n    i = i || this.createCamera(), t = Math.min(Math.max(0, t), 1), t = this._normalizedEasing(t);\n    const e = this.path.interpolateComponentsAt(t, r);\n    return i.interpolate(this.definition.source, this.definition.target, e), i;\n  }\n\n  _normalizedEasing(t) {\n    const i = this._easing(0, this._time),\n          e = this._easing(1, this._time);\n\n    return (this._easing(t, this._time) - i) / (e - i);\n  }\n\n  _applyTimeSettings(i, e) {\n    const n = null != e.speedFactor ? e.speedFactor : 1;\n    null != e.duration ? i = e.duration : null != e.speedFactor && (i = t(i / n));\n    const a = null != e.minDuration ? e.minDuration : s.minDuration / n,\n          o = null != e.maxDuration ? e.maxDuration : s.maxDuration / n;\n    return t(Math.min(Math.max(a, i), o));\n  }\n\n}\n\nexport { m as Animation };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/animation/pointToPoint/Animation.js"],"names":["Milliseconds","t","MillisecondsFromSeconds","i","inOutCoastQuad","e","outExpo","n","Definition","a","defaultSettings","s","Path","o","r","zoom","pan","rotate","m","constructor","createCamera","_time","definition","path","time","update","_applyTimeSettings","_easing","easing","cameraAt","Math","min","max","_normalizedEasing","interpolateComponentsAt","interpolate","source","target","speedFactor","duration","minDuration","maxDuration","Animation"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,MillisecondsFromSeconds as i}from\"../../../core/time.js\";import{inOutCoastQuad as e,outExpo as n}from\"../easing.js\";import{Definition as a}from\"./Definition.js\";import{defaultSettings as s}from\"./Settings.js\";import{Path as o}from\"./apex/Path.js\";const r={zoom:0,pan:0,rotate:0};class m{constructor(i){this.createCamera=i,this._time=t(0),this.definition=new a(i),this.path=new o}get time(){return this._time}update(t,a,s){this.definition.update(t,a,s),this.path.update(this.definition,s),this._time=this._applyTimeSettings(i(this.path.time),s),this._easing=s.easing?s.easing:this._time>=1e3?e:n}cameraAt(t,i){i=i||this.createCamera(),t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const e=this.path.interpolateComponentsAt(t,r);return i.interpolate(this.definition.source,this.definition.target,e),i}_normalizedEasing(t){const i=this._easing(0,this._time),e=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(e-i)}_applyTimeSettings(i,e){const n=null!=e.speedFactor?e.speedFactor:1;null!=e.duration?i=e.duration:null!=e.speedFactor&&(i=t(i/n));const a=null!=e.minDuration?e.minDuration:s.minDuration/n,o=null!=e.maxDuration?e.maxDuration:s.maxDuration/n;return t(Math.min(Math.max(a,i),o))}}export{m as Animation};\n"]},"metadata":{},"sourceType":"module"}