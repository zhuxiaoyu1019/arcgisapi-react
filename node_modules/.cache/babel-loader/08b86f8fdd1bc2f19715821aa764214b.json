{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { Seconds as t } from \"../../../core/time.js\";\n\nclass e {\n  constructor() {\n    this.segments = [];\n  }\n\n  get time() {\n    return this.segments.reduce((e, o) => t(e + o.time), t(0));\n  }\n\n  interpolateComponentsAt(t, e) {\n    t = Math.min(Math.max(t, 0), 1), t *= this.time;\n    let o = 0,\n        n = 0;\n    const s = this.definition;\n\n    for (let m = 0; m < this.segments.length; m++) {\n      const r = this.segments[m],\n            a = r.definition;\n\n      if (t <= r.time || m === this.segments.length - 1) {\n        e = this.segmentInterpolateComponentsAt(r, t / r.time, e), s.hasPan ? e.pan = (o + a.compared.pan * e.pan) / s.compared.pan : e.pan = 1, s.hasRotate ? e.rotate = (n + a.compared.rotate * e.rotate) / s.compared.rotate : e.rotate = 1;\n        const m = e.zoom * (a.compared.targetZoom - a.compared.sourceZoom) + a.compared.sourceZoom,\n              i = this.segments[0].definition.compared.sourceZoom,\n              p = this.segments[this.segments.length - 1].definition.compared.targetZoom;\n        return s.hasZoom ? e.zoom = (m - i) / (p - i) : e.zoom = 1, e;\n      }\n\n      t -= r.time, o += a.compared.pan, n += a.compared.rotate;\n    }\n  }\n\n  segmentInterpolateComponentsAt(t, e, o) {\n    return t.interpolateComponentsAt(e, o);\n  }\n\n}\n\nexport default e;\nexport { e as Path };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/animation/pointToPoint/Path.js"],"names":["Seconds","t","e","constructor","segments","time","reduce","o","interpolateComponentsAt","Math","min","max","n","s","definition","m","length","r","a","segmentInterpolateComponentsAt","hasPan","pan","compared","hasRotate","rotate","zoom","targetZoom","sourceZoom","i","p","hasZoom","Path"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";class e{constructor(){this.segments=[]}get time(){return this.segments.reduce(((e,o)=>t(e+o.time)),t(0))}interpolateComponentsAt(t,e){t=Math.min(Math.max(t,0),1),t*=this.time;let o=0,n=0;const s=this.definition;for(let m=0;m<this.segments.length;m++){const r=this.segments[m],a=r.definition;if(t<=r.time||m===this.segments.length-1){e=this.segmentInterpolateComponentsAt(r,t/r.time,e),s.hasPan?e.pan=(o+a.compared.pan*e.pan)/s.compared.pan:e.pan=1,s.hasRotate?e.rotate=(n+a.compared.rotate*e.rotate)/s.compared.rotate:e.rotate=1;const m=e.zoom*(a.compared.targetZoom-a.compared.sourceZoom)+a.compared.sourceZoom,i=this.segments[0].definition.compared.sourceZoom,p=this.segments[this.segments.length-1].definition.compared.targetZoom;return s.hasZoom?e.zoom=(m-i)/(p-i):e.zoom=1,e}t-=r.time,o+=a.compared.pan,n+=a.compared.rotate}}segmentInterpolateComponentsAt(t,e,o){return t.interpolateComponentsAt(e,o)}}export default e;export{e as Path};\n"]},"metadata":{},"sourceType":"module"}