{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Collection.js\";\nimport { MultiOriginJSONMixin as r } from \"../core/MultiOriginJSONSupport.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { reader as l } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as a } from \"../core/accessorSupport/decorators/subclass.js\";\nimport s from \"./FeatureLayer.js\";\nimport i from \"./Layer.js\";\nimport { OperationalLayer as n } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as u } from \"./mixins/PortalLayer.js\";\nlet p = class extends n(u(r(i))) {\n  constructor(...e) {\n    super(...e), this.type = \"route\";\n  }\n\n  get barrierLines() {\n    return this._getNamedFeatureLayer(\"PolylineBarriers\");\n  }\n\n  get barrierPoints() {\n    return this._getNamedFeatureLayer(\"Barriers\");\n  }\n\n  get barrierPolygons() {\n    return this._getNamedFeatureLayer(\"PolygonBarriers\");\n  }\n\n  get directionLines() {\n    return this._getNamedFeatureLayer(\"DirectionLines\");\n  }\n\n  get directionPoints() {\n    return this._getNamedFeatureLayer(\"DirectionPoints\");\n  }\n\n  readFeatureCollectionsFromItem(e, t, r) {\n    return this.revert(\"featureCollections\", \"portal-item\"), t.layers.map(e => {\n      const t = new s();\n      return t.read(e, r), t;\n    });\n  }\n\n  readFeatureCollectionsFromWebMap(e, t, r) {\n    return t.featureCollection.layers.map(e => {\n      const t = new s();\n      return t.read(e, r), t;\n    });\n  }\n\n  get fullExtent() {\n    const e = null;\n    return this.featureCollections ? this.featureCollections.reduce((e, t) => e ? e.union(t.fullExtent) : t.fullExtent, e) : e;\n  }\n\n  get maxScale() {\n    const e = null;\n    return this.featureCollections ? this.featureCollections.reduce((e, t) => null == e ? t.maxScale : Math.min(e, t.maxScale), e) : 0;\n  }\n\n  set maxScale(e) {\n    this.featureCollections.forEach(t => {\n      t.maxScale = e;\n    }), this._set(\"maxScale\", e);\n  }\n\n  get minScale() {\n    const e = null;\n    return this.featureCollections ? this.featureCollections.reduce((e, t) => null == e ? t.minScale : Math.min(e, t.minScale), e) : 0;\n  }\n\n  set minScale(e) {\n    this.featureCollections.forEach(t => {\n      t.minScale = e;\n    }), this._set(\"minScale\", e);\n  }\n\n  get routeInfo() {\n    return this._getNamedFeatureLayer(\"RouteInfo\");\n  }\n\n  get stops() {\n    return this._getNamedFeatureLayer(\"Stops\");\n  }\n\n  load(e) {\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"Feature Collection\"]\n    }, e)), Promise.resolve(this);\n  }\n\n  _getNamedFeatureLayer(e) {\n    if (this.featureCollections) return this.featureCollections.find(t => t.title === e);\n  }\n\n};\ne([o()], p.prototype, \"barrierLines\", null), e([o()], p.prototype, \"barrierPoints\", null), e([o()], p.prototype, \"barrierPolygons\", null), e([o()], p.prototype, \"directionLines\", null), e([o()], p.prototype, \"directionPoints\", null), e([o({\n  type: t.ofType(s)\n})], p.prototype, \"featureCollections\", void 0), e([l(\"portal-item\", \"featureCollections\", [\"layers\"])], p.prototype, \"readFeatureCollectionsFromItem\", null), e([l(\"web-map\", \"featureCollections\", [\"featureCollection.layers\"])], p.prototype, \"readFeatureCollectionsFromWebMap\", null), e([o({\n  readOnly: !0\n})], p.prototype, \"fullExtent\", null), e([o({\n  type: [\"show\", \"hide\"]\n})], p.prototype, \"listMode\", void 0), e([o()], p.prototype, \"maxScale\", null), e([o()], p.prototype, \"minScale\", null), e([o()], p.prototype, \"routeInfo\", null), e([o()], p.prototype, \"stops\", null), e([o({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], p.prototype, \"type\", void 0), p = e([a(\"esri.layers.RouteLayer\")], p);\nvar c = p;\nexport default c;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgisapi-react/node_modules/@arcgis/core/layers/RouteLayer.js"],"names":["_","e","t","MultiOriginJSONMixin","r","property","o","reader","l","subclass","a","s","i","OperationalLayer","n","PortalLayer","u","p","constructor","type","barrierLines","_getNamedFeatureLayer","barrierPoints","barrierPolygons","directionLines","directionPoints","readFeatureCollectionsFromItem","revert","layers","map","read","readFeatureCollectionsFromWebMap","featureCollection","fullExtent","featureCollections","reduce","union","maxScale","Math","min","forEach","_set","minScale","routeInfo","stops","load","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","find","title","prototype","ofType","readOnly","json","c"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import{MultiOriginJSONMixin as r}from\"../core/MultiOriginJSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"./FeatureLayer.js\";import i from\"./Layer.js\";import{OperationalLayer as n}from\"./mixins/OperationalLayer.js\";import{PortalLayer as u}from\"./mixins/PortalLayer.js\";let p=class extends(n(u(r(i)))){constructor(...e){super(...e),this.type=\"route\"}get barrierLines(){return this._getNamedFeatureLayer(\"PolylineBarriers\")}get barrierPoints(){return this._getNamedFeatureLayer(\"Barriers\")}get barrierPolygons(){return this._getNamedFeatureLayer(\"PolygonBarriers\")}get directionLines(){return this._getNamedFeatureLayer(\"DirectionLines\")}get directionPoints(){return this._getNamedFeatureLayer(\"DirectionPoints\")}readFeatureCollectionsFromItem(e,t,r){return this.revert(\"featureCollections\",\"portal-item\"),t.layers.map((e=>{const t=new s;return t.read(e,r),t}))}readFeatureCollectionsFromWebMap(e,t,r){return t.featureCollection.layers.map((e=>{const t=new s;return t.read(e,r),t}))}get fullExtent(){const e=null;return this.featureCollections?this.featureCollections.reduce(((e,t)=>e?e.union(t.fullExtent):t.fullExtent),e):e}get maxScale(){const e=null;return this.featureCollections?this.featureCollections.reduce(((e,t)=>null==e?t.maxScale:Math.min(e,t.maxScale)),e):0}set maxScale(e){this.featureCollections.forEach((t=>{t.maxScale=e})),this._set(\"maxScale\",e)}get minScale(){const e=null;return this.featureCollections?this.featureCollections.reduce(((e,t)=>null==e?t.minScale:Math.min(e,t.minScale)),e):0}set minScale(e){this.featureCollections.forEach((t=>{t.minScale=e})),this._set(\"minScale\",e)}get routeInfo(){return this._getNamedFeatureLayer(\"RouteInfo\")}get stops(){return this._getNamedFeatureLayer(\"Stops\")}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Collection\"]},e)),Promise.resolve(this)}_getNamedFeatureLayer(e){if(this.featureCollections)return this.featureCollections.find((t=>t.title===e))}};e([o()],p.prototype,\"barrierLines\",null),e([o()],p.prototype,\"barrierPoints\",null),e([o()],p.prototype,\"barrierPolygons\",null),e([o()],p.prototype,\"directionLines\",null),e([o()],p.prototype,\"directionPoints\",null),e([o({type:t.ofType(s)})],p.prototype,\"featureCollections\",void 0),e([l(\"portal-item\",\"featureCollections\",[\"layers\"])],p.prototype,\"readFeatureCollectionsFromItem\",null),e([l(\"web-map\",\"featureCollections\",[\"featureCollection.layers\"])],p.prototype,\"readFeatureCollectionsFromWebMap\",null),e([o({readOnly:!0})],p.prototype,\"fullExtent\",null),e([o({type:[\"show\",\"hide\"]})],p.prototype,\"listMode\",void 0),e([o()],p.prototype,\"maxScale\",null),e([o()],p.prototype,\"minScale\",null),e([o()],p.prototype,\"routeInfo\",null),e([o()],p.prototype,\"stops\",null),e([o({readOnly:!0,json:{read:!1}})],p.prototype,\"type\",void 0),p=e([a(\"esri.layers.RouteLayer\")],p);var c=p;export default c;\n"]},"metadata":{},"sourceType":"module"}