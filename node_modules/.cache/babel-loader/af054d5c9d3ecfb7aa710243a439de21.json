{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { glsl as a } from \"../../shaderModules/interfaces.js\";\nconst d = .1,\n      o = .001;\n\nfunction r(d, r) {\n  const e = d.fragment;\n\n  switch (r.alphaDiscardMode) {\n    case 0:\n      e.code.add(a`\n        #define discardOrAdjustAlpha(color) { if (color.a < ${a.float(o)}) { discard; } }\n      `);\n      break;\n\n    case 1:\n      e.code.add(a`void discardOrAdjustAlpha(inout vec4 color) {\ncolor.a = 1.0;\n}`);\n      break;\n\n    case 2:\n      e.uniforms.add(\"textureAlphaCutoff\", \"float\"), e.code.add(a`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }`);\n      break;\n\n    case 3:\n      d.fragment.uniforms.add(\"textureAlphaCutoff\", \"float\"), d.fragment.code.add(a`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }`);\n  }\n}\n\nexport { r as DiscardOrAdjustAlpha, d as defaultMaskAlphaCutoff, o as symbolAlphaCutoff };","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js"],"names":["glsl","a","d","o","r","e","fragment","alphaDiscardMode","code","add","float","uniforms","DiscardOrAdjustAlpha","defaultMaskAlphaCutoff","symbolAlphaCutoff"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAf,QAAqB,mCAArB;AAAyD,MAAMC,CAAC,GAAC,EAAR;AAAA,MAAWC,CAAC,GAAC,IAAb;;AAAkB,SAASC,CAAT,CAAWF,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAMC,CAAC,GAACH,CAAC,CAACI,QAAV;;AAAmB,UAAOF,CAAC,CAACG,gBAAT;AAA2B,SAAK,CAAL;AAAOF,MAAAA,CAAC,CAACG,IAAF,CAAOC,GAAP,CAAWR,CAAE;AAC7J,8DAA8DA,CAAC,CAACS,KAAF,CAAQP,CAAR,CAAW;AACzE,OAFgJ;AAEvI;;AAAM,SAAK,CAAL;AAAOE,MAAAA,CAAC,CAACG,IAAF,CAAOC,GAAP,CAAWR,CAAE;AACnC;AACA,EAFsB;AAElB;;AAAM,SAAK,CAAL;AAAOI,MAAAA,CAAC,CAACM,QAAF,CAAWF,GAAX,CAAe,oBAAf,EAAoC,OAApC,GAA6CJ,CAAC,CAACG,IAAF,CAAOC,GAAP,CAAWR,CAAE,gHAAb,CAA7C;AAA2K;;AAAM,SAAK,CAAL;AAAOC,MAAAA,CAAC,CAACI,QAAF,CAAWK,QAAX,CAAoBF,GAApB,CAAwB,oBAAxB,EAA6C,OAA7C,GAAsDP,CAAC,CAACI,QAAF,CAAWE,IAAX,CAAgBC,GAAhB,CAAoBR,CAAE,wFAAtB,CAAtD;AAJ3F;AAIiQ;;AAAA,SAAOG,CAAC,IAAIQ,oBAAZ,EAAiCV,CAAC,IAAIW,sBAAtC,EAA6DV,CAAC,IAAIW,iBAAlE","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/interfaces.js\";const d=.1,o=.001;function r(d,r){const e=d.fragment;switch(r.alphaDiscardMode){case 0:e.code.add(a`\n        #define discardOrAdjustAlpha(color) { if (color.a < ${a.float(o)}) { discard; } }\n      `);break;case 1:e.code.add(a`void discardOrAdjustAlpha(inout vec4 color) {\ncolor.a = 1.0;\n}`);break;case 2:e.uniforms.add(\"textureAlphaCutoff\",\"float\"),e.code.add(a`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }`);break;case 3:d.fragment.uniforms.add(\"textureAlphaCutoff\",\"float\"),d.fragment.code.add(a`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }`)}}export{r as DiscardOrAdjustAlpha,d as defaultMaskAlphaCutoff,o as symbolAlphaCutoff};\n"]},"metadata":{},"sourceType":"module"}