{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"./chunks/tslib.es6.js\";\nimport r from \"./Basemap.js\";\nimport s from \"./Ground.js\";\nimport t from \"./core/Accessor.js\";\nimport o from \"./core/CollectionFlattener.js\";\nimport a from \"./core/Evented.js\";\nimport l from \"./core/Logger.js\";\nimport { property as i } from \"./core/accessorSupport/decorators/property.js\";\nimport \"./core/has.js\";\nimport { cast as n } from \"./core/accessorSupport/decorators/cast.js\";\nimport { subclass as p } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { isEditableLayer as d } from \"./layers/support/editableLayers.js\";\nimport { createCache as u, destroyCache as m, ensureType as c } from \"./support/basemapUtils.js\";\nimport { ensureType as y } from \"./support/groundUtils.js\";\nimport { LayersMixin as h } from \"./support/LayersMixin.js\";\nimport { TablesMixin as b } from \"./support/TablesMixin.js\";\nconst f = l.getLogger(\"esri.Map\");\nlet g = class extends b(h(a.EventedMixin(t))) {\n  constructor(e) {\n    super(e), this.allLayers = new o({\n      getCollections: () => {\n        var e, r, s;\n        return [null == (e = this.basemap) ? void 0 : e.baseLayers, null == (r = this.ground) ? void 0 : r.layers, this.layers, null == (s = this.basemap) ? void 0 : s.referenceLayers];\n      },\n      getChildrenFunction: e => \"layers\" in e ? e.layers : null\n    }), this.allTables = new o({\n      getCollections: () => [this.tables, this.layers],\n      getChildrenFunction: e => {\n        const r = [];\n        return \"tables\" in e && r.push(e.tables), \"layers\" in e && r.push(e.layers), r;\n      },\n      itemFilterFunction: e => {\n        const r = e.parent;\n        return r && \"tables\" in r && r.tables.includes(e);\n      }\n    }), this.basemap = null, this.editableLayers = new o({\n      getCollections: () => [this.allLayers],\n      itemFilterFunction: d\n    }), this.ground = new s(), this._basemapCache = u();\n  }\n\n  destroy() {\n    var e, r;\n    this.allLayers.destroy(), this.allTables.destroy(), this.editableLayers.destroy(), null == (e = this.ground) || e.destroy(), null == (r = this.basemap) || r.destroy(), m(this._basemapCache), this._basemapCache = null;\n  }\n\n  castBasemap(e) {\n    return c(e, this._basemapCache);\n  }\n\n  castGround(e) {\n    const r = y(e);\n    return r || (f.error(\"Map.ground may not be set to null or undefined\"), this._get(\"ground\"));\n  }\n\n  findLayerById(e) {\n    return this.allLayers.find(r => r.id === e);\n  }\n\n  findTableById(e) {\n    return this.allTables.find(r => r.id === e);\n  }\n\n};\ne([i({\n  readOnly: !0,\n  dependsOn: []\n})], g.prototype, \"allLayers\", void 0), e([i({\n  readOnly: !0\n})], g.prototype, \"allTables\", void 0), e([i({\n  type: r\n})], g.prototype, \"basemap\", void 0), e([n(\"basemap\")], g.prototype, \"castBasemap\", null), e([i({\n  readOnly: !0\n})], g.prototype, \"editableLayers\", void 0), e([i({\n  type: s,\n  nonNullable: !0\n})], g.prototype, \"ground\", void 0), e([n(\"ground\")], g.prototype, \"castGround\", null), g = e([p(\"esri.Map\")], g);\nvar j = g;\nexport default j;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/Map.js"],"names":["_","e","r","s","t","o","a","l","property","i","cast","n","subclass","p","isEditableLayer","d","createCache","u","destroyCache","m","ensureType","c","y","LayersMixin","h","TablesMixin","b","f","getLogger","g","EventedMixin","constructor","allLayers","getCollections","basemap","baseLayers","ground","layers","referenceLayers","getChildrenFunction","allTables","tables","push","itemFilterFunction","parent","includes","editableLayers","_basemapCache","destroy","castBasemap","castGround","error","_get","findLayerById","find","id","findTableById","readOnly","dependsOn","prototype","type","nonNullable","j"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./chunks/tslib.es6.js\";import r from\"./Basemap.js\";import s from\"./Ground.js\";import t from\"./core/Accessor.js\";import o from\"./core/CollectionFlattener.js\";import a from\"./core/Evented.js\";import l from\"./core/Logger.js\";import{property as i}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import{cast as n}from\"./core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"./core/accessorSupport/decorators/subclass.js\";import{isEditableLayer as d}from\"./layers/support/editableLayers.js\";import{createCache as u,destroyCache as m,ensureType as c}from\"./support/basemapUtils.js\";import{ensureType as y}from\"./support/groundUtils.js\";import{LayersMixin as h}from\"./support/LayersMixin.js\";import{TablesMixin as b}from\"./support/TablesMixin.js\";const f=l.getLogger(\"esri.Map\");let g=class extends(b(h(a.EventedMixin(t)))){constructor(e){super(e),this.allLayers=new o({getCollections:()=>{var e,r,s;return[null==(e=this.basemap)?void 0:e.baseLayers,null==(r=this.ground)?void 0:r.layers,this.layers,null==(s=this.basemap)?void 0:s.referenceLayers]},getChildrenFunction:e=>\"layers\"in e?e.layers:null}),this.allTables=new o({getCollections:()=>[this.tables,this.layers],getChildrenFunction:e=>{const r=[];return\"tables\"in e&&r.push(e.tables),\"layers\"in e&&r.push(e.layers),r},itemFilterFunction:e=>{const r=e.parent;return r&&\"tables\"in r&&r.tables.includes(e)}}),this.basemap=null,this.editableLayers=new o({getCollections:()=>[this.allLayers],itemFilterFunction:d}),this.ground=new s,this._basemapCache=u()}destroy(){var e,r;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(e=this.ground)||e.destroy(),null==(r=this.basemap)||r.destroy(),m(this._basemapCache),this._basemapCache=null}castBasemap(e){return c(e,this._basemapCache)}castGround(e){const r=y(e);return r||(f.error(\"Map.ground may not be set to null or undefined\"),this._get(\"ground\"))}findLayerById(e){return this.allLayers.find((r=>r.id===e))}findTableById(e){return this.allTables.find((r=>r.id===e))}};e([i({readOnly:!0,dependsOn:[]})],g.prototype,\"allLayers\",void 0),e([i({readOnly:!0})],g.prototype,\"allTables\",void 0),e([i({type:r})],g.prototype,\"basemap\",void 0),e([n(\"basemap\")],g.prototype,\"castBasemap\",null),e([i({readOnly:!0})],g.prototype,\"editableLayers\",void 0),e([i({type:s,nonNullable:!0})],g.prototype,\"ground\",void 0),e([n(\"ground\")],g.prototype,\"castGround\",null),g=e([p(\"esri.Map\")],g);var j=g;export default j;\n"]},"metadata":{},"sourceType":"module"}