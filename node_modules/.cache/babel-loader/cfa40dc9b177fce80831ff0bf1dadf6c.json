{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Accessor.js\";\nimport { JSONMap as e } from \"../core/jsonMap.js\";\nimport { clone as s } from \"../core/lang.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../geometry/Extent.js\";\nimport n from \"../geometry/SpatialReference.js\";\nimport { project as p } from \"../geometry/support/webMercatorUtils.js\";\nvar u;\nconst m = new e({\n  avgRating: \"avg-rating\",\n  numRatings: \"num-ratings\",\n  numComments: \"num-comments\",\n  numViews: \"num-views\"\n});\nlet l = u = class extends r {\n  constructor(t) {\n    super(t), this.categories = null, this.disableExtraQuery = !1, this.extent = null, this.num = 10, this.query = null, this.sortField = null, this.start = 1;\n  }\n\n  get sortOrder() {\n    return this._get(\"sortOrder\") || \"asc\";\n  }\n\n  set sortOrder(t) {\n    \"asc\" !== t && \"desc\" !== t || this._set(\"sortOrder\", t);\n  }\n\n  clone() {\n    return new u({\n      categories: this.categories ? s(this.categories) : null,\n      disableExtraQuery: this.disableExtraQuery,\n      extent: this.extent ? this.extent.clone() : null,\n      num: this.num,\n      query: this.query,\n      sortField: this.sortField,\n      sortOrder: this.sortOrder,\n      start: this.start\n    });\n  }\n\n  toRequestOptions(t, r) {\n    let e, s;\n\n    if (this.categories && (e = this.categories.map(t => Array.isArray(t) ? JSON.stringify(t) : t)), this.extent) {\n      const t = p(this.extent, n.WGS84);\n      t && (s = `${t.xmin},${t.ymin},${t.xmax},${t.ymax}`);\n    }\n\n    let o = this.query;\n    !this.disableExtraQuery && t.extraQuery && (o = \"(\" + o + \")\" + t.extraQuery);\n    const i = {\n      categories: e,\n      bbox: s,\n      q: o,\n      num: this.num,\n      sortField: null,\n      sortOrder: null,\n      start: this.start\n    };\n    return this.sortField && (i.sortField = this.sortField.split(\",\").map(t => m.toJSON(t.trim())).join(\",\"), i.sortOrder = this.sortOrder), {\n      query: { ...r,\n        ...i\n      }\n    };\n  }\n\n};\nt([o()], l.prototype, \"categories\", void 0), t([o()], l.prototype, \"disableExtraQuery\", void 0), t([o({\n  type: a\n})], l.prototype, \"extent\", void 0), t([o()], l.prototype, \"num\", void 0), t([o()], l.prototype, \"query\", void 0), t([o()], l.prototype, \"sortField\", void 0), t([o()], l.prototype, \"sortOrder\", null), t([o()], l.prototype, \"start\", void 0), l = u = t([i(\"esri.portal.PortalQueryParams\")], l);\nvar c = l;\nexport default c;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/portal/PortalQueryParams.js"],"names":["_","t","r","JSONMap","e","clone","s","property","o","subclass","i","a","n","project","p","u","m","avgRating","numRatings","numComments","numViews","l","constructor","categories","disableExtraQuery","extent","num","query","sortField","start","sortOrder","_get","_set","toRequestOptions","map","Array","isArray","JSON","stringify","WGS84","xmin","ymin","xmax","ymax","extraQuery","bbox","q","split","toJSON","trim","join","prototype","type","c"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,wBAAlB;AAA2C,OAAOC,CAAP,MAAa,qBAAb;AAAmC,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,oBAAxB;AAA6C,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,iBAAtB;AAAwC,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAM,uCAAN;AAA8C,OAAM,gBAAN;AAAuB,OAAM,mBAAN;AAA0B,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAOC,CAAP,MAAa,uBAAb;AAAqC,OAAOC,CAAP,MAAa,iCAAb;AAA+C,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,yCAAxB;AAAkE,IAAIC,CAAJ;AAAM,MAAMC,CAAC,GAAC,IAAIZ,CAAJ,CAAM;AAACa,EAAAA,SAAS,EAAC,YAAX;AAAwBC,EAAAA,UAAU,EAAC,aAAnC;AAAiDC,EAAAA,WAAW,EAAC,cAA7D;AAA4EC,EAAAA,QAAQ,EAAC;AAArF,CAAN,CAAR;AAAiH,IAAIC,CAAC,GAACN,CAAC,GAAC,cAAcb,CAAd,CAAe;AAACoB,EAAAA,WAAW,CAACrB,CAAD,EAAG;AAAC,UAAMA,CAAN,GAAS,KAAKsB,UAAL,GAAgB,IAAzB,EAA8B,KAAKC,iBAAL,GAAuB,CAAC,CAAtD,EAAwD,KAAKC,MAAL,GAAY,IAApE,EAAyE,KAAKC,GAAL,GAAS,EAAlF,EAAqF,KAAKC,KAAL,GAAW,IAAhG,EAAqG,KAAKC,SAAL,GAAe,IAApH,EAAyH,KAAKC,KAAL,GAAW,CAApI;AAAsI;;AAAa,MAATC,SAAS,GAAE;AAAC,WAAO,KAAKC,IAAL,CAAU,WAAV,KAAwB,KAA/B;AAAqC;;AAAa,MAATD,SAAS,CAAC7B,CAAD,EAAG;AAAC,cAAQA,CAAR,IAAW,WAASA,CAApB,IAAuB,KAAK+B,IAAL,CAAU,WAAV,EAAsB/B,CAAtB,CAAvB;AAAgD;;AAAAI,EAAAA,KAAK,GAAE;AAAC,WAAO,IAAIU,CAAJ,CAAM;AAACQ,MAAAA,UAAU,EAAC,KAAKA,UAAL,GAAgBjB,CAAC,CAAC,KAAKiB,UAAN,CAAjB,GAAmC,IAA/C;AAAoDC,MAAAA,iBAAiB,EAAC,KAAKA,iBAA3E;AAA6FC,MAAAA,MAAM,EAAC,KAAKA,MAAL,GAAY,KAAKA,MAAL,CAAYpB,KAAZ,EAAZ,GAAgC,IAApI;AAAyIqB,MAAAA,GAAG,EAAC,KAAKA,GAAlJ;AAAsJC,MAAAA,KAAK,EAAC,KAAKA,KAAjK;AAAuKC,MAAAA,SAAS,EAAC,KAAKA,SAAtL;AAAgME,MAAAA,SAAS,EAAC,KAAKA,SAA/M;AAAyND,MAAAA,KAAK,EAAC,KAAKA;AAApO,KAAN,CAAP;AAAyP;;AAAAI,EAAAA,gBAAgB,CAAChC,CAAD,EAAGC,CAAH,EAAK;AAAC,QAAIE,CAAJ,EAAME,CAAN;;AAAQ,QAAG,KAAKiB,UAAL,KAAkBnB,CAAC,GAAC,KAAKmB,UAAL,CAAgBW,GAAhB,CAAqBjC,CAAC,IAAEkC,KAAK,CAACC,OAAN,CAAcnC,CAAd,IAAiBoC,IAAI,CAACC,SAAL,CAAerC,CAAf,CAAjB,GAAmCA,CAA3D,CAApB,GAAoF,KAAKwB,MAA5F,EAAmG;AAAC,YAAMxB,CAAC,GAACa,CAAC,CAAC,KAAKW,MAAN,EAAab,CAAC,CAAC2B,KAAf,CAAT;AAA+BtC,MAAAA,CAAC,KAAGK,CAAC,GAAE,GAAEL,CAAC,CAACuC,IAAK,IAAGvC,CAAC,CAACwC,IAAK,IAAGxC,CAAC,CAACyC,IAAK,IAAGzC,CAAC,CAAC0C,IAAK,EAA7C,CAAD;AAAiD;;AAAA,QAAInC,CAAC,GAAC,KAAKmB,KAAX;AAAiB,KAAC,KAAKH,iBAAN,IAAyBvB,CAAC,CAAC2C,UAA3B,KAAwCpC,CAAC,GAAC,MAAIA,CAAJ,GAAM,GAAN,GAAUP,CAAC,CAAC2C,UAAtD;AAAkE,UAAMlC,CAAC,GAAC;AAACa,MAAAA,UAAU,EAACnB,CAAZ;AAAcyC,MAAAA,IAAI,EAACvC,CAAnB;AAAqBwC,MAAAA,CAAC,EAACtC,CAAvB;AAAyBkB,MAAAA,GAAG,EAAC,KAAKA,GAAlC;AAAsCE,MAAAA,SAAS,EAAC,IAAhD;AAAqDE,MAAAA,SAAS,EAAC,IAA/D;AAAoED,MAAAA,KAAK,EAAC,KAAKA;AAA/E,KAAR;AAA8F,WAAO,KAAKD,SAAL,KAAiBlB,CAAC,CAACkB,SAAF,GAAY,KAAKA,SAAL,CAAemB,KAAf,CAAqB,GAArB,EAA0Bb,GAA1B,CAA+BjC,CAAC,IAAEe,CAAC,CAACgC,MAAF,CAAS/C,CAAC,CAACgD,IAAF,EAAT,CAAlC,EAAuDC,IAAvD,CAA4D,GAA5D,CAAZ,EAA6ExC,CAAC,CAACoB,SAAF,GAAY,KAAKA,SAA/G,GAA0H;AAACH,MAAAA,KAAK,EAAC,EAAC,GAAGzB,CAAJ;AAAM,WAAGQ;AAAT;AAAP,KAAjI;AAAqJ;;AAAriC,CAAvB;AAA8jCT,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,YAAnB,EAAgC,KAAK,CAArC,CAAD,EAAyClD,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,mBAAnB,EAAuC,KAAK,CAA5C,CAA1C,EAAyFlD,CAAC,CAAC,CAACO,CAAC,CAAC;AAAC4C,EAAAA,IAAI,EAACzC;AAAN,CAAD,CAAF,CAAD,EAAeU,CAAC,CAAC8B,SAAjB,EAA2B,QAA3B,EAAoC,KAAK,CAAzC,CAA1F,EAAsIlD,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,KAAnB,EAAyB,KAAK,CAA9B,CAAvI,EAAwKlD,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,OAAnB,EAA2B,KAAK,CAAhC,CAAzK,EAA4MlD,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,WAAnB,EAA+B,KAAK,CAApC,CAA7M,EAAoPlD,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,WAAnB,EAA+B,IAA/B,CAArP,EAA0RlD,CAAC,CAAC,CAACO,CAAC,EAAF,CAAD,EAAOa,CAAC,CAAC8B,SAAT,EAAmB,OAAnB,EAA2B,KAAK,CAAhC,CAA3R,EAA8T9B,CAAC,GAACN,CAAC,GAACd,CAAC,CAAC,CAACS,CAAC,CAAC,+BAAD,CAAF,CAAD,EAAsCW,CAAtC,CAAnU;AAA4W,IAAIgC,CAAC,GAAChC,CAAN;AAAQ,eAAegC,CAAf","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Accessor.js\";import{JSONMap as e}from\"../core/jsonMap.js\";import{clone as s}from\"../core/lang.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../geometry/Extent.js\";import n from\"../geometry/SpatialReference.js\";import{project as p}from\"../geometry/support/webMercatorUtils.js\";var u;const m=new e({avgRating:\"avg-rating\",numRatings:\"num-ratings\",numComments:\"num-comments\",numViews:\"num-views\"});let l=u=class extends r{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get(\"sortOrder\")||\"asc\"}set sortOrder(t){\"asc\"!==t&&\"desc\"!==t||this._set(\"sortOrder\",t)}clone(){return new u({categories:this.categories?s(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,r){let e,s;if(this.categories&&(e=this.categories.map((t=>Array.isArray(t)?JSON.stringify(t):t))),this.extent){const t=p(this.extent,n.WGS84);t&&(s=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let o=this.query;!this.disableExtraQuery&&t.extraQuery&&(o=\"(\"+o+\")\"+t.extraQuery);const i={categories:e,bbox:s,q:o,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(i.sortField=this.sortField.split(\",\").map((t=>m.toJSON(t.trim()))).join(\",\"),i.sortOrder=this.sortOrder),{query:{...r,...i}}}};t([o()],l.prototype,\"categories\",void 0),t([o()],l.prototype,\"disableExtraQuery\",void 0),t([o({type:a})],l.prototype,\"extent\",void 0),t([o()],l.prototype,\"num\",void 0),t([o()],l.prototype,\"query\",void 0),t([o()],l.prototype,\"sortField\",void 0),t([o()],l.prototype,\"sortOrder\",null),t([o()],l.prototype,\"start\",void 0),l=u=t([i(\"esri.portal.PortalQueryParams\")],l);var c=l;export default c;\n"]},"metadata":{},"sourceType":"module"}