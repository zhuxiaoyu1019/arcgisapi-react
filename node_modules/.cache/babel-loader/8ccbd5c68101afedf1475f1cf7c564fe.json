{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../core/maybe.js\";\nimport { isMemoryManagedLayerView as r } from \"../layers/support/MemoryManagedLayerView.js\";\nimport o from \"./LayerPerformanceInfo.js\";\nimport { isSurfaceLayerView as t } from \"../terrain/terrainUtils.js\";\n\nclass s {\n  constructor(s) {\n    this.totalMemory = 0, this.usedMemory = 0, this.quality = 1, this.load = 0, this.terrainMemory = 0, this.edgesMemory = 0, this.layerPerformanceInfos = new Array();\n    const a = s.resourceController.memoryController;\n    this.totalMemory = 1048576 * a.maxMemory, this.usedMemory = Math.round(a.usedMemory * this.totalMemory), this.quality = a.memoryFactor, this.load = s.resourceController.scheduler.load, this.terrainMemory = s.basemapTerrain ? s.basemapTerrain.getUsedMemory() : 0;\n    const m = s._stage && s._stage.renderView && s._stage.renderView.edgeView;\n    this.edgesMemory = e(m) ? m.usedMemory : 0, s.allLayerViews.items.forEach(e => {\n      (r(e) || t(e)) && this.layerPerformanceInfos.push(new o(e, s));\n    }), this.layerPerformanceInfos.sort((e, r) => r.memory - e.memory);\n  }\n\n}\n\nexport default s;","map":{"version":3,"sources":["/Users/xiaoyuzhu/Desktop/arcgis-api-react/node_modules/@arcgis/core/views/3d/support/SceneViewPerformanceInfo.js"],"names":["isSome","e","isMemoryManagedLayerView","r","o","isSurfaceLayerView","t","s","constructor","totalMemory","usedMemory","quality","load","terrainMemory","edgesMemory","layerPerformanceInfos","Array","a","resourceController","memoryController","maxMemory","Math","round","memoryFactor","scheduler","basemapTerrain","getUsedMemory","m","_stage","renderView","edgeView","allLayerViews","items","forEach","push","sort","memory"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,wBAAvB;AAAgD,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,6CAAzC;AAAuF,OAAOC,CAAP,MAAa,2BAAb;AAAyC,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,4BAAnC;;AAAgE,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACD,CAAD,EAAG;AAAC,SAAKE,WAAL,GAAiB,CAAjB,EAAmB,KAAKC,UAAL,GAAgB,CAAnC,EAAqC,KAAKC,OAAL,GAAa,CAAlD,EAAoD,KAAKC,IAAL,GAAU,CAA9D,EAAgE,KAAKC,aAAL,GAAmB,CAAnF,EAAqF,KAAKC,WAAL,GAAiB,CAAtG,EAAwG,KAAKC,qBAAL,GAA2B,IAAIC,KAAJ,EAAnI;AAA6I,UAAMC,CAAC,GAACV,CAAC,CAACW,kBAAF,CAAqBC,gBAA7B;AAA8C,SAAKV,WAAL,GAAiB,UAAQQ,CAAC,CAACG,SAA3B,EAAqC,KAAKV,UAAL,GAAgBW,IAAI,CAACC,KAAL,CAAWL,CAAC,CAACP,UAAF,GAAa,KAAKD,WAA7B,CAArD,EAA+F,KAAKE,OAAL,GAAaM,CAAC,CAACM,YAA9G,EAA2H,KAAKX,IAAL,GAAUL,CAAC,CAACW,kBAAF,CAAqBM,SAArB,CAA+BZ,IAApK,EAAyK,KAAKC,aAAL,GAAmBN,CAAC,CAACkB,cAAF,GAAiBlB,CAAC,CAACkB,cAAF,CAAiBC,aAAjB,EAAjB,GAAkD,CAA9O;AAAgP,UAAMC,CAAC,GAACpB,CAAC,CAACqB,MAAF,IAAUrB,CAAC,CAACqB,MAAF,CAASC,UAAnB,IAA+BtB,CAAC,CAACqB,MAAF,CAASC,UAAT,CAAoBC,QAA3D;AAAoE,SAAKhB,WAAL,GAAiBb,CAAC,CAAC0B,CAAD,CAAD,GAAKA,CAAC,CAACjB,UAAP,GAAkB,CAAnC,EAAqCH,CAAC,CAACwB,aAAF,CAAgBC,KAAhB,CAAsBC,OAAtB,CAA+BhC,CAAC,IAAE;AAAC,OAACE,CAAC,CAACF,CAAD,CAAD,IAAMK,CAAC,CAACL,CAAD,CAAR,KAAc,KAAKc,qBAAL,CAA2BmB,IAA3B,CAAgC,IAAI9B,CAAJ,CAAMH,CAAN,EAAQM,CAAR,CAAhC,CAAd;AAA0D,KAA7F,CAArC,EAAqI,KAAKQ,qBAAL,CAA2BoB,IAA3B,CAAiC,CAAClC,CAAD,EAAGE,CAAH,KAAOA,CAAC,CAACiC,MAAF,GAASnC,CAAC,CAACmC,MAAnD,CAArI;AAAiM;;AAAhsB;;AAAisB,eAAe7B,CAAf","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{isMemoryManagedLayerView as r}from\"../layers/support/MemoryManagedLayerView.js\";import o from\"./LayerPerformanceInfo.js\";import{isSurfaceLayerView as t}from\"../terrain/terrainUtils.js\";class s{constructor(s){this.totalMemory=0,this.usedMemory=0,this.quality=1,this.load=0,this.terrainMemory=0,this.edgesMemory=0,this.layerPerformanceInfos=new Array;const a=s.resourceController.memoryController;this.totalMemory=1048576*a.maxMemory,this.usedMemory=Math.round(a.usedMemory*this.totalMemory),this.quality=a.memoryFactor,this.load=s.resourceController.scheduler.load,this.terrainMemory=s.basemapTerrain?s.basemapTerrain.getUsedMemory():0;const m=s._stage&&s._stage.renderView&&s._stage.renderView.edgeView;this.edgesMemory=e(m)?m.usedMemory:0,s.allLayerViews.items.forEach((e=>{(r(e)||t(e))&&this.layerPerformanceInfos.push(new o(e,s))})),this.layerPerformanceInfos.sort(((e,r)=>r.memory-e.memory))}}export default s;\n"]},"metadata":{},"sourceType":"module"}